const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-cNm9Y0sY.js","assets/LLMIcon-Dy4TnfD2.js","assets/index-pm_YnrGh.js","assets/index-BHmW4Jet.css","assets/dot-BQCW_euz.js","assets/createLucideIcon-DJguve4f.js","assets/pdf.min-tvA1-jnn.js","assets/pdf.worker.min-DyQ70O7P.js","assets/index-C2MnLp1u.js","assets/toNumber-CBpSBdsS.js","assets/index-DvM-YXfb.js","assets/use-prevent-pitch-zoom-D4Y157HE.js","assets/index-BKrrEZoY.js","assets/index-CmiUABeI.js","assets/index-oti-5Lj3.js","assets/link-CgmnxEo3.js","assets/trash-2-DDLEMR7J.js","assets/index-DdsIuvgb.js","assets/text-DqRczWP-.js","assets/external-link-Cpro1QBk.js","assets/unlink-C--FVh3J.js","assets/index-CAGplr8G.js","assets/list-B8usKuIg.js","assets/list-ordered-4eHddfcQ.js","assets/list-todo-Cy46whFe.js","assets/indent-increase-7GvKlIgE.js","assets/pilcrow-BfEqNBoF.js","assets/heading-1-My_VYhLz.js","assets/heading-2-BlLl9LVw.js","assets/heading-3-Cd-eqevT.js","assets/table-6zAYAKwr.js","assets/file-code-BR-ZGn4_.js","assets/quote-CkXUqubv.js","assets/minus-DnljVIvB.js","assets/square-CcJpAn-8.js","assets/chevron-right-BoYU_Yes.js","assets/image-Cbl1HC6O.js","assets/table-of-contents-B1S2CaNO.js","assets/columns-3-CAOsy3th.js","assets/link-2-C31pYwLM.js","assets/calendar-DcWG6_Bp.js","assets/plus-BxSgfgsE.js","assets/wrap-text-Bsx7vVGF.js","assets/pen-cH60O0DX.js","assets/eye-DzbCziCo.js","assets/indent-decrease-CoJxh5BV.js","assets/pointer-CMtoBkFa.js","assets/wand-sparkles-u9Wrd4lt.js","assets/bold-DzRA4rMh.js","assets/italic-CKgf8PC8.js","assets/underline-IMnA7e7q.js","assets/strikethrough-zN1EfgnL.js","assets/code-xml-CClg9bBK.js","assets/baseline-DAZTfEWl.js","assets/paint-bucket-CD3lW-xb.js","assets/arrow-up-to-line-cfDcyotY.js","assets/index-BCYu3EnN.css","assets/CodeContainerApp-Ap_hh07R.js","assets/file-tree-D-p5d1dM.js","assets/chunk-BIxY4bBV.js","assets/popover-DijAlSSk.js","assets/index-B1xgEgxs.js","assets/objectWithoutPropertiesLoose-BjXSgPXB.js","assets/index-BuXK4Fyc.js","assets/check--X-qnp6V.js","assets/circle-D0MKcgZf.js","assets/index-HSnfLTSA.css"])))=>i.map(i=>d[i]);
import{$ as _b,r as b,a0 as Ob,a1 as q2,a2 as Sb,a3 as W2,a4 as Eb,a5 as X2,a6 as bu,a7 as kb,a8 as G2,a9 as Y2,aa as K2,J as Z2,ab as J2,ac as Nb,ad as Q2,ae as eD,j as f,af as tD,P as Tt,ag as rD,ah as nD,ai as aD,aj as Wt,ak as oD,al as iD,am as sD,an as cD,ao as lD,ap as uD,aq as dD,ar as fD,as as pD,at as hD,au as mD,av as yD,aw as Xt,ax as vD,ay as gD,c as ae,L as re,az as bD,aA as xD,aB as wD,u as Ne,g as K,F as $,aC as jD,aD as _D,aE as OD,aF as SD,a as bi,d as cr,b as ce,q as xi,s as wi,t as ji,v as _i,aG as Pb,aH as Ab,B as Ee,aI as Oi,e as dt,aJ as Ca,_ as ft,aK as le,aL as nt,y as Gt,aM as Si,aN as xu,aO as wn,aP as ED,aQ as kD,aR as ND,V as lr,aS as Cb,aT as PD,aU as A,aV as Mb,aW as AD,aX as CD,aY as MD,aZ as TD,a_ as DD,a$ as ID,A as Ei,H as jn,b0 as Tb,S as Db,b1 as wu,O as Ib,b2 as Se,b3 as ge,b4 as LD,p as ju,b5 as _u,b6 as RD,D as Lb,b7 as Rb,N as Bb,b8 as BD,U as FD,W as Ou,X as Su,Y as Eu,b9 as Fb,ba as $D,__tla as zD}from"./index-pm_YnrGh.js";import{h as UD,i as ku,j as $b,k as zb,l as VD,m as HD,n as qD,o as Je,R as Ub,L as ki,A as Et,C as Le,p as Qe,q as at,r as et,S as Yt,s as Kt,t as Zt,v as Jt,w as ot,x as ur,y as WD,z as XD,E as GD,G as YD,H as Vb,J as Hb,K as Ni,N as Nu,O as qb,Q as Pu,U as kt,X as KD,Y as fe,Z as Pi,_ as ZD,$ as dr,a0 as Ma,g as JD,a1 as Wb,u as Au,F as Ta,P as QD,a2 as Xb,a3 as Gb,B as Dr,M as eI,a4 as tI,a5 as rI,a6 as nI,a7 as aI,b as Yb,d as Kb,e as _n,T as On,D as Cu,a8 as Zb,a9 as Ai,c as Jb,W as oI,I as iI,a as sI,V as cI,aa as lI,ab as Mu,ac as uI,ad as dI,ae as fI,af as pI,ag as hI,ah as mI,ai as yI,aj as vI,ak as gI,al as bI,am as xI,an as wI,__tla as jI}from"./chunk-BIxY4bBV.js";import{e as pe,L as tt,f as Ci,g as _I,h as Qb,i as Sn,j as OI,k as SI,l as e0,a as EI,m as t0,c as fr,n as kI,u as NI,I as Tu,b as Du,o as PI,d as AI,q as CI,__tla as MI}from"./LLMIcon-Dy4TnfD2.js";import{P as r0,a as n0,T as Da,A as TI,b as DI,__tla as II}from"./popover-DijAlSSk.js";import{P as LI,__tla as RI}from"./index-oti-5Lj3.js";import{s as BI,r as FI,a as Iu,b as Mi,c as Lu,d as $I,e as zI,f as UI,g as VI,h as HI,i as a0,j as qI,k as WI,l as Ir,m as o0,n as XI,o as GI,p as YI,q as Ru,t as Ti,u as KI,v as ZI,w as JI,x as QI,y as eL,z as tL,__tla as rL}from"./toNumber-CBpSBdsS.js";import{R as i0,I as nL,r as aL,a as s0,b as oL,t as c0,c as iL,l as sL,d as cL,e as l0,f as lL,g as u0,h as d0,i as f0,__tla as uL}from"./index-DvM-YXfb.js";import{p as dL,a as fL,u as pL,__tla as hL}from"./file-tree-D-p5d1dM.js";let Bu,p0,Xe,J,mL=Promise.all([(()=>{try{return zD}catch{}})(),(()=>{try{return jI}catch{}})(),(()=>{try{return MI}catch{}})(),(()=>{try{return II}catch{}})(),(()=>{try{return RI}catch{}})(),(()=>{try{return rL}catch{}})(),(()=>{try{return uL}catch{}})(),(()=>{try{return hL}catch{}})()]).then(async()=>{function Di(e){const t=_b(()=>q2(e)),{isStatic:r}=b.useContext(Ob);if(r){const[,n]=b.useState(e);b.useEffect(()=>t.on("change",n),[])}return t}function Fu(e,t){const r=Di(t()),n=()=>r.set(t());return n(),Sb(()=>{const a=()=>Eb.preRender(n,!1,!0),o=e.map(i=>i.on("change",a));return()=>{o.forEach(i=>i()),W2(n)}}),r}const h0=e=>e&&typeof e=="object"&&e.mix,m0=e=>h0(e)?e.mix:void 0;function y0(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],o=e[2+r],i=e[3+r],s=X2(a,o,{mixer:m0(o[0]),...i});return t?s(n):s}function v0(e){bu.current=[],e();const t=Fu(bu.current,e);return bu.current=void 0,t}function $u(e,t,r,n){if(typeof e=="function")return v0(e);const a=typeof t=="function"?t:y0(t,r,n);return Array.isArray(e)?zu(e,a):zu([e],([o])=>a(o))}function zu(e,t){const r=_b(()=>[]);return Fu(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function Uu(e){return typeof e=="number"?e:parseFloat(e)}function g0(e,t={}){const{isStatic:r}=b.useContext(Ob),n=b.useRef(null),a=Di(kb(e)?Uu(e.get()):e),o=b.useRef(a.get()),i=b.useRef(()=>{}),s=()=>{const l=n.current;l&&l.time===0&&l.sample(G2.delta),c(),n.current=Y2({keyframes:[a.get(),o.current],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:i.current})},c=()=>{n.current&&n.current.stop()};return b.useInsertionEffect(()=>a.attach((l,u)=>r?u(l):(o.current=l,i.current=u,Eb.update(s),a.get()),c),[JSON.stringify(t)]),Sb(()=>{if(kb(e))return e.on("change",l=>a.set(Uu(l)))},[a]),a}var xt=(e=>(e.Started="started",e.Inprogress="inprogress",e.Success="success",e.Failed="failed",e))(xt||{}),it=(e=>(e.Human="human",e.User="user",e.AI="ai",e.System="system",e.Assistant="assistant",e.Tool="tool",e.FewShotExample="few_shot_example",e))(it||{}),Ia=(e=>(e.Started="started",e.Inprogress="inprogress",e.Done="done",e))(Ia||{}),st=(e=>(e.Chat="chat",e.FewShotExample="few_shot_example",e))(st||{});function b0(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function x0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w0(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Lr(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function j0(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _0(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Lr(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}function Lr(e,t){var r=typeof t,n;return t==null||r==="boolean"?UD(t):(r==="number"?ku:r==="string"?(n=$b(t))?(t=n,zb):VD:t instanceof $b?zb:t instanceof Date?j0:x0(t)?b0:Array.isArray(t)?w0:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_0:ku)(e,t)}function Ii(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function O0(e,t){t===void 0&&(t=e,e=Lr);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}var La="Menubar",[Li,S0,E0]=K2(La),[Vu,yL]=Z2(La,[E0,Nb]),Ge=J2(),Hu=Nb(),[k0,Ri]=Vu(La),qu=b.forwardRef((e,t)=>{const{__scopeMenubar:r,value:n,onValueChange:a,defaultValue:o,loop:i=!0,dir:s,...c}=e,l=Q2(s),u=Hu(r),[d="",p]=eD({prop:n,onChange:a,defaultProp:o}),[m,y]=b.useState(null);return f.jsx(k0,{scope:r,value:d,onMenuOpen:b.useCallback(h=>{p(h),y(h)},[p]),onMenuClose:b.useCallback(()=>p(""),[p]),onMenuToggle:b.useCallback(h=>{p(v=>v?"":h),y(h)},[p]),dir:l,loop:i,children:f.jsx(Li.Provider,{scope:r,children:f.jsx(Li.Slot,{scope:r,children:f.jsx(tD,{asChild:!0,...u,orientation:"horizontal",loop:i,dir:l,currentTabStopId:m,onCurrentTabStopIdChange:y,children:f.jsx(Tt.div,{role:"menubar",...c,ref:t})})})})})});qu.displayName=La;var Bi="MenubarMenu",[N0,Wu]=Vu(Bi),Xu=e=>{const{__scopeMenubar:t,value:r,...n}=e,a=Xt(),o=r||a||"LEGACY_REACT_AUTO_VALUE",i=Ri(Bi,t),s=Ge(t),c=b.useRef(null),l=b.useRef(!1),u=i.value===o;return b.useEffect(()=>{u||(l.current=!1)},[u]),f.jsx(N0,{scope:t,value:o,triggerId:Xt(),triggerRef:c,contentId:Xt(),wasKeyboardTriggerOpenRef:l,children:f.jsx(vD,{...s,open:u,onOpenChange:d=>{d||i.onMenuClose()},modal:!1,dir:i.dir,...n})})};Xu.displayName=Bi;var Fi="MenubarTrigger",Gu=b.forwardRef((e,t)=>{const{__scopeMenubar:r,disabled:n=!1,...a}=e,o=Hu(r),i=Ge(r),s=Ri(Fi,r),c=Wu(Fi,r),l=b.useRef(null),u=rD(t,l,c.triggerRef),[d,p]=b.useState(!1),m=s.value===c.value;return f.jsx(Li.ItemSlot,{scope:r,value:c.value,disabled:n,children:f.jsx(nD,{asChild:!0,...o,focusable:!n,tabStopId:c.value,children:f.jsx(aD,{asChild:!0,...i,children:f.jsx(Tt.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":m,"aria-controls":m?c.contentId:void 0,"data-highlighted":d?"":void 0,"data-state":m?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:u,onPointerDown:Wt(e.onPointerDown,y=>{!n&&y.button===0&&y.ctrlKey===!1&&(s.onMenuOpen(c.value),m||y.preventDefault())}),onPointerEnter:Wt(e.onPointerEnter,()=>{var y;s.value&&!m&&(s.onMenuOpen(c.value),(y=l.current)==null||y.focus())}),onKeyDown:Wt(e.onKeyDown,y=>{n||(["Enter"," "].includes(y.key)&&s.onMenuToggle(c.value),y.key==="ArrowDown"&&s.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(y.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,y.preventDefault()))}),onFocus:Wt(e.onFocus,()=>p(!0)),onBlur:Wt(e.onBlur,()=>p(!1))})})})})});Gu.displayName=Fi;var P0="MenubarPortal",Yu=e=>{const{__scopeMenubar:t,...r}=e,n=Ge(t);return f.jsx(gD,{...n,...r})};Yu.displayName=P0;var $i="MenubarContent",Ku=b.forwardRef((e,t)=>{const{__scopeMenubar:r,align:n="start",...a}=e,o=Ge(r),i=Ri($i,r),s=Wu($i,r),c=S0(r),l=b.useRef(!1);return f.jsx(oD,{id:s.contentId,"aria-labelledby":s.triggerId,"data-radix-menubar-content":"",...o,...a,ref:t,align:n,onCloseAutoFocus:Wt(e.onCloseAutoFocus,u=>{var d;!i.value&&!l.current&&((d=s.triggerRef.current)==null||d.focus()),l.current=!1,u.preventDefault()}),onFocusOutside:Wt(e.onFocusOutside,u=>{const d=u.target;c().some(p=>{var m;return(m=p.ref.current)==null?void 0:m.contains(d)})&&u.preventDefault()}),onInteractOutside:Wt(e.onInteractOutside,()=>{l.current=!0}),onEntryFocus:u=>{s.wasKeyboardTriggerOpenRef.current||u.preventDefault()},onKeyDown:Wt(e.onKeyDown,u=>{if(["ArrowRight","ArrowLeft"].includes(u.key)){const d=u.target,p=d.hasAttribute("data-radix-menubar-subtrigger"),m=d.closest("[data-radix-menubar-content]")!==u.currentTarget,y=(i.dir==="rtl"?"ArrowRight":"ArrowLeft")===u.key;if(!y&&p||m&&y)return;let h=c().filter(w=>!w.disabled).map(w=>w.value);y&&h.reverse();const v=h.indexOf(s.value);h=i.loop?H0(h,v+1):h.slice(v+1);const[g]=h;g&&i.onMenuOpen(g)}},{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});Ku.displayName=$i;var A0="MenubarGroup",C0=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(iD,{...a,...n,ref:t})});C0.displayName=A0;var M0="MenubarLabel",Zu=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(sD,{...a,...n,ref:t})});Zu.displayName=M0;var T0="MenubarItem",Ju=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(cD,{...a,...n,ref:t})});Ju.displayName=T0;var D0="MenubarCheckboxItem",Qu=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(lD,{...a,...n,ref:t})});Qu.displayName=D0;var I0="MenubarRadioGroup",L0=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(uD,{...a,...n,ref:t})});L0.displayName=I0;var R0="MenubarRadioItem",ed=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(dD,{...a,...n,ref:t})});ed.displayName=R0;var B0="MenubarItemIndicator",td=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(fD,{...a,...n,ref:t})});td.displayName=B0;var F0="MenubarSeparator",rd=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(pD,{...a,...n,ref:t})});rd.displayName=F0;var $0="MenubarArrow",z0=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(hD,{...a,...n,ref:t})});z0.displayName=$0;var U0="MenubarSubTrigger",nd=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(mD,{"data-radix-menubar-subtrigger":"",...a,...n,ref:t})});nd.displayName=U0;var V0="MenubarSubContent",ad=b.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ge(r);return f.jsx(yD,{...a,"data-radix-menubar-content":"",...n,ref:t,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});ad.displayName=V0;function H0(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var od=qu,q0=Xu,id=Gu,W0=Yu,sd=Ku,cd=Zu,ld=Ju,ud=Qu,dd=ed,fd=td,pd=rd,hd=nd,md=ad;const zi=q0,yd=b.forwardRef(({className:e,...t},r)=>f.jsx(od,{ref:r,className:ae("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",e),...t}));yd.displayName=od.displayName;const Ui=b.forwardRef(({className:e,...t},r)=>f.jsx(id,{ref:r,className:ae("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e),...t}));Ui.displayName=id.displayName;const X0=b.forwardRef(({className:e,inset:t,children:r,...n},a)=>f.jsxs(hd,{ref:a,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,f.jsx(re,{name:"chevron-right",className:"ml-auto h-4 w-4"})]}));X0.displayName=hd.displayName;const G0=b.forwardRef(({className:e,...t},r)=>f.jsx(md,{ref:r,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));G0.displayName=md.displayName;const vd=b.forwardRef(({className:e,align:t="start",alignOffset:r=-4,sideOffset:n=8,...a},o)=>f.jsx(W0,{children:f.jsx(sd,{ref:o,align:t,alignOffset:r,sideOffset:n,className:ae("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));vd.displayName=sd.displayName;const gd=b.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(ld,{ref:n,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));gd.displayName=ld.displayName;const Y0=b.forwardRef(({className:e,children:t,checked:r,...n},a)=>f.jsxs(ud,{ref:a,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(fd,{children:f.jsx(re,{name:"check",className:"h-4 w-4"})})}),t]}));Y0.displayName=ud.displayName;const K0=b.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(dd,{ref:n,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(fd,{children:f.jsx(re,{name:"circle",className:"h-2 w-2 fill-current"})})}),t]}));K0.displayName=dd.displayName;const Z0=b.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(cd,{ref:n,className:ae("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Z0.displayName=cd.displayName;const J0=b.forwardRef(({className:e,...t},r)=>f.jsx(pd,{ref:r,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));J0.displayName=pd.displayName;let bd;J=bD()(xD(wD((e,t)=>({...HD,...qD(e,t)})))),bd=()=>{const e=Ne(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=b.useState(!1),n=J(i=>i.pushSyncNodeQueue),a=J(i=>i.createOrUpdateFlowNode),o=b.useCallback(async(i,s)=>{try{if(!e)throw new Error("Session not found");if(!s.provider||!s.name)throw new Error("Provider and name are required");r(!0);const c=await K("LLM").findOne({where:{name:s.name,session_id:e}});return c?(n("LLM",{where:{source_type:"LLM",source_id:c.id}}),c):K("LLM").save({name:`${s.name}`,status:s.provider===pe.WebLLM?tt.Started:tt.Loaded,session_id:e,provider:s.provider,metadata:JSON.stringify(s.metadata||{}),model_type:s.model_type||Ci.LLM,parameters:s.parameters||void 0,encrypted:s.encrypted||void 0,...s}).then(async l=>{var u,d,p;return await a({source_id:l.id,source_type:"LLM",node_type:$.LLM,x:(u=i.position)==null?void 0:u.x,y:((d=i.position)==null?void 0:d.y)+(((p=i.measured)==null?void 0:p.height)||0)+30}),l})}finally{r(!1)}},[a,n,e]);return{loading:t,createLLM:o}};var xd=1,Q0=.9,ex=.8,tx=.17,Vi=.1,Hi=.999,rx=.9999,nx=.99,ax=/[\\\/_+.#"@\[\(\{&]/,ox=/[\\\/_+.#"@\[\(\{&]/g,ix=/[\s-]/,wd=/[\s-]/g;function qi(e,t,r,n,a,o,i){if(o===t.length)return a===e.length?xd:nx;var s=`${a},${o}`;if(i[s]!==void 0)return i[s];for(var c=n.charAt(o),l=r.indexOf(c,a),u=0,d,p,m,y;l>=0;)d=qi(e,t,r,n,l+1,o+1,i),d>u&&(l===a?d*=xd:ax.test(e.charAt(l-1))?(d*=ex,m=e.slice(a,l-1).match(ox),m&&a>0&&(d*=Math.pow(Hi,m.length))):ix.test(e.charAt(l-1))?(d*=Q0,y=e.slice(a,l-1).match(wd),y&&a>0&&(d*=Math.pow(Hi,y.length))):(d*=tx,a>0&&(d*=Math.pow(Hi,l-a))),e.charAt(l)!==t.charAt(o)&&(d*=rx)),(d<Vi&&r.charAt(l-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(l-1)!==n.charAt(o))&&(p=qi(e,t,r,n,l+1,o+2,i),p*Vi>d&&(d=p*Vi)),d>u&&(u=d),l=r.indexOf(c,l+1);return i[s]=u,u}function jd(e){return e.toLowerCase().replace(wd," ")}function sx(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,qi(e,t,jd(e),jd(t),0,0,{})}var En='[cmdk-group=""]',Wi='[cmdk-group-items=""]',cx='[cmdk-group-heading=""]',Xi='[cmdk-item=""]',_d=`${Xi}:not([aria-disabled="true"])`,Gi="cmdk-item-select",pr="data-value",lx=(e,t,r)=>sx(e,t,r),Od=b.createContext(void 0),kn=()=>b.useContext(Od),Sd=b.createContext(void 0),Yi=()=>b.useContext(Sd),Ed=b.createContext(void 0),kd=b.forwardRef((e,t)=>{let r=Rr(()=>{var L,G;return{search:"",value:(G=(L=e.value)!=null?L:e.defaultValue)!=null?G:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=Rr(()=>new Set),a=Rr(()=>new Map),o=Rr(()=>new Map),i=Rr(()=>new Set),s=Nd(e),{label:c,children:l,value:u,onValueChange:d,filter:p,shouldFilter:m,loop:y,disablePointerSelection:h=!1,vimBindings:v=!0,...g}=e,w=Xt(),S=Xt(),x=Xt(),_=b.useRef(null),j=xx();hr(()=>{if(u!==void 0){let L=u.trim();r.current.value=L,O.emit()}},[u]),hr(()=>{j(6,C)},[]);let O=b.useMemo(()=>({subscribe:L=>(i.current.add(L),()=>i.current.delete(L)),snapshot:()=>r.current,setState:(L,G,D)=>{var U,te,ie;if(!Object.is(r.current[L],G)){if(r.current[L]=G,L==="search")N(),T(),j(1,E);else if(L==="value"&&(D||j(5,C),((U=s.current)==null?void 0:U.value)!==void 0)){let _e=G??"";(ie=(te=s.current).onValueChange)==null||ie.call(te,_e);return}O.emit()}},emit:()=>{i.current.forEach(L=>L())}}),[]),P=b.useMemo(()=>({value:(L,G,D)=>{var U;G!==((U=o.current.get(L))==null?void 0:U.value)&&(o.current.set(L,{value:G,keywords:D}),r.current.filtered.items.set(L,M(G,D)),j(2,()=>{T(),O.emit()}))},item:(L,G)=>(n.current.add(L),G&&(a.current.has(G)?a.current.get(G).add(L):a.current.set(G,new Set([L]))),j(3,()=>{N(),T(),r.current.value||E(),O.emit()}),()=>{o.current.delete(L),n.current.delete(L),r.current.filtered.items.delete(L);let D=k();j(4,()=>{N(),(D==null?void 0:D.getAttribute("id"))===L&&E(),O.emit()})}),group:L=>(a.current.has(L)||a.current.set(L,new Set),()=>{o.current.delete(L),a.current.delete(L)}),filter:()=>s.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:w,inputId:x,labelId:S,listInnerRef:_}),[]);function M(L,G){var D,U;let te=(U=(D=s.current)==null?void 0:D.filter)!=null?U:lx;return L?te(L,r.current.search,G):0}function T(){if(!r.current.search||s.current.shouldFilter===!1)return;let L=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(U=>{let te=a.current.get(U),ie=0;te.forEach(_e=>{let q=L.get(_e);ie=Math.max(q,ie)}),G.push([U,ie])});let D=_.current;I().sort((U,te)=>{var ie,_e;let q=U.getAttribute("id"),Q=te.getAttribute("id");return((ie=L.get(Q))!=null?ie:0)-((_e=L.get(q))!=null?_e:0)}).forEach(U=>{let te=U.closest(Wi);te?te.appendChild(U.parentElement===te?U:U.closest(`${Wi} > *`)):D.appendChild(U.parentElement===D?U:U.closest(`${Wi} > *`))}),G.sort((U,te)=>te[1]-U[1]).forEach(U=>{var te;let ie=(te=_.current)==null?void 0:te.querySelector(`${En}[${pr}="${encodeURIComponent(U[0])}"]`);ie==null||ie.parentElement.appendChild(ie)})}function E(){let L=I().find(D=>D.getAttribute("aria-disabled")!=="true"),G=L==null?void 0:L.getAttribute(pr);O.setState("value",G||void 0)}function N(){var L,G,D,U;if(!r.current.search||s.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let te=0;for(let ie of n.current){let _e=(G=(L=o.current.get(ie))==null?void 0:L.value)!=null?G:"",q=(U=(D=o.current.get(ie))==null?void 0:D.keywords)!=null?U:[],Q=M(_e,q);r.current.filtered.items.set(ie,Q),Q>0&&te++}for(let[ie,_e]of a.current)for(let q of _e)if(r.current.filtered.items.get(q)>0){r.current.filtered.groups.add(ie);break}r.current.filtered.count=te}function C(){var L,G,D;let U=k();U&&(((L=U.parentElement)==null?void 0:L.firstChild)===U&&((D=(G=U.closest(En))==null?void 0:G.querySelector(cx))==null||D.scrollIntoView({block:"nearest"})),U.scrollIntoView({block:"nearest"}))}function k(){var L;return(L=_.current)==null?void 0:L.querySelector(`${Xi}[aria-selected="true"]`)}function I(){var L;return Array.from(((L=_.current)==null?void 0:L.querySelectorAll(_d))||[])}function B(L){let G=I()[L];G&&O.setState("value",G.getAttribute(pr))}function F(L){var G;let D=k(),U=I(),te=U.findIndex(_e=>_e===D),ie=U[te+L];(G=s.current)!=null&&G.loop&&(ie=te+L<0?U[U.length-1]:te+L===U.length?U[0]:U[te+L]),ie&&O.setState("value",ie.getAttribute(pr))}function V(L){let G=k(),D=G==null?void 0:G.closest(En),U;for(;D&&!U;)D=L>0?gx(D,En):bx(D,En),U=D==null?void 0:D.querySelector(_d);U?O.setState("value",U.getAttribute(pr)):F(L)}let W=()=>B(I().length-1),Z=L=>{L.preventDefault(),L.metaKey?W():L.altKey?V(1):F(1)},X=L=>{L.preventDefault(),L.metaKey?B(0):L.altKey?V(-1):F(-1)};return b.createElement(Tt.div,{ref:t,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:L=>{var G;if((G=g.onKeyDown)==null||G.call(g,L),!L.defaultPrevented)switch(L.key){case"n":case"j":{v&&L.ctrlKey&&Z(L);break}case"ArrowDown":{Z(L);break}case"p":case"k":{v&&L.ctrlKey&&X(L);break}case"ArrowUp":{X(L);break}case"Home":{L.preventDefault(),B(0);break}case"End":{L.preventDefault(),W();break}case"Enter":if(!L.nativeEvent.isComposing&&L.keyCode!==229){L.preventDefault();let D=k();if(D){let U=new Event(Gi);D.dispatchEvent(U)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:jx},c),Ra(e,L=>b.createElement(Sd.Provider,{value:O},b.createElement(Od.Provider,{value:P},L))))}),ux=b.forwardRef((e,t)=>{var r,n;let a=Xt(),o=b.useRef(null),i=b.useContext(Ed),s=kn(),c=Nd(e),l=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;hr(()=>{if(!l)return s.item(a,i==null?void 0:i.id)},[l]);let u=Pd(a,o,[e.value,e.children,o],e.keywords),d=Yi(),p=mr(j=>j.value&&j.value===u.current),m=mr(j=>l||s.filter()===!1?!0:j.search?j.filtered.items.get(a)>0:!0);b.useEffect(()=>{let j=o.current;if(!(!j||e.disabled))return j.addEventListener(Gi,y),()=>j.removeEventListener(Gi,y)},[m,e.onSelect,e.disabled]);function y(){var j,O;h(),(O=(j=c.current).onSelect)==null||O.call(j,u.current)}function h(){d.setState("value",u.current,!0)}if(!m)return null;let{disabled:v,value:g,onSelect:w,forceMount:S,keywords:x,..._}=e;return b.createElement(Tt.div,{ref:Nn([o,t]),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||s.getDisablePointerSelection()?void 0:h,onClick:v?void 0:y},e.children)}),dx=b.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...o}=e,i=Xt(),s=b.useRef(null),c=b.useRef(null),l=Xt(),u=kn(),d=mr(m=>a||u.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);hr(()=>u.group(i),[]),Pd(i,s,[e.value,e.heading,c]);let p=b.useMemo(()=>({id:i,forceMount:a}),[a]);return b.createElement(Tt.div,{ref:Nn([s,t]),...o,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&b.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:l},r),Ra(e,m=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?l:void 0},b.createElement(Ed.Provider,{value:p},m))))}),fx=b.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=b.useRef(null),o=mr(i=>!i.search);return!r&&!o?null:b.createElement(Tt.div,{ref:Nn([a,t]),...n,"cmdk-separator":"",role:"separator"})}),px=b.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,o=Yi(),i=mr(u=>u.search),s=mr(u=>u.value),c=kn(),l=b.useMemo(()=>{var u;let d=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${Xi}[${pr}="${encodeURIComponent(s)}"]`);return d==null?void 0:d.getAttribute("id")},[]);return b.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),b.createElement(Tt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),hx=b.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=b.useRef(null),i=b.useRef(null),s=kn();return b.useEffect(()=>{if(i.current&&o.current){let c=i.current,l=o.current,u,d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let p=c.offsetHeight;l.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return d.observe(c),()=>{cancelAnimationFrame(u),d.unobserve(c)}}},[]),b.createElement(Tt.div,{ref:Nn([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":n,id:s.listId},Ra(e,c=>b.createElement("div",{ref:Nn([i,s.listInnerRef]),"cmdk-list-sizer":""},c)))}),mx=b.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:o,container:i,...s}=e;return b.createElement(jD,{open:r,onOpenChange:n},b.createElement(_D,{container:i},b.createElement(OD,{"cmdk-overlay":"",className:a}),b.createElement(SD,{"aria-label":e.label,"cmdk-dialog":"",className:o},b.createElement(kd,{ref:t,...s}))))}),yx=b.forwardRef((e,t)=>mr(r=>r.filtered.count===0)?b.createElement(Tt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),vx=b.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return b.createElement(Tt.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Ra(e,i=>b.createElement("div",{"aria-hidden":!0},i)))}),rt=Object.assign(kd,{List:hx,Item:ux,Input:px,Group:dx,Separator:fx,Dialog:mx,Empty:yx,Loading:vx});function gx(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function bx(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Nd(e){let t=b.useRef(e);return hr(()=>{t.current=e}),t}var hr=typeof window>"u"?b.useEffect:b.useLayoutEffect;function Rr(e){let t=b.useRef();return t.current===void 0&&(t.current=e()),t}function Nn(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function mr(e){let t=Yi(),r=()=>e(t.snapshot());return BI.useSyncExternalStore(t.subscribe,r,r)}function Pd(e,t,r,n=[]){let a=b.useRef(),o=kn();return hr(()=>{var i;let s=(()=>{var l;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(l=u.current.textContent)==null?void 0:l.trim():a.current}})(),c=n.map(l=>l.trim());o.value(e,s,c),(i=t.current)==null||i.setAttribute(pr,s),a.current=s}),a}var xx=()=>{let[e,t]=b.useState(),r=Rr(()=>new Map);return hr(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function wx(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ra({asChild:e,children:t},r){return e&&b.isValidElement(t)?b.cloneElement(wx(t),{ref:t.ref},r(t.props.children)):r(t)}var jx={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ad=b.forwardRef(({className:e,...t},r)=>f.jsx(rt,{ref:r,className:ae("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Ad.displayName=rt.displayName;const Cd=b.forwardRef(({className:e,...t},r)=>f.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[f.jsx(re,{name:"search",className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx(rt.Input,{ref:r,className:ae("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Cd.displayName=rt.Input.displayName;const Md=b.forwardRef(({className:e,...t},r)=>f.jsx(rt.List,{ref:r,className:ae("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Md.displayName=rt.List.displayName;const Td=b.forwardRef((e,t)=>f.jsx(rt.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Td.displayName=rt.Empty.displayName;const Dd=b.forwardRef(({className:e,...t},r)=>f.jsx(rt.Group,{ref:r,className:ae("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Dd.displayName=rt.Group.displayName;const _x=b.forwardRef(({className:e,...t},r)=>f.jsx(rt.Separator,{ref:r,className:ae("-mx-1 h-px bg-border",e),...t}));_x.displayName=rt.Separator.displayName;const Pn=b.forwardRef(({className:e,...t},r)=>f.jsx(rt.Item,{ref:r,className:ae("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Pn.displayName=rt.Item.displayName;const Ki=b.forwardRef(({className:e,...t},r)=>f.jsx(i0,{ref:r,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:f.jsx(nL,{className:ae("flex items-center justify-center text-current"),children:f.jsx(re,{name:"check",className:"h-4 w-4"})})}));Ki.displayName=i0.displayName;const Ox=["gpt-4o","gpt-4o-mini","gpt-4-turbo","gpt-4","gpt-3.5-turbo"],Sx=["deepseek-r1-distill-llama-70b","llama-3.2-90b-vision-preview","llama-3.3-70b-versatile","llama-3.3-70b-specdec","llama3-70b-8192","gemma2-9b-it","llama3-8b-8192","mixtral-8x7b-32768"],Ex=["llama-3.2-90b-vision-preview"],kx=["gemini-2.0-flash-exp","gemini-1.5-flash","gemini-1.5-pro","gemini-1.5-flash-8b"],Ba="https://aistudio.google.com/app/apikey",Fa="https://platform.openai.com/api-keys",Id="https://console.groq.com/keys",Nx=[pe.WebLLM,pe.OpenAI,pe.GoogleGenerativeAI,pe.Groq],Px=bi(({onConfirm:e,onCancel:t})=>{const r=cr(),{t:n}=ce("dialogs"),[a,o]=b.useState(""),i=l=>{o(l)},s=async()=>{try{if((a==null?void 0:a.length)!==6)return;await(e==null?void 0:e(a)),o(""),r.resolve(!0),r.hide()}catch(l){r.reject(l)}},c=()=>{t==null||t(),o(""),r.resolve(!1),r.hide()};return f.jsx(xi,{open:r.visible,onOpenChange:c,children:f.jsxs(wi,{className:"w-[330px]",children:[f.jsxs(ji,{children:[f.jsx(_i,{children:n("create_session_passkey.title")}),f.jsx(Pb,{children:n("create_session_passkey.description")})]}),f.jsx("div",{className:"py-4",children:f.jsxs(_I,{onChange:i,maxLength:6,children:[f.jsxs(Qb,{children:[f.jsx(Sn,{index:0,hidden:!0}),f.jsx(Sn,{index:1,hidden:!0}),f.jsx(Sn,{index:2,hidden:!0})]}),f.jsx(OI,{}),f.jsxs(Qb,{children:[f.jsx(Sn,{index:3,hidden:!0}),f.jsx(Sn,{index:4,hidden:!0}),f.jsx(Sn,{index:5,hidden:!0})]})]})}),f.jsx(Ab,{children:f.jsx(Ee,{disabled:(a==null?void 0:a.length)!==6,onClick:s,type:"submit",children:n("create_session_passkey.confirm")})})]})})}),Ax=()=>{const[e,t]=b.useState(!1),r=Ne(o=>o.currentSession),n=Ne(o=>o.setCurrentSession),a=b.useCallback(async o=>{if(!(!r||!o))try{t(!0);const i=await SI(),s=await e0(i,o);await K("Session").update(r.id,{passphrase:s});const c=await K("Session").findOne({where:{id:r.id}});return c&&n(c),{passphrase:i,encrypted:s}}finally{t(!1)}},[r,n]);return{loading:e,updateSessionPassphrase:a}},Ld=()=>{const e=Ne(a=>a.currentSession),{modalRef:t}=EI(Px),{updateSessionPassphrase:r}=Ax(),{confirmPassphrase:n}=t0();return{confirmOrCreatePassphrase:b.useCallback(async()=>{if(e!=null&&e.passphrase)await n();else{let a="";if(await t.current.show({onConfirm:async i=>{a=i}}),!a)throw new Error("Passphrase is required");const o=await r(a);if(!o)throw new Error("Failed to update session passphrase");await Oi.set("passphrase",o.passphrase)}return Oi.get("passphrase")},[n,t,e==null?void 0:e.passphrase,r])}};function Cx(e){var L,G;const{id:t,setDialog:r}=e,{t:n}=ce("components"),{toast:a}=dt(),o=Je(t),[i,s]=b.useState(!1),[c,l]=b.useState(""),[u,d]=b.useState(!1),[p,m]=b.useState(""),[y,h]=b.useState(),[v,g]=b.useState(pe.WebLLM),[w,S]=b.useState(!1),[x,_]=b.useState(),j=Ne(D=>D.currentSession),O=Ca(D=>D.syncCachedLLMURLs),P=Ca(D=>D.cachedLLMURLs),{loading:M,createLLM:T}=bd(),{confirmOrCreatePassphrase:E}=Ld();b.useEffect(()=>{ft(()=>import("./index-cNm9Y0sY.js").then(async D=>(await D.__tla,D)),__vite__mapDeps([0,1,2,3,4,5])).then(async({functionCallingModelIds:D,prebuiltAppConfig:U})=>{const te=U.model_list;_({modelList:te,functionCallingModelIds:D})})},[]),b.useEffect(()=>{O()},[O]);const N=b.useMemo(()=>c?v!==pe.WebLLM:!1,[c,v]),C=b.useMemo(()=>!(x!=null&&x.functionCallingModelIds)||!(x!=null&&x.modelList)?[]:((p?x==null?void 0:x.modelList.filter(D=>D.model_id.toLowerCase().includes(p.toLowerCase())):x==null?void 0:x.modelList)||[]).sort((D,U)=>{const te=P.some(z=>z.includes(D.model_id)),ie=P.some(z=>z.includes(U.model_id));if(te&&!ie)return-1;if(!te&&ie)return 1;const _e=Ub.includes(D.model_id),q=Ub.includes(U.model_id);if(_e&&!q)return-1;if(!_e&&q)return 1;const Q=x==null?void 0:x.functionCallingModelIds.includes(D.model_id),ne=x==null?void 0:x.functionCallingModelIds.includes(U.model_id);return Q&&!ne?-1:!Q&&ne?1:D.vram_required_MB&&U.vram_required_MB&&D.vram_required_MB!==U.vram_required_MB?D.vram_required_MB-U.vram_required_MB:D.model_id.localeCompare(U.model_id)}),[x==null?void 0:x.modelList,x==null?void 0:x.functionCallingModelIds,p,P]),k=b.useMemo(()=>{if(c)switch(v){case pe.WebLLM:return(x==null?void 0:x.modelList)&&C.find(D=>D.model_id===c);case pe.Groq:return h({}),{model:c,model_id:c,model_type:Ex.includes(c)?2:0,overrides:{}};case pe.OpenAI:return h({}),{model:c,model_id:c,model_type:2,overrides:{}};case pe.GoogleGenerativeAI:return h({}),{model:c,model_id:c,model_type:2,overrides:{}}}},[c,x==null?void 0:x.modelList,C,v]);b.useEffect(()=>{!(k!=null&&k.model_id)||!P||S(P.some(D=>D.includes(k.model_id)))},[P,k==null?void 0:k.model_id]),b.useEffect(()=>{j!=null&&j.id&&(g(pe.WebLLM),l(""),m(""),h({}))},[j==null?void 0:j.id]);const I=b.useCallback(D=>{l(D),d(!1)},[]),B=b.useCallback(D=>{m(D)},[]),F=b.useCallback(D=>{g(D),l(""),m(""),h({})},[]),V=async()=>{var D;if(!(!o||!j))try{s(!0);let U;if(N){const te=await E();if(!te)throw new Error("Passphrase is not found");U=await kI(y||{},te)}await T(o,{name:c,model_type:W(k==null?void 0:k.model_type),function_calling:k!=null&&k.model_id?(D=x==null?void 0:x.functionCallingModelIds)==null?void 0:D.includes(k==null?void 0:k.model_id):!1,encrypted:U,provider:v}),r==null||r(!1)}catch(U){Si("Create LLM",U),a({variant:"destructive",description:n("add_llm_card.errors.failed_to_create")})}finally{s(!1),g(pe.WebLLM),h({}),l(""),m("")}},W=b.useCallback(D=>D===1?Ci.embedding:D===2?Ci.VLM:Ci.LLM,[]),Z=b.useMemo(()=>{switch(v){case pe.WebLLM:return C.map(D=>{var U;return f.jsxs(Pn,{value:D.model_id,onSelect:I,children:[c===D.model_id?f.jsx(re,{name:"check",className:"mr-2 h-4 w-4"}):f.jsx("div",{className:"mr-2 h-4 w-4"}),f.jsxs("span",{className:"max-w-md",children:[f.jsxs("div",{className:"flex gap-2 mb-2",children:[f.jsx(fr,{name:D.model_id}),D.model_id]}),f.jsx("div",{className:"flex max-w-full flex-wrap gap-1",children:f.jsx(ki,{model:D,isFunctionCalling:((U=x==null?void 0:x.functionCallingModelIds)==null?void 0:U.includes(D.model_id))||!1,name:D.model_id,isCached:P.some(te=>te.includes(D.model_id))||!1,cloud:v!==pe.WebLLM})})]})]},D.model_id)});case pe.OpenAI:return Ox.map(D=>f.jsxs(Pn,{value:D,onSelect:I,children:[c===D?f.jsx(re,{name:"check",className:"h-4 w-4"}):f.jsx("div",{className:"w-4"}),f.jsx("span",{className:"max-w-md",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx(fr,{name:D}),D]})})]},D));case pe.GoogleGenerativeAI:return kx.map(D=>f.jsxs(Pn,{value:D,onSelect:I,children:[c===D?f.jsx(re,{name:"check",className:"h-4 w-4"}):f.jsx("div",{className:"w-4"}),f.jsx("span",{className:"max-w-md",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx(fr,{name:D}),D]})})]},D));case pe.Groq:return Sx.map(D=>f.jsxs(Pn,{value:D,onSelect:I,children:[c===D?f.jsx(re,{name:"check",className:"h-4 w-4"}):f.jsx("div",{className:"w-4"}),f.jsx("span",{className:"max-w-md",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx(fr,{name:D}),D]})})]},D))}},[P,I,c,x==null?void 0:x.functionCallingModelIds,C,v]),X=b.useMemo(()=>{if(N)switch(v){case pe.Groq:case pe.OpenAI:return f.jsxs(f.Fragment,{children:[f.jsx(Et,{variant:"destructive",className:"mt-4",children:n("add_llm_card.alert.session_passkey")}),f.jsxs("div",{className:"mt-4",children:[f.jsx(le,{children:n("add_llm_card.encrypted_fields.api_key")}),f.jsx(Ee,{variant:"link",className:"px-1",children:f.jsxs("a",{href:v===pe.OpenAI?Fa:Id,target:"_blank",rel:"noreferrer",children:["(",v===pe.OpenAI?Fa:Id,")"]})}),f.jsx(nt,{type:"password",value:(y==null?void 0:y.key)||"",onChange:D=>h(U=>({...U,key:D.target.value}))})]})]});case pe.GoogleGenerativeAI:return f.jsxs(f.Fragment,{children:[f.jsx(Et,{variant:"destructive",className:"mt-4",children:n("add_llm_card.alert.session_passkey")}),f.jsxs("div",{className:"mt-4",children:[f.jsx(le,{children:n("add_llm_card.encrypted_fields.api_key")}),f.jsx(Ee,{variant:"link",className:"px-1",children:f.jsxs("a",{href:Ba,target:"_blank",rel:"noreferrer",children:["(",Ba,")"]})}),f.jsx(nt,{type:"password",value:(y==null?void 0:y.key)||"",onChange:D=>h(U=>({...U,key:D.target.value}))})]}),f.jsxs("div",{className:"mt-4 flex items-center",children:[f.jsx(le,{children:n("add_llm_card.encrypted_fields.enabled_google_search_retreival")}),f.jsx(Ki,{checked:!!(y!=null&&y.enabled_google_search_retreival),className:"ml-2",onCheckedChange:D=>{h(U=>({...U,enabled_google_search_retreival:D?"true":""}))}})]})]})}},[N,v,n,y]);return f.jsxs(Le,{className:"max-w-lg",children:[f.jsx(Qe,{children:f.jsx(at,{children:n("add_llm_card.title")})}),f.jsxs(et,{children:[f.jsxs("div",{className:"grid w-full gap-1.5",children:[f.jsx(le,{children:n("add_llm_card.provider")}),f.jsxs(Yt,{value:v,onValueChange:F,children:[f.jsx(Kt,{className:"w-full mb-4",children:f.jsx(Zt,{placeholder:n("add_llm_card.provider_select_placeholder")})}),f.jsx(Jt,{children:Object.values(Nx).map(D=>f.jsx(ot,{value:D,children:n(`add_llm_card.providers.${D.toLowerCase()}`)},D))})]}),f.jsx(le,{children:n("add_llm_card.model_name")}),f.jsxs(r0,{open:u,onOpenChange:d,children:[f.jsx(LI,{asChild:!0,children:f.jsxs(Ee,{variant:"outline",role:"combobox","aria-expanded":u,className:"w-full justify-between",children:[c?k==null?void 0:k.model_id:n("add_llm_card.select_model_placeholder"),f.jsx(re,{name:"chevrons-up-down",className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),f.jsx(n0,{className:"w-full p-0",children:f.jsxs(Ad,{children:[f.jsx(Cd,{onValueChange:B,placeholder:n("add_llm_card.search_placeholder")}),f.jsxs(Md,{children:[f.jsx(Td,{children:n("add_llm_card.no_model")}),f.jsx(Dd,{children:Z})]})]})})]})]}),k?f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{className:"mt-4 text-sm text-muted-foreground center flex max-w-full flex-wrap gap-1",children:[f.jsx(fr,{name:k.model_id,className:"mr-2"}),f.jsx(ki,{model:k,isFunctionCalling:((L=x==null?void 0:x.functionCallingModelIds)==null?void 0:L.includes(k.model_id))||!1,name:k.model_id,isCached:P.some(D=>D.includes(k.model_id))||!1,cloud:v!==pe.WebLLM})]}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_url")}),k.model]}),k.model_lib?f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground center flex",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_lib_url")}),k.model_lib]}):void 0,k.overrides&&((G=Object.keys(k.overrides))!=null&&G.length)?f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground center flex",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.metadata")}),JSON.stringify(k.overrides)]}):void 0]}):null,X]}),f.jsx(ur,{className:"flex justify-between",children:f.jsx(Gt,{loading:M||i,disabled:!(c!=null&&c.length),onClick:V,className:"w-full",children:n(w?"add_llm_card.button_add":"add_llm_card.button_download_and_add")})})]})}const Rd=()=>{const e=Ne(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=b.useState(!1),n=J(o=>o.createOrUpdateFlowNode),a=b.useCallback(async(o,i)=>{var s,c,l;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const u=((s=o.position)==null?void 0:s.x)||0,d=(((c=o.position)==null?void 0:c.y)||0)+(((l=o.measured)==null?void 0:l.height)||0),p=await K("Prompt").save({content:i.content,prefix:i.prefix,role:i.role||it.System,status:xt.Started,session_id:e,type:i.type||st.Chat});if(!p)throw new Error("Failed to save prompt");if(!await n({source_id:p.id,source_type:"Prompt",node_type:$.Prompt,x:u,y:d+20}))throw new Error("Failed to save prompt node")}finally{r(!1)}},[e,n]);return{loading:t,createPrompt:a}},Mx={[st.Chat]:{label:"add_prompt_card.prompt_types.chat",value:st.Chat},[st.FewShotExample]:{label:"add_prompt_card.prompt_types.few_shot_example",value:st.FewShotExample}},Tx={[it.System]:{label:"add_prompt_card.prompt_roles.system",value:it.System},[it.Human]:{label:"add_prompt_card.prompt_roles.human",value:it.Human},[it.AI]:{label:"add_prompt_card.prompt_roles.ai",value:it.AI}},Zi=b.memo(({defaultPromptContent:e,defaultPromptRole:t,defaultPromptType:r,hidePromptRole:n,hidePromptType:a,loading:o,onSubmit:i})=>{const[s,c]=b.useState(e||""),[l,u]=b.useState(r||st.Chat),[d,p]=b.useState(t),[m,y]=b.useState(""),{t:h}=ce("components"),v=b.useCallback(_=>{c(_.target.value)},[]),g=b.useCallback(_=>{y(_.target.value)},[]),w=b.useCallback(_=>{_===st.FewShotExample&&c(`Question: {input}
Answer: {output}`),u(_)},[]),S=b.useCallback(_=>{p(_)},[]),x=async()=>{await i({content:s,role:d,prefix:m,type:l})&&(c(""),p(void 0),u("chat"),y(""))};return f.jsxs("div",{children:[f.jsxs("div",{className:"grid w-full gap-1.5",children:[a?void 0:f.jsxs(f.Fragment,{children:[f.jsx(le,{children:h("add_prompt_card.prompt_type")}),f.jsxs(Yt,{value:l,onValueChange:w,children:[f.jsx(Kt,{className:"w-full mb-4",children:f.jsx(Zt,{placeholder:h("add_prompt_card.type_select_placeholder")})}),f.jsx(Jt,{children:Object.values(Mx).map(_=>f.jsx(ot,{value:_.value,children:h(_.label)},_.value))})]})]}),n?void 0:f.jsxs(f.Fragment,{children:[f.jsx(le,{children:h("add_prompt_card.prompt_role")}),f.jsxs(Yt,{value:d,onValueChange:S,children:[f.jsx(Kt,{className:"w-full mb-4",children:f.jsx(Zt,{placeholder:h("add_prompt_card.role_select_placeholder")})}),f.jsx(Jt,{children:Object.values(Tx).map(_=>f.jsx(ot,{value:_.value,children:h(_.label)},_.value))})]})]}),l===st.FewShotExample&&f.jsxs(f.Fragment,{children:[f.jsx(le,{children:h("add_prompt_card.prompt_prefix")}),f.jsx(Da,{value:m,onChange:g,disabled:!1,className:"h-20",placeholder:h("add_prompt_card.placeholder"),id:"message"}),f.jsx(le,{children:h("add_prompt_card.prompt_content")}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm justify-end items-center",children:[f.jsx(re,{name:"info",className:"mr-2",size:14}),h("add_prompt_card.few_shot_example_note")]})]}),f.jsx(Da,{value:s,onChange:v,disabled:!1,placeholder:h("add_prompt_card.placeholder"),id:"message"})]}),f.jsx("div",{children:f.jsx(Gt,{loading:o,disabled:!(s!=null&&s.length),onClick:x,className:"w-full mt-4",children:h("add_prompt_card.button")})})]})}),Dx=b.memo(e=>{const{id:t,thread:r,setDialog:n}=e,{t:a}=ce("components"),{toast:o}=dt(),i=Je(t),{createPrompt:s,loading:c}=Rd(),l=async u=>{if(i)try{if(!(u!=null&&u.content))throw new Error("Prompt data is missing");await s(i,{...u,content:u.content,thread:r}),n==null||n(!1)}catch(d){o({variant:"destructive",title:`${d}`})}};return f.jsxs(Le,{className:"mw-full",children:[f.jsx(Qe,{children:f.jsx(at,{children:a("add_prompt_card.title")})}),f.jsx(et,{children:f.jsx(Zi,{onSubmit:l,loading:c,defaultPromptRole:"system",defaultPromptType:"chat"})})]})}),Ix=()=>{const e=Ne(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=b.useState(!1),n=J(i=>i.createOrUpdateFlowNode),a=b.useCallback((i,s,c,l)=>{var u;if(e){for(const d of s)(u=d.data)!=null&&u.length?a(i,d.data,c,d.id):c.push({name:d.name,type:d.type,enum:d.enum?JSON.stringify(d.enum):"",required:d.required,description:d.description,id:d.id||xu(),parent_id:l,schema_id:i,session_id:e});return c}},[e]),o=b.useCallback(async(i,s)=>{var c,l,u;try{if(!i||!e)throw new Error("Source or Session not found");r(!0);const d=((c=i.position)==null?void 0:c.x)||0,p=(((l=i.position)==null?void 0:l.y)||0)+(((u=i.measured)==null?void 0:u.height)||0),m=await K("Schema").save({name:"Untitled Schema",session_id:e});if(!m)throw new Error("Failed to save schema");const y=a(m.id,s,[],void 0);if(!(y!=null&&y.length))throw new Error("Failed to convert schema items");if(await K("SchemaItem").save(y),!await n({source_id:m.id,source_type:"Schema",node_type:$.Schema,x:d,y:p+20}))throw new Error("Failed to save schema node")}finally{r(!1)}},[e,a,n]);return{loading:t,createSchema:o}},Bd=b.memo(({setData:e,data:t,id:r})=>{const{t:n}=ce("components"),[a,o]=b.useState({name:"",description:"",type:"string",required:!1,data:[]}),i=b.useMemo(()=>r&&t.find(h=>h.id===r)||a,[t,a,r]),s=b.useCallback(h=>{h.target.value&&!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(h.target.value)||(r?e(v=>[...v.map(g=>g.id===r?{...g,name:h.target.value||""}:g)]):o(v=>({...v,name:h.target.value||""})))},[r,e]),c=b.useCallback(h=>{r?e(v=>[...v.map(g=>g.id===r?{...g,description:h.target.value||""}:g)]):o(v=>({...v,description:h.target.value||""}))},[r,e]),l=b.useCallback(h=>{r?e(v=>[...v.map(g=>g.id===r?{...g,type:h||""}:g)]):o(v=>({...v,type:h||"string"}))},[r,e]),u=b.useCallback(h=>{r?e(v=>[...v.map(g=>g.id===r?{...g,required:!!h||!1}:g)]):o(v=>({...v,required:!!h||!1}))},[r,e]),d=b.useCallback(h=>{r?e(v=>[...v.map(g=>g.id===r?{...g,enum:h.target.value||""}:g)]):o(v=>({...v,enum:h.target.value||""}))},[r,e]),p=b.useCallback(()=>{if(t.find(h=>h.name===a.name))return wn({variant:"destructive",content:"Name already exists"});a.id=xu(),e(h=>[...h,{...a}]),o({name:"",description:"",type:"string",required:!1,id:xu(),parent:r||void 0,data:[]})},[t,a,e,r]),m=b.useCallback(h=>{e(v=>[...v.map(g=>g.id===r?{...g,data:h(g.data||[])}:g)])},[r,e]),y=["object","array"].includes(i.type);return f.jsxs("div",{className:"w-full p-1",children:[f.jsxs("div",{children:[f.jsx(le,{children:n("add_schema_card.field.name")}),f.jsx(nt,{id:"name",onChange:s,placeholder:n("add_schema_card.field.name_placeholder"),value:(i==null?void 0:i.name)||""})]}),f.jsxs("div",{children:[f.jsx(le,{children:n("add_schema_card.field.description")}),f.jsx(nt,{id:"description",placeholder:n("add_schema_card.field.description_placeholder"),onChange:c,value:(i==null?void 0:i.description)||""})]}),f.jsxs("div",{children:[f.jsx(le,{children:n("add_schema_card.field.type")}),f.jsxs(Yt,{onValueChange:l,value:(i==null?void 0:i.type)||"",children:[f.jsx(Kt,{children:f.jsx(Zt,{placeholder:n("add_schema_card.field.type_placeholder")})}),f.jsxs(Jt,{children:[f.jsx(ot,{value:"string",children:n("add_schema_card.types.string")}),f.jsx(ot,{value:"boolean",children:n("add_schema_card.types.boolean")}),f.jsx(ot,{value:"number",children:n("add_schema_card.types.number")}),f.jsx(ot,{value:"object",children:n("add_schema_card.types.object")}),f.jsx(ot,{value:"array",children:n("add_schema_card.types.array")})]})]})]}),f.jsxs("div",{className:"flex items-center h-10",children:[f.jsx(le,{children:n("add_schema_card.field.required")}),f.jsx(Ki,{className:"ml-2","aria-label":"Select row",onCheckedChange:u,checked:i==null?void 0:i.required})]}),y?f.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[f.jsx(le,{children:n("add_schema_card.children")}),f.jsx(Fd,{data:(i==null?void 0:i.data)||[],setData:m})]}):null,(i==null?void 0:i.type)==="enum"?f.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[f.jsx(le,{children:n("add_schema_card.field.enum")}),f.jsx(nt,{id:"enum",onChange:d,placeholder:"Enum"})]}):null,r?null:f.jsx("div",{className:"w-full flex justify-end mt-2",children:f.jsx(Ee,{variant:"secondary",disabled:!i.name||!i.description||!i.type,onClick:p,className:"w-full",children:n("add_schema_card.field.add_field")})})]})}),Fd=b.memo(({data:e,setData:t})=>f.jsxs(WD,{type:"single",collapsible:!0,children:[e.map(r=>f.jsxs(XD,{value:`${r.id}`,children:[f.jsx(GD,{children:r.name}),f.jsx(YD,{children:f.jsx(Bd,{setData:t,data:e,id:r.id})})]},r.id||"new")),f.jsx(Le,{className:"p-2 mt-4",children:f.jsx(Bd,{setData:t,data:e})})]})),Lx=b.memo(e=>{const{t}=ce("components"),{id:r}=e,n=Je(r),[a,o]=b.useState([]),{createSchema:i,loading:s}=Ix(),c=async()=>{if(n&&(a!=null&&a.length))try{await i(n,a),o([])}catch(l){wn({variant:"destructive",title:`${l}`})}};return f.jsxs(Le,{className:"max-w-lg",children:[f.jsx(Qe,{children:f.jsx(at,{children:t("add_schema_card.title")})}),f.jsx(et,{className:"min-w-96",children:f.jsx(Fd,{setData:o,data:a})}),f.jsx(ur,{className:"flex justify-between",children:f.jsx(Gt,{loading:s,disabled:!(a!=null&&a.length),onClick:c,className:"w-full",children:t("add_schema_card.create")})})]})}),$d=()=>{const e=Ne(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=b.useState(!1),n=J(o=>o.createOrUpdateFlowNode),a=b.useCallback(async(o,i,s)=>{var c,l,u;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const d=((c=o.position)==null?void 0:c.x)||0,p=(((l=o.position)==null?void 0:l.y)||0)+(((u=o.measured)==null?void 0:u.height)||0),m=ED(i,s),y=await K("CSVData").save({headers:m.headers,csv:m.data,session_id:e});if(!y)throw new Error("Failed to save");if(!await n({source_id:y.id,source_type:"CSVData",node_type:$.CSVData,x:d,y:p+20}))throw new Error("Failed to save node")}finally{r(!1)}},[e,n]);return{loading:t,createCSVData:a}};function Rx({data:e}){const{t}=ce("components");return f.jsxs(Vb,{className:"w-full",children:[f.jsx(Hb,{children:f.jsxs(Ni,{children:[f.jsx(Nu,{children:t("add_few_shot_example_card.input")}),f.jsx(Nu,{children:t("add_few_shot_example_card.output")})]})}),f.jsx(qb,{children:e==null?void 0:e.map((r,n)=>f.jsxs(Ni,{children:[f.jsx(Pu,{className:"p-4",children:r.input}),f.jsx(Pu,{className:"p-4",children:r.output})]},`${r.input}_${r.output}_${n}`))})]})}const Bx=b.memo(e=>{const{id:t}=e,{t:r}=ce("components"),[n,a]=b.useState([]),[o,i]=b.useState(""),[s,c]=b.useState(""),l=Je(t),{createCSVData:u,loading:d}=$d(),p=()=>{a(y=>[...y,{input:o,output:s}]),i(""),c("")},m=async()=>{l&&await u(l,["input","output"],n.map(y=>[y.input,y.output]))};return f.jsxs(Le,{className:"mw-full",children:[f.jsx(Qe,{children:f.jsx(at,{children:r("add_few_shot_example_card.title")})}),f.jsxs(et,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(le,{htmlFor:"name",children:r("add_few_shot_example_card.input")}),f.jsx(nt,{value:o,onChange:y=>i(y.target.value||""),id:"name",placeholder:r("add_few_shot_example_card.input_placeholder")})]}),f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(le,{htmlFor:"name",children:r("add_few_shot_example_card.output")}),f.jsx(Da,{value:s,onChange:y=>c(y.target.value||""),placeholder:r("add_few_shot_example_card.output_placeholder")})]}),f.jsx("div",{className:"w-full flex mt-4 justify-end",children:f.jsx(Ee,{disabled:!o||!s,onClick:p,className:"w-40",children:r("add_few_shot_example_card.add")})}),f.jsx(Rx,{data:n||[]})]}),f.jsx(ur,{className:"flex justify-between",children:f.jsx(Gt,{loading:d,disabled:!(n!=null&&n.length),onClick:m,className:"w-full",children:r("add_few_shot_example_card.create")})})]})}),Fx=()=>{const e=Ne(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=b.useState(!1),n=J(i=>i.createOrUpdateFlowNode),a=J(i=>i.createOrUpdateFlowEdge),o=b.useCallback(async(i,s,c)=>{var l,u,d;try{if(!i||!e)throw new Error("Source or Session not found");if(!s.name||!s.description)throw new Error("Name is required");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,m=(((u=i.position)==null?void 0:u.y)||0)+(((d=i.measured)==null?void 0:d.height)||0),y=await K("ToolDefinition").save({...s,name:`${s.name}`,description:`${s.description}`,session_id:e});if(!y)throw new Error("Failed create tool.");const h=await n({source_id:y.id,source_type:"ToolDefinition",node_type:$.ToolDefinition,x:p,y:m+20});if(!h)throw new Error("Failed to save node");c!=null&&c.schemaNode&&await a({source:c.schemaNode.id,target:h.id})}finally{r(!1)}},[e,n,a]);return{loading:t,createTool:o}},$x=b.memo(e=>{const{t}=ce("components"),{toast:r}=dt(),{id:n}=e,a=Je(n),[o,i]=b.useState(""),[s,c]=b.useState(""),{createTool:l,loading:u}=Fx(),d=y=>{i(y.target.value)},p=y=>{c(y.target.value)},m=async()=>{if(a&&o&&s)try{await l(a,{name:o,description:s}),i(""),c("")}catch(y){kD("Create Tool",y),r({variant:"destructive",title:t("add_tool_card.errors.create_tool_failed")})}};return f.jsxs(Le,{className:"mw-full",children:[f.jsx(Qe,{children:f.jsx(at,{children:t("add_tool_card.title")})}),f.jsxs(et,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(le,{htmlFor:"name",children:t("add_tool_card.tool_name")}),f.jsx(nt,{onChange:d,id:"name",placeholder:t("add_tool_card.name_placeholder")})]}),f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(le,{htmlFor:"name",children:t("add_tool_card.tool_description")}),f.jsx(Da,{onChange:p,placeholder:t("add_tool_card.description_placeholder")})]})]}),f.jsx(ur,{className:"flex justify-between",children:f.jsx(Gt,{loading:u,onClick:m,className:"w-full",children:t("add_tool_card.create")})})]})}),zx=()=>{const e=Ne(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=b.useState(!1),n=J(i=>i.createOrUpdateFlowNode),a=J(i=>i.createOrUpdateFlowEdge),o=b.useCallback(async(i,s,c)=>{var l,u,d;try{if(!(s!=null&&s.name)||!i||!e)throw new Error("Source or Session not found");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,m=(((u=i.position)==null?void 0:u.y)||0)+(((d=i.measured)==null?void 0:d.height)||0),y=await K("VectorDatabase").save({...s,name:`${s.name}`,type:s.type||ND.Local,storage:s.storage||lr.DatabaseNode,raw:"",provider:s.provider||Cb.Memory,session_id:e,metadata:c?JSON.stringify({textSplitter:c}):void 0});if(!y)throw new Error("Failed to save vectorDatabase");const h=await n({source_id:y.id,source_type:"VectorDatabase",node_type:$.VectorDatabase,x:p,y:m+30});if(!h)throw new Error("Failed to save vectorDatabase node");if(s.storage===lr.DataNode){const v=await K("JSONLData").save({headers:PD(["content","embedding","metadata"]),jsonl:"",session_id:e});if(!v)throw new Error("Failed to save databaseSource");const g=await n({source_id:v.id,source_type:"JSONLData",node_type:$.JSONLData,x:p+80,y:m+30});if(!g)throw new Error("Failed to save databaseSource node");await a({source:g.id,target:h.id})}return{vectorDatabase:y,vectorDatabaseNode:h}}finally{r(!1)}},[e,n,a]);return{loading:t,createVectorDatabase:o}},An=[Cb.Memory],Cn=[lr.DatabaseNode],Ux=["TokenTextSplitter","CharacterTextSplitter","RecursiveCharacterTextSplitter"],Vx=b.memo(e=>{const{t}=ce("components"),{id:r}=e,n=Je(r),{toast:a}=dt(),[o,i]=b.useState(""),[s,c]=b.useState(An[0]),[l,u]=b.useState(Cn[0]),[d,p]=b.useState({}),{loading:m,createVectorDatabase:y}=zx(),h=b.useCallback(j=>{c(j)},[]),v=b.useCallback(j=>{u(j)},[]),g=b.useCallback(j=>{p(O=>({...O,type:j,chunkSize:500,chunkOverlap:40}))},[]),w=b.useCallback(j=>{i(j.target.value||"")},[]),S=b.useCallback(j=>{p(O=>({...O,chunkSize:Number(j.target.value)}))},[]),x=b.useCallback(j=>{p(O=>({...O,chunkOverlap:Number(j.target.value)}))},[]),_=async()=>{try{if(!n)return;await y(n,{name:o,provider:s,storage:l},d!=null&&d.type?{type:d.type,chunkSize:d.chunkSize||500,chunkOverlap:d.chunkOverlap||0}:void 0),i(""),p({})}catch{a({variant:"destructive",description:t("create_vector_database_card.errors.create_failed")})}};return f.jsxs(Le,{className:"mw-full",children:[f.jsx(Qe,{children:f.jsx(at,{children:t("create_vector_database_card.title")})}),f.jsx(et,{children:f.jsxs("div",{className:"grid w-full gap-1.5",children:[f.jsx(le,{children:t("create_vector_database_card.name")}),f.jsx(nt,{className:"mb-4",value:o,onChange:w}),(Cn==null?void 0:Cn.length)>1?f.jsxs(f.Fragment,{children:[f.jsx(le,{children:t("create_vector_database_card.storage_type")}),f.jsxs(Yt,{value:l,onValueChange:v,children:[f.jsx(Kt,{className:"w-full mb-4",children:f.jsx(Zt,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),f.jsx(Jt,{children:Object.values(Cn).map(j=>f.jsx(ot,{value:j,children:t(`create_vector_database_card.storage_types.${j.toLowerCase()}`)},j))})]})]}):void 0,(An==null?void 0:An.length)>1?f.jsxs(f.Fragment,{children:[f.jsx(le,{children:t("create_vector_database_card.provider")}),f.jsxs(Yt,{value:s,onValueChange:h,children:[f.jsx(Kt,{className:"w-full mb-4",children:f.jsx(Zt,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),f.jsx(Jt,{children:Object.values(An).map(j=>f.jsx(ot,{value:j,children:t(`create_vector_database_card.providers.${j.toLowerCase()}`)},j))})]})]}):void 0,f.jsx(le,{children:t("create_vector_database_card.text_splitter")}),f.jsxs(Yt,{value:d.type,onValueChange:g,children:[f.jsx(Kt,{className:"w-full mb-4",children:f.jsx(Zt,{placeholder:t("create_vector_database_card.text_splitter_select_placeholder")})}),f.jsx(Jt,{children:Object.values(Ux).map(j=>f.jsx(ot,{value:j,children:t(`create_vector_database_card.text_splitters.${j.toLowerCase()}`)},j))})]}),d.type?f.jsxs(Le,{children:[f.jsx(Qe,{children:f.jsx(at,{children:t("create_vector_database_card.text_splitter_configuration")})}),f.jsxs(et,{children:[f.jsx(le,{children:t("create_vector_database_card.text_splitter_chunksize")}),f.jsx(nt,{value:d.chunkSize,onChange:S,placeholder:t("create_vector_database_card.text_splitter_chunksize_placeholder")}),f.jsx(le,{children:t("create_vector_database_card.text_splitter_chunkoverlap")}),f.jsx(nt,{value:d.chunkOverlap,onChange:x,placeholder:t("create_vector_database_card.text_splitter_chunkoverlap_placeholder")})]})]}):void 0]})}),f.jsx(ur,{className:"flex justify-between",children:f.jsx(Gt,{disabled:!d.type||!o,loading:m,onClick:_,className:"w-full",children:t("create_vector_database_card.create")})})]})});function Hx({data:e}){const{t}=ce("components");return f.jsxs(Vb,{className:"w-full",children:[f.jsx(Hb,{children:f.jsx(Ni,{children:f.jsx(Nu,{children:t("add_text_data.text")})})}),f.jsx(qb,{children:e==null?void 0:e.map((r,n)=>f.jsx(Ni,{children:f.jsx(Pu,{className:"p-4",children:r.text})},`${r.text}_${n}`))})]})}const qx=b.memo(e=>{const{id:t}=e,{t:r}=ce("components"),[n,a]=b.useState([]),[o,i]=b.useState(""),s=Je(t),{createCSVData:c,loading:l}=$d(),u=()=>{a(p=>[...p,{text:o}]),i("")},d=async()=>{s&&await c(s,["text"],n.map(p=>[p.text]))};return f.jsxs(Le,{className:"mw-full",children:[f.jsx(Qe,{children:f.jsx(at,{children:r("add_text_data.title")})}),f.jsxs(et,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(le,{htmlFor:"name",children:r("add_text_data.text")}),f.jsx(Da,{value:o,onChange:p=>i(p.target.value||""),placeholder:r("add_text_data.text_placeholder")})]}),f.jsx("div",{className:"w-full flex mt-4 justify-end",children:f.jsx(Ee,{disabled:!o,onClick:u,className:"w-40",children:r("add_text_data.add")})}),f.jsx(Hx,{data:n||[]})]}),f.jsx(ur,{className:"flex justify-between",children:f.jsx(Gt,{loading:l,disabled:!(n!=null&&n.length),onClick:d,className:"w-full",children:r("add_text_data.create")})})]})});var Dt=(e=>(e.ADD_LLM="ADD_LLM",e.ADD_PROMPT="ADD_PROMPT",e.ADD_TOOL_DEFINITION="ADD_TOOL_DEFINITION",e.ADD_SCHEMA="ADD_SCHEMA",e.ADD_FEW_SHOT_EXAMPLE="ADD_FEW_SHOT_EXAMPLE",e.ADD_VECTOR_DATABASE="ADD_VECTOR_DATABASE",e.ADD_TEXT_DATA="ADD_TEXT_DATA",e))(Dt||{});const Wx=["ADD_LLM","ADD_PROMPT","ADD_SCHEMA","ADD_VECTOR_DATABASE",{key:"more",label:"more",icon:"ellipsis",children:["ADD_TOOL_DEFINITION","ADD_FEW_SHOT_EXAMPLE"]}],Xx=()=>{const e="_coolMode_effect",t=document.getElementById(e);if(t)return t;const r=document.createElement("div");return r.setAttribute("id",e),r.setAttribute("style","overflow:hidden; position:fixed; height:100%; top:0; left:0; right:0; bottom:0; pointer-events:none; z-index:2147483647"),document.body.appendChild(r),r};let zd=0,Ud,Vd,Hd,qd,Wd,Xd,Ve,de,Gd,Yd,Kd,Zd,$a,Ji,Qi,es,Jd,Qd,za,ts,ef,tf,rf;Ud=(e,t)=>{zd++;const r=(t==null?void 0:t.particle)||"circle",n=[15,20,25,35,45],a=45;let o=[],i=!1,s=0,c=0;const l=Xx();function u(){const O=(t==null?void 0:t.size)||n[Math.floor(Math.random()*n.length)],P=(t==null?void 0:t.speedHorz)||Math.random()*10,M=(t==null?void 0:t.speedUp)||Math.random()*25,T=Math.random()*360,E=Math.random()*35*(Math.random()<=.5?-1:1),N=c-O/2,C=s-O/2,k=Math.random()<=.5?-1:1,I=document.createElement("div");if(r==="circle"){const B="http://www.w3.org/2000/svg",F=document.createElementNS(B,"svg"),V=document.createElementNS(B,"circle");V.setAttributeNS(null,"cx",(O/2).toString()),V.setAttributeNS(null,"cy",(O/2).toString()),V.setAttributeNS(null,"r",(O/2).toString()),V.setAttributeNS(null,"fill",`hsl(${Math.random()*360}, 70%, 50%)`),F.appendChild(V),F.setAttribute("width",O.toString()),F.setAttribute("height",O.toString()),I.appendChild(F)}else I.innerHTML=`<img src="${r}" width="${O}" height="${O}" style="border-radius: 50%">`;I.style.position="absolute",I.style.transform=`translate3d(${C}px, ${N}px, 0px) rotate(${T}deg)`,l.appendChild(I),o.push({direction:k,element:I,left:C,size:O,speedHorz:P,speedUp:M,spinSpeed:E,spinVal:T,top:N})}function d(){o.forEach(O=>{O.left=O.left-O.speedHorz*O.direction,O.top=O.top-O.speedUp,O.speedUp=Math.min(O.size,O.speedUp-1),O.spinVal=O.spinVal+O.spinSpeed,O.top>=Math.max(window.innerHeight,document.body.clientHeight)+O.size&&(o=o.filter(P=>P!==O),O.element.remove()),O.element.setAttribute("style",["position:absolute","will-change:transform",`top:${O.top}px`,`left:${O.left}px`,`transform:rotate(${O.spinVal}deg)`].join(";"))})}let p,m=0;const y=30;function h(){const O=performance.now();i&&o.length<a&&O-m>y&&(u(),m=O),d(),p=requestAnimationFrame(h)}h();const v="ontouchstart"in window,g=v?"touchstart":"mousedown",w=v?"touchend":"mouseup",S=v?"touchmove":"mousemove",x=O=>{var P,M;"touches"in O?(s=(P=O.touches)==null?void 0:P[0].clientX,c=(M=O.touches)==null?void 0:M[0].clientY):(s=O.clientX,c=O.clientY)},_=O=>{x(O),i=!0},j=()=>{i=!1};return e.addEventListener(S,x,{passive:!0}),e.addEventListener(g,_,{passive:!0}),e.addEventListener(w,j,{passive:!0}),e.addEventListener("mouseleave",j,{passive:!0}),()=>{e.removeEventListener(S,x),e.removeEventListener(g,_),e.removeEventListener(w,j),e.removeEventListener("mouseleave",j);const O=setInterval(()=>{p&&o.length===0&&(cancelAnimationFrame(p),clearInterval(O),--zd===0&&l.remove())},500)}},Vd=({children:e,options:t})=>{const r=b.useRef(null);return b.useEffect(()=>{if(r.current)return Ud(r.current,t)},[t]),A.cloneElement(e,{ref:r})},Hd=b.memo(e=>{const{t}=ce("flows"),r=Mb(s=>s.theme),[n,a]=b.useState(`${Dt.ADD_LLM}`),o=b.useMemo(()=>f.jsxs(yd,{children:[f.jsx(zi,{children:f.jsx(Vd,{children:f.jsx(Ee,{variant:"link",className:"!p-0 !pl-3",children:f.jsx(AD,{width:32,height:32,className:ae(r==="dark"?"fill-white":"fill-black")})})})}),Wx.map(s=>typeof s=="object"?f.jsxs(zi,{children:[f.jsx(Ui,{children:s.icon?f.jsx(re,{name:s.icon}):t(`supported_nodes.${s.label}`)}),f.jsx(vd,{children:s.children.map(c=>f.jsx(gd,{onClick:()=>a(c),children:t(`supported_nodes.${c.toLowerCase()}`)},c))})]},s.key):f.jsx(zi,{children:f.jsx(Ui,{value:s,onClick:()=>a(s),children:t(`supported_nodes.${s.toLowerCase()}`)})},s))]}),[t,r]),i=b.useMemo(()=>{switch(n){case Dt.ADD_LLM:return f.jsx(Cx,{...e});case Dt.ADD_PROMPT:return f.jsx(Dx,{...e});case Dt.ADD_SCHEMA:return f.jsx(Lx,{...e});case Dt.ADD_FEW_SHOT_EXAMPLE:return f.jsx(Bx,{...e});case Dt.ADD_TOOL_DEFINITION:return f.jsx($x,{...e});case Dt.ADD_VECTOR_DATABASE:return f.jsx(Vx,{...e});case Dt.ADD_TEXT_DATA:return f.jsx(qx,{...e})}},[e,n]);return f.jsxs(f.Fragment,{children:[o,f.jsx("div",{className:"mt-4",children:i})]})}),qd=()=>{const[e,t]=b.useState(!1),r=CD(),n=Ne(s=>s.currentSession),a=Ne(s=>s.getLatestApplications),o=b.useCallback(async(s,c,l,u)=>{var m;const d=(m=c.data)==null?void 0:m.entity;let p=c.type?MD[c.type]:void 0;if(p&&d&&c&&typeof d=="object"&&"id"in d&&!l.has(`${d.id}`)&&!u.has(`${c.id}`)){p=p;const y=await K(p).save({...d,...d&&typeof d=="object"&&"session_id"in d?{session_id:s.id}:{}});l.set(`${d.id}`,y.id);const h=await K("FlowNode").findOne({where:{id:c.data.flowNode.id}}),v=await K("FlowNode").save({...h||c.data.flowNode,session_id:s.id,id:void 0,source_type:p,source_id:y.id});return u.set(`${c.id}`,v.id),{entityName:p,entity:y,node:v}}else if(!u.has(`${c.id}`)){const y=await K("FlowNode").findOne({where:{id:c.data.flowNode.id}}),h=await K("FlowNode").save({...y||c.data.flowNode,node_type:c.type,session_id:s.id,id:void 0});return u.set(`${c.id}`,h.id),{node:h}}},[]),i=b.useCallback(async(s,c)=>{try{if(!n)throw new Error("No current session");t(!0);const l=await K("Session").save({type:TD.StandaloneApp,name:c.name||(n!=null&&n.name?`${n.name}`:"Standalone"),status:DD.Started,passphrase:n.passphrase});if(!l)throw new Error("Failed create standalone session");const u=new Map,d=new Map,p=await o(l,s,u,d);if(!p)throw new Error("Failed to clone main node");await K("Session").update(l.id,{main_node_id:p.node.id,main_source_id:p!=null&&p.entity?p.entity.id:void 0,main_source_type:p.entityName?p.entityName:void 0});for(const{node:m,connectedNodes:y}of c.connections)if(await o(l,m,u,d),y)for(const h of y)await o(l,h,u,d);for(const{connections:m}of c.connections)for(const y of m){const h=d.get(`${y.source}`),v=d.get(`${y.target}`);if(!h||!v)throw new Error("Failed to get connected flow node id");await K("FlowEdge").save({source:h,target:v,sourceHandle:y.sourceHandle,targetHandle:y.targetHandle,session_id:l.id})}return a(),r(ID("application",{applicationId:l.id})),!0}finally{t(!1)}},[o,n,a,r]);return{loading:e,createStandaloneSession:i}},Wd=()=>{const[e,t]=b.useState(!1),r=J(o=>o.updateNodes),n=J(o=>o.updateEdges),a=b.useCallback(async o=>{try{t(!0),await K("FlowNode").delete(o);const i=await K("FlowEdge").find({where:[{source:o},{target:o}]});return await Promise.all(i.map(s=>K("FlowEdge").delete(s.id))),await r([{id:o,type:"remove"}]),await n(i.map(s=>({id:s.id,type:"remove"}))),!0}catch{return!1}finally{t(!1)}},[n,r]);return{loading:e,deleteNodeFlow:a}},Xd=bi(({cloneStandaloneSession:e})=>{const t=cr(),{t:r}=ce("dialogs"),[n,a]=b.useState(""),{toast:o}=dt(),i=c=>{a(c.target.value)},s=async()=>{try{t.hide(),await e(n),a("")}catch{o({variant:"destructive",description:r("create_standalone_application.errors.create_failed")})}};return f.jsx(xi,{open:t.visible,onOpenChange:t.hide,children:f.jsxs(wi,{className:"sm:max-w-[425px]",children:[f.jsxs(ji,{children:[f.jsx(_i,{children:r("create_session.title")}),f.jsx(Pb,{children:r("create_standalone_application.description")})]}),f.jsx("div",{className:"grid gap-4 py-4",children:f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(le,{className:"mb-2",htmlFor:"name",children:r("create_standalone_application.name")}),f.jsx(nt,{onChange:i,id:"name",value:n,placeholder:r("create_standalone_application.name_placeholder")})]})}),f.jsx(Ab,{children:f.jsx(Ee,{onClick:s,disabled:!n,type:"submit",children:r("create_standalone_application.create")})})]})})}),Ve=b.memo(({id:e,className:t,enableToStandalone:r,getLinkedConnections:n})=>{const{t:a}=ce("common"),{getNode:o}=kt(),{loading:i,deleteNodeFlow:s}=Wd(),{createStandaloneSession:c}=qd(),{toast:l}=dt(),u=cr(Xd),d=b.useCallback(async()=>{try{await s(e),l({description:a("deleted")})}catch{l({description:a("errors.delete_failed"),variant:"destructive"})}},[s,e,l,a]),p=b.useCallback(async y=>{try{const h=o(e);if(!h)throw new Error("No current node");const v=(n==null?void 0:n(e))||[];await c(h,{name:y,connections:v}),l({description:a("standalone_session_created")})}catch(h){Si("Clone Standalone Session",h),l({description:a("errors.create_standalone_session_failed"),variant:"destructive"})}},[o,e,n,c,l,a]),m=b.useCallback(()=>{u.show({cloneStandaloneSession:p})},[p,u]);return f.jsxs("div",{className:ae("flex absolute z-[51] right-0 top-0 h-10",t),children:[r?f.jsx(Ee,{className:"!rounded-none !px-2",onClick:m,variant:"ghost",children:f.jsx(re,{name:"package-plus",size:16})}):void 0,f.jsx(Gt,{loading:i,className:"!rounded-none !px-2",onClick:d,variant:"ghost",children:f.jsx(re,{name:"trash-2",size:16})})]})}),de=b.memo(e=>{const{className:t,...r}=e;return f.jsx(KD,{className:ae("!w-2 !h-2 !border-none !rounded-full !bg-slate-700",e.position===fe.Top?"!top-[-2px]":"",t),...r})}),Gd=()=>{const e=Ne(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=b.useState(!1),n=J(i=>i.createOrUpdateFlowNode),a=J(i=>i.createOrUpdateFlowEdge),o=b.useCallback(async i=>{var s,c;r(!0);try{const l=(s=i.data)==null?void 0:s.entity;if(!l||!e)throw new Error("LLM or Session not found");const u=i.position.x,d=i.position.y+(((c=i.measured)==null?void 0:c.height)||0),p=await K("Thread").save({initial_llm_id:l.id,title:`New thread with ${l.name}`,status:Ia.Started,messages:[],session_id:e}),m=await n({source_id:p.id,source_type:"Thread",node_type:$.Thread,x:u,y:d+60});if(!m)throw new Error("Failed to create thread node");const y=await a({source:i.id,target:m.id});return{thread:p,flowNode:m,flowEdge:y}}finally{r(!1)}},[a,n,e]);return{loading:t,createThread:o}},Yd=(e,t)=>{var S;const{t:r}=ce("flows"),{toast:n}=dt(),[a,o]=b.useState(!1),[i,s]=b.useState(!1),c=Je(e),{loadModel:l}=NI(),{createThread:u,loading:d}=Gd(),p=J(x=>x.updateNodes),m=J(x=>x.pushSyncNodeQueue),{getNodes:y}=kt(),h=b.useCallback(async()=>{try{if(s(!0),t.entity.id){const x=await K("Thread").find({where:{initial_llm_id:t.entity.id}});m("Thread",{where:{source_type:"Thread",source_id:Tu(x.map(_=>_.id))}})}}finally{s(!1)}},[(S=t==null?void 0:t.entity)==null?void 0:S.id,m]),v=b.useCallback(async()=>{try{if(o(!0),t.entity&&c){await(l==null?void 0:l(t.entity.provider,`${t.entity.name}`,_=>{c.data.status=_.progress===100?tt.Loaded:tt.Loading,c.data.label=_.text,p([{id:e,type:"replace",item:c}])}));const x=y().filter(_=>_.type===$.LLM?_.data.entity.provider===pe.WebLLM:!1).map(_=>(_.data.status=tt.Started,{id:_.id,type:"replace",item:_}));c.data.label="",c.data.status=tt.Loaded,x.push({id:e,type:"replace",item:c}),p(x),await h()}}catch(x){Si("Load Model",x),n({variant:"destructive",description:r("llm_node.errors.loading_model")})}finally{o(!1)}},[t.entity,y,e,l,c,h,r,n,p]),g=b.useCallback(async()=>{t.entity&&c&&await(u==null?void 0:u(c))},[t.entity,c,u]),w=b.useCallback(async x=>{t.entity&&c&&(c.data.entity.options=x,await K("LLM").update(t.entity.id,{options:x}),p([{id:e,type:"replace",item:c}]))},[t.entity,e,c,p]);return b.useEffect(()=>{t.entity&&c&&t.entity.status!==t.status&&(c.data.status=t.entity.status,p([{id:e,type:"replace",item:c}]))},[]),{loadingModel:a,creatingThread:d,queringThreads:i,changeLLMOptions:w,loadModel:v,createThread:g,queryThreads:h}},Xe=(e,t)=>{const[r,n]=b.useState(!1),[a,o]=b.useState([]),{deleteElements:i,getNode:s}=kt();Pi({type:"target",nodeId:e,onConnect:l=>{l!=null&&l.length&&o(u=>[...u,...ZD(l)])}});const c=b.useCallback(async(l,u,d,p)=>{try{return await t({id:e,edgeId:l,source:u,target:d,connection:p})}catch{return{deleteEdgeId:l}}},[t,e]);b.useEffect(()=>{!(a!=null&&a.length)||r||(async()=>{try{n(!0);const l=[...a];o([]);const u=[],d=s(e);await Promise.all(l.map(async p=>{const m="edgeId"in p?p.edgeId:void 0,y=s(p.source);if(!y||!d)return;const h=await c(`${m}`,y,d,p);h!=null&&h.deleteEdgeId&&u.push(...Array.isArray(h.deleteEdgeId)?h.deleteEdgeId:[h.deleteEdgeId])})),u!=null&&u.length&&await i({edges:u.map(p=>({id:p}))})}finally{n(!1)}})()},[i,s,e,r,c,a])},Kd=e=>{const t=b.useCallback(async()=>{},[]);Xe(e,t)},Zd=b.memo(e=>{var g,w,S,x,_,j;const{id:t,data:r,isConnectable:n}=e,[a,o]=b.useState(),{t:i}=ce("flows"),{createThread:s,loadModel:c,queringThreads:l,queryThreads:u,loadingModel:d,changeLLMOptions:p}=Yd(t,r);Kd(t);const m=[tt.Loading,tt.Downloading].includes(r.status);b.useEffect(()=>{var O,P,M,T,E;if(!(a||!((O=r==null?void 0:r.entity)!=null&&O.name))){if(((P=r==null?void 0:r.entity)==null?void 0:P.provider)!==pe.WebLLM){o({hasCache:!1,cloud:!0,isFunctionCalling:!0,info:{model_id:(M=r==null?void 0:r.entity)==null?void 0:M.name,model:(T=r==null?void 0:r.entity)==null?void 0:T.name,model_lib:(E=r==null?void 0:r.entity)==null?void 0:E.provider,model_type:2}});return}ft(()=>import("./index-cNm9Y0sY.js").then(async N=>(await N.__tla,N)),__vite__mapDeps([0,1,2,3,4,5])).then(async({hasModelInCache:N,functionCallingModelIds:C,prebuiltAppConfig:k})=>{var B,F;const I=await N((B=r==null?void 0:r.entity)==null?void 0:B.name);o({hasCache:I,isFunctionCalling:C.includes((F=r==null?void 0:r.entity)==null?void 0:F.name),info:k.model_list.find(V=>{var W;return V.model_id===((W=r==null?void 0:r.entity)==null?void 0:W.name)})})})}},[(g=r==null?void 0:r.entity)==null?void 0:g.name,(w=r==null?void 0:r.entity)==null?void 0:w.provider,a]);const y=b.useCallback(async O=>{await p(O)},[p]),h=b.useMemo(()=>{var O,P;switch(r.status){case tt.Downloading:return f.jsx(re,{className:"animate-spin w-7 h-7",name:"arrow-big-down-dash"});case tt.Loaded:return f.jsx(fr,{name:((O=r.entity)==null?void 0:O.name)||"brain",className:"w-7 h-7"});case tt.Loading:return f.jsx(re,{className:"animate-spin w-7 h-7",name:"loader-circle"});default:return f.jsx(fr,{name:((P=r.entity)==null?void 0:P.name)||"brain",className:"w-7 h-7"})}},[(S=r.entity)==null?void 0:S.name,r.status]),v=b.useMemo(()=>m?null:d?f.jsx(Ee,{disabled:!0,className:"w-full mt-4",children:f.jsx(re,{className:"animate-spin",size:24,name:"loader-circle"})}):r.status===tt.Loaded?f.jsx(Ee,{onClick:s,className:"mt-4 w-full",children:i("llm_node.create_thread_button")}):f.jsxs("div",{className:"flex gap-2 mt-4",children:[a!=null&&a.hasCache?f.jsx(Gt,{loading:l,onClick:u,children:f.jsx(re,{size:24,name:"message-square-more"})}):null,f.jsx(Ee,{disabled:d,onClick:c,className:"w-full",children:i(a!=null&&a.hasCache?"llm_node.load_model_button":"llm_node.download_model_button")})]}),[m,d,r.status,a==null?void 0:a.hasCache,l,u,c,i,s]);return f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsx(Ve,{id:t}),f.jsxs(Et,{className:"flex justify-center",children:[h,f.jsxs("div",{className:"ml-2 pt-1 max-w-lg",children:[f.jsx(dr,{className:"flex gap-2 items-center pr-6",children:`${((x=r==null?void 0:r.entity)==null?void 0:x.name)||""}`}),f.jsx(Ma,{className:"max-w-full",children:`${r.label||""}`}),f.jsx("div",{className:"max-w-full mt-2 flex-wrap flex gap-1",children:f.jsx(ki,{model:a==null?void 0:a.info,isFunctionCalling:(a==null?void 0:a.isFunctionCalling)||!1,name:(_=r==null?void 0:r.entity)==null?void 0:_.name,isCached:(a==null?void 0:a.hasCache)||!1,cloud:(a==null?void 0:a.cloud)||!1})}),f.jsx(JD,{options:(j=r==null?void 0:r.entity)==null?void 0:j.options,onChangeOptions:y,className:"mt-2"}),v]})]}),m?f.jsx(Wb,{className:"rounded-lg"}):void 0]}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:n})]})}),$a=b.memo(({tags:e,disabled:t,loading:r,onSubmit:n})=>{const{t:a}=ce("components"),o=async i=>{try{return await n(i),!0}catch{return!1}};return f.jsxs(Le,{className:"min-w-80",children:[f.jsx(Qe,{children:f.jsx(at,{children:a("add_message_card.title")})}),f.jsxs(et,{children:[f.jsx("div",{className:"grid w-full gap-1.5",children:f.jsx(TI,{onSubmit:o,disabled:t||r,placeholder:a("add_message_card.placeholder")})}),e?f.jsx("div",{className:"mt-2 gap-1 flex flex-wrap",children:e}):null]})]})}),Ji=(e,t,r,n=[],a)=>{const o=e.map(i=>a.getNode(i));for(const i of o){if(!i)continue;const s=a.getHandleConnections({type:"target",nodeId:i.id});if(r.push(...s),i.type===$.Thread){n.push(i.id),t.push(i);continue}else if(i.type!==$.Message){n.push(i.id);continue}else if(n.includes(i.id))continue;n.push(i.id),t.push(i),s.length&&Ji(s.map(c=>c.source),t,r,n,a)}return{nodes:t,connections:r}},Qi=(e,t)=>{const r=t.getHandleConnections({nodeId:e.id,type:"target"}),n=r.map(d=>{const p=t.getNode(d.source);return p?{connections:t.getHandleConnections({nodeId:p.id,type:"target"}),node:p}:void 0}),a=n.filter(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.Prompt}),o=[];a!=null&&a.length&&a.forEach(d=>{var m;const p=(m=d.connections)==null?void 0:m.map(y=>t.getNode(y.source)).filter(Boolean);o.push({node:d.node,connections:d.connections,connectedNodes:p})});const i=n.filter(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.ToolDefinition}),s=[];i!=null&&i.length&&i.forEach(d=>{var m;const p=(m=d.connections)==null?void 0:m.map(y=>t.getNode(y.source)).filter(Boolean);p!=null&&p.find(y=>y.type===$.Schema)&&s.push({node:d.node,connections:d.connections,connectedNodes:p})});const c=n.filter(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.PlaceHolder}),l=[];c!=null&&c.length&&c.forEach(d=>{var m;const p=(m=d.connections)==null?void 0:m.map(y=>t.getNode(y.source)).filter(Boolean);p&&l.push({node:d.node,connections:d.connections,connectedNodes:p})});const u=n.find(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.Schema});return{thread:{node:e,connections:r},llm:n.find(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.LLM}),schemas:u?[u]:[],prompts:o,tools:s,placeholders:l}},es=e=>{const t=[];return e.forEach(r=>{var o,i,s;const{node:n,connectedNodes:a}=r;if((o=n.data)!=null&&o.entity){if(n.type===$.Message){const c=n.data.entity;switch(c.role){case"human":t.push(new jn(c.content));break;case"ai":t.push(new Ei(c.content));break}}else if(n.type===$.Prompt){const c=n.data.entity;let l=`${c.prefix?`${c.prefix}
`:""}`;if(c.type===st.FewShotExample){const u=(s=(i=a.find(d=>d.type===$.CSVData))==null?void 0:i.data)==null?void 0:s.entity;if(u){const{rows:d}=Tb(u.headers,u.csv);d.forEach(p=>{l+=`${c.content.replace(/{([^{}]*)}/g,(m,y)=>`${p[y]}`)}
`})}}else l+=c.content;switch(c.suffix&&(l+=`
${c.suffix}`),c.role){case"human":t.push(new jn(l));break;case"system":t.push(new Db(l));break;default:t.push(new Ei(l));break}}}}),t},Jd=(e,t)=>{const r=(e==null?void 0:e.filter(a=>a.type===$.Message).map(a=>({node:a,connectedNodes:[]})).reverse())||[],n=[];return t.forEach(async a=>{n.unshift({node:a.node,connectedNodes:a.connectedNodes||[]})}),{history:es(r),systems:es(n)}},Qd=e=>e?e.reduce((t,r)=>{var o,i,s,c,l;const n=(o=r.node.data)==null?void 0:o.entity,a=(c=(s=(i=r==null?void 0:r.connectedNodes)==null?void 0:i.find(u=>u.type===$.Schema))==null?void 0:s.data)==null?void 0:c.entity;return n&&((l=a==null?void 0:a.schema_items)!=null&&l.length)&&t.push({name:n.name,description:n.description,schemaItems:a.schema_items}),t},[]):[],za=()=>{const{getNodes:e}=kt(),t=b.useCallback(()=>e().find(n=>n.type===$.DefaultEmbeddingModel),[e]),r=b.useCallback(()=>{var n,a;return(a=(n=t())==null?void 0:n.data)==null?void 0:a.entity},[t]);return{getFlowEmbeddingNode:t,getFlowEmbeddingEntity:r}},ts=({getNode:e,getHandleConnections:t})=>{const{t:r}=ce("create_new_message"),[n,a]=b.useState(!1),o=Ne(h=>h.currentSession),i=J(h=>h.createOrUpdateFlowNode),s=J(h=>h.createOrUpdateFlowEdge),{similaritySearchWithScore:c}=Au(),{getFlowEmbeddingEntity:l}=za(),{stream:u}=Du(),d=b.useCallback(async({content:h,threadId:v,sourceId:g,initialX:w,initialY:S,initialLLMId:x})=>{if(!o)throw new Error("Session is not found");const _=await K("Message").save({thread_id:v,content:h,role:it.Human,status:xt.Started,llm_id:x,session_id:o.id});if(!_)throw new Error("Failed to save message");const j=await i({source_id:_.id,source_type:"Message",node_type:$.Message,x:w,y:S+80});if(!j)throw new Error("Failed to save human message node");await s({source:g,target:j.id});const O=await K("Message").save({thread_id:v,content:r("initial_ai_message"),role:it.AI,status:xt.Inprogress,llm_id:x,parent_message_id:_.id,session_id:o.id});if(!O)throw new Error("Failed to save message");const P=await i({source_id:O.id,source_type:"Message",node_type:$.Message,x:w,y:S+250});if(!P)throw new Error("Failed to save ai message node");return await s({source:j.id,target:P.id}),{aiMessage:O,humanMessage:_,aiMessageNode:P,humanMessageNode:j}},[s,i,o,r]),p=b.useCallback(async(h,v)=>{const{placeholders:g}=v;if(!(g!=null&&g.length))return[];const w=[];return await Promise.all(g.map(async S=>{var _,j,O,P,M,T,E,N,C,k,I,B;const x=(_=S.node.data)==null?void 0:_.entity;if(x)switch(x.placeholder_type){case Ta.VECTOR_DATABASE_RETREIVER:{const F=(j=S.connectedNodes)==null?void 0:j.find(D=>D.type===$.VectorDatabase),V=(O=F==null?void 0:F.data)==null?void 0:O.entity,W=(T=(M=(P=S.connectedNodes)==null?void 0:P.find(D=>D.type===$.Prompt))==null?void 0:M.data)==null?void 0:T.entity;if(!W||!V||!F)return;const Z=(E=x.metadata)!=null&&E.k?+((N=x.metadata)==null?void 0:N.k):1;let X=(C=x.metadata)!=null&&C.minimalScore?+((k=x.metadata)==null?void 0:k.minimalScore):void 0;X&&X>1&&(X=X/100);const L=[];if(V.storage===lr.DataNode){const D=(B=(I=t({nodeId:F.id,type:"target"}).map(U=>e(U.source)).find(U=>(U==null?void 0:U.type)&&[$.JSONLData,$.CSVData].includes(U==null?void 0:U.type)))==null?void 0:I.data)==null?void 0:B.entity;if(!D)return;L.push(...await c(l(),{database:{databaseId:V.id,dataSourceId:D.id,dataSourceType:wu(D)}},h.humanMessage.content,Z)||[])}else L.push(...await c(l(),{database:{databaseId:V.id}},h.humanMessage.content,Z)||[]);if(!L)return[];const G=new QD({template:W.content,inputVariables:["context"]});w.push(new Ei(await G.format({context:X?L.filter(([,D])=>D>=X).map(([D])=>D.pageContent).join(`
`):L.map(([D])=>D.pageContent).join(`
`)})))}}})),w},[l,t,e,c]),m=b.useCallback(async(h,v,g,{onMessageUpdate:w})=>{var B;const{prompts:S,tools:x,schemas:_,placeholders:j,llm:O}=v,P=(B=O==null?void 0:O.node.data)==null?void 0:B.entity;if(!P)throw new Error("LLM is not found");const M=[];j!=null&&j.length&&M.push(...await p(h,v));const{history:T,systems:E}=Jd(g,S),N=[...E,...M,...T,new jn(h.humanMessage.content)],C=_.map(F=>{var V;return(V=F.node.data)==null?void 0:V.entity}).filter(Boolean),{lastChunk:k,content:I}=await u(P.provider,N,{tools:Qd(x),schemas:C,llm:P,onMessageUpdate:({content:F})=>{w==null||w({id:h.aiMessageNode.id,nodeData:{loading:!0,content:F}})}});return h.aiMessage.content=I,h.aiMessage.metadata=JSON.stringify({message:k}),w==null||w({id:h.aiMessageNode.id,nodeData:{content:I,loading:!1,entity:h.aiMessage}}),h.aiMessage.id&&await K("Message").update(h.aiMessage.id,{content:I,metadata:JSON.stringify({message:k})}),I},[p,u]),y=b.useCallback(async(h,v,g)=>{var O,P,M;const{nodes:w}=Ji([h.id],[],[],[],{getNode:e,getHandleConnections:t}),S=w.find(T=>T.type===$.Thread),x=S==null?void 0:S.data.entity;if(!h||!x||!S)throw new Error("Source or thread is not found");const _=Qi(S,{getNode:e,getHandleConnections:t});if(!(_!=null&&_.thread))throw new Error("Thread node is not found");let j;try{a(!0);const T=((O=h.position)==null?void 0:O.x)||0,E=(((P=h.position)==null?void 0:P.y)||0)+(((M=h.measured)==null?void 0:M.height)||0);return j=await d({content:v,initialX:T,initialY:E,sourceId:h.id,threadId:x.id,initialLLMId:x.initial_llm_id}),await m(j,_,w,g),await K("Message").update(`${j.aiMessage.id}`,{status:xt.Success}),j.aiMessage.status=xt.Success,g.onMessageUpdate({id:j.aiMessageNode.id,nodeData:{entity:j.aiMessage,loading:!1}}),!0}catch(T){Si("Create Message",T),j!=null&&j.aiMessage&&await K("Message").update(`${j.aiMessage.id}`,{status:xt.Failed,content:r("errors.ai_message_content_failed")}),j!=null&&j.aiMessageNode.id&&(g==null||g.onMessageUpdate({id:j.aiMessageNode.id,nodeData:{content:r("errors.ai_message_content_failed"),entity:{...j.aiMessage,status:xt.Failed,content:r("errors.ai_message_content_failed")},loading:!1}}))}finally{a(!1)}},[t,e,d,m,r]);return{loading:n,createMessage:y}},ef=(e,t)=>{const r=Je(e),{t:n}=ce("flows"),{getNode:a,getHandleConnections:o}=kt(),i=J(p=>p.updateNodes),{createMessage:s,loading:c}=ts({getNode:a,getHandleConnections:o}),l=b.useCallback(p=>{if(!p.id)return;const m=a(p.id);!m||!p.nodeData||i([{id:m.id,type:"replace",item:{...m,data:{...m.data,...Xb(p.nodeData,Gb)}}}])},[a,i]),u=b.useCallback(async p=>{if(r&&t.entity)try{await s(r,p,{onMessageUpdate:l})}catch(m){if(m instanceof Error&&m.message.includes("LLM_NOT_LOADED_YET"))return wn({variant:"destructive",title:n("thread_node.errors.llm_not_loaded_yet")});wn({variant:"destructive",title:`${m}`})}},[r,t.entity,s,l,n]),d=b.useCallback(p=>{const m=a(p);if(!m)return[];const y=[],h=Qi(m,{getNode:a,getHandleConnections:o});return h.thread&&y.push({node:h.thread.node,connectedNodes:[],connections:h.thread.connections}),h.prompts&&y.push(...h.prompts.map(v=>({node:v.node,connectedNodes:v.connectedNodes,connections:v.connections}))),h.schemas&&y.push(...h.schemas.map(v=>({node:v.node,connectedNodes:[],connections:v.connections}))),h.placeholders&&h.placeholders.forEach(v=>{const g=v.connections.map(w=>a(w.source)).filter(Boolean);y.push({node:v.node,connectedNodes:g||[],connections:v.connections})}),h.llm&&y.push(h.llm),y},[o,a]);return{loading:c,createMessage:u,getLinkedConnections:d}},tf=e=>{const t=J(n=>n.createOrUpdateFlowEdge),r=b.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.Prompt&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.LLM&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.Schema&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.ToolDefinition&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.VectorDatabase&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.PlaceHolder&&(o==null?void 0:o.type)===$.Thread&&a.data.entity.placeholder_type===Ta.VECTOR_DATABASE_RETREIVER){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);Xe(e,r)},rf=b.memo(e=>{const{id:t,data:r,isConnectable:n}=e,{t:a}=ce("flows"),[o,i]=b.useState(!1),s=Pi({type:"source"}),c=Pi({type:"target"}),{getNode:l}=kt(),{loading:u,createMessage:d,getLinkedConnections:p}=ef(t,r);tf(t);const m=b.useCallback(async(...g)=>(i(!1),await d(...g)),[d]),y=b.useMemo(()=>s.length>0,[s]),h=b.useCallback(()=>{i(g=>!g)},[]),v=b.useMemo(()=>{var w,S;const g=c.map((x,_)=>{var O;const j=l(x.source);if((j==null?void 0:j.type)===$.Schema)return f.jsx(Dr,{children:a("thread_node.structured_output")},`${_}`);if((j==null?void 0:j.type)===$.Prompt){const P=j.data.entity;return f.jsx(Dr,{children:a(P.type===st.FewShotExample?"thread_node.prompts.few_shot_example":`thread_node.prompts.${P.role.toLowerCase()}`)},`${_}`)}else if((j==null?void 0:j.type)===$.PlaceHolder&&((O=j.data.entity)==null?void 0:O.placeholder_type)===Ta.VECTOR_DATABASE_RETREIVER)return f.jsx(Dr,{children:a("thread_node.vector_database_retriever")},`${_}`)}).filter(Boolean);return e.data.entity&&!((S=(w=e.data.entity)==null?void 0:w.messages)!=null&&S.length)&&!y?f.jsx($a,{disabled:u,loading:u,onSubmit:m,tags:g}):g!=null&&g.length?f.jsxs(Le,{className:"p-4 pt-2",children:[f.jsx(at,{className:"mb-2",children:a("thread_node.title")}),f.jsx("div",{className:"flex gap-1.5",children:g}),f.jsx("div",{className:"mt-4 w-full flex justify-end",children:f.jsxs(Ee,{onClick:h,variant:"outline",children:[f.jsx(re,{name:o?"copy-minus":"copy-plus"}),a(o?"thread_node.hide":"thread_node.clone")]})})]}):f.jsx("div",{className:"w-12 h-10"})},[y,l,m,h,u,e.data.entity,o,a,c]);return f.jsxs("div",{children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(Ve,{id:t,enableToStandalone:!0,getLinkedConnections:p}),v,o?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),f.jsx("div",{className:"absolute mt-[30px] w-full",children:f.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:f.jsx($a,{disabled:u,loading:u,onSubmit:m})})})]}):void 0]}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:n})]})});function Gx({data:e,onNewThread:t,loading:r,showThread:n}){var o;const{t:a}=ce("flows");return f.jsxs(Et,{className:"flex min-w-52",children:[f.jsx(re,{size:24,name:"user"}),f.jsxs("div",{className:"ml-2 max-w-full w-full",children:[f.jsx(dr,{children:"Human"}),f.jsx(Ma,{children:`${e.content||((o=e.entity)==null?void 0:o.content)||""}`}),t?f.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:f.jsxs(Ee,{onClick:t,disabled:r,variant:"outline",children:[f.jsx(re,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]})]})}function Yx({data:e,onNewThread:t,loading:r,showThread:n}){var c,l,u,d,p,m,y,h,v;const{t:a}=ce("flows"),o=b.useMemo(()=>{var g;try{return JSON.parse(((g=e==null?void 0:e.entity)==null?void 0:g.metadata)||"{}")}catch{return{}}},[(c=e==null?void 0:e.entity)==null?void 0:c.metadata]),i=e.entity.status===xt.Failed,s=b.useMemo(()=>{var g;return f.jsx(eI,{source:`${e.content||((g=e.entity)==null?void 0:g.content)||""}`})},[e.content,(l=e.entity)==null?void 0:l.content]);return f.jsxs(Et,{className:ae("flex min-w-52",i?"bg-background":""),variant:i?"destructive":"default",children:[f.jsx(re,{className:ae(e.loading?"animate-spin":void 0),size:24,name:e.loading?"loader-circle":"bot"}),f.jsx(re,{name:n?"minus":"plus",size:24}),f.jsxs("div",{className:"ml-2 w-full max-w-full",children:[f.jsx(dr,{children:a(`message_node.message_roles.${(d=(u=e.entity)==null?void 0:u.role)==null?void 0:d.toLowerCase()}`)}),f.jsx(b.Suspense,{fallback:f.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:f.jsx(re,{name:"loader-circle",className:"animate-spin"})}),children:i?e.content||((p=e.entity)==null?void 0:p.content)||"":s}),Array.isArray((m=o==null?void 0:o.message)==null?void 0:m.tool_calls)&&((h=(y=o==null?void 0:o.message)==null?void 0:y.tool_calls)!=null&&h.length)?(v=o==null?void 0:o.message)==null?void 0:v.tool_calls.map((g,w)=>f.jsx(Dr,{children:a("message_node.tool_call",{name:g.name,args:Object.entries(g.args).map(([S,x])=>`"${S}": "${x}"`).join(", ")})},`${g.name}_${w}`)):null,t?f.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:f.jsxs(Ee,{onClick:t,disabled:r,variant:"outline",children:[f.jsx(re,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]}),e.loading?f.jsx(Wb,{size:350,duration:10}):void 0]})}const Kx=e=>{const{t}=ce("flows"),r=Je(e),n=J(u=>u.updateNodes),{getNode:a,getHandleConnections:o}=kt(),{createMessage:i,loading:s}=ts({getNode:a,getHandleConnections:o}),c=b.useCallback(u=>{if(!u.id)return;const d=a(u.id);!d||!u.nodeData||n([{id:d.id,type:"replace",item:{...d,data:{...d.data,...Xb(u.nodeData,Gb)}}}])},[a,n]),l=b.useCallback(async u=>{if(r)try{await i(r,u,{onMessageUpdate:c})}catch(d){if(d instanceof Error&&d.message.includes("LLM_NOT_LOADED_YET"))return wn({variant:"destructive",title:t("message_node.errors.llm_not_loaded_yet")});wn({variant:"destructive",title:t("message_node.errors.create_message")})}},[r,t,i,c]);return{loading:s,createMessage:l}},nf=()=>{const e=Ne(n=>n.currentSession),t=J(n=>n.createOrUpdateFlowNode),r=J(n=>n.createOrUpdateFlowEdge);return{createIdieMessage:b.useCallback(async(n,a,o,i)=>{var y,h,v,g,w;if(!n||!a||!e)return;const s=(h=(y=i==null?void 0:i.promptNode)==null?void 0:y.data)==null?void 0:h.entity,c=((v=n.position)==null?void 0:v.x)||0,l=(((g=n.position)==null?void 0:g.y)||0)+(((w=n.measured)==null?void 0:w.height)||0),u=await K("Message").save({thread_id:a.id,content:o,role:(s==null?void 0:s.role)||it.Human,status:xt.Started,llm_id:a.initial_llm_id,session_id:e.id});if(!u)throw new Error("Failed to save message");const d=await t({source_id:u.id,source_type:"Message",node_type:$.Message,x:c,y:l});if(!d)throw new Error("Failed to save message node");const p=await r({source:n.id,target:d.id});let m;return i!=null&&i.promptNode&&(m=await r({source:i==null?void 0:i.promptNode.id,target:d.id})),{message:u,edgeToPrompt:m,messageNode:d,messageEdge:p}},[t,r])}},Zx=e=>{const{createIdieMessage:t}=nf(),r=b.useCallback(async({edgeId:n,source:a,target:o})=>{var i,s;try{if((a==null?void 0:a.type)===$.Prompt&&(o==null?void 0:o.type)===$.Message){const c=(i=o==null?void 0:o.data)==null?void 0:i.entity,l=(s=a==null?void 0:a.data)==null?void 0:s.entity;if(!l||!c||!o)return{deleteEdgeId:n};await t(o,{id:c==null?void 0:c.thread_id,title:"",status:Ia.Started,initial_llm_id:c.llm_id,session_id:l.session_id},l.content,{promptNode:a});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);Xe(e,r)},Jx=b.memo(e=>{var S,x,_;const{id:t,data:r,isConnectable:n}=e,[a,o]=b.useState(!1),[i,s]=b.useState(!1),{t:c}=ce("common"),l=Pi({type:"source"}),{loading:u,createMessage:d}=Kx(t),{toast:p}=dt();Zx(t);const m=b.useCallback(async(...j)=>{const O=await d(...j);return o(!1),O},[d]),y=b.useMemo(()=>l.length===0,[l]),h=b.useCallback(()=>{var j;(j=r.entity)!=null&&j.content&&(navigator.clipboard.writeText(r.entity.content),p({description:c("copied")}))},[p,r,c]),v=b.useCallback(async()=>{var j;try{if(i)return await Ib.stop(),s(!1);s(!0),await Ib.speak(((j=r.entity)==null?void 0:j.content)||"")}catch{p({variant:"destructive",description:c("errors.speech_is_not_supported")})}finally{s(!1)}},[(S=r.entity)==null?void 0:S.content,i,c,p]),g=b.useCallback(()=>{o(j=>!j)},[]),w=b.useMemo(()=>{var j;if(!(!y&&!a||r.loading||u||((j=r==null?void 0:r.entity)==null?void 0:j.status)==="inprogress"))return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),f.jsx("div",{className:"absolute mt-[30px] w-full",children:f.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:f.jsx($a,{disabled:u,loading:u,onSubmit:m})})})]})},[(x=r==null?void 0:r.entity)==null?void 0:x.status,r.loading,m,y,u,a]);return f.jsxs("div",{children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:n}),f.jsxs("div",{className:"max-w-sm min-w-64",children:[f.jsxs("div",{className:"w-auto",children:[f.jsx(Ve,{id:t}),f.jsx("div",{children:((_=r.entity)==null?void 0:_.role)===it.Human?f.jsx(Gx,{data:r,showThread:a,onNewThread:y?void 0:g}):f.jsx(Yx,{data:r,showThread:a,loading:u,onNewThread:y?void 0:g})}),f.jsx(Ee,{onClick:v,className:"absolute top-0 right-[68px] !px-2 !rounded-none",variant:"ghost",children:f.jsx(re,{name:i?"circle-stop":"speech",size:16})}),f.jsx(Ee,{onClick:h,className:"absolute top-0 right-[36px] !px-2 !rounded-none",variant:"ghost",children:f.jsx(re,{name:"copy",size:16})})]}),w]}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:n})]})}),Qx=e=>{const t=J(a=>a.createOrUpdateFlowEdge),{createIdieMessage:r}=nf(),n=b.useCallback(async({edgeId:a,source:o,target:i})=>{var s,c,l,u;try{const d=(s=i==null?void 0:i.data)==null?void 0:s.entity,p=(c=o==null?void 0:o.data)==null?void 0:c.entity;if((o==null?void 0:o.type)===$.Message&&(i==null?void 0:i.type)===$.Prompt){const m=(l=o==null?void 0:o.data)==null?void 0:l.entity,y=(u=i==null?void 0:i.data)==null?void 0:u.entity;if(!y||!m||!i)return{deleteEdgeId:a};await r(o,{id:m==null?void 0:m.thread_id,title:"",status:Ia.Started,initial_llm_id:m.llm_id,session_id:y.session_id},y.content,{promptNode:i});return}else if((o==null?void 0:o.type)===$.CSVData&&(i==null?void 0:i.type)===$.Prompt&&(d==null?void 0:d.type)===st.FewShotExample&&(p!=null&&p.headers.includes("input"))&&(p!=null&&p.headers.includes("output"))){await t({source:o.id,target:i.id});return}return{deleteEdgeId:a}}catch{return{deleteEdgeId:a}}},[r,t]);Xe(e,n)},ew=b.memo(e=>{var l,u,d;const{id:t,data:r,isConnectable:n}=e;Qx(t);const a=cr(tI),o=b.useMemo(()=>{var p,m,y;return`${(p=r.entity)!=null&&p.prefix?`${(m=r.entity)==null?void 0:m.prefix}
`:""}${((y=r.entity)==null?void 0:y.content)||""}`},[(l=r.entity)==null?void 0:l.prefix,(u=r.entity)==null?void 0:u.content]),i=b.useMemo(()=>{var m;const p=/{(.*?)}/g;return((m=o.match(p))==null?void 0:m.map(y=>y.replace("{","").replace("}","")))||[]},[o]),s=o.length>990,c=()=>{a.show({title:"Prompt",content:o})};return f.jsxs("div",{className:"min-w-56",children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(Ve,{id:t}),f.jsxs(Et,{className:"flex justify-center max-w-72",variant:"default",children:[f.jsx(re,{size:24,name:"notepad-text"}),f.jsxs("div",{className:"ml-2 max-w-full break-words break-all",children:[f.jsx(dr,{children:`${((d=r.entity)==null?void 0:d.role)||""}`}),f.jsxs(Ma,{onClick:s?c:void 0,children:[s?`${o.slice(0,990)}...`:o,s?f.jsx("span",{className:"float-right",children:f.jsx(re,{name:"chevron-right"})}):void 0]}),i!=null&&i.length?i.map((p,m)=>f.jsx(Dr,{className:"mt-2 mr-1",variant:"default",children:p},m)):void 0]})]})]}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:n})]})});var tw=FI();const pt=Se(tw);var rs,af;function rw(){if(af)return rs;af=1;function e(t){return t==null}return rs=e,rs}var nw=rw();const ye=Se(nw);var ns,of;function aw(){if(of)return ns;of=1;var e=Iu(),t=Mi(),r=Lu(),n="[object String]";function a(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return ns=a,ns}var ow=aw();const Mn=Se(ow);var iw=$I();const se=Se(iw);var sw=zI();const Br=Se(sw);var sf={exports:{}},ve={},cf;function cw(){if(cf)return ve;cf=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),s=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function h(v){if(typeof v=="object"&&v!==null){var g=v.$$typeof;switch(g){case e:switch(v=v.type,v){case r:case a:case n:case l:case u:return v;default:switch(v=v&&v.$$typeof,v){case s:case i:case c:case p:case d:case o:return v;default:return g}}case t:return g}}}return ve.ContextConsumer=i,ve.ContextProvider=o,ve.Element=e,ve.ForwardRef=c,ve.Fragment=r,ve.Lazy=p,ve.Memo=d,ve.Portal=t,ve.Profiler=a,ve.StrictMode=n,ve.Suspense=l,ve.SuspenseList=u,ve.isAsyncMode=function(){return!1},ve.isConcurrentMode=function(){return!1},ve.isContextConsumer=function(v){return h(v)===i},ve.isContextProvider=function(v){return h(v)===o},ve.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},ve.isForwardRef=function(v){return h(v)===c},ve.isFragment=function(v){return h(v)===r},ve.isLazy=function(v){return h(v)===p},ve.isMemo=function(v){return h(v)===d},ve.isPortal=function(v){return h(v)===t},ve.isProfiler=function(v){return h(v)===a},ve.isStrictMode=function(v){return h(v)===n},ve.isSuspense=function(v){return h(v)===l},ve.isSuspenseList=function(v){return h(v)===u},ve.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===l||v===u||v===m||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===d||v.$$typeof===o||v.$$typeof===i||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},ve.typeOf=h,ve}var lf;function lw(){return lf||(lf=1,sf.exports=cw()),sf.exports}var uw=lw(),as,uf;function df(){if(uf)return as;uf=1;var e=Iu(),t=Lu(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return as=n,as}var os,ff;function dw(){if(ff)return os;ff=1;var e=df();function t(r){return e(r)&&r!=+r}return os=t,os}var fw=dw();const Tn=Se(fw);var pw=df();const hw=Se(pw);var wt=function(e){return e===0?0:e>0?1:-1},yr=function(e){return Mn(e)&&e.indexOf("%")===e.length-1},H=function(e){return hw(e)&&!Tn(e)},Ce=function(e){return H(e)||Mn(e)},mw=0,Ua=function(e){var t=++mw;return"".concat(e||"").concat(t)},vr=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!H(e)&&!Mn(e))return r;var a;if(yr(e)){var o=e.indexOf("%");a=t*parseFloat(e.slice(0,o))/100}else a=+e;return Tn(a)&&(a=r),n&&a>t&&(a=t),a},Qt=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},yw=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Fr=function(e,t){return H(e)&&H(t)?function(r){return e+r*(t-e)}:function(){return t}};function is(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):pt(n,t))===r})}function $r(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}var vw=["viewBox","children"],gw=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pf=["points","pathLength"],cs={svg:vw,polygon:pf,polyline:pf},ls=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Va=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),!Br(r))return null;var n={};return Object.keys(r).forEach(function(a){ls.includes(a)&&(n[a]=t||function(o){return r[a](r,o)})}),n},bw=function(e,t,r){return function(n){return e(t,r,n),null}},Ha=function(e,t,r){if(!Br(e)||ss(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(a){var o=e[a];ls.includes(a)&&typeof o=="function"&&(n||(n={}),n[a]=bw(o,t,r))}),n},xw=["children"],ww=["children"];function hf(e,t){if(e==null)return{};var r=jw(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mf={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},It=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yf=null,us=null,ds=function e(t){if(t===yf&&Array.isArray(us))return us;var r=[];return b.Children.forEach(t,function(n){ye(n)||(uw.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),us=r,yf=t,r};function jt(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return It(a)}):n=[It(t)],ds(e).forEach(function(a){var o=pt(a,"type.displayName")||pt(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function ct(e,t){var r=jt(e,t);return r&&r[0]}var vf=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!H(r)||r<=0||!H(n)||n<=0)},_w=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ow=function(e){return e&&e.type&&Mn(e.type)&&_w.indexOf(e.type)>=0},Sw=function(e,t,r,n){var a,o=(a=cs==null?void 0:cs[n])!==null&&a!==void 0?a:[];return!se(e)&&(n&&o.includes(t)||gw.includes(t))||r&&ls.includes(t)},me=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!Br(n))return null;var a={};return Object.keys(n).forEach(function(o){var i;Sw((i=n)===null||i===void 0?void 0:i[o],o,t,r)&&(a[o]=n[o])}),a},fs=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gf(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!gf(o,i))return!1}return!0},gf=function(e,t){if(ye(e)&&ye(t))return!0;if(!ye(e)&&!ye(t)){var r=e.props||{},n=r.children,a=hf(r,xw),o=t.props||{},i=o.children,s=hf(o,ww);return n&&i?$r(a,s)&&fs(n,i):!n&&!i?$r(a,s):!1}return!1},bf=function(e,t){var r=[],n={};return ds(e).forEach(function(a,o){if(Ow(a))r.push(a);else if(a){var i=It(a.type),s=t[i]||{},c=s.handler,l=s.once;if(c&&(!l||!n[i])){var u=c(a,i,o);r.push(u),n[i]=!0}}}),r},Ew=function(e){var t=e&&e.type;return t&&mf[t]?mf[t]:null},kw=function(e,t){return ds(t).indexOf(e)},Nw=["children","width","height","viewBox","className","style","title","desc"];function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}function Pw(e,t){if(e==null)return{};var r=Aw(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hs(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,c=e.desc,l=Pw(e,Nw),u=a||{width:r,height:n,x:0,y:0},d=ge("recharts-surface",o);return A.createElement("svg",ps({},me(l,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),A.createElement("title",null,s),A.createElement("desc",null,c),t)}var Cw=["children","className"];function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(this,arguments)}function Mw(e,t){if(e==null)return{};var r=Tw(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Re=A.forwardRef(function(e,t){var r=e.children,n=e.className,a=Mw(e,Cw),o=ge("recharts-layer",n);return A.createElement("g",ms({className:o},me(a,!0),{ref:t}),r)}),Lt=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},ys,xf;function Dw(){if(xf)return ys;xf=1;var e=UI();function t(r,n,a){var o=r.length;return a=a===void 0?o:a,!n&&a>=o?r:e(r,n,a)}return ys=t,ys}var vs,wf;function jf(){if(wf)return vs;wf=1;var e="\uD800-\uDFFF",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,o="\\ufe0e\\ufe0f",i="\\u200d",s=RegExp("["+i+e+a+o+"]");function c(l){return s.test(l)}return vs=c,vs}var gs,_f;function Iw(){if(_f)return gs;_f=1;function e(t){return t.split("")}return gs=e,gs}var bs,Of;function Lw(){if(Of)return bs;Of=1;var e="\uD800-\uDFFF",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,o="\\ufe0e\\ufe0f",i="["+e+"]",s="["+a+"]",c="\uD83C[\uDFFB-\uDFFF]",l="(?:"+s+"|"+c+")",u="[^"+e+"]",d="(?:\uD83C[\uDDE6-\uDDFF]){2}",p="[\uD800-\uDBFF][\uDC00-\uDFFF]",m="\\u200d",y=l+"?",h="["+o+"]?",v="(?:"+m+"(?:"+[u,d,p].join("|")+")"+h+y+")*",g=h+y+v,w="(?:"+[u+s+"?",s,d,p,i].join("|")+")",S=RegExp(c+"(?="+c+")|"+w+g,"g");function x(_){return _.match(S)||[]}return bs=x,bs}var xs,Sf;function Rw(){if(Sf)return xs;Sf=1;var e=Iw(),t=jf(),r=Lw();function n(a){return t(a)?r(a):e(a)}return xs=n,xs}var ws,Ef;function Bw(){if(Ef)return ws;Ef=1;var e=Dw(),t=jf(),r=Rw(),n=VI();function a(o){return function(i){i=n(i);var s=t(i)?r(i):void 0,c=s?s[0]:i.charAt(0),l=s?e(s,1).join(""):i.slice(1);return c[o]()+l}}return ws=a,ws}var js,kf;function Fw(){if(kf)return js;kf=1;var e=Bw(),t=e("toUpperCase");return js=t,js}var $w=Fw();const qa=Se($w);function we(e){return function(){return e}}const Nf=Math.cos,Wa=Math.sin,_t=Math.sqrt,Xa=Math.PI,Ga=2*Xa,_s=Math.PI,Os=2*_s,gr=1e-6,zw=Os-gr;function Pf(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Uw(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Pf;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Vw{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Pf:Uw(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,c=n-t,l=a-r,u=i-t,d=s-r,p=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>gr)if(!(Math.abs(d*c-l*u)>gr)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,y=a-s,h=c*c+l*l,v=m*m+y*y,g=Math.sqrt(h),w=Math.sqrt(p),S=o*Math.tan((_s-Math.acos((h+p-v)/(2*g*w)))/2),x=S/w,_=S/g;Math.abs(x-1)>gr&&this._append`L${t+x*u},${r+x*d}`,this._append`A${o},${o},0,0,${+(d*m>u*y)},${this._x1=t+_*c},${this._y1=r+_*l}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),l=t+s,u=r+c,d=1^i,p=i?a-o:o-a;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>gr||Math.abs(this._y1-u)>gr)&&this._append`L${l},${u}`,n&&(p<0&&(p=p%Os+Os),p>zw?this._append`A${n},${n},0,1,${d},${t-s},${r-c}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:p>gr&&this._append`A${n},${n},0,${+(p>=_s)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ss(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Vw(t)}function Es(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Af(e){this._context=e}Af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ya(e){return new Af(e)}function Cf(e){return e[0]}function Mf(e){return e[1]}function Tf(e,t){var r=we(!0),n=null,a=Ya,o=null,i=Ss(s);e=typeof e=="function"?e:e===void 0?Cf:we(e),t=typeof t=="function"?t:t===void 0?Mf:we(t);function s(c){var l,u=(c=Es(c)).length,d,p=!1,m;for(n==null&&(o=a(m=i())),l=0;l<=u;++l)!(l<u&&r(d=c[l],l,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(d,l,c),+t(d,l,c));if(m)return o=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:we(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:we(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:we(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(o=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=o=null:o=a(n=c),s):n},s}function Ka(e,t,r){var n=null,a=we(!0),o=null,i=Ya,s=null,c=Ss(l);e=typeof e=="function"?e:e===void 0?Cf:we(+e),t=typeof t=="function"?t:we(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Mf:we(+r);function l(d){var p,m,y,h=(d=Es(d)).length,v,g=!1,w,S=new Array(h),x=new Array(h);for(o==null&&(s=i(w=c())),p=0;p<=h;++p){if(!(p<h&&a(v=d[p],p,d))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=m;--y)s.point(S[y],x[y]);s.lineEnd(),s.areaEnd()}g&&(S[p]=+e(v,p,d),x[p]=+t(v,p,d),s.point(n?+n(v,p,d):S[p],r?+r(v,p,d):x[p]))}if(w)return s=null,w+""||null}function u(){return Tf().defined(a).curve(i).context(o)}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:we(+d),n=null,l):e},l.x0=function(d){return arguments.length?(e=typeof d=="function"?d:we(+d),l):e},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:we(+d),l):n},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:we(+d),r=null,l):t},l.y0=function(d){return arguments.length?(t=typeof d=="function"?d:we(+d),l):t},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:we(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(n).y(t)},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:we(!!d),l):a},l.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),l):i},l.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),l):o},l}class Df{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Hw(e){return new Df(e,!0)}function qw(e){return new Df(e,!1)}const ks={draw(e,t){const r=_t(t/Xa);e.moveTo(r,0),e.arc(0,0,r,0,Ga)}},Ww={draw(e,t){const r=_t(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},If=_t(1/3),Xw=If*2,Gw={draw(e,t){const r=_t(t/Xw),n=r*If;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Yw={draw(e,t){const r=_t(t),n=-r/2;e.rect(n,n,r,r)}},Kw=.8908130915292852,Lf=Wa(Xa/10)/Wa(7*Xa/10),Zw=Wa(Ga/10)*Lf,Jw=-Nf(Ga/10)*Lf,Qw={draw(e,t){const r=_t(t*Kw),n=Zw*r,a=Jw*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Ga*o/5,s=Nf(i),c=Wa(i);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},Ns=_t(3),e1={draw(e,t){const r=-_t(t/(Ns*3));e.moveTo(0,r*2),e.lineTo(-Ns*r,-r),e.lineTo(Ns*r,-r),e.closePath()}},ht=-.5,mt=_t(3)/2,Ps=1/_t(12),t1=(Ps/2+1)*3,r1={draw(e,t){const r=_t(t/t1),n=r/2,a=r*Ps,o=n,i=r*Ps+r,s=-o,c=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,c),e.lineTo(ht*n-mt*a,mt*n+ht*a),e.lineTo(ht*o-mt*i,mt*o+ht*i),e.lineTo(ht*s-mt*c,mt*s+ht*c),e.lineTo(ht*n+mt*a,ht*a-mt*n),e.lineTo(ht*o+mt*i,ht*i-mt*o),e.lineTo(ht*s+mt*c,ht*c-mt*s),e.closePath()}};function n1(e,t){let r=null,n=Ss(a);e=typeof e=="function"?e:we(e||ks),t=typeof t=="function"?t:we(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:we(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:we(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Za(){}function Ja(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Rf(e){this._context=e}Rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ja(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ja(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a1(e){return new Rf(e)}function Bf(e){this._context=e}Bf.prototype={areaStart:Za,areaEnd:Za,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ja(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o1(e){return new Bf(e)}function Ff(e){this._context=e}Ff.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ja(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i1(e){return new Ff(e)}function $f(e){this._context=e}$f.prototype={areaStart:Za,areaEnd:Za,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function s1(e){return new $f(e)}function zf(e){return e<0?-1:1}function Uf(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(zf(o)+zf(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Vf(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function As(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Qa(e){this._context=e}Qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:As(this,this._t0,Vf(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,As(this,Vf(this,r=Uf(this,e,t)),r);break;default:As(this,this._t0,r=Uf(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Hf(e){this._context=new qf(e)}(Hf.prototype=Object.create(Qa.prototype)).point=function(e,t){Qa.prototype.point.call(this,t,e)};function qf(e){this._context=e}qf.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function c1(e){return new Qa(e)}function l1(e){return new Hf(e)}function Wf(e){this._context=e}Wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Xf(e),a=Xf(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Xf(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function u1(e){return new Wf(e)}function eo(e,t){this._context=e,this._t=t}eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function d1(e){return new eo(e,.5)}function f1(e){return new eo(e,0)}function p1(e){return new eo(e,1)}function zr(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Cs(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function h1(e,t){return e[t]}function m1(e){const t=[];return t.key=e,t}function y1(){var e=we([]),t=Cs,r=zr,n=h1;function a(o){var i=Array.from(e.apply(this,arguments),m1),s,c=i.length,l=-1,u;for(const d of o)for(s=0,++l;s<c;++s)(i[s][l]=[0,+n(d,i[s].key,l,o)]).data=d;for(s=0,u=Es(t(i));s<c;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:we(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:we(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Cs:typeof o=="function"?o:we(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??zr,a):r},a}function v1(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}zr(e,t)}}function g1(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}zr(e,t)}}function b1(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],d=u[n][1]||0,p=u[n-1][1]||0,m=(d-p)/2,y=0;y<s;++y){var h=e[t[y]],v=h[n][1]||0,g=h[n-1][1]||0;m+=v-g}c+=d,l+=m*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=l/c)}a[n-1][1]+=a[n-1][0]=r,zr(e,t)}}function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}var x1=["type","size","sizeType"];function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(this,arguments)}function Gf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gf(Object(r),!0).forEach(function(n){w1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w1(e,t,r){return t=j1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j1(e){var t=_1(e,"string");return Dn(t)=="symbol"?t:t+""}function _1(e,t){if(Dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O1(e,t){if(e==null)return{};var r=S1(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S1(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Kf={symbolCircle:ks,symbolCross:Ww,symbolDiamond:Gw,symbolSquare:Yw,symbolStar:Qw,symbolTriangle:e1,symbolWye:r1},E1=Math.PI/180,k1=function(e){var t="symbol".concat(qa(e));return Kf[t]||ks},N1=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*E1;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},P1=function(e,t){Kf["symbol".concat(qa(e))]=t},Ts=function(e){var t=e.type,r=t===void 0?"circle":t,n=e.size,a=n===void 0?64:n,o=e.sizeType,i=o===void 0?"area":o,s=O1(e,x1),c=Yf(Yf({},s),{},{type:r,size:a,sizeType:i}),l=function(){var y=k1(r),h=n1().type(y).size(N1(a,i,r));return h()},u=c.className,d=c.cx,p=c.cy,m=me(c,!0);return d===+d&&p===+p&&a===+a?A.createElement("path",Ms({},m,{className:ge("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(p,")"),d:l()})):null};Ts.registerSymbol=P1;function Ur(e){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ds.apply(this,arguments)}function Zf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zf(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qf(n.key),n)}}function T1(e,t,r){return t&&M1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D1(e,t,r){return t=to(t),I1(e,Jf()?Reflect.construct(t,r||[],to(e).constructor):t.apply(e,r))}function I1(e,t){if(t&&(Ur(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L1(e)}function L1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jf=function(){return!!e})()}function to(e){return to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},to(e)}function R1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Is(e,t)}function Is(e,t){return Is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Is(e,t)}function In(e,t,r){return t=Qf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qf(e){var t=B1(e,"string");return Ur(t)=="symbol"?t:t+""}function B1(e,t){if(Ur(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ur(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yt=32,Ls=function(e){function t(){return C1(this,t),D1(this,t,arguments)}return R1(t,e),T1(t,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,a=yt/2,o=yt/6,i=yt/3,s=r.inactive?n:r.color;if(r.type==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:yt,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(yt,"M").concat(2*i,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return A.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(yt/8,"h").concat(yt,"v").concat(yt*3/4,"h").concat(-yt,"z"),className:"recharts-legend-icon"});if(A.isValidElement(r.legendIcon)){var c=A1({},r);return delete c.legendIcon,A.cloneElement(r.legendIcon,c)}return A.createElement(Ts,{fill:s,cx:a,cy:a,size:yt,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,a=n.payload,o=n.iconSize,i=n.layout,s=n.formatter,c=n.inactiveColor,l={x:0,y:0,width:yt,height:yt},u={display:i==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var y=p.formatter||s,h=ge(In(In({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=se(p.value)?null:p.value;Lt(!se(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return A.createElement("li",Ds({className:h,style:u,key:"legend-item-".concat(m)},Ha(r.props,p,m)),A.createElement(hs,{width:o,height:o,viewBox:l,style:d},r.renderIcon(p)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y?y(v,p,m):v))})}},{key:"render",value:function(){var r=this.props,n=r.payload,a=r.layout,o=r.align;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}(b.PureComponent);In(Ls,"displayName","Legend"),In(Ls,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rs,ep;function tp(){if(ep)return Rs;ep=1;function e(t,r,n,a){for(var o=t.length,i=n+(a?1:-1);a?i--:++i<o;)if(r(t[i],i,t))return i;return-1}return Rs=e,Rs}var Bs,rp;function F1(){if(rp)return Bs;rp=1;function e(t){return t!==t}return Bs=e,Bs}var Fs,np;function $1(){if(np)return Fs;np=1;function e(t,r,n){for(var a=n-1,o=t.length;++a<o;)if(t[a]===r)return a;return-1}return Fs=e,Fs}var $s,ap;function z1(){if(ap)return $s;ap=1;var e=tp(),t=F1(),r=$1();function n(a,o,i){return o===o?r(a,o,i):e(a,t,i)}return $s=n,$s}var zs,op;function U1(){if(op)return zs;op=1;var e=z1();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return zs=t,zs}var Us,ip;function V1(){if(ip)return Us;ip=1;function e(t,r,n){for(var a=-1,o=t==null?0:t.length;++a<o;)if(n(r,t[a]))return!0;return!1}return Us=e,Us}var Vs,sp;function H1(){if(sp)return Vs;sp=1;function e(){}return Vs=e,Vs}var Hs,cp;function q1(){if(cp)return Hs;cp=1;var e=HI(),t=H1(),r=a0(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return Hs=a,Hs}var qs,lp;function W1(){if(lp)return qs;lp=1;var e=qI(),t=U1(),r=V1(),n=WI(),a=q1(),o=a0(),i=200;function s(c,l,u){var d=-1,p=t,m=c.length,y=!0,h=[],v=h;if(u)y=!1,p=r;else if(m>=i){var g=l?null:a(c);if(g)return o(g);y=!1,p=n,v=new e}else v=l?[]:h;e:for(;++d<m;){var w=c[d],S=l?l(w):w;if(w=u||w!==0?w:0,y&&S===S){for(var x=v.length;x--;)if(v[x]===S)continue e;l&&v.push(S),h.push(w)}else p(v,S,u)||(v!==h&&v.push(S),h.push(w))}return h}return qs=s,qs}var Ws,up;function X1(){if(up)return Ws;up=1;var e=Ir(),t=W1();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return Ws=r,Ws}var G1=X1();const dp=Se(G1);function fp(e,t,r){return t===!0?dp(e,r):se(t)?dp(e,t):e}function Vr(e){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}var Y1=["ref"];function pp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pp(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yp(n.key),n)}}function Z1(e,t,r){return t&&hp(e.prototype,t),r&&hp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J1(e,t,r){return t=ro(t),Q1(e,mp()?Reflect.construct(t,r||[],ro(e).constructor):t.apply(e,r))}function Q1(e,t){if(t&&(Vr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ej(e)}function ej(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mp=function(){return!!e})()}function ro(e){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(e)}function tj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xs(e,t)}function Xs(e,t){return Xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Xs(e,t)}function no(e,t,r){return t=yp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yp(e){var t=rj(e,"string");return Vr(t)=="symbol"?t:t+""}function rj(e,t){if(Vr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nj(e,t){if(e==null)return{};var r=aj(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aj(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oj(e){return e.value}function ij(e,t){if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return A.createElement(e,t);t.ref;var r=nj(t,Y1);return A.createElement(Ls,r)}var vp=1,Hr=function(e){function t(){var r;K1(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=J1(this,t,[].concat(a)),no(r,"lastBoundingBox",{width:-1,height:-1}),r}return tj(t,e),Z1(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>vp||Math.abs(n.height-this.lastBoundingBox.height)>vp)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rt({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,a=n.layout,o=n.align,i=n.verticalAlign,s=n.margin,c=n.chartWidth,l=n.chartHeight,u,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();u={left:((c||0)-p.width)/2}}else u=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(i==="middle"){var m=this.getBBoxSnapshot();d={top:((l||0)-m.height)/2}}else d=i==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0};return Rt(Rt({},u),d)}},{key:"render",value:function(){var r=this,n=this.props,a=n.content,o=n.width,i=n.height,s=n.wrapperStyle,c=n.payloadUniqBy,l=n.payload,u=Rt(Rt({position:"absolute",width:o||"auto",height:i||"auto"},this.getDefaultPosition(s)),s);return A.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(d){r.wrapperNode=d}},ij(a,Rt(Rt({},this.props),{},{payload:fp(l,c,oj)})))}}],[{key:"getWithHeight",value:function(r,n){var a=Rt(Rt({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&H(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||n}:null}}])}(b.PureComponent);no(Hr,"displayName","Legend"),no(Hr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Gs,gp;function sj(){if(gp)return Gs;gp=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Gs=e,Gs}var Ys,bp;function cj(){if(bp)return Ys;bp=1;var e=o0();function t(r,n){if(r!==n){var a=r!==void 0,o=r===null,i=r===r,s=e(r),c=n!==void 0,l=n===null,u=n===n,d=e(n);if(!l&&!d&&!s&&r>n||s&&c&&u&&!l&&!d||o&&c&&u||!a&&u||!i)return 1;if(!o&&!s&&!d&&r<n||d&&a&&i&&!o&&!s||l&&a&&i||!c&&i||!u)return-1}return 0}return Ys=t,Ys}var Ks,xp;function lj(){if(xp)return Ks;xp=1;var e=cj();function t(r,n,a){for(var o=-1,i=r.criteria,s=n.criteria,c=i.length,l=a.length;++o<c;){var u=e(i[o],s[o]);if(u){if(o>=l)return u;var d=a[o];return u*(d=="desc"?-1:1)}}return r.index-n.index}return Ks=t,Ks}var Zs,wp;function uj(){if(wp)return Zs;wp=1;var e=XI(),t=GI(),r=Ir(),n=aL(),a=sj(),o=YI(),i=lj(),s=Ru(),c=Mi();function l(u,d,p){d.length?d=e(d,function(h){return c(h)?function(v){return t(v,h.length===1?h[0]:h)}:h}):d=[s];var m=-1;d=e(d,o(r));var y=n(u,function(h,v,g){var w=e(d,function(S){return S(h)});return{criteria:w,index:++m,value:h}});return a(y,function(h,v){return i(h,v,p)})}return Zs=l,Zs}var Js,jp;function dj(){if(jp)return Js;jp=1;var e=s0(),t=uj(),r=oL(),n=Ti(),a=r(function(o,i){if(o==null)return[];var s=i.length;return s>1&&n(o,i[0],i[1])?i=[]:s>2&&n(i[0],i[1],i[2])&&(i=[i[0]]),t(o,e(i,1),[])});return Js=a,Js}var fj=dj();const Qs=Se(fj);function Ln(e){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(e)}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function pj(e,t){return vj(e)||yj(e,t)||mj(e,t)||hj()}function hj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mj(e,t){if(e){if(typeof e=="string")return _p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _p(e,t)}}function _p(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yj(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function vj(e){if(Array.isArray(e))return e}function Op(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Op(Object(r),!0).forEach(function(n){gj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Op(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gj(e,t,r){return t=bj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bj(e){var t=xj(e,"string");return Ln(t)=="symbol"?t:t+""}function xj(e,t){if(Ln(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ln(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wj(e){return Array.isArray(e)&&Ce(e[0])&&Ce(e[1])?e.join(" ~ "):e}var jj=function(e){var t=e.separator,r=t===void 0?" : ":t,n=e.contentStyle,a=n===void 0?{}:n,o=e.itemStyle,i=o===void 0?{}:o,s=e.labelStyle,c=s===void 0?{}:s,l=e.payload,u=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,h=e.labelFormatter,v=e.accessibilityLayer,g=v===void 0?!1:v,w=function(){if(l&&l.length){var T={padding:0,margin:0},E=(d?Qs(l,d):l).map(function(N,C){if(N.type==="none")return null;var k=tc({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},i),I=N.formatter||u||wj,B=N.value,F=N.name,V=B,W=F;if(I&&V!=null&&W!=null){var Z=I(B,F,N,C,l);if(Array.isArray(Z)){var X=pj(Z,2);V=X[0],W=X[1]}else V=Z}return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:k},Ce(W)?A.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Ce(W)?A.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,A.createElement("span",{className:"recharts-tooltip-item-value"},V),A.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:T},E)}return null},S=tc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=tc({margin:0},c),_=!ye(y),j=_?y:"",O=ge("recharts-default-tooltip",p),P=ge("recharts-tooltip-label",m);_&&h&&l!==void 0&&l!==null&&(j=h(y,l));var M=g?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",ec({className:O,style:S},M),A.createElement("p",{className:P,style:x},A.isValidElement(j)?j:"".concat(j)),w())};function Rn(e){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(e)}function ao(e,t,r){return t=_j(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _j(e){var t=Oj(e,"string");return Rn(t)=="symbol"?t:t+""}function Oj(e,t){if(Rn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bn="recharts-tooltip-wrapper",Sj={visibility:"hidden"};function Ej(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ge(Bn,ao(ao(ao(ao({},"".concat(Bn,"-right"),H(r)&&t&&H(t.x)&&r>=t.x),"".concat(Bn,"-left"),H(r)&&t&&H(t.x)&&r<t.x),"".concat(Bn,"-bottom"),H(n)&&t&&H(t.y)&&n>=t.y),"".concat(Bn,"-top"),H(n)&&t&&H(t.y)&&n<t.y))}function Sp(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(o&&H(o[n]))return o[n];var u=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?u:d;if(i[n]){var p=u,m=c[n];return p<m?Math.max(d,c[n]):Math.max(u,c[n])}var y=d+s,h=c[n]+l;return y>h?Math.max(u,c[n]):Math.max(d,c[n])}function kj(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Nj(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,l,u,d;return i.height>0&&i.width>0&&r?(u=Sp({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=Sp({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),l=kj({translateX:u,translateY:d,useTranslate3d:s})):l=Sj,{cssProperties:l,cssClasses:Ej({translateX:u,translateY:d,coordinate:r})}}function qr(e){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(e)}function Ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ep(Object(r),!0).forEach(function(n){nc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ep(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pp(n.key),n)}}function Cj(e,t,r){return t&&Aj(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mj(e,t,r){return t=oo(t),Tj(e,Np()?Reflect.construct(t,r||[],oo(e).constructor):t.apply(e,r))}function Tj(e,t){if(t&&(qr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dj(e)}function Dj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Np(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Np=function(){return!!e})()}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oo(e)}function Ij(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rc(e,t)}function rc(e,t){return rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},rc(e,t)}function nc(e,t,r){return t=Pp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pp(e){var t=Lj(e,"string");return qr(t)=="symbol"?t:t+""}function Lj(e,t){if(qr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ap=1,Rj=function(e){function t(){var r;Pj(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Mj(this,t,[].concat(a)),nc(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nc(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,c,l,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),r}return Ij(t,e),Cj(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Ap||Math.abs(r.height-this.state.lastBoundingBox.height)>Ap)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.children,l=n.coordinate,u=n.hasPayload,d=n.isAnimationActive,p=n.offset,m=n.position,y=n.reverseDirection,h=n.useTranslate3d,v=n.viewBox,g=n.wrapperStyle,w=Nj({allowEscapeViewBox:o,coordinate:l,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:v}),S=w.cssClasses,x=w.cssProperties,_=kp(kp({transition:d&&a?"transform ".concat(i,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&u?"visible":"hidden",position:"absolute",top:0,left:0},g);return A.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(j){r.wrapperNode=j}},c)}}])}(b.PureComponent),Bj=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},er={isSsr:Bj(),get:function(e){return er[e]},set:function(e,t){if(typeof e=="string")er[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(n){er[n]=e[n]})}}};function Wr(e){"@babel/helpers - typeof";return Wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(e)}function Cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cp(Object(r),!0).forEach(function(n){oc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dp(n.key),n)}}function zj(e,t,r){return t&&$j(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uj(e,t,r){return t=io(t),Vj(e,Tp()?Reflect.construct(t,r||[],io(e).constructor):t.apply(e,r))}function Vj(e,t){if(t&&(Wr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hj(e)}function Hj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tp=function(){return!!e})()}function io(e){return io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},io(e)}function qj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ac(e,t)}function ac(e,t){return ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ac(e,t)}function oc(e,t,r){return t=Dp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dp(e){var t=Wj(e,"string");return Wr(t)=="symbol"?t:t+""}function Wj(e,t){if(Wr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xj(e){return e.dataKey}function Gj(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(jj,t)}var Nt=function(e){function t(){return Fj(this,t),Uj(this,t,arguments)}return qj(t,e),zj(t,[{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.content,l=n.coordinate,u=n.filterNull,d=n.isAnimationActive,p=n.offset,m=n.payload,y=n.payloadUniqBy,h=n.position,v=n.reverseDirection,g=n.useTranslate3d,w=n.viewBox,S=n.wrapperStyle,x=m??[];u&&x.length&&(x=fp(m.filter(function(j){return j.value!=null&&(j.hide!==!0||r.props.includeHidden)}),y,Xj));var _=x.length>0;return A.createElement(Rj,{allowEscapeViewBox:o,animationDuration:i,animationEasing:s,isAnimationActive:d,active:a,coordinate:l,hasPayload:_,offset:p,position:h,reverseDirection:v,useTranslate3d:g,viewBox:w,wrapperStyle:S},Gj(c,Mp(Mp({},this.props),{},{payload:x})))}}])}(b.PureComponent);oc(Nt,"displayName","Tooltip"),oc(Nt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!er.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});function Fn(e){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(e)}function Ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ip(Object(r),!0).forEach(function(n){Yj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ip(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yj(e,t,r){return t=Kj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kj(e){var t=Zj(e,"string");return Fn(t)=="symbol"?t:t+""}function Zj(e,t){if(Fn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jj(e,t){return r_(e)||t_(e,t)||e_(e,t)||Qj()}function Qj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e_(e,t){if(e){if(typeof e=="string")return Lp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lp(e,t)}}function Lp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t_(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function r_(e){if(Array.isArray(e))return e}var n_=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,c=s===void 0?"100%":s,l=e.minWidth,u=l===void 0?0:l,d=e.minHeight,p=e.maxHeight,m=e.children,y=e.debounce,h=y===void 0?0:y,v=e.id,g=e.className,w=e.onResize,S=e.style,x=S===void 0?{}:S,_=b.useRef(null),j=b.useRef();j.current=w,b.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var O=b.useState({containerWidth:a.width,containerHeight:a.height}),P=Jj(O,2),M=P[0],T=P[1],E=b.useCallback(function(C,k){T(function(I){var B=Math.round(C),F=Math.round(k);return I.containerWidth===B&&I.containerHeight===F?I:{containerWidth:B,containerHeight:F}})},[]);b.useEffect(function(){var C=function(V){var W,Z=V[0].contentRect,X=Z.width,L=Z.height;E(X,L),(W=j.current)===null||W===void 0||W.call(j,X,L)};h>0&&(C=c0(C,h,{trailing:!0,leading:!1}));var k=new ResizeObserver(C),I=_.current.getBoundingClientRect(),B=I.width,F=I.height;return E(B,F),k.observe(_.current),function(){k.disconnect()}},[E,h]);var N=b.useMemo(function(){var C=M.containerWidth,k=M.containerHeight;if(C<0||k<0)return null;Lt(yr(i)||yr(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Lt(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=yr(i)?C:i,B=yr(c)?k:c;r&&r>0&&(I?B=I/r:B&&(I=B*r),p&&B>p&&(B=p)),Lt(I>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,B,i,c,u,d,r);var F=!Array.isArray(m)&&It(m.type).endsWith("Chart");return A.Children.map(m,function(V){return A.isValidElement(V)?b.cloneElement(V,so({width:I,height:B},F?{style:so({height:"100%",width:"100%",maxHeight:B,maxWidth:I},V.props.style)}:{})):V})},[r,m,c,p,d,u,M,i]);return A.createElement("div",{id:v?"".concat(v):void 0,className:ge("recharts-responsive-container",g),style:so(so({},x),{},{width:i,height:c,minWidth:u,minHeight:d,maxHeight:p}),ref:_},N)}),Rp=function(e){return null};Rp.displayName="Cell";function $n(e){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(e)}function Bp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bp(Object(r),!0).forEach(function(n){a_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a_(e,t,r){return t=o_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o_(e){var t=i_(e,"string");return $n(t)=="symbol"?t:t+""}function i_(e,t){if($n(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xr={widthCache:{},cacheCount:0},s_=2e3,c_={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Fp="recharts_measurement_span";function l_(e){var t=ic({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var zn=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||er.isSsr)return{width:0,height:0};var r=l_(t),n=JSON.stringify({text:e,copyStyle:r});if(Xr.widthCache[n])return Xr.widthCache[n];try{var a=document.getElementById(Fp);a||(a=document.createElement("span"),a.setAttribute("id",Fp),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=ic(ic({},c_),r);Object.assign(a.style,o),a.textContent="".concat(e);var i=a.getBoundingClientRect(),s={width:i.width,height:i.height};return Xr.widthCache[n]=s,++Xr.cacheCount>s_&&(Xr.cacheCount=0,Xr.widthCache={}),s}catch{return{width:0,height:0}}},u_=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Un(e){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(e)}function co(e,t){return h_(e)||p_(e,t)||f_(e,t)||d_()}function d_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f_(e,t){if(e){if(typeof e=="string")return $p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $p(e,t)}}function $p(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p_(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function h_(e){if(Array.isArray(e))return e}function m_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v_(n.key),n)}}function y_(e,t,r){return t&&zp(e.prototype,t),r&&zp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v_(e){var t=g_(e,"string");return Un(t)=="symbol"?t:t+""}function g_(e,t){if(Un(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Un(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Up=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vp=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,b_=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,x_=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Hp={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},w_=Object.keys(Hp),Gr="NaN";function j_(e,t){return e*Hp[t]}var lo=function(){function e(t,r){m_(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!b_.test(r)&&(this.num=NaN,this.unit=""),w_.includes(r)&&(this.num=j_(t,r),this.unit="px")}return y_(e,[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,n=(r=x_.exec(t))!==null&&r!==void 0?r:[],a=co(n,3),o=a[1],i=a[2];return new e(parseFloat(o),i??"")}}])}();function qp(e){if(e.includes(Gr))return Gr;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Up.exec(t))!==null&&r!==void 0?r:[],a=co(n,4),o=a[1],i=a[2],s=a[3],c=lo.parse(o??""),l=lo.parse(s??""),u=i==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return Gr;t=t.replace(Up,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=Vp.exec(t))!==null&&d!==void 0?d:[],m=co(p,4),y=m[1],h=m[2],v=m[3],g=lo.parse(y??""),w=lo.parse(v??""),S=h==="+"?g.add(w):g.subtract(w);if(S.isNaN())return Gr;t=t.replace(Vp,S.toString())}return t}var Wp=/\(([^()]*)\)/;function __(e){for(var t=e;t.includes("(");){var r=Wp.exec(t),n=co(r,2),a=n[1];t=t.replace(Wp,qp(a))}return t}function O_(e){var t=e.replace(/\s+/g,"");return t=__(t),t=qp(t),t}function S_(e){try{return O_(e)}catch{return Gr}}function sc(e){var t=S_(e.slice(5,-1));return t===Gr?"":t}var E_=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],k_=["dx","dy","angle","className","breakAll"];function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cc.apply(this,arguments)}function Xp(e,t){if(e==null)return{};var r=N_(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N_(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gp(e,t){return M_(e)||C_(e,t)||A_(e,t)||P_()}function P_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A_(e,t){if(e){if(typeof e=="string")return Yp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yp(e,t)}}function Yp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C_(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function M_(e){if(Array.isArray(e))return e}var Kp=/[ \f\n\r\t\v\u2028\u2029]+/,Zp=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];ye(t)||(r?a=t.toString().split(""):a=t.toString().split(Kp));var o=a.map(function(s){return{word:s,width:zn(s,n).width}}),i=r?0:zn("\xA0",n).width;return{wordsWithComputedWidth:o,spaceWidth:i}}catch{return null}},T_=function(e,t,r,n,a){var o=e.maxLines,i=e.children,s=e.style,c=e.breakAll,l=H(o),u=i,d=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(function(k,I){var B=I.word,F=I.width,V=k[k.length-1];if(V&&(n==null||a||V.width+F+r<Number(n)))V.words.push(B),V.width+=F+r;else{var W={words:[B],width:F};k.push(W)}return k},[])},p=d(t),m=function(C){return C.reduce(function(k,I){return k.width>I.width?k:I})};if(!l)return p;for(var y="\u2026",h=function(C){var k=u.slice(0,C),I=Zp({breakAll:c,style:s,children:k+y}).wordsWithComputedWidth,B=d(I),F=B.length>o||m(B).width>Number(n);return[F,B]},v=0,g=u.length-1,w=0,S;v<=g&&w<=u.length-1;){var x=Math.floor((v+g)/2),_=x-1,j=h(_),O=Gp(j,2),P=O[0],M=O[1],T=h(x),E=Gp(T,1),N=E[0];if(!P&&!N&&(v=x+1),P&&N&&(g=x-1),!P&&N){S=M;break}w++}return S||p},Jp=function(e){var t=ye(e)?[]:e.toString().split(Kp);return[{words:t}]},D_=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,o=e.breakAll,i=e.maxLines;if((t||r)&&!er.isSsr){var s,c,l=Zp({breakAll:o,children:n,style:a});if(l){var u=l.wordsWithComputedWidth,d=l.spaceWidth;s=u,c=d}else return Jp(n);return T_({breakAll:o,children:n,maxLines:i,style:a},s,c,t,r)}return Jp(n)},Qp="#808080",uo=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.lineHeight,i=o===void 0?"1em":o,s=e.capHeight,c=s===void 0?"0.71em":s,l=e.scaleToFit,u=l===void 0?!1:l,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,y=m===void 0?"end":m,h=e.fill,v=h===void 0?Qp:h,g=Xp(e,E_),w=b.useMemo(function(){return D_({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),S=g.dx,x=g.dy,_=g.angle,j=g.className,O=g.breakAll,P=Xp(g,k_);if(!Ce(r)||!Ce(a))return null;var M=r+(H(S)?S:0),T=a+(H(x)?x:0),E;switch(y){case"start":E=sc("calc(".concat(c,")"));break;case"middle":E=sc("calc(".concat((w.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:E=sc("calc(".concat(w.length-1," * -").concat(i,")"));break}var N=[];if(u){var C=w[0].width,k=g.width;N.push("scale(".concat((H(k)?k/C:1)/C,")"))}return _&&N.push("rotate(".concat(_,", ").concat(M,", ").concat(T,")")),N.length&&(P.transform=N.join(" ")),A.createElement("text",cc({},me(P,!0),{x:M,y:T,className:ge("recharts-text",j),textAnchor:p,fill:v.includes("url")?Qp:v}),w.map(function(I,B){var F=I.words.join(O?"":" ");return A.createElement("tspan",{x:M,dy:B===0?E:i,key:"".concat(F,"-").concat(B)},F)}))};function tr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I_(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lc(e){let t,r,n;e.length!==2?(t=tr,r=(s,c)=>tr(e(s),c),n=(s,c)=>e(s)-c):(t=e===tr||e===I_?e:L_,r=e,n=e);function a(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function i(s,c,l=0,u=s.length){const d=a(s,c,l,u-1);return d>l&&n(s[d-1],c)>-n(s[d],c)?d-1:d}return{left:a,center:i,right:o}}function L_(){return 0}function eh(e){return e===null?NaN:+e}function*R_(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const B_=lc(tr),Vn=B_.right;lc(eh).center;class th extends Map{constructor(t,r=z_){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(rh(this,t))}has(t){return super.has(rh(this,t))}set(t,r){return super.set(F_(this,t),r)}delete(t){return super.delete($_(this,t))}}function rh({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function F_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function $_({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function z_(e){return e!==null&&typeof e=="object"?e.valueOf():e}function U_(e=tr){if(e===tr)return nh;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function nh(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const V_=Math.sqrt(50),H_=Math.sqrt(10),q_=Math.sqrt(2);function fo(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=V_?10:o>=H_?5:o>=q_?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=r&&r<2?fo(e,t,r*2):[s,c,l]}function uc(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?fo(t,e,r):fo(e,t,r);if(!(o>=a))return[];const s=o-a+1,c=new Array(s);if(n)if(i<0)for(let l=0;l<s;++l)c[l]=(o-l)/-i;else for(let l=0;l<s;++l)c[l]=(o-l)*i;else if(i<0)for(let l=0;l<s;++l)c[l]=(a+l)/-i;else for(let l=0;l<s;++l)c[l]=(a+l)*i;return c}function dc(e,t,r){return t=+t,e=+e,r=+r,fo(e,t,r)[2]}function fc(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?dc(t,e,r):dc(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ah(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function oh(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ih(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?nh:U_(a);n>r;){if(n-r>600){const c=n-r+1,l=t-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),m=Math.max(r,Math.floor(t-l*d/c+p)),y=Math.min(n,Math.floor(t+(c-l)*d/c+p));ih(e,t,m,y,a)}const o=e[t];let i=r,s=n;for(Hn(e,r,t),a(e[n],o)>0&&Hn(e,r,n);i<s;){for(Hn(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Hn(e,r,s):(++s,Hn(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Hn(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function W_(e,t,r){if(e=Float64Array.from(R_(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return oh(e);if(t>=1)return ah(e);var n,a=(n-1)*t,o=Math.floor(a),i=ah(ih(e,o).subarray(0,o+1)),s=oh(e.subarray(o+1));return i+(s-i)*(a-o)}}function X_(e,t,r=eh){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function G_(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function vt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const pc=Symbol("implicit");function hc(){var e=new th,t=[],r=[],n=pc;function a(o){let i=e.get(o);if(i===void 0){if(n!==pc)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new th;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return hc(t,r).unknown(n)},vt.apply(a,arguments),a}function qn(){var e=hc().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var p=t().length,m=a<n,y=m?a:n,h=m?n:a;o=(h-y)/Math.max(1,p-c+l*2),s&&(o=Math.floor(o)),y+=(h-y-o*(p-c))*u,i=o*(1-c),s&&(y=Math.round(y),i=Math.round(i));var v=G_(p).map(function(g){return y+o*g});return r(m?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,l=+p),d()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),d()):c},e.paddingOuter=function(p){return arguments.length?(l=+p,d()):l},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),d()):u},e.copy=function(){return qn(t(),[n,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},vt.apply(d(),arguments)}function sh(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sh(t())},e}function Wn(){return sh(qn.apply(null,arguments).paddingInner(1))}function Y_(e){return function(){return e}}function po(e){return+e}var ch=[0,1];function Ye(e){return e}function mc(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Y_(isNaN(t)?NaN:.5)}function K_(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Z_(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=mc(a,n),o=r(i,o)):(n=mc(n,a),o=r(o,i)),function(s){return o(n(s))}}function J_(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=mc(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var c=Vn(e,s,1,n)-1;return o[c](a[c](s))}}function Xn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ho(){var e=ch,t=ch,r=Lr,n,a,o,i=Ye,s,c,l;function u(){var p=Math.min(e.length,t.length);return i!==Ye&&(i=K_(e[0],e[p-1])),s=p>2?J_:Z_,c=l=null,d}function d(p){return p==null||isNaN(p=+p)?o:(c||(c=s(e.map(n),t,r)))(n(i(p)))}return d.invert=function(p){return i(a((l||(l=s(t,e.map(n),ku)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,po),u()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=Ii,u()},d.clamp=function(p){return arguments.length?(i=p?!0:Ye,u()):i!==Ye},d.interpolate=function(p){return arguments.length?(r=p,u()):r},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,m){return n=p,a=m,u()}}function yc(){return ho()(Ye,Ye)}function Q_(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yr(e){return e=mo(Math.abs(e)),e?e[1]:NaN}function eO(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),o.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function tO(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rO=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gn(e){if(!(t=rO.exec(e)))throw new Error("invalid format: "+e);var t;return new vc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gn.prototype=vc.prototype;function vc(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nO(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var lh;function aO(e,t){var r=mo(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(lh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+mo(e,Math.max(0,t+o-1))[0]}function uh(e,t){var r=mo(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const dh={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Q_,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uh(e*100,t),r:uh,s:aO,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fh(e){return e}var ph=Array.prototype.map,hh=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function oO(e){var t=e.grouping===void 0||e.thousands===void 0?fh:eO(ph.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?fh:tO(ph.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=Gn(d);var p=d.fill,m=d.align,y=d.sign,h=d.symbol,v=d.zero,g=d.width,w=d.comma,S=d.precision,x=d.trim,_=d.type;_==="n"?(w=!0,_="g"):dh[_]||(S===void 0&&(S=12),x=!0,_="g"),(v||p==="0"&&m==="=")&&(v=!0,p="0",m="=");var j=h==="$"?r:h==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",O=h==="$"?n:/[%p]/.test(_)?i:"",P=dh[_],M=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function T(E){var N=j,C=O,k,I,B;if(_==="c")C=P(E)+C,E="";else{E=+E;var F=E<0||1/E<0;if(E=isNaN(E)?c:P(Math.abs(E),S),x&&(E=nO(E)),F&&+E==0&&y!=="+"&&(F=!1),N=(F?y==="("?y:s:y==="-"||y==="("?"":y)+N,C=(_==="s"?hh[8+lh/3]:"")+C+(F&&y==="("?")":""),M){for(k=-1,I=E.length;++k<I;)if(B=E.charCodeAt(k),48>B||B>57){C=(B===46?a+E.slice(k+1):E.slice(k))+C,E=E.slice(0,k);break}}}w&&!v&&(E=t(E,1/0));var V=N.length+E.length+C.length,W=V<g?new Array(g-V+1).join(p):"";switch(w&&v&&(E=t(W+E,W.length?g-C.length:1/0),W=""),m){case"<":E=N+E+C+W;break;case"=":E=N+W+E+C;break;case"^":E=W.slice(0,V=W.length>>1)+N+E+C+W.slice(V);break;default:E=W+N+E+C;break}return o(E)}return T.toString=function(){return d+""},T}function u(d,p){var m=l((d=Gn(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Yr(p)/3)))*3,h=Math.pow(10,-y),v=hh[8+y/3];return function(g){return m(h*g)+v}}return{format:l,formatPrefix:u}}var yo,gc,mh;iO({thousands:",",grouping:[3],currency:["$",""]});function iO(e){return yo=oO(e),gc=yo.format,mh=yo.formatPrefix,yo}function sO(e){return Math.max(0,-Yr(Math.abs(e)))}function cO(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yr(t)/3)))*3-Yr(Math.abs(e)))}function lO(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yr(t)-Yr(e))+1}function yh(e,t,r,n){var a=fc(e,t,r),o;switch(n=Gn(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=cO(a,i))&&(n.precision=o),mh(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=lO(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=sO(a))&&(n.precision=o-(n.type==="%")*2);break}}return gc(n)}function rr(e){var t=e.domain;return e.ticks=function(r){var n=t();return uc(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return yh(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],c,l,u=10;for(s<i&&(l=i,i=s,s=l,l=a,a=o,o=l);u-- >0;){if(l=dc(i,s,r),l===c)return n[a]=i,n[o]=s,t(n);if(l>0)i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l;else if(l<0)i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function vo(){var e=yc();return e.copy=function(){return Xn(e,vo())},vt.apply(e,arguments),rr(e)}function vh(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,po),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return vh(e).unknown(t)},e=arguments.length?Array.from(e,po):[0,1],rr(r)}function gh(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function bh(e){return Math.log(e)}function xh(e){return Math.exp(e)}function uO(e){return-Math.log(-e)}function dO(e){return-Math.exp(-e)}function fO(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pO(e){return e===10?fO:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hO(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wh(e){return(t,r)=>-e(-t,r)}function bc(e){const t=e(bh,xh),r=t.domain;let n=10,a,o;function i(){return a=hO(n),o=pO(n),r()[0]<0?(a=wh(a),o=wh(o),e(uO,dO)):e(bh,xh),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const c=r();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let p=a(l),m=a(u),y,h;const v=s==null?10:+s;let g=[];if(!(n%1)&&m-p<v){if(p=Math.floor(p),m=Math.ceil(m),l>0){for(;p<=m;++p)for(y=1;y<n;++y)if(h=p<0?y/o(-p):y*o(p),!(h<l)){if(h>u)break;g.push(h)}}else for(;p<=m;++p)for(y=n-1;y>=1;--y)if(h=p>0?y/o(-p):y*o(p),!(h<l)){if(h>u)break;g.push(h)}g.length*2<v&&(g=uc(l,u,v))}else g=uc(p,m,Math.min(m-p,v)).map(o);return d?g.reverse():g},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Gn(c)).precision==null&&(c.trim=!0),c=gc(c)),s===1/0)return c;const l=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/o(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=l?c(u):""}},t.nice=()=>r(gh(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function jh(){const e=bc(ho()).domain([1,10]);return e.copy=()=>Xn(e,jh()).base(e.base()),vt.apply(e,arguments),e}function _h(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Oh(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xc(e){var t=1,r=e(_h(t),Oh(t));return r.constant=function(n){return arguments.length?e(_h(t=+n),Oh(t)):t},rr(r)}function Sh(){var e=xc(ho());return e.copy=function(){return Xn(e,Sh()).constant(e.constant())},vt.apply(e,arguments)}function Eh(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mO(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yO(e){return e<0?-e*e:e*e}function wc(e){var t=e(Ye,Ye),r=1;function n(){return r===1?e(Ye,Ye):r===.5?e(mO,yO):e(Eh(r),Eh(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},rr(t)}function jc(){var e=wc(ho());return e.copy=function(){return Xn(e,jc()).exponent(e.exponent())},vt.apply(e,arguments),e}function vO(){return jc.apply(null,arguments).exponent(.5)}function kh(e){return Math.sign(e)*e*e}function gO(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Nh(){var e=yc(),t=[0,1],r=!1,n;function a(o){var i=gO(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(kh(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,po)).map(kh)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Nh(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},vt.apply(a,arguments),rr(a)}function Ph(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=X_(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Vn(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(tr),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return Ph().domain(e).range(t).unknown(n)},vt.apply(o,arguments)}function Ah(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(c){return c!=null&&c<=c?a[Vn(n,c,0,r)]:o}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},i.invertExtent=function(c){var l=a.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,n[0]]:l>=r?[n[r-1],t]:[n[l-1],n[l]]},i.unknown=function(c){return arguments.length&&(o=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Ah().domain([e,t]).range(a).unknown(o)},vt.apply(rr(i),arguments)}function Ch(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Vn(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return Ch().domain(e).range(t).unknown(r)},vt.apply(a,arguments)}const _c=new Date,Oc=new Date;function Me(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const c=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return c;let l;do c.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<i);return c},a.filter=o=>Me(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(_c.setTime(+o),Oc.setTime(+i),e(_c),e(Oc),Math.floor(r(_c,Oc))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const go=Me(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);go.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Me(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):go),go.range;const Ft=1e3,gt=Ft*60,$t=gt*60,zt=$t*24,Sc=zt*7,Mh=zt*30,Ec=zt*365,br=Me(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ft)},(e,t)=>(t-e)/Ft,e=>e.getUTCSeconds());br.range;const kc=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ft)},(e,t)=>{e.setTime(+e+t*gt)},(e,t)=>(t-e)/gt,e=>e.getMinutes());kc.range;const Nc=Me(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gt)},(e,t)=>(t-e)/gt,e=>e.getUTCMinutes());Nc.range;const Pc=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ft-e.getMinutes()*gt)},(e,t)=>{e.setTime(+e+t*$t)},(e,t)=>(t-e)/$t,e=>e.getHours());Pc.range;const Ac=Me(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$t)},(e,t)=>(t-e)/$t,e=>e.getUTCHours());Ac.range;const Yn=Me(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gt)/zt,e=>e.getDate()-1);Yn.range;const bo=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zt,e=>e.getUTCDate()-1);bo.range;const Th=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zt,e=>Math.floor(e/zt));Th.range;function xr(e){return Me(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gt)/Sc)}const xo=xr(0),wo=xr(1),bO=xr(2),xO=xr(3),Kr=xr(4),wO=xr(5),jO=xr(6);xo.range,wo.range,bO.range,xO.range,Kr.range,wO.range,jO.range;function wr(e){return Me(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Sc)}const jo=wr(0),_o=wr(1),_O=wr(2),OO=wr(3),Zr=wr(4),SO=wr(5),EO=wr(6);jo.range,_o.range,_O.range,OO.range,Zr.range,SO.range,EO.range;const Cc=Me(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Cc.range;const Mc=Me(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mc.range;const Ut=Me(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ut.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),Ut.range;const Vt=Me(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),Vt.range;function Dh(e,t,r,n,a,o){const i=[[br,1,Ft],[br,5,5*Ft],[br,15,15*Ft],[br,30,30*Ft],[o,1,gt],[o,5,5*gt],[o,15,15*gt],[o,30,30*gt],[a,1,$t],[a,3,3*$t],[a,6,6*$t],[a,12,12*$t],[n,1,zt],[n,2,2*zt],[r,1,Sc],[t,1,Mh],[t,3,3*Mh],[e,1,Ec]];function s(l,u,d){const p=u<l;p&&([l,u]=[u,l]);const m=d&&typeof d.range=="function"?d:c(l,u,d),y=m?m.range(l,+u+1):[];return p?y.reverse():y}function c(l,u,d){const p=Math.abs(u-l)/d,m=lc(([,,v])=>v).right(i,p);if(m===i.length)return e.every(fc(l/Ec,u/Ec,d));if(m===0)return go.every(Math.max(fc(l,u,d),1));const[y,h]=i[p/i[m-1][2]<i[m][2]/p?m-1:m];return y.every(h)}return[s,c]}const[kO,NO]=Dh(Vt,Mc,jo,Th,Ac,Nc),[PO,AO]=Dh(Ut,Cc,xo,Yn,Pc,kc);function Tc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kn(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function CO(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=Zn(a),u=Jn(a),d=Zn(o),p=Jn(o),m=Zn(i),y=Jn(i),h=Zn(s),v=Jn(s),g=Zn(c),w=Jn(c),S={a:F,A:V,b:W,B:Z,c:null,d:$h,e:$h,f:eS,g:uS,G:fS,H:ZO,I:JO,j:QO,L:zh,m:tS,M:rS,p:X,q:L,Q:Xh,s:Gh,S:nS,u:aS,U:oS,V:iS,w:sS,W:cS,x:null,X:null,y:lS,Y:dS,Z:pS,"%":Wh},x={a:G,A:D,b:U,B:te,c:null,d:Vh,e:Vh,f:vS,g:kS,G:PS,H:hS,I:mS,j:yS,L:Hh,m:gS,M:bS,p:ie,q:_e,Q:Xh,s:Gh,S:xS,u:wS,U:jS,V:_S,w:OS,W:SS,x:null,X:null,y:ES,Y:NS,Z:AS,"%":Wh},_={a:T,A:E,b:N,B:C,c:k,d:Bh,e:Bh,f:XO,g:Rh,G:Lh,H:Fh,I:Fh,j:VO,L:WO,m:UO,M:HO,p:M,q:zO,Q:YO,s:KO,S:qO,u:LO,U:RO,V:BO,w:IO,W:FO,x:I,X:B,y:Rh,Y:Lh,Z:$O,"%":GO};S.x=j(r,S),S.X=j(n,S),S.c=j(t,S),x.x=j(r,x),x.X=j(n,x),x.c=j(t,x);function j(q,Q){return function(ne){var z=[],$e=-1,ue=0,De=q.length,Ie,Ze,Cr;for(ne instanceof Date||(ne=new Date(+ne));++$e<De;)q.charCodeAt($e)===37&&(z.push(q.slice(ue,$e)),(Ze=Ih[Ie=q.charAt(++$e)])!=null?Ie=q.charAt(++$e):Ze=Ie==="e"?" ":"0",(Cr=Q[Ie])&&(Ie=Cr(ne,Ze)),z.push(Ie),ue=$e+1);return z.push(q.slice(ue,$e)),z.join("")}}function O(q,Q){return function(ne){var z=Kn(1900,void 0,1),$e=P(z,q,ne+="",0),ue,De;if($e!=ne.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(Q&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(ue=Dc(Kn(z.y,0,1)),De=ue.getUTCDay(),ue=De>4||De===0?_o.ceil(ue):_o(ue),ue=bo.offset(ue,(z.V-1)*7),z.y=ue.getUTCFullYear(),z.m=ue.getUTCMonth(),z.d=ue.getUTCDate()+(z.w+6)%7):(ue=Tc(Kn(z.y,0,1)),De=ue.getDay(),ue=De>4||De===0?wo.ceil(ue):wo(ue),ue=Yn.offset(ue,(z.V-1)*7),z.y=ue.getFullYear(),z.m=ue.getMonth(),z.d=ue.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),De="Z"in z?Dc(Kn(z.y,0,1)).getUTCDay():Tc(Kn(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(De+5)%7:z.w+z.U*7-(De+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Dc(z)):Tc(z)}}function P(q,Q,ne,z){for(var $e=0,ue=Q.length,De=ne.length,Ie,Ze;$e<ue;){if(z>=De)return-1;if(Ie=Q.charCodeAt($e++),Ie===37){if(Ie=Q.charAt($e++),Ze=_[Ie in Ih?Q.charAt($e++):Ie],!Ze||(z=Ze(q,ne,z))<0)return-1}else if(Ie!=ne.charCodeAt(z++))return-1}return z}function M(q,Q,ne){var z=l.exec(Q.slice(ne));return z?(q.p=u.get(z[0].toLowerCase()),ne+z[0].length):-1}function T(q,Q,ne){var z=m.exec(Q.slice(ne));return z?(q.w=y.get(z[0].toLowerCase()),ne+z[0].length):-1}function E(q,Q,ne){var z=d.exec(Q.slice(ne));return z?(q.w=p.get(z[0].toLowerCase()),ne+z[0].length):-1}function N(q,Q,ne){var z=g.exec(Q.slice(ne));return z?(q.m=w.get(z[0].toLowerCase()),ne+z[0].length):-1}function C(q,Q,ne){var z=h.exec(Q.slice(ne));return z?(q.m=v.get(z[0].toLowerCase()),ne+z[0].length):-1}function k(q,Q,ne){return P(q,t,Q,ne)}function I(q,Q,ne){return P(q,r,Q,ne)}function B(q,Q,ne){return P(q,n,Q,ne)}function F(q){return i[q.getDay()]}function V(q){return o[q.getDay()]}function W(q){return c[q.getMonth()]}function Z(q){return s[q.getMonth()]}function X(q){return a[+(q.getHours()>=12)]}function L(q){return 1+~~(q.getMonth()/3)}function G(q){return i[q.getUTCDay()]}function D(q){return o[q.getUTCDay()]}function U(q){return c[q.getUTCMonth()]}function te(q){return s[q.getUTCMonth()]}function ie(q){return a[+(q.getUTCHours()>=12)]}function _e(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var Q=j(q+="",S);return Q.toString=function(){return q},Q},parse:function(q){var Q=O(q+="",!1);return Q.toString=function(){return q},Q},utcFormat:function(q){var Q=j(q+="",x);return Q.toString=function(){return q},Q},utcParse:function(q){var Q=O(q+="",!0);return Q.toString=function(){return q},Q}}}var Ih={"-":"",_:" ",0:"0"},Be=/^\s*\d+/,MO=/^%/,TO=/[\\^$*+?|[\]().{}]/g;function he(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function DO(e){return e.replace(TO,"\\$&")}function Zn(e){return new RegExp("^(?:"+e.map(DO).join("|")+")","i")}function Jn(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function IO(e,t,r){var n=Be.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function LO(e,t,r){var n=Be.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function RO(e,t,r){var n=Be.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function BO(e,t,r){var n=Be.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function FO(e,t,r){var n=Be.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Lh(e,t,r){var n=Be.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Rh(e,t,r){var n=Be.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $O(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zO(e,t,r){var n=Be.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function UO(e,t,r){var n=Be.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Bh(e,t,r){var n=Be.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function VO(e,t,r){var n=Be.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Fh(e,t,r){var n=Be.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function HO(e,t,r){var n=Be.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qO(e,t,r){var n=Be.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function WO(e,t,r){var n=Be.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function XO(e,t,r){var n=Be.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GO(e,t,r){var n=MO.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YO(e,t,r){var n=Be.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KO(e,t,r){var n=Be.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $h(e,t){return he(e.getDate(),t,2)}function ZO(e,t){return he(e.getHours(),t,2)}function JO(e,t){return he(e.getHours()%12||12,t,2)}function QO(e,t){return he(1+Yn.count(Ut(e),e),t,3)}function zh(e,t){return he(e.getMilliseconds(),t,3)}function eS(e,t){return zh(e,t)+"000"}function tS(e,t){return he(e.getMonth()+1,t,2)}function rS(e,t){return he(e.getMinutes(),t,2)}function nS(e,t){return he(e.getSeconds(),t,2)}function aS(e){var t=e.getDay();return t===0?7:t}function oS(e,t){return he(xo.count(Ut(e)-1,e),t,2)}function Uh(e){var t=e.getDay();return t>=4||t===0?Kr(e):Kr.ceil(e)}function iS(e,t){return e=Uh(e),he(Kr.count(Ut(e),e)+(Ut(e).getDay()===4),t,2)}function sS(e){return e.getDay()}function cS(e,t){return he(wo.count(Ut(e)-1,e),t,2)}function lS(e,t){return he(e.getFullYear()%100,t,2)}function uS(e,t){return e=Uh(e),he(e.getFullYear()%100,t,2)}function dS(e,t){return he(e.getFullYear()%1e4,t,4)}function fS(e,t){var r=e.getDay();return e=r>=4||r===0?Kr(e):Kr.ceil(e),he(e.getFullYear()%1e4,t,4)}function pS(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+he(t/60|0,"0",2)+he(t%60,"0",2)}function Vh(e,t){return he(e.getUTCDate(),t,2)}function hS(e,t){return he(e.getUTCHours(),t,2)}function mS(e,t){return he(e.getUTCHours()%12||12,t,2)}function yS(e,t){return he(1+bo.count(Vt(e),e),t,3)}function Hh(e,t){return he(e.getUTCMilliseconds(),t,3)}function vS(e,t){return Hh(e,t)+"000"}function gS(e,t){return he(e.getUTCMonth()+1,t,2)}function bS(e,t){return he(e.getUTCMinutes(),t,2)}function xS(e,t){return he(e.getUTCSeconds(),t,2)}function wS(e){var t=e.getUTCDay();return t===0?7:t}function jS(e,t){return he(jo.count(Vt(e)-1,e),t,2)}function qh(e){var t=e.getUTCDay();return t>=4||t===0?Zr(e):Zr.ceil(e)}function _S(e,t){return e=qh(e),he(Zr.count(Vt(e),e)+(Vt(e).getUTCDay()===4),t,2)}function OS(e){return e.getUTCDay()}function SS(e,t){return he(_o.count(Vt(e)-1,e),t,2)}function ES(e,t){return he(e.getUTCFullYear()%100,t,2)}function kS(e,t){return e=qh(e),he(e.getUTCFullYear()%100,t,2)}function NS(e,t){return he(e.getUTCFullYear()%1e4,t,4)}function PS(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Zr(e):Zr.ceil(e),he(e.getUTCFullYear()%1e4,t,4)}function AS(){return"+0000"}function Wh(){return"%"}function Xh(e){return+e}function Gh(e){return Math.floor(+e/1e3)}var Jr,Yh,Kh;CS({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function CS(e){return Jr=CO(e),Yh=Jr.format,Jr.parse,Kh=Jr.utcFormat,Jr.utcParse,Jr}function MS(e){return new Date(e)}function TS(e){return e instanceof Date?+e:+new Date(+e)}function Ic(e,t,r,n,a,o,i,s,c,l){var u=yc(),d=u.invert,p=u.domain,m=l(".%L"),y=l(":%S"),h=l("%I:%M"),v=l("%I %p"),g=l("%a %d"),w=l("%b %d"),S=l("%B"),x=l("%Y");function _(j){return(c(j)<j?m:s(j)<j?y:i(j)<j?h:o(j)<j?v:n(j)<j?a(j)<j?g:w:r(j)<j?S:x)(j)}return u.invert=function(j){return new Date(d(j))},u.domain=function(j){return arguments.length?p(Array.from(j,TS)):p().map(MS)},u.ticks=function(j){var O=p();return e(O[0],O[O.length-1],j??10)},u.tickFormat=function(j,O){return O==null?_:l(O)},u.nice=function(j){var O=p();return(!j||typeof j.range!="function")&&(j=t(O[0],O[O.length-1],j??10)),j?p(gh(O,j)):u},u.copy=function(){return Xn(u,Ic(e,t,r,n,a,o,i,s,c,l))},u}function DS(){return vt.apply(Ic(PO,AO,Ut,Cc,xo,Yn,Pc,kc,br,Yh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IS(){return vt.apply(Ic(kO,NO,Vt,Mc,jo,bo,Ac,Nc,br,Kh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oo(){var e=0,t=1,r,n,a,o,i=Ye,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(i=d,l):i};function u(d){return function(p){var m,y;return arguments.length?([m,y]=p,i=d(m,y),l):[i(0),i(1)]}}return l.range=u(Lr),l.rangeRound=u(Ii),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),l}}function nr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Zh(){var e=rr(Oo()(Ye));return e.copy=function(){return nr(e,Zh())},Bt.apply(e,arguments)}function Jh(){var e=bc(Oo()).domain([1,10]);return e.copy=function(){return nr(e,Jh()).base(e.base())},Bt.apply(e,arguments)}function Qh(){var e=xc(Oo());return e.copy=function(){return nr(e,Qh()).constant(e.constant())},Bt.apply(e,arguments)}function Lc(){var e=wc(Oo());return e.copy=function(){return nr(e,Lc()).exponent(e.exponent())},Bt.apply(e,arguments)}function LS(){return Lc.apply(null,arguments).exponent(.5)}function em(){var e=[],t=Ye;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vn(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(tr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>W_(e,o/n))},r.copy=function(){return em(t).domain(e)},Bt.apply(r,arguments)}function So(){var e=0,t=.5,r=1,n=1,a,o,i,s,c,l=Ye,u,d=!1,p;function m(h){return isNaN(h=+h)?p:(h=.5+((h=+u(h))-o)*(n*h<n*o?s:c),l(d?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([e,t,r]=h,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m):[e,t,r]},m.clamp=function(h){return arguments.length?(d=!!h,m):d},m.interpolator=function(h){return arguments.length?(l=h,m):l};function y(h){return function(v){var g,w,S;return arguments.length?([g,w,S]=v,l=O0(h,[g,w,S]),m):[l(0),l(.5),l(1)]}}return m.range=y(Lr),m.rangeRound=y(Ii),m.unknown=function(h){return arguments.length?(p=h,m):p},function(h){return u=h,a=h(e),o=h(t),i=h(r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m}}function tm(){var e=rr(So()(Ye));return e.copy=function(){return nr(e,tm())},Bt.apply(e,arguments)}function rm(){var e=bc(So()).domain([.1,1,10]);return e.copy=function(){return nr(e,rm()).base(e.base())},Bt.apply(e,arguments)}function nm(){var e=xc(So());return e.copy=function(){return nr(e,nm()).constant(e.constant())},Bt.apply(e,arguments)}function Rc(){var e=wc(So());return e.copy=function(){return nr(e,Rc()).exponent(e.exponent())},Bt.apply(e,arguments)}function RS(){return Rc.apply(null,arguments).exponent(.5)}const am=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qn,scaleDiverging:tm,scaleDivergingLog:rm,scaleDivergingPow:Rc,scaleDivergingSqrt:RS,scaleDivergingSymlog:nm,scaleIdentity:vh,scaleImplicit:pc,scaleLinear:vo,scaleLog:jh,scaleOrdinal:hc,scalePoint:Wn,scalePow:jc,scaleQuantile:Ph,scaleQuantize:Ah,scaleRadial:Nh,scaleSequential:Zh,scaleSequentialLog:Jh,scaleSequentialPow:Lc,scaleSequentialQuantile:em,scaleSequentialSqrt:LS,scaleSequentialSymlog:Qh,scaleSqrt:vO,scaleSymlog:Sh,scaleThreshold:Ch,scaleTime:DS,scaleUtc:IS,tickFormat:yh},Symbol.toStringTag,{value:"Module"}));var Bc,om;function im(){if(om)return Bc;om=1;var e=o0();function t(r,n,a){for(var o=-1,i=r.length;++o<i;){var s=r[o],c=n(s);if(c!=null&&(l===void 0?c===c&&!e(c):a(c,l)))var l=c,u=s}return u}return Bc=t,Bc}var Fc,sm;function BS(){if(sm)return Fc;sm=1;function e(t,r){return t>r}return Fc=e,Fc}var $c,cm;function FS(){if(cm)return $c;cm=1;var e=im(),t=BS(),r=Ru();function n(a){return a&&a.length?e(a,r,t):void 0}return $c=n,$c}var $S=FS();const Eo=Se($S);var zc,lm;function zS(){if(lm)return zc;lm=1;function e(t,r){return t<r}return zc=e,zc}var Uc,um;function US(){if(um)return Uc;um=1;var e=im(),t=zS(),r=Ru();function n(a){return a&&a.length?e(a,r,t):void 0}return Uc=n,Uc}var VS=US();const ko=Se(VS);var Vc,dm;function HS(){if(dm)return Vc;dm=1;var e=s0(),t=iL();function r(n,a){return e(t(n,a),1)}return Vc=r,Vc}var qS=HS();const WS=Se(qS);var Hc,fm;function XS(){if(fm)return Hc;fm=1;var e=KI();function t(r,n){return e(r,n)}return Hc=t,Hc}var GS=XS();const qc=Se(GS);var Qr=1e9,YS={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Gc,Oe=!0,bt="[DecimalError] ",jr=bt+"Invalid argument: ",Wc=bt+"Exponent out of range: ",en=Math.floor,_r=Math.pow,KS=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lt,Fe=1e7,je=7,pm=9007199254740991,No=en(pm/je),Y={};Y.absoluteValue=Y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Y.comparedTo=Y.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1},Y.decimalPlaces=Y.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*je;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r},Y.dividedBy=Y.div=function(e){return Ht(this,new this.constructor(e))},Y.dividedToIntegerBy=Y.idiv=function(e){var t=this,r=t.constructor;return xe(Ht(t,new r(e),0,1),r.precision)},Y.equals=Y.eq=function(e){return!this.cmp(e)},Y.exponent=function(){return Pe(this)},Y.greaterThan=Y.gt=function(e){return this.cmp(e)>0},Y.greaterThanOrEqualTo=Y.gte=function(e){return this.cmp(e)>=0},Y.isInteger=Y.isint=function(){return this.e>this.d.length-2},Y.isNegative=Y.isneg=function(){return this.s<0},Y.isPositive=Y.ispos=function(){return this.s>0},Y.isZero=function(){return this.s===0},Y.lessThan=Y.lt=function(e){return this.cmp(e)<0},Y.lessThanOrEqualTo=Y.lte=function(e){return this.cmp(e)<1},Y.logarithm=Y.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lt))throw Error(bt+"NaN");if(r.s<1)throw Error(bt+(r.s?"NaN":"-Infinity"));return r.eq(lt)?new n(0):(Oe=!1,t=Ht(Qn(r,o),Qn(e,o),o),Oe=!0,xe(t,a))},Y.minus=Y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vm(t,e):hm(t,(e.s=-e.s,e))},Y.modulo=Y.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(bt+"NaN");return r.s?(Oe=!1,t=Ht(r,e,0,1).times(e),Oe=!0,r.minus(t)):xe(new n(r),a)},Y.naturalExponential=Y.exp=function(){return mm(this)},Y.naturalLogarithm=Y.ln=function(){return Qn(this)},Y.negated=Y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Y.plus=Y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hm(t,e):vm(t,(e.s=-e.s,e))},Y.precision=Y.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jr+e);if(t=Pe(a)+1,n=a.d.length-1,r=n*je+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},Y.squareRoot=Y.sqrt=function(){var e,t,r,n,a,o,i,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(bt+"NaN")}for(e=Pe(s),Oe=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=At(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=en((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(o=n,n=o.plus(Ht(s,o,i+2)).times(.5),At(o.d).slice(0,i)===(t=At(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(xe(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Oe=!0,xe(n,r)},Y.times=Y.mul=function(e){var t,r,n,a,o,i,s,c,l,u=this,d=u.constructor,p=u.d,m=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,c=p.length,l=m.length,c<l&&(o=p,p=m,m=o,i=c,c=l,l=i),o=[],i=c+l,n=i;n--;)o.push(0);for(n=l;--n>=0;){for(t=0,a=c+n;a>n;)s=o[a]+m[n]*p[a-n-1]+t,o[a--]=s%Fe|0,t=s/Fe|0;o[a]=(o[a]+t)%Fe|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Oe?xe(e,d.precision):e},Y.toDecimalPlaces=Y.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Pt(e,0,Qr),t===void 0?t=n.rounding:Pt(t,0,8),xe(r,e+Pe(r)+1,t))},Y.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Or(n,!0):(Pt(e,0,Qr),t===void 0?t=a.rounding:Pt(t,0,8),n=xe(new a(n),e+1,t),r=Or(n,!0,e+1)),r},Y.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Or(a):(Pt(e,0,Qr),t===void 0?t=o.rounding:Pt(t,0,8),n=xe(new o(a),e+Pe(a)+1,t),r=Or(n.abs(),!1,e+Pe(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},Y.toInteger=Y.toint=function(){var e=this,t=e.constructor;return xe(new t(e),Pe(e)+1,t.rounding)},Y.toNumber=function(){return+this},Y.toPower=Y.pow=function(e){var t,r,n,a,o,i,s=this,c=s.constructor,l=12,u=+(e=new c(e));if(!e.s)return new c(lt);if(s=new c(s),!s.s){if(e.s<1)throw Error(bt+"Infinity");return s}if(s.eq(lt))return s;if(n=c.precision,e.eq(lt))return xe(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=pm){for(a=new c(lt),t=Math.ceil(n/je+4),Oe=!1;r%2&&(a=a.times(s),gm(a.d,t)),r=en(r/2),r!==0;)s=s.times(s),gm(s.d,t);return Oe=!0,e.s<0?new c(lt).div(a):xe(a,n)}}else if(o<0)throw Error(bt+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Oe=!1,a=e.times(Qn(s,n+l)),Oe=!0,a=mm(a),a.s=o,a},Y.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Pe(a),n=Or(a,r<=o.toExpNeg||r>=o.toExpPos)):(Pt(e,1,Qr),t===void 0?t=o.rounding:Pt(t,0,8),a=xe(new o(a),e,t),r=Pe(a),n=Or(a,e<=r||r<=o.toExpNeg,e)),n},Y.toSignificantDigits=Y.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Pt(e,1,Qr),t===void 0?t=n.rounding:Pt(t,0,8)),xe(new n(r),e,t)},Y.toString=Y.valueOf=Y.val=Y.toJSON=Y[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pe(e),r=e.constructor;return Or(e,t<=r.toExpNeg||t>=r.toExpPos)};function hm(e,t){var r,n,a,o,i,s,c,l,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Oe?xe(t,d):t;if(c=e.d,l=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a,o){for(o<0?(n=c,o=-o,s=l.length):(n=l,a=i,s=c.length),i=Math.ceil(d/je),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=c.length,o=l.length,s-o<0&&(o=s,n=l,l=c,c=n),r=0;o;)r=(c[--o]=c[o]+l[o]+r)/Fe|0,c[o]%=Fe;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Oe?xe(t,d):t}function Pt(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jr+e)}function At(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=je-n.length,r&&(o+=ar(r)),o+=n;i=e[t],n=i+"",r=je-n.length,r&&(o+=ar(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Ht=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Fe|0,i=o/Fe|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,c;if(o!=i)c=o>i?1:-1;else for(s=c=0;s<o;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Fe+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,c,l,u,d,p,m,y,h,v,g,w,S,x,_,j,O,P,M=n.constructor,T=n.s==a.s?1:-1,E=n.d,N=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(bt+"Division by zero");for(c=n.e-a.e,O=N.length,_=E.length,m=new M(T),y=m.d=[],l=0;N[l]==(E[l]||0);)++l;if(N[l]>(E[l]||0)&&--c,o==null?w=o=M.precision:i?w=o+(Pe(n)-Pe(a))+1:w=o,w<0)return new M(0);if(w=w/je+2|0,l=0,O==1)for(u=0,N=N[0],w++;(l<_||u)&&w--;l++)S=u*Fe+(E[l]||0),y[l]=S/N|0,u=S%N|0;else{for(u=Fe/(N[0]+1)|0,u>1&&(N=e(N,u),E=e(E,u),O=N.length,_=E.length),x=O,h=E.slice(0,O),v=h.length;v<O;)h[v++]=0;P=N.slice(),P.unshift(0),j=N[0],N[1]>=Fe/2&&++j;do u=0,s=t(N,h,O,v),s<0?(g=h[0],O!=v&&(g=g*Fe+(h[1]||0)),u=g/j|0,u>1?(u>=Fe&&(u=Fe-1),d=e(N,u),p=d.length,v=h.length,s=t(d,h,p,v),s==1&&(u--,r(d,O<p?P:N,p))):(u==0&&(s=u=1),d=N.slice()),p=d.length,p<v&&d.unshift(0),r(h,d,v),s==-1&&(v=h.length,s=t(N,h,O,v),s<1&&(u++,r(h,O<v?P:N,v))),v=h.length):s===0&&(u++,h=[0]),y[l++]=u,s&&h[0]?h[v++]=E[x]||0:(h=[E[x]],v=1);while((x++<_||h[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=c,xe(m,i?o+Pe(m)+1:o)}}();function mm(e,t){var r,n,a,o,i,s,c=0,l=0,u=e.constructor,d=u.precision;if(Pe(e)>16)throw Error(Wc+Pe(e));if(!e.s)return new u(lt);for(t==null?(Oe=!1,s=d):s=t,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(n=Math.log(_r(2,l))/Math.LN10*2+5|0,s+=n,r=a=o=new u(lt),u.precision=s;;){if(a=xe(a.times(e),s),r=r.times(++c),i=o.plus(Ht(a,r,s)),At(i.d).slice(0,s)===At(o.d).slice(0,s)){for(;l--;)o=xe(o.times(o),s);return u.precision=d,t==null?(Oe=!0,xe(o,d)):o}o=i}}function Pe(e){for(var t=e.e*je,r=e.d[0];r>=10;r/=10)t++;return t}function Xc(e,t,r){if(t>e.LN10.sd())throw Oe=!0,r&&(e.precision=r),Error(bt+"LN10 precision limit exceeded");return xe(new e(e.LN10),t)}function ar(e){for(var t="";e--;)t+="0";return t}function Qn(e,t){var r,n,a,o,i,s,c,l,u,d=1,p=10,m=e,y=m.d,h=m.constructor,v=h.precision;if(m.s<1)throw Error(bt+(m.s?"NaN":"-Infinity"));if(m.eq(lt))return new h(0);if(t==null?(Oe=!1,l=v):l=t,m.eq(10))return t==null&&(Oe=!0),Xc(h,l);if(l+=p,h.precision=l,r=At(y),n=r.charAt(0),o=Pe(m),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=At(m.d),n=r.charAt(0),d++;o=Pe(m),n>1?(m=new h("0."+r),o++):m=new h(n+"."+r.slice(1))}else return c=Xc(h,l+2,v).times(o+""),m=Qn(new h(n+"."+r.slice(1)),l-p).plus(c),h.precision=v,t==null?(Oe=!0,xe(m,v)):m;for(s=i=m=Ht(m.minus(lt),m.plus(lt),l),u=xe(m.times(m),l),a=3;;){if(i=xe(i.times(u),l),c=s.plus(Ht(i,new h(a),l)),At(c.d).slice(0,l)===At(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(Xc(h,l+2,v).times(o+""))),s=Ht(s,new h(d),l),h.precision=v,t==null?(Oe=!0,xe(s,v)):s;s=c,a+=2}}function ym(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=en(r/je),e.d=[],n=(r+1)%je,r<0&&(n+=je),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=je;n<a;)e.d.push(+t.slice(n,n+=je));t=t.slice(n),n=je-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Oe&&(e.e>No||e.e<-No))throw Error(Wc+r)}else e.s=0,e.e=0,e.d=[0];return e}function xe(e,t,r){var n,a,o,i,s,c,l,u,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=je,a=t,l=d[u=0];else{if(u=Math.ceil((n+1)/je),o=d.length,u>=o)return e;for(l=o=d[u],i=1;o>=10;o/=10)i++;n%=je,a=n-je+i}if(r!==void 0&&(o=_r(10,i-a-1),s=l/o%10|0,c=t<0||d[u+1]!==void 0||l%o,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?l/_r(10,i-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(o=Pe(e),d.length=1,t=t-o-1,d[0]=_r(10,(je-t%je)%je),e.e=en(-t/je)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,o=1,u--):(d.length=u+1,o=_r(10,je-n),d[u]=a>0?(l/_r(10,i-a)%_r(10,a)|0)*o:0),c)for(;;)if(u==0){(d[0]+=o)==Fe&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=Fe)break;d[u--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Oe&&(e.e>No||e.e<-No))throw Error(Wc+Pe(e));return e}function vm(e,t){var r,n,a,o,i,s,c,l,u,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Oe?xe(t,m):t;if(c=e.d,d=t.d,n=t.e,l=e.e,c=c.slice(),i=l-n,i){for(u=i<0,u?(r=c,i=-i,s=d.length):(r=d,n=l,s=c.length),a=Math.max(Math.ceil(m/je),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=d.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(c[a]!=d[a]){u=c[a]<d[a];break}i=0}for(u&&(r=c,c=d,d=r,t.s=-t.s),s=c.length,a=d.length-s;a>0;--a)c[s++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(o=a;o&&c[--o]===0;)c[o]=Fe-1;--c[o],c[a]+=Fe}c[a]-=d[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Oe?xe(t,m):t):new p(0)}function Or(e,t,r){var n,a=Pe(e),o=At(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+ar(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+ar(-a-1)+o,r&&(n=r-i)>0&&(o+=ar(n))):a>=i?(o+=ar(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+ar(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=ar(n))),e.s<0?"-"+o:o}function gm(e,t){if(e.length>t)return e.length=t,!0}function bm(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(jr+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return ym(i,o.toString())}else if(typeof o!="string")throw Error(jr+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,KS.test(o))ym(i,o);else throw Error(jr+o)}if(a.prototype=Y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=bm,a.config=a.set=ZS,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ZS(e){if(!e||typeof e!="object")throw Error(bt+"Object expected");var t,r,n,a=["precision",1,Qr,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(en(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(jr+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jr+r+": "+n);return this}var Gc=bm(YS);lt=new Gc(1);const be=Gc;function JS(e){return rE(e)||tE(e)||eE(e)||QS()}function QS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eE(e,t){if(e){if(typeof e=="string")return Yc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yc(e,t)}}function tE(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rE(e){if(Array.isArray(e))return Yc(e)}function Yc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nE=function(e){return e},xm={"@@functional/placeholder":!0},wm=function(e){return e===xm},jm=function(e){return function t(){return arguments.length===0||arguments.length===1&&wm(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},aE=function e(t,r){return t===1?r:jm(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==xm}).length;return i>=t?r.apply(void 0,a):e(t-i,jm(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=a.map(function(d){return wm(d)?c.shift():d});return r.apply(void 0,JS(u).concat(c))}))})},Po=function(e){return aE(e.length,e)},Kc=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},oE=Po(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),iE=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return nE;var n=t.reverse(),a=n[0],o=n.slice(1);return function(){return o.reduce(function(i,s){return s(i)},a.apply(void 0,arguments))}},Zc=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},_m=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t&&a.every(function(i,s){return i===t[s]})||(t=a,r=e.apply(void 0,a)),r}};function sE(e){var t;return e===0?t=1:t=Math.floor(new be(e).abs().log(10).toNumber())+1,t}function cE(e,t,r){for(var n=new be(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var lE=Po(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),uE=Po(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),dE=Po(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Ao={rangeStep:cE,getDigitCount:sE,interpolateNumber:lE,uninterpolateNumber:uE,uninterpolateTruncation:dE};function Jc(e){return hE(e)||pE(e)||Om(e)||fE()}function fE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pE(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hE(e){if(Array.isArray(e))return Qc(e)}function ea(e,t){return vE(e)||yE(e,t)||Om(e,t)||mE()}function mE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Om(e,t){if(e){if(typeof e=="string")return Qc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qc(e,t)}}function Qc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yE(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,o=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function vE(e){if(Array.isArray(e))return e}function Sm(e){var t=ea(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function Em(e,t,r){if(e.lte(0))return new be(0);var n=Ao.getDigitCount(e.toNumber()),a=new be(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new be(Math.ceil(o.div(i).toNumber())).add(r).mul(i),c=s.mul(a);return t?c:new be(Math.ceil(c))}function gE(e,t,r){var n=1,a=new be(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new be(10).pow(Ao.getDigitCount(e)-1),a=new be(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new be(Math.floor(e)))}else e===0?a=new be(Math.floor((t-1)/2)):r||(a=new be(Math.floor(e)));var i=Math.floor((t-1)/2),s=iE(oE(function(c){return a.add(new be(c-i).mul(n)).toNumber()}),Kc);return s(0,t)}function km(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new be(0),tickMin:new be(0),tickMax:new be(0)};var o=Em(new be(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new be(0):(i=new be(e).add(t).div(2),i=i.sub(new be(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),c=Math.ceil(new be(t).sub(i).div(o).toNumber()),l=s+c+1;return l>r?km(e,t,r,n,a+1):(l<r&&(c=t>0?c+(r-l):c,s=t>0?s:s+(r-l)),{step:o,tickMin:i.sub(new be(s).mul(o)),tickMax:i.add(new be(c).mul(o))})}function bE(e){var t=ea(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=Sm([r,n]),c=ea(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var d=u===1/0?[l].concat(Jc(Kc(0,a-1).map(function(){return 1/0}))):[].concat(Jc(Kc(0,a-1).map(function(){return-1/0})),[u]);return r>n?Zc(d):d}if(l===u)return gE(l,a,o);var p=km(l,u,i,o),m=p.step,y=p.tickMin,h=p.tickMax,v=Ao.rangeStep(y,h.add(new be(.1).mul(m)),m);return r>n?Zc(v):v}function xE(e,t){var r=ea(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Sm([n,a]),s=ea(i,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,a];if(c===l)return[c];var u=Math.max(t,2),d=Em(new be(l).sub(c).div(u-1),o,0),p=[].concat(Jc(Ao.rangeStep(new be(c),new be(l).sub(new be(.99).mul(d)),d)),[l]);return n>a?Zc(p):p}var wE=_m(bE),jE=_m(xE),_E="Invariant failed";function Sr(e,t){throw new Error(_E)}var OE=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function tn(e){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(e)}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Co.apply(this,arguments)}function SE(e,t){return PE(e)||NE(e,t)||kE(e,t)||EE()}function EE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kE(e,t){if(e){if(typeof e=="string")return Nm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nm(e,t)}}function Nm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function PE(e){if(Array.isArray(e))return e}function AE(e,t){if(e==null)return{};var r=CE(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ME(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cm(n.key),n)}}function DE(e,t,r){return t&&TE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IE(e,t,r){return t=Mo(t),LE(e,Pm()?Reflect.construct(t,r||[],Mo(e).constructor):t.apply(e,r))}function LE(e,t){if(t&&(tn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RE(e)}function RE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pm=function(){return!!e})()}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(e)}function BE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}function el(e,t){return el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},el(e,t)}function Am(e,t,r){return t=Cm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cm(e){var t=FE(e,"string");return tn(t)=="symbol"?t:t+""}function FE(e,t){if(tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var To=function(e){function t(){return ME(this,t),IE(this,t,arguments)}return BE(t,e),DE(t,[{key:"render",value:function(){var r=this.props,n=r.offset,a=r.layout,o=r.width,i=r.dataKey,s=r.data,c=r.dataPointFormatter,l=r.xAxis,u=r.yAxis,d=AE(r,OE),p=me(d,!1);this.props.direction==="x"&&l.type!=="number"&&Sr();var m=s.map(function(y){var h=c(y,i),v=h.x,g=h.y,w=h.value,S=h.errorVal;if(!S)return null;var x=[],_,j;if(Array.isArray(S)){var O=SE(S,2);_=O[0],j=O[1]}else _=j=S;if(a==="vertical"){var P=l.scale,M=g+n,T=M+o,E=M-o,N=P(w-_),C=P(w+j);x.push({x1:C,y1:T,x2:C,y2:E}),x.push({x1:N,y1:M,x2:C,y2:M}),x.push({x1:N,y1:T,x2:N,y2:E})}else if(a==="horizontal"){var k=u.scale,I=v+n,B=I-o,F=I+o,V=k(w-_),W=k(w+j);x.push({x1:B,y1:W,x2:F,y2:W}),x.push({x1:I,y1:V,x2:I,y2:W}),x.push({x1:B,y1:V,x2:F,y2:V})}return A.createElement(Re,Co({className:"recharts-errorBar",key:"bar-".concat(x.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),x.map(function(Z){return A.createElement("line",Co({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return A.createElement(Re,{className:"recharts-errorBars"},m)}}])}(A.Component);Am(To,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Am(To,"displayName","ErrorBar");function ta(e){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(e)}function Mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mm(Object(r),!0).forEach(function(n){$E(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $E(e,t,r){return t=zE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zE(e){var t=UE(e,"string");return ta(t)=="symbol"?t:t+""}function UE(e,t){if(ta(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tm=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,o=ct(t,Hr);if(!o)return null;var i=Hr.defaultProps,s=i!==void 0?Er(Er({},i),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(l,u){var d=u.item,p=u.props,m=p.sectors||p.data||[];return l.concat(m.map(function(y){return{type:o.props.iconType||d.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(l){var u=l.item,d=u.type.defaultProps,p=d!==void 0?Er(Er({},d),u.props):{},m=p.dataKey,y=p.name,h=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:s.iconType||h||"square",color:rl(u),value:y||m,payload:p}}),Er(Er(Er({},s),Hr.getWithHeight(o,n)),{},{payload:c,item:o})};function ra(e){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(e)}function Dm(e){return WE(e)||qE(e)||HE(e)||VE()}function VE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HE(e,t){if(e){if(typeof e=="string")return tl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tl(e,t)}}function qE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WE(e){if(Array.isArray(e))return tl(e)}function tl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Im(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Im(Object(r),!0).forEach(function(n){rn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Im(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rn(e,t,r){return t=XE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XE(e){var t=GE(e,"string");return ra(t)=="symbol"?t:t+""}function GE(e,t){if(ra(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ra(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ct(e,t,r){return ye(e)||ye(t)?r:Ce(t)?pt(e,t,r):se(t)?t(e):r}function Do(e,t,r,n){var a=WS(e,function(s){return Ct(s,t)});if(r==="number"){var o=a.filter(function(s){return H(s)||parseFloat(s)});return o.length?[ko(o),Eo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!ye(s)}):a;return i.map(function(s){return Ce(s)||s instanceof Date?s:""})}var YE=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,i=(t=r==null?void 0:r.length)!==null&&t!==void 0?t:0;if(i<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,c=0;c<i;c++){var l=c>0?n[c-1].coordinate:n[i-1].coordinate,u=n[c].coordinate,d=c>=i-1?n[0].coordinate:n[c+1].coordinate,p=void 0;if(wt(u-l)!==wt(d-u)){var m=[];if(wt(d-u)===wt(s[1]-s[0])){p=d;var y=u+s[1]-s[0];m[0]=Math.min(y,(y+l)/2),m[1]=Math.max(y,(y+l)/2)}else{p=l;var h=d+s[1]-s[0];m[0]=Math.min(u,(h+u)/2),m[1]=Math.max(u,(h+u)/2)}var v=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){o=n[c].index;break}}else{var g=Math.min(l,d),w=Math.max(l,d);if(e>(g+u)/2&&e<=(w+u)/2){o=n[c].index;break}}}else for(var S=0;S<i;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<i-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===i-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){o=r[S].index;break}return o},rl=function(e){var t,r=e,n=r.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?ke(ke({},e.type.defaultProps),e.props):e.props,o=a.stroke,i=a.fill,s;switch(n){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:i;break;default:s=i;break}return s},KE=function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=n===void 0?{}:n;if(!a)return{};for(var o={},i=Object.keys(a),s=0,c=i.length;s<c;s++)for(var l=a[i[s]].stackGroups,u=Object.keys(l),d=0,p=u.length;d<p;d++){var m=l[u[d]],y=m.items,h=m.cateAxisId,v=y.filter(function(j){return It(j.type).indexOf("Bar")>=0});if(v&&v.length){var g=v[0].type.defaultProps,w=g!==void 0?ke(ke({},g),v[0].props):v[0].props,S=w.barSize,x=w[h];o[x]||(o[x]=[]);var _=ye(S)?t:S;o[x].push({item:v[0],stackList:v.slice(1),barSize:ye(_)?void 0:vr(_,r,0)})}}return o},ZE=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,i=e.maxBarSize,s=o.length;if(s<1)return null;var c=vr(t,n,0,!0),l,u=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=n/s,m=o.reduce(function(S,x){return S+x.barSize||0},0);m+=(s-1)*c,m>=n&&(m-=(s-1)*c,c=0),m>=n&&p>0&&(d=!0,p*=.9,m=s*p);var y=(n-m)/2>>0,h={offset:y-c,size:0};l=o.reduce(function(S,x){var _={item:x.item,position:{offset:h.offset+h.size+c,size:d?p:x.barSize}},j=[].concat(Dm(S),[_]);return h=j[j.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(O){j.push({item:O,position:h})}),j},u)}else{var v=vr(r,n,0,!0);n-2*v-(s-1)*c<=0&&(c=0);var g=(n-2*v-(s-1)*c)/s;g>1&&(g>>=0);var w=i===+i?Math.min(g,i):g;l=o.reduce(function(S,x,_){var j=[].concat(Dm(S),[{item:x.item,position:{offset:v+(g+c)*_+(g-w)/2,size:w}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(O){j.push({item:O,position:j[j.length-1].position})}),j},u)}return l},JE=function(e,t,r,n){var a=r.children,o=r.width,i=r.margin,s=o-(i.left||0)-(i.right||0),c=Tm({children:a,legendWidth:s});if(c){var l=n||{},u=l.width,d=l.height,p=c.align,m=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&H(e[p]))return ke(ke({},e),{},rn({},p,e[p]+(u||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&H(e[m]))return ke(ke({},e),{},rn({},m,e[m]+(d||0)))}return e},QE=function(e,t,r){return ye(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},Lm=function(e,t,r,n,a){var o=t.props.children,i=jt(o,To).filter(function(c){return QE(n,a,c.props.direction)});if(i&&i.length){var s=i.map(function(c){return c.props.dataKey});return e.reduce(function(c,l){var u=Ct(l,r);if(ye(u))return c;var d=Array.isArray(u)?[ko(u),Eo(u)]:[u,u],p=s.reduce(function(m,y){var h=Ct(l,y,0),v=d[0]-Math.abs(Array.isArray(h)?h[0]:h),g=d[1]+Math.abs(Array.isArray(h)?h[1]:h);return[Math.min(v,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},ek=function(e,t,r,n,a){var o=t.map(function(i){return Lm(e,i,r,a,n)}).filter(function(i){return!ye(i)});return o&&o.length?o.reduce(function(i,s){return[Math.min(i[0],s[0]),Math.max(i[1],s[1])]},[1/0,-1/0]):null},Rm=function(e,t,r,n,a){var o=t.map(function(s){var c=s.props.dataKey;return r==="number"&&c&&Lm(e,s,c,n)||Do(e,c,r,a)});if(r==="number")return o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]);var i={};return o.reduce(function(s,c){for(var l=0,u=c.length;l<u;l++)i[c[l]]||(i[c[l]]=!0,s.push(c[l]));return s},[])},Bm=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},Fm=function(e,t,r,n){if(n)return e.map(function(s){return s.coordinate});var a,o,i=e.map(function(s){return s.coordinate===t&&(a=!0),s.coordinate===r&&(o=!0),s.coordinate});return a||i.push(t),o||i.push(r),i},qt=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,o=e.type,i=e.range,s=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,c=(t||r)&&o==="category"&&n.bandwidth?n.bandwidth()/s:0;if(c=e.axisType==="angleAxis"&&(i==null?void 0:i.length)>=2?wt(i[0]-i[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var l=(e.ticks||e.niceTicks).map(function(u){var d=a?a.indexOf(u):u;return{coordinate:n(d)+c,value:u,offset:c}});return l.filter(function(u){return!Tn(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,d){return{coordinate:n(u)+c,value:u,index:d,offset:c}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(u){return{coordinate:n(u)+c,value:u,offset:c}}):n.domain().map(function(u,d){return{coordinate:n(u)+c,value:a?a[u]:u,index:d,offset:c}})},nl=new WeakMap,Io=function(e,t){if(typeof t!="function")return e;nl.has(e)||nl.set(e,new WeakMap);var r=nl.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},tk=function(e,t,r){var n=e.scale,a=e.type,o=e.layout,i=e.axisType;if(n==="auto")return o==="radial"&&i==="radiusAxis"?{scale:qn(),realScaleType:"band"}:o==="radial"&&i==="angleAxis"?{scale:vo(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Wn(),realScaleType:"point"}:a==="category"?{scale:qn(),realScaleType:"band"}:{scale:vo(),realScaleType:"linear"};if(Mn(n)){var s="scale".concat(qa(n));return{scale:(am[s]||Wn)(),realScaleType:am[s]?s:"point"}}return se(n)?{scale:n}:{scale:Wn(),realScaleType:"point"}},$m=1e-4,rk=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-$m,o=Math.max(n[0],n[1])+$m,i=e(t[0]),s=e(t[r-1]);(i<a||i>o||s<a||s>o)&&e.domain([t[0],t[r-1]])}},nk=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null},ak=function(e,t){if(!t||t.length!==2||!H(t[0])||!H(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!H(e[0])||e[0]<r)&&(a[0]=r),(!H(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},ok=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0,i=0;i<t;++i){var s=Tn(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1])}},ik=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0;o<t;++o){var i=Tn(e[o][r][1])?e[o][r][0]:e[o][r][1];i>=0?(e[o][r][0]=a,e[o][r][1]=a+i,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},sk={sign:ok,expand:v1,none:zr,silhouette:g1,wiggle:b1,positive:ik},ck=function(e,t,r){var n=t.map(function(i){return i.props.dataKey}),a=sk[r],o=y1().keys(n).value(function(i,s){return+Ct(i,s,0)}).order(Cs).offset(a);return o(e)},lk=function(e,t,r,n,a,o){if(!e)return null;var i=o?t.reverse():t,s={},c=i.reduce(function(u,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?ke(ke({},d.type.defaultProps),d.props):d.props,y=m.stackId,h=m.hide;if(h)return u;var v=m[r],g=u[v]||{hasStack:!1,stackGroups:{}};if(Ce(y)){var w=g.stackGroups[y]||{numericAxisId:r,cateAxisId:n,items:[]};w.items.push(d),g.hasStack=!0,g.stackGroups[y]=w}else g.stackGroups[Ua("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[d]};return ke(ke({},u),{},rn({},v,g))},s),l={};return Object.keys(c).reduce(function(u,d){var p=c[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,h){var v=p.stackGroups[h];return ke(ke({},y),{},rn({},h,{numericAxisId:r,cateAxisId:n,items:v.items,stackedData:ck(e,v.items,a)}))},m)}return ke(ke({},u),{},rn({},d,p))},l)},uk=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,o=t.originalDomain,i=t.allowDecimals,s=r||t.scale;if(s!=="auto"&&s!=="linear")return null;if(a&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var l=wE(c,a,i);return e.domain([ko(l),Eo(l)]),{niceTicks:l}}if(a&&n==="number"){var u=e.domain(),d=jE(u,a,i);return{niceTicks:d}}return null},zm=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,o=e.entry,i=e.index;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var s=Ct(o,t.dataKey,t.domain[i]);return ye(s)?null:t.scale(s)-a/2+n},dk=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},fk=function(e,t){var r,n=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ke(ke({},e.type.defaultProps),e.props):e.props,a=n.stackId;if(Ce(a)){var o=t[a];if(o){var i=o.items.indexOf(e);return i>=0?o.stackedData[i]:null}}return null},pk=function(e){return e.reduce(function(t,r){return[ko(r.concat([t[0]]).filter(H)),Eo(r.concat([t[1]]).filter(H))]},[1/0,-1/0])},Um=function(e,t,r){return Object.keys(e).reduce(function(n,a){var o=e[a],i=o.stackedData,s=i.reduce(function(c,l){var u=pk(l.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},Vm=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hm=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,al=function(e,t,r){if(se(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(H(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Vm.test(e[0])){var a=+Vm.exec(e[0])[1];n[0]=t[0]-a}else se(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(H(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Hm.test(e[1])){var o=+Hm.exec(e[1])[1];n[1]=t[1]+o}else se(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Lo=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Qs(t,function(u){return u.coordinate}),o=1/0,i=1,s=a.length;i<s;i++){var c=a[i],l=a[i-1];o=Math.min((c.coordinate||0)-(l.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},qm=function(e,t,r){return!e||!e.length||qc(e,pt(r,"type.defaultProps.domain"))?t:e},Wm=function(e,t){var r=e.type.defaultProps?ke(ke({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,o=r.unit,i=r.formatter,s=r.tooltipType,c=r.chartType,l=r.hide;return ke(ke({},me(e,!1)),{},{dataKey:n,unit:o,formatter:i,name:a||n,color:rl(e),value:Ct(t,n),type:s,payload:t,chartType:c,hide:l})};function na(e){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(e)}function Xm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xm(Object(r),!0).forEach(function(n){hk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hk(e,t,r){return t=mk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mk(e){var t=yk(e,"string");return na(t)=="symbol"?t:t+""}function yk(e,t){if(na(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ro=Math.PI/180,vk=function(e){return e*180/Math.PI},ze=function(e,t,r,n){return{x:e+Math.cos(-Ro*n)*r,y:t+Math.sin(-Ro*n)*r}},gk=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-o,2))},bk=function(e,t){var r=e.x,n=e.y,a=t.cx,o=t.cy,i=gk({x:r,y:n},{x:a,y:o});if(i<=0)return{radius:i};var s=(r-a)/i,c=Math.acos(s);return n>o&&(c=2*Math.PI-c),{radius:i,angle:vk(c),angleInRadian:c}},xk=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-o*360,endAngle:r-o*360}},wk=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return e+i*360},Ym=function(e,t){var r=e.x,n=e.y,a=bk({x:r,y:n},t),o=a.radius,i=a.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(o===0)return!0;var l=xk(t),u=l.startAngle,d=l.endAngle,p=i,m;if(u<=d){for(;p>d;)p-=360;for(;p<u;)p+=360;m=p>=u&&p<=d}else{for(;p>u;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=u}return m?Gm(Gm({},t),{},{radius:o,angle:wk(p,t)}):null};function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(e)}var jk=["offset"];function _k(e){return kk(e)||Ek(e)||Sk(e)||Ok()}function Ok(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sk(e,t){if(e){if(typeof e=="string")return ol(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ol(e,t)}}function Ek(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kk(e){if(Array.isArray(e))return ol(e)}function ol(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nk(e,t){if(e==null)return{};var r=Pk(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pk(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Km(Object(r),!0).forEach(function(n){Ak(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Km(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ak(e,t,r){return t=Ck(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ck(e){var t=Mk(e,"string");return aa(t)=="symbol"?t:t+""}function Mk(e,t){if(aa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oa.apply(this,arguments)}var Tk=function(e){var t=e.value,r=e.formatter,n=ye(e.children)?t:e.children;return se(r)?r(n):n},Dk=function(e,t){var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Ik=function(e,t,r){var n=e.position,a=e.viewBox,o=e.offset,i=e.className,s=a,c=s.cx,l=s.cy,u=s.innerRadius,d=s.outerRadius,p=s.startAngle,m=s.endAngle,y=s.clockWise,h=(u+d)/2,v=Dk(p,m),g=v>=0?1:-1,w,S;n==="insideStart"?(w=p+g*o,S=y):n==="insideEnd"?(w=m-g*o,S=!y):n==="end"&&(w=m+g*o,S=y),S=v<=0?S:!S;var x=ze(c,l,h,w),_=ze(c,l,h,w+(S?1:-1)*359),j="M".concat(x.x,",").concat(x.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),O=ye(e.id)?Ua("recharts-radial-line-"):e.id;return A.createElement("text",oa({},r,{dominantBaseline:"central",className:ge("recharts-radial-bar-label",i)}),A.createElement("defs",null,A.createElement("path",{id:O,d:j})),A.createElement("textPath",{xlinkHref:"#".concat(O)},t))},Lk=function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,o=a.cx,i=a.cy,s=a.innerRadius,c=a.outerRadius,l=a.startAngle,u=a.endAngle,d=(l+u)/2;if(n==="outside"){var p=ze(o,i,c+r,d),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+c)/2,v=ze(o,i,h,d),g=v.x,w=v.y;return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Rk=function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,o=t,i=o.x,s=o.y,c=o.width,l=o.height,u=l>=0?1:-1,d=u*n,p=u>0?"end":"start",m=u>0?"start":"end",y=c>=0?1:-1,h=y*n,v=y>0?"end":"start",g=y>0?"start":"end";if(a==="top"){var w={x:i+c/2,y:s-u*n,textAnchor:"middle",verticalAnchor:p};return Te(Te({},w),r?{height:Math.max(s-r.y,0),width:c}:{})}if(a==="bottom"){var S={x:i+c/2,y:s+l+d,textAnchor:"middle",verticalAnchor:m};return Te(Te({},S),r?{height:Math.max(r.y+r.height-(s+l),0),width:c}:{})}if(a==="left"){var x={x:i-h,y:s+l/2,textAnchor:v,verticalAnchor:"middle"};return Te(Te({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if(a==="right"){var _={x:i+c+h,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return Te(Te({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:l}:{})}var j=r?{width:c,height:l}:{};return a==="insideLeft"?Te({x:i+h,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},j):a==="insideRight"?Te({x:i+c-h,y:s+l/2,textAnchor:v,verticalAnchor:"middle"},j):a==="insideTop"?Te({x:i+c/2,y:s+d,textAnchor:"middle",verticalAnchor:m},j):a==="insideBottom"?Te({x:i+c/2,y:s+l-d,textAnchor:"middle",verticalAnchor:p},j):a==="insideTopLeft"?Te({x:i+h,y:s+d,textAnchor:g,verticalAnchor:m},j):a==="insideTopRight"?Te({x:i+c-h,y:s+d,textAnchor:v,verticalAnchor:m},j):a==="insideBottomLeft"?Te({x:i+h,y:s+l-d,textAnchor:g,verticalAnchor:p},j):a==="insideBottomRight"?Te({x:i+c-h,y:s+l-d,textAnchor:v,verticalAnchor:p},j):Br(a)&&(H(a.x)||yr(a.x))&&(H(a.y)||yr(a.y))?Te({x:i+vr(a.x,c),y:s+vr(a.y,l),textAnchor:"end",verticalAnchor:"end"},j):Te({x:i+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Bk=function(e){return"cx"in e&&H(e.cx)};function He(e){var t=e.offset,r=t===void 0?5:t,n=Nk(e,jk),a=Te({offset:r},n),o=a.viewBox,i=a.position,s=a.value,c=a.children,l=a.content,u=a.className,d=u===void 0?"":u,p=a.textBreakAll;if(!o||ye(s)&&ye(c)&&!b.isValidElement(l)&&!se(l))return null;if(b.isValidElement(l))return b.cloneElement(l,a);var m;if(se(l)){if(m=b.createElement(l,a),b.isValidElement(m))return m}else m=Tk(a);var y=Bk(o),h=me(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Ik(a,m,h);var v=y?Lk(a):Rk(a);return A.createElement(uo,oa({className:ge("recharts-label",d)},h,v,{breakAll:p}),m)}He.displayName="Label";var Zm=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,o=e.endAngle,i=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,d=e.y,p=e.top,m=e.left,y=e.width,h=e.height,v=e.clockWise,g=e.labelViewBox;if(g)return g;if(H(y)&&H(h)){if(H(u)&&H(d))return{x:u,y:d,width:y,height:h};if(H(p)&&H(m))return{x:p,y:m,width:y,height:h}}return H(u)&&H(d)?{x:u,y:d,width:0,height:0}:H(t)&&H(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:o||n||0,innerRadius:c||0,outerRadius:l||s||i||0,clockWise:v}:e.viewBox?e.viewBox:{}},Fk=function(e,t){return e?e===!0?A.createElement(He,{key:"label-implicit",viewBox:t}):Ce(e)?A.createElement(He,{key:"label-implicit",viewBox:t,value:e}):b.isValidElement(e)?e.type===He?b.cloneElement(e,{key:"label-implicit",viewBox:t}):A.createElement(He,{key:"label-implicit",content:e,viewBox:t}):se(e)?A.createElement(He,{key:"label-implicit",content:e,viewBox:t}):Br(e)?A.createElement(He,oa({viewBox:t},e,{key:"label-implicit"})):null:null},$k=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Zm(e),o=jt(n,He).map(function(s,c){return b.cloneElement(s,{viewBox:t||a,key:"label-".concat(c)})});if(!r)return o;var i=Fk(e.label,t||a);return[i].concat(_k(o))};He.parseViewBox=Zm,He.renderCallByParent=$k;function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(e)}var zk=["valueAccessor"],Uk=["data","dataKey","clockWise","id","textBreakAll"];function Vk(e){return Xk(e)||Wk(e)||qk(e)||Hk()}function Hk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qk(e,t){if(e){if(typeof e=="string")return il(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return il(e,t)}}function Wk(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xk(e){if(Array.isArray(e))return il(e)}function il(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(this,arguments)}function Jm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jm(Object(r),!0).forEach(function(n){Gk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gk(e,t,r){return t=Yk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yk(e){var t=Kk(e,"string");return ia(t)=="symbol"?t:t+""}function Kk(e,t){if(ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ey(e,t){if(e==null)return{};var r=Zk(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zk(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jk=function(e){return Array.isArray(e.value)?sL(e.value):e.value};function kr(e){var t=e.valueAccessor,r=t===void 0?Jk:t,n=ey(e,zk),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,c=n.textBreakAll,l=ey(n,Uk);return!a||!a.length?null:A.createElement(Re,{className:"recharts-label-list"},a.map(function(u,d){var p=ye(o)?r(u,d):Ct(u&&u.payload,o),m=ye(s)?{}:{id:"".concat(s,"-").concat(d)};return A.createElement(He,Bo({},me(u,!0),l,m,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:He.parseViewBox(ye(i)?u:Qm(Qm({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}kr.displayName="LabelList";function Qk(e,t){return e?e===!0?A.createElement(kr,{key:"labelList-implicit",data:t}):A.isValidElement(e)||se(e)?A.createElement(kr,{key:"labelList-implicit",data:t,content:e}):Br(e)?A.createElement(kr,Bo({data:t},e,{key:"labelList-implicit"})):null:null}function eN(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=jt(n,kr).map(function(i,s){return b.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=Qk(e.label,t);return[o].concat(Vk(a))}kr.renderCallByParent=eN;function sa(e){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}function ty(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ry(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ty(Object(r),!0).forEach(function(n){tN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ty(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tN(e,t,r){return t=rN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rN(e){var t=nN(e,"string");return sa(t)=="symbol"?t:t+""}function nN(e,t){if(sa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aN=function(e,t){var r=wt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Fo=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,o=e.sign,i=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(i?1:-1)+n,u=Math.asin(s/l)/Ro,d=c?a:a+o*u,p=ze(t,r,l,d),m=ze(t,r,n,d),y=c?a-o*u:a,h=ze(t,r,l*Math.cos(u*Ro),y);return{center:p,circleTangency:m,lineTangency:h,theta:u}},ny=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.startAngle,i=e.endAngle,s=aN(o,i),c=o+s,l=ze(t,r,a,o),u=ze(t,r,a,c),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=ze(t,r,n,o),m=ze(t,r,n,c);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},oN=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=wt(l-c),d=Fo({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:o,cornerIsExternal:s}),p=d.circleTangency,m=d.lineTangency,y=d.theta,h=Fo({cx:t,cy:r,radius:a,angle:l,sign:-u,cornerRadius:o,cornerIsExternal:s}),v=h.circleTangency,g=h.lineTangency,w=h.theta,S=s?Math.abs(c-l):Math.abs(c-l)-y-w;if(S<0)return i?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ny({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:l});var x="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var _=Fo({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),j=_.circleTangency,O=_.lineTangency,P=_.theta,M=Fo({cx:t,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),T=M.circleTangency,E=M.lineTangency,N=M.theta,C=s?Math.abs(c-l):Math.abs(c-l)-P-N;if(C<0&&o===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},iN={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ay=function(e){var t=ry(ry({},iN),e),r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,d=t.className;if(o<a||l===u)return null;var p=ge("recharts-sector",d),m=o-a,y=vr(i,m,0,!0),h;return y>0&&Math.abs(l-u)<360?h=oN({cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):h=ny({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}),A.createElement("path",sl({},me(t,!0),{className:p,d:h,role:"img"}))};function ca(e){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(e)}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cl.apply(this,arguments)}function oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oy(Object(r),!0).forEach(function(n){sN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sN(e,t,r){return t=cN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cN(e){var t=lN(e,"string");return ca(t)=="symbol"?t:t+""}function lN(e,t){if(ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sy={curveBasisClosed:o1,curveBasisOpen:i1,curveBasis:a1,curveBumpX:Hw,curveBumpY:qw,curveLinearClosed:s1,curveLinear:Ya,curveMonotoneX:c1,curveMonotoneY:l1,curveNatural:u1,curveStep:d1,curveStepAfter:p1,curveStepBefore:f1},$o=function(e){return e.x===+e.x&&e.y===+e.y},la=function(e){return e.x},ua=function(e){return e.y},uN=function(e,t){if(se(e))return e;var r="curve".concat(qa(e));return(r==="curveMonotone"||r==="curveBump")&&t?sy["".concat(r).concat(t==="vertical"?"Y":"X")]:sy[r]||Ya},dN=function(e){var t=e.type,r=t===void 0?"linear":t,n=e.points,a=n===void 0?[]:n,o=e.baseLine,i=e.layout,s=e.connectNulls,c=s===void 0?!1:s,l=uN(r,i),u=c?a.filter(function(y){return $o(y)}):a,d;if(Array.isArray(o)){var p=c?o.filter(function(y){return $o(y)}):o,m=u.map(function(y,h){return iy(iy({},y),{},{base:p[h]})});return i==="vertical"?d=Ka().y(ua).x1(la).x0(function(y){return y.base.x}):d=Ka().x(la).y1(ua).y0(function(y){return y.base.y}),d.defined($o).curve(l),d(m)}return i==="vertical"&&H(o)?d=Ka().y(ua).x1(la).x0(o):H(o)?d=Ka().x(la).y1(ua).y0(o):d=Tf().x(la).y(ua),d.defined($o).curve(l),d(u)},cy=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if((!r||!r.length)&&!n)return null;var o=r&&r.length?dN(e):n;return A.createElement("path",cl({},me(e,!1),Va(e),{className:ge("recharts-curve",t),d:o,ref:a}))},ly={exports:{}},ll,uy;function fN(){if(uy)return ll;uy=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ll=e,ll}var ul,dy;function pN(){if(dy)return ul;dy=1;var e=fN();function t(){}function r(){}return r.resetWarningCache=t,ul=function(){function n(i,s,c,l,u,d){if(d!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},ul}var fy;function hN(){return fy||(fy=1,ly.exports=pN()()),ly.exports}var mN=hN();const oe=Se(mN);var yN=Object.getOwnPropertyNames,vN=Object.getOwnPropertySymbols,gN=Object.prototype.hasOwnProperty;function py(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function zo(e){return function(t,r,n){if(!t||!r||typeof t!="object"||typeof r!="object")return e(t,r,n);var a=n.cache,o=a.get(t),i=a.get(r);if(o&&i)return o===r&&i===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function hy(e){return yN(e).concat(vN(e))}var my=Object.hasOwn||function(e,t){return gN.call(e,t)};function nn(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var yy="_owner",vy=Object.getOwnPropertyDescriptor,gy=Object.keys;function bN(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function xN(e,t){return nn(e.getTime(),t.getTime())}function by(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),o=0,i,s;(i=a.next())&&!i.done;){for(var c=t.entries(),l=!1,u=0;(s=c.next())&&!s.done;){var d=i.value,p=d[0],m=d[1],y=s.value,h=y[0],v=y[1];!l&&!n[u]&&(l=r.equals(p,h,o,u,e,t,r)&&r.equals(m,v,p,h,e,t,r))&&(n[u]=!0),u++}if(!l)return!1;o++}return!0}function wN(e,t,r){var n=gy(e),a=n.length;if(gy(t).length!==a)return!1;for(var o;a-- >0;)if(o=n[a],o===yy&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!my(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function da(e,t,r){var n=hy(e),a=n.length;if(hy(t).length!==a)return!1;for(var o,i,s;a-- >0;)if(o=n[a],o===yy&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!my(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(i=vy(e,o),s=vy(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function jN(e,t){return nn(e.valueOf(),t.valueOf())}function _N(e,t){return e.source===t.source&&e.flags===t.flags}function xy(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),o,i;(o=a.next())&&!o.done;){for(var s=t.values(),c=!1,l=0;(i=s.next())&&!i.done;)!c&&!n[l]&&(c=r.equals(o.value,i.value,o.value,i.value,e,t,r))&&(n[l]=!0),l++;if(!c)return!1}return!0}function ON(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var SN="[object Arguments]",EN="[object Boolean]",kN="[object Date]",NN="[object Map]",PN="[object Number]",AN="[object Object]",CN="[object RegExp]",MN="[object Set]",TN="[object String]",DN=Array.isArray,wy=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,jy=Object.assign,IN=Object.prototype.toString.call.bind(Object.prototype.toString);function LN(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(l,u,d){if(l===u)return!0;if(l==null||u==null||typeof l!="object"||typeof u!="object")return l!==l&&u!==u;var p=l.constructor;if(p!==u.constructor)return!1;if(p===Object)return a(l,u,d);if(DN(l))return t(l,u,d);if(wy!=null&&wy(l))return c(l,u,d);if(p===Date)return r(l,u,d);if(p===RegExp)return i(l,u,d);if(p===Map)return n(l,u,d);if(p===Set)return s(l,u,d);var m=IN(l);return m===kN?r(l,u,d):m===CN?i(l,u,d):m===NN?n(l,u,d):m===MN?s(l,u,d):m===AN?typeof l.then!="function"&&typeof u.then!="function"&&a(l,u,d):m===SN?a(l,u,d):m===EN||m===PN||m===TN?o(l,u,d):!1}}function RN(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?da:bN,areDatesEqual:xN,areMapsEqual:n?py(by,da):by,areObjectsEqual:n?da:wN,arePrimitiveWrappersEqual:jN,areRegExpsEqual:_N,areSetsEqual:n?py(xy,da):xy,areTypedArraysEqual:n?da:ON};if(r&&(a=jy({},a,r(a))),t){var o=zo(a.areArraysEqual),i=zo(a.areMapsEqual),s=zo(a.areObjectsEqual),c=zo(a.areSetsEqual);a=jy({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return a}function BN(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function FN(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(s,c){var l=n(),u=l.cache,d=u===void 0?t?new WeakMap:void 0:u,p=l.meta;return r(s,c,{cache:d,equals:a,meta:p,strict:o})};if(t)return function(s,c){return r(s,c,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(s,c){return r(s,c,i)}}var $N=or();or({strict:!0}),or({circular:!0}),or({circular:!0,strict:!0}),or({createInternalComparator:function(){return nn}}),or({strict:!0,createInternalComparator:function(){return nn}}),or({circular:!0,createInternalComparator:function(){return nn}}),or({circular:!0,createInternalComparator:function(){return nn},strict:!0});function or(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,i=o===void 0?!1:o,s=RN(e),c=LN(s),l=n?n(c):BN(c);return FN({circular:r,comparator:c,createState:a,equals:l,strict:i})}function zN(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _y(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):zN(a)};requestAnimationFrame(n)}function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function UN(e){return WN(e)||qN(e)||HN(e)||VN()}function VN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HN(e,t){if(e){if(typeof e=="string")return Oy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oy(e,t)}}function Oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WN(e){if(Array.isArray(e))return e}function XN(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=UN(i),c=s[0],l=s.slice(1);if(typeof c=="number"){_y(a.bind(null,l),c);return}a(c),_y(a.bind(null,l));return}dl(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function fa(e){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(e)}function Sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sy(Object(r),!0).forEach(function(n){ky(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ky(e,t,r){return t=GN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GN(e){var t=YN(e,"string");return fa(t)==="symbol"?t:String(t)}function YN(e,t){if(fa(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fa(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KN=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,n){return r.filter(function(a){return n.includes(a)})})},ZN=function(e){return e},JN=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},pa=function(e,t){return Object.keys(t).reduce(function(r,n){return Ey(Ey({},r),{},ky({},n,e(n,t[n])))},{})},Ny=function(e,t,r){return e.map(function(n){return"".concat(JN(n)," ").concat(t,"ms ").concat(r)}).join(",")};function QN(e,t){return rP(e)||tP(e,t)||Py(e,t)||eP()}function eP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function rP(e){if(Array.isArray(e))return e}function nP(e){return iP(e)||oP(e)||Py(e)||aP()}function aP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Py(e,t){if(e){if(typeof e=="string")return fl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fl(e,t)}}function oP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iP(e){if(Array.isArray(e))return fl(e)}function fl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uo=1e-4,Ay=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Cy=function(e,t){return e.map(function(r,n){return r*Math.pow(t,n)}).reduce(function(r,n){return r+n})},My=function(e,t){return function(r){var n=Ay(e,t);return Cy(n,r)}},sP=function(e,t){return function(r){var n=Ay(e,t),a=[].concat(nP(n.map(function(o,i){return o*i}).slice(1)),[0]);return Cy(a,r)}},Ty=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],o=t[2],i=t[3];if(t.length===1)switch(t[0]){case"linear":n=0,a=0,o=1,i=1;break;case"ease":n=.25,a=.1,o=.25,i=1;break;case"ease-in":n=.42,a=0,o=1,i=1;break;case"ease-out":n=.42,a=0,o=.58,i=1;break;case"ease-in-out":n=0,a=0,o=.58,i=1;break;default:{var s=t[0].split("(");if(s[0]==="cubic-bezier"&&s[1].split(")")[0].split(",").length===4){var c=s[1].split(")")[0].split(",").map(function(h){return parseFloat(h)}),l=QN(c,4);n=l[0],a=l[1],o=l[2],i=l[3]}}}var u=My(n,o),d=My(a,i),p=sP(n,o),m=function(h){return h>1?1:h<0?0:h},y=function(h){for(var v=h>1?1:h,g=v,w=0;w<8;++w){var S=u(g)-v,x=p(g);if(Math.abs(S-v)<Uo||x<Uo)return d(g);g=m(g-S/x)}return d(g)};return y.isStepper=!1,y},cP=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,n=e.damping,a=n===void 0?8:n,o=e.dt,i=o===void 0?17:o,s=function(c,l,u){var d=-(c-l)*r,p=u*a,m=u+(d-p)*i/1e3,y=u*i/1e3+c;return Math.abs(y-l)<Uo&&Math.abs(m)<Uo?[l,0]:[y,m]};return s.isStepper=!0,s.dt=i,s},lP=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ty(n);case"spring":return cP();default:if(n.split("(")[0]==="cubic-bezier")return Ty(n)}return typeof n=="function"?n:null};function ha(e){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(e)}function Dy(e){return fP(e)||dP(e)||Ly(e)||uP()}function uP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fP(e){if(Array.isArray(e))return hl(e)}function Iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iy(Object(r),!0).forEach(function(n){pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pl(e,t,r){return t=pP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pP(e){var t=hP(e,"string");return ha(t)==="symbol"?t:String(t)}function hP(e,t){if(ha(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ha(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mP(e,t){return gP(e)||vP(e,t)||Ly(e,t)||yP()}function yP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ly(e,t){if(e){if(typeof e=="string")return hl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hl(e,t)}}function hl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function gP(e){if(Array.isArray(e))return e}var Vo=function(e,t,r){return e+(t-e)*r},ml=function(e){var t=e.from,r=e.to;return t!==r},bP=function e(t,r,n){var a=pa(function(o,i){if(ml(i)){var s=t(i.from,i.to,i.velocity),c=mP(s,2),l=c[0],u=c[1];return Ue(Ue({},i),{},{from:l,velocity:u})}return i},r);return n<1?pa(function(o,i){return ml(i)?Ue(Ue({},i),{},{velocity:Vo(i.velocity,a[o].velocity,n),from:Vo(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const xP=function(e,t,r,n,a){var o=KN(e,t),i=o.reduce(function(v,g){return Ue(Ue({},v),{},pl({},g,[e[g],t[g]]))},{}),s=o.reduce(function(v,g){return Ue(Ue({},v),{},pl({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,l,u,d=function(){return null},p=function(){return pa(function(v,g){return g.from},s)},m=function(){return!Object.values(s).filter(ml).length},y=function(v){l||(l=v);var g=v-l,w=g/r.dt;s=bP(r,s,w),a(Ue(Ue(Ue({},e),t),p())),l=v,m()||(c=requestAnimationFrame(d))},h=function(v){u||(u=v);var g=(v-u)/n,w=pa(function(x,_){return Vo.apply(void 0,Dy(_).concat([r(g)]))},i);if(a(Ue(Ue(Ue({},e),t),w)),g<1)c=requestAnimationFrame(d);else{var S=pa(function(x,_){return Vo.apply(void 0,Dy(_).concat([r(1)]))},i);a(Ue(Ue(Ue({},e),t),S))}};return d=r.isStepper?y:h,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function an(e){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(e)}var wP=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function jP(e,t){if(e==null)return{};var r=_P(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _P(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function yl(e){return kP(e)||EP(e)||SP(e)||OP()}function OP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(e,t){if(e){if(typeof e=="string")return vl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vl(e,t)}}function EP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kP(e){if(Array.isArray(e))return vl(e)}function vl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ry(Object(r),!0).forEach(function(n){ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ry(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ma(e,t,r){return t=By(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,By(n.key),n)}}function AP(e,t,r){return t&&PP(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function By(e){var t=CP(e,"string");return an(t)==="symbol"?t:String(t)}function CP(e,t){if(an(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(an(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gl(e,t)}function gl(e,t){return gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},gl(e,t)}function TP(e){var t=DP();return function(){var r=Ho(e),n;if(t){var a=Ho(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bl(this,n)}}function bl(e,t){if(t&&(an(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xl(e)}function xl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}var ir=function(e){MP(r,e);var t=TP(r);function r(n,a){var o;NP(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,c=i.attributeName,l=i.from,u=i.to,d=i.steps,p=i.children,m=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(xl(o)),o.changeStyle=o.changeStyle.bind(xl(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:u}),bl(o);if(d&&d.length)o.state={style:d[0].style};else if(l){if(typeof p=="function")return o.state={style:l},bl(o);o.state={style:c?ma({},c,l):l}}else o.state={style:{}};return o}return AP(r,[{key:"componentDidMount",value:function(){var n=this.props,a=n.isActive,o=n.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var a=this.props,o=a.isActive,i=a.canBegin,s=a.attributeName,c=a.shouldReAnimate,l=a.to,u=a.from,d=this.state.style;if(i){if(!o){var p={style:s?ma({},s,l):l};this.state&&d&&(s&&d[s]!==l||!s&&d!==l)&&this.setState(p);return}if(!($N(n.to,l)&&n.canBegin&&n.isActive)){var m=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||c?u:n.to;if(this.state&&d){var h={style:s?ma({},s,y):y};(s&&d[s]!==y||!s&&d!==y)&&this.setState(h)}this.runAnimation(Ot(Ot({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var a=this,o=n.from,i=n.to,s=n.duration,c=n.easing,l=n.begin,u=n.onAnimationEnd,d=n.onAnimationStart,p=xP(o,i,lP(c),s,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([d,l,m,s,u])}},{key:"runStepAnimation",value:function(n){var a=this,o=n.steps,i=n.begin,s=n.onAnimationStart,c=o[0],l=c.style,u=c.duration,d=u===void 0?0:u,p=function(m,y,h){if(h===0)return m;var v=y.duration,g=y.easing,w=g===void 0?"ease":g,S=y.style,x=y.properties,_=y.onAnimationEnd,j=h>0?o[h-1]:y,O=x||Object.keys(S);if(typeof w=="function"||w==="spring")return[].concat(yl(m),[a.runJSAnimation.bind(a,{from:j.style,to:S,duration:v,easing:w}),v]);var P=Ny(O,v,w),M=Ot(Ot(Ot({},j.style),S),{},{transition:P});return[].concat(yl(m),[M,v,_]).filter(ZN)};return this.manager.start([s].concat(yl(o.reduce(p,[l,Math.max(d,i)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=XN());var a=n.begin,o=n.duration,i=n.attributeName,s=n.to,c=n.easing,l=n.onAnimationStart,u=n.onAnimationEnd,d=n.steps,p=n.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(n);return}if(d.length>1){this.runStepAnimation(n);return}var y=i?ma({},i,s):s,h=Ny(Object.keys(y),o,c);m.start([l,a,Ot(Ot({},y),{},{transition:h}),o,u])}},{key:"render",value:function(){var n=this.props,a=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var i=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var s=jP(n,wP),c=b.Children.count(a),l=this.state.style;if(typeof a=="function")return a(l);if(!i||c===0||o<=0)return a;var u=function(d){var p=d.props,m=p.style,y=m===void 0?{}:m,h=p.className,v=b.cloneElement(d,Ot(Ot({},s),{},{style:Ot(Ot({},y),l),className:h}));return v};return c===1?u(b.Children.only(a)):A.createElement("div",null,b.Children.map(a,function(d){return u(d)}))}}]),r}(b.PureComponent);ir.displayName="Animate",ir.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},ir.propTypes={from:oe.oneOfType([oe.object,oe.string]),to:oe.oneOfType([oe.object,oe.string]),attributeName:oe.string,duration:oe.number,begin:oe.number,easing:oe.oneOfType([oe.string,oe.func]),steps:oe.arrayOf(oe.shape({duration:oe.number.isRequired,style:oe.object.isRequired,easing:oe.oneOfType([oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),oe.func]),properties:oe.arrayOf("string"),onAnimationEnd:oe.func})),children:oe.oneOfType([oe.node,oe.func]),isActive:oe.bool,canBegin:oe.bool,onAnimationEnd:oe.func,shouldReAnimate:oe.bool,onAnimationStart:oe.func,onAnimationReStart:oe.func},oe.object,oe.object,oe.object,oe.element,oe.object,oe.object,oe.object,oe.oneOfType([oe.array,oe.element]),oe.any;function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qo.apply(this,arguments)}function IP(e,t){return FP(e)||BP(e,t)||RP(e,t)||LP()}function LP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RP(e,t){if(e){if(typeof e=="string")return Fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fy(e,t)}}function Fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function FP(e){if(Array.isArray(e))return e}function $y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$y(Object(r),!0).forEach(function(n){$P(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $P(e,t,r){return t=zP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zP(e){var t=UP(e,"string");return ya(t)=="symbol"?t:t+""}function UP(e,t){if(ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uy=function(e,t,r,n,a){var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,l;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0,p=4;d<p;d++)u[d]=a[d]>o?o:a[d];l="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+s*u[0],",").concat(t)),l+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*u[1])),l+="L ".concat(e+r,",").concat(t+n-i*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-s*u[2],",").concat(t+n)),l+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*u[3])),l+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);l="M ".concat(e,",").concat(t+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*m,`
            L `).concat(e+r,",").concat(t+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*m," Z")}else l="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},VP=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,o=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var c=Math.min(a,a+i),l=Math.max(a,a+i),u=Math.min(o,o+s),d=Math.max(o,o+s);return r>=c&&r<=l&&n>=u&&n<=d}return!1},HP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wl=function(e){var t=zy(zy({},HP),e),r=b.useRef(),n=b.useState(-1),a=IP(n,2),o=a[0],i=a[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&i(S)}catch{}},[]);var s=t.x,c=t.y,l=t.width,u=t.height,d=t.radius,p=t.className,m=t.animationEasing,y=t.animationDuration,h=t.animationBegin,v=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||l===0||u===0)return null;var w=ge("recharts-rectangle",p);return g?A.createElement(ir,{canBegin:o>0,from:{width:l,height:u,x:s,y:c},to:{width:l,height:u,x:s,y:c},duration:y,animationEasing:m,isActive:g},function(S){var x=S.width,_=S.height,j=S.x,O=S.y;return A.createElement(ir,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,isActive:v,easing:m},A.createElement("path",qo({},me(t,!0),{className:w,d:Uy(j,O,x,_,d),ref:r})))}):A.createElement("path",qo({},me(t,!0),{className:w,d:Uy(s,c,l,u,d)}))};function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}var Vy=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,o=ge("recharts-dot",a);return t===+t&&r===+r&&n===+n?A.createElement("circle",jl({},me(e,!1),Va(e),{className:o,cx:t,cy:r,r:n})):null};function va(e){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}var qP=["x","y","top","left","width","height","className"];function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}function Hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(r),!0).forEach(function(n){XP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XP(e,t,r){return t=GP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=YP(e,"string");return va(t)=="symbol"?t:t+""}function YP(e,t){if(va(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(va(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KP(e,t){if(e==null)return{};var r=ZP(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZP(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JP=function(e,t,r,n,a,o){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r)},QP=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.top,i=o===void 0?0:o,s=e.left,c=s===void 0?0:s,l=e.width,u=l===void 0?0:l,d=e.height,p=d===void 0?0:d,m=e.className,y=KP(e,qP),h=WP({x:r,y:a,top:i,left:c,width:u,height:p},y);return!H(r)||!H(a)||!H(u)||!H(p)||!H(i)||!H(c)?null:A.createElement("path",_l({},me(h,!0),{className:ge("recharts-cross",m),d:JP(r,a,u,p,i,c)}))},eA=cL();const tA=Se(eA);var Ol,qy;function rA(){if(qy)return Ol;qy=1;var e=Iu(),t=Lu(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return Ol=n,Ol}var nA=rA();const aA=Se(nA);function ga(e){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(e)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wo.apply(this,arguments)}function oA(e,t){return lA(e)||cA(e,t)||sA(e,t)||iA()}function iA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sA(e,t){if(e){if(typeof e=="string")return Wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(e,t)}}function Wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cA(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function lA(e){if(Array.isArray(e))return e}function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(r),!0).forEach(function(n){uA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uA(e,t,r){return t=dA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dA(e){var t=fA(e,"string");return ga(t)=="symbol"?t:t+""}function fA(e,t){if(ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yy=function(e,t,r,n,a){var o=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},pA={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hA=function(e){var t=Gy(Gy({},pA),e),r=b.useRef(),n=b.useState(-1),a=oA(n,2),o=a[0],i=a[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var s=t.x,c=t.y,l=t.upperWidth,u=t.lowerWidth,d=t.height,p=t.className,m=t.animationEasing,y=t.animationDuration,h=t.animationBegin,v=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||d!==+d||l===0&&u===0||d===0)return null;var g=ge("recharts-trapezoid",p);return v?A.createElement(ir,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:c},to:{upperWidth:l,lowerWidth:u,height:d,x:s,y:c},duration:y,animationEasing:m,isActive:v},function(w){var S=w.upperWidth,x=w.lowerWidth,_=w.height,j=w.x,O=w.y;return A.createElement(ir,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,easing:m},A.createElement("path",Wo({},me(t,!0),{className:g,d:Yy(j,O,S,x,_),ref:r})))}):A.createElement("g",null,A.createElement("path",Wo({},me(t,!0),{className:g,d:Yy(s,c,l,u,d)})))},mA=["option","shapeType","propTransformer","activeClassName","isActive"];function ba(e){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(e)}function yA(e,t){if(e==null)return{};var r=vA(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vA(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ky(Object(r),!0).forEach(function(n){gA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ky(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gA(e,t,r){return t=bA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bA(e){var t=xA(e,"string");return ba(t)=="symbol"?t:t+""}function xA(e,t){if(ba(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ba(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wA(e,t){return Xo(Xo({},t),e)}function jA(e,t){return e==="symbols"}function Zy(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return A.createElement(wl,r);case"trapezoid":return A.createElement(hA,r);case"sector":return A.createElement(ay,r);case"symbols":if(jA(t))return A.createElement(Ts,r);break;default:return null}}function _A(e){return b.isValidElement(e)?e.props:e}function OA(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?wA:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,c=yA(e,mA),l;if(b.isValidElement(t))l=b.cloneElement(t,Xo(Xo({},c),_A(t)));else if(se(t))l=t(c);else if(tA(t)&&!aA(t)){var u=a(t,c);l=A.createElement(Zy,{shapeType:r,elementProps:u})}else{var d=c;l=A.createElement(Zy,{shapeType:r,elementProps:d})}return s?A.createElement(Re,{className:i},l):l}function Go(e,t){return t!=null&&"trapezoids"in e.props}function Yo(e,t){return t!=null&&"sectors"in e.props}function xa(e,t){return t!=null&&"points"in e.props}function SA(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function EA(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function kA(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function NA(e,t){var r;return Go(e,t)?r=SA:Yo(e,t)?r=EA:xa(e,t)&&(r=kA),r}function PA(e,t){var r;return Go(e,t)?r="trapezoids":Yo(e,t)?r="sectors":xa(e,t)&&(r="points"),r}function AA(e,t){if(Go(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Yo(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return xa(e,t)?t.payload:{}}function CA(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=PA(r,t),o=AA(r,t),i=n.filter(function(c,l){var u=qc(o,c),d=r.props[a].filter(function(y){var h=NA(r,t);return h(y,t)}),p=r.props[a].indexOf(d[d.length-1]),m=l===p;return u&&m}),s=n.indexOf(i[i.length-1]);return s}var Sl,Jy;function MA(){if(Jy)return Sl;Jy=1;var e=Math.ceil,t=Math.max;function r(n,a,o,i){for(var s=-1,c=t(e((a-n)/(o||1)),0),l=Array(c);c--;)l[i?c:++s]=n,n+=o;return l}return Sl=r,Sl}var El,Qy;function TA(){if(Qy)return El;Qy=1;var e=MA(),t=Ti(),r=rI();function n(a){return function(o,i,s){return s&&typeof s!="number"&&t(o,i,s)&&(i=s=void 0),o=r(o),i===void 0?(i=o,o=0):i=r(i),s=s===void 0?o<i?1:-1:r(s),e(o,i,s,a)}}return El=n,El}var kl,ev;function DA(){if(ev)return kl;ev=1;var e=TA(),t=e();return kl=t,kl}var IA=DA();const Ko=Se(IA);function wa(e){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(e)}function tv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tv(Object(r),!0).forEach(function(n){nv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nv(e,t,r){return t=LA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LA(e){var t=RA(e,"string");return wa(t)=="symbol"?t:t+""}function RA(e,t){if(wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BA=["Webkit","Moz","O","ms"],FA=function(e,t){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),n=BA.reduce(function(a,o){return rv(rv({},a),{},nv({},o+r,t))},{});return n[e]=t,n};function on(e){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(e)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}function av(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?av(Object(r),!0).forEach(function(n){ut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ov(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sv(n.key),n)}}function zA(e,t,r){return t&&ov(e.prototype,t),r&&ov(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UA(e,t,r){return t=Jo(t),VA(e,iv()?Reflect.construct(t,r||[],Jo(e).constructor):t.apply(e,r))}function VA(e,t){if(t&&(on(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HA(e)}function HA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iv=function(){return!!e})()}function Jo(e){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jo(e)}function qA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pl(e,t)}function Pl(e,t){return Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Pl(e,t)}function ut(e,t,r){return t=sv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sv(e){var t=WA(e,"string");return on(t)=="symbol"?t:t+""}function WA(e,t){if(on(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(on(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XA=function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,o=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=Wn().domain(Ko(0,s)).range([a,a+o-i]),l=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(n),scale:c,scaleValues:l}},cv=function(e){return e.changedTouches&&!!e.changedTouches.length},sn=function(e){function t(r){var n;return $A(this,t),n=UA(this,t,[r]),ut(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ut(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ut(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),ut(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ut(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ut(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ut(n,"handleSlideDragStart",function(a){var o=cv(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qA(t,e),zA(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,a=r.endX,o=this.state.scaleValues,i=this.props,s=i.gap,c=i.data,l=c.length-1,u=Math.min(n,a),d=Math.max(n,a),p=t.getIndexInRange(o,u),m=t.getIndexInRange(o,d);return{startIndex:p-p%s,endIndex:m===l?l:m-m%s}}},{key:"getTextOfTick",value:function(r){var n=this.props,a=n.data,o=n.tickFormatter,i=n.dataKey,s=Ct(a[r],i,r);return se(o)?o(s,r):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,a=n.slideMoveStartX,o=n.startX,i=n.endX,s=this.props,c=s.x,l=s.width,u=s.travellerWidth,d=s.startIndex,p=s.endIndex,m=s.onChange,y=r.pageX-a;y>0?y=Math.min(y,c+l-u-i,c+l-u-o):y<0&&(y=Math.max(y,c-o,c-i));var h=this.getIndex({startX:o+y,endX:i+y});(h.startIndex!==d||h.endIndex!==p)&&m&&m(h),this.setState({startX:o+y,endX:i+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var a=cv(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,a=n.brushMoveStartX,o=n.movingTravellerId,i=n.endX,s=n.startX,c=this.state[o],l=this.props,u=l.x,d=l.width,p=l.travellerWidth,m=l.onChange,y=l.gap,h=l.data,v={startX:this.state.startX,endX:this.state.endX},g=r.pageX-a;g>0?g=Math.min(g,u+d-p-c):g<0&&(g=Math.max(g,u-c)),v[o]=c+g;var w=this.getIndex(v),S=w.startIndex,x=w.endIndex,_=function(){var j=h.length-1;return o==="startX"&&(i>s?S%y===0:x%y===0)||i<s&&x===j||o==="endX"&&(i>s?x%y===0:S%y===0)||i>s&&x===j};this.setState(ut(ut({},o,c+g),"brushMoveStartX",r.pageX),function(){m&&_()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var a=this,o=this.state,i=o.scaleValues,s=o.startX,c=o.endX,l=this.state[n],u=i.indexOf(l);if(u!==-1){var d=u+r;if(!(d===-1||d>=i.length)){var p=i[d];n==="startX"&&p>=c||n==="endX"&&p<=s||this.setState(ut({},n,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.fill,c=r.stroke;return A.createElement("rect",{stroke:c,fill:s,x:n,y:a,width:o,height:i})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.data,c=r.children,l=r.padding,u=b.Children.only(c);return u?A.cloneElement(u,{x:n,y:a,width:o,height:i,margin:l,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(r,n){var a,o,i=this,s=this.props,c=s.y,l=s.travellerWidth,u=s.height,d=s.traveller,p=s.ariaLabel,m=s.data,y=s.startIndex,h=s.endIndex,v=Math.max(r,this.props.x),g=Nl(Nl({},me(this.props,!1)),{},{x:v,y:c,width:l,height:u}),w=p||"Min value: ".concat((a=m[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[h])===null||o===void 0?void 0:o.name);return A.createElement(Re,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),i.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,g))}},{key:"renderSlide",value:function(r,n){var a=this.props,o=a.y,i=a.height,s=a.stroke,c=a.travellerWidth,l=Math.min(r,n)+c,u=Math.max(Math.abs(n-r)-c,0);return A.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:l,y:o,width:u,height:i})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,a=r.endIndex,o=r.y,i=r.height,s=r.travellerWidth,c=r.stroke,l=this.state,u=l.startX,d=l.endX,p=5,m={pointerEvents:"none",fill:c};return A.createElement(Re,{className:"recharts-brush-texts"},A.createElement(uo,Zo({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,d)-p,y:o+i/2},m),this.getTextOfTick(n)),A.createElement(uo,Zo({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,d)+s+p,y:o+i/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,n=r.data,a=r.className,o=r.children,i=r.x,s=r.y,c=r.width,l=r.height,u=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,y=d.isTextActive,h=d.isSlideMoving,v=d.isTravellerMoving,g=d.isTravellerFocused;if(!n||!n.length||!H(i)||!H(s)||!H(c)||!H(l)||c<=0||l<=0)return null;var w=ge("recharts-brush",a),S=A.Children.count(o)===1,x=FA("userSelect","none");return A.createElement(Re,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||h||v||g||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,a=r.y,o=r.width,i=r.height,s=r.stroke,c=Math.floor(a+i/2)-1;return A.createElement(A.Fragment,null,A.createElement("rect",{x:n,y:a,width:o,height:i,fill:s,stroke:"none"}),A.createElement("line",{x1:n+1,y1:c,x2:n+o-1,y2:c,fill:"none",stroke:"#fff"}),A.createElement("line",{x1:n+1,y1:c+2,x2:n+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var a;return A.isValidElement(r)?a=A.cloneElement(r,n):se(r)?a=r(n):a=t.renderDefaultTraveller(n),a}},{key:"getDerivedStateFromProps",value:function(r,n){var a=r.data,o=r.width,i=r.x,s=r.travellerWidth,c=r.updateId,l=r.startIndex,u=r.endIndex;if(a!==n.prevData||c!==n.prevUpdateId)return Nl({prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o},a&&a.length?XA({data:a,width:o,x:i,travellerWidth:s,startIndex:l,endIndex:u}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||i!==n.prevX||s!==n.prevTravellerWidth)){n.scale.range([i,i+o-s]);var d=n.scale.domain().map(function(p){return n.scale(p)});return{prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,n){for(var a=r.length,o=0,i=a-1;i-o>1;){var s=Math.floor((o+i)/2);r[s]>n?i=s:o=s}return n>=r[i]?i:o}}])}(b.PureComponent);ut(sn,"displayName","Brush"),ut(sn,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Al,lv;function GA(){if(lv)return Al;lv=1;var e=l0();function t(r,n){var a;return e(r,function(o,i,s){return a=n(o,i,s),!a}),!!a}return Al=t,Al}var Cl,uv;function YA(){if(uv)return Cl;uv=1;var e=ZI(),t=Ir(),r=GA(),n=Mi(),a=Ti();function o(i,s,c){var l=n(i)?e:r;return c&&a(i,s,c)&&(s=void 0),l(i,t(s,3))}return Cl=o,Cl}var KA=YA();const ZA=Se(KA);var Mt=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},Ml,dv;function JA(){if(dv)return Ml;dv=1;var e=JI(),t=lL(),r=Ir();function n(a,o){var i={};return o=r(o,3),t(a,function(s,c,l){e(i,c,o(s,c,l))}),i}return Ml=n,Ml}var QA=JA();const eC=Se(QA);var Tl,fv;function tC(){if(fv)return Tl;fv=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return Tl=e,Tl}var Dl,pv;function rC(){if(pv)return Dl;pv=1;var e=l0();function t(r,n){var a=!0;return e(r,function(o,i,s){return a=!!n(o,i,s),a}),a}return Dl=t,Dl}var Il,hv;function nC(){if(hv)return Il;hv=1;var e=tC(),t=rC(),r=Ir(),n=Mi(),a=Ti();function o(i,s,c){var l=n(i)?e:t;return c&&a(i,s,c)&&(s=void 0),l(i,r(s,3))}return Il=o,Il}var aC=nC();const mv=Se(aC);var oC=["x","y"];function ja(e){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(e)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}function yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yv(Object(r),!0).forEach(function(n){iC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iC(e,t,r){return t=sC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sC(e){var t=cC(e,"string");return ja(t)=="symbol"?t:t+""}function cC(e,t){if(ja(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lC(e,t){if(e==null)return{};var r=uC(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dC(e,t){var r=e.x,n=e.y,a=lC(e,oC),o="".concat(r),i=parseInt(o,10),s="".concat(n),c=parseInt(s,10),l="".concat(t.height||a.height),u=parseInt(l,10),d="".concat(t.width||a.width),p=parseInt(d,10);return _a(_a(_a(_a(_a({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function vv(e){return A.createElement(OA,Ll({shapeType:"rectangle",propTransformer:dC,activeClassName:"recharts-active-bar"},e))}var fC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,n):(a||Sr(),t)}},pC=["value","background"],gv;function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(e)}function hC(e,t){if(e==null)return{};var r=mC(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}function bv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bv(Object(r),!0).forEach(function(n){sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jv(n.key),n)}}function vC(e,t,r){return t&&xv(e.prototype,t),r&&xv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gC(e,t,r){return t=ei(t),bC(e,wv()?Reflect.construct(t,r||[],ei(e).constructor):t.apply(e,r))}function bC(e,t){if(t&&(cn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xC(e)}function xC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wv=function(){return!!e})()}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ei(e)}function wC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rl(e,t)}function Rl(e,t){return Rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Rl(e,t)}function sr(e,t,r){return t=jv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jv(e){var t=jC(e,"string");return cn(t)=="symbol"?t:t+""}function jC(e,t){if(cn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nr=function(e){function t(){var r;yC(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=gC(this,t,[].concat(a)),sr(r,"state",{isAnimationFinished:!1}),sr(r,"id",Ua("recharts-bar-")),sr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),sr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return wC(t,e),vC(t,[{key:"renderRectanglesStatically",value:function(r){var n=this,a=this.props,o=a.shape,i=a.dataKey,s=a.activeIndex,c=a.activeBar,l=me(this.props,!1);return r&&r.map(function(u,d){var p=d===s,m=p?c:o,y=Ae(Ae(Ae({},l),u),{},{isActive:p,option:m,index:d,dataKey:i,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return A.createElement(Re,Qo({className:"recharts-bar-rectangle"},Ha(n.props,u,d),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value)}),A.createElement(vv,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,a=n.data,o=n.layout,i=n.isAnimationActive,s=n.animationBegin,c=n.animationDuration,l=n.animationEasing,u=n.animationId,d=this.state.prevData;return A.createElement(ir,{begin:s,duration:c,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=a.map(function(h,v){var g=d&&d[v];if(g){var w=Fr(g.x,h.x),S=Fr(g.y,h.y),x=Fr(g.width,h.width),_=Fr(g.height,h.height);return Ae(Ae({},h),{},{x:w(m),y:S(m),width:x(m),height:_(m)})}if(o==="horizontal"){var j=Fr(0,h.height),O=j(m);return Ae(Ae({},h),{},{y:h.y+h.height-O,height:O})}var P=Fr(0,h.width),M=P(m);return Ae(Ae({},h),{},{width:M})});return A.createElement(Re,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&n&&n.length&&(!o||!qc(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,a=n.data,o=n.dataKey,i=n.activeIndex,s=me(this.props.background,!1);return a.map(function(c,l){c.value;var u=c.background,d=hC(c,pC);if(!u)return null;var p=Ae(Ae(Ae(Ae(Ae({},d),{},{fill:"#eee"},u),s),Ha(r.props,c,l)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:l,className:"recharts-bar-background-rectangle"});return A.createElement(vv,Qo({key:"background-bar-".concat(l),option:r.props.background,isActive:l===i},p))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,i=a.xAxis,s=a.yAxis,c=a.layout,l=a.children,u=jt(l,To);if(!u)return null;var d=c==="vertical"?o[0].height/2:o[0].width/2,p=function(y,h){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:Ct(y,h)}},m={clipPath:r?"url(#clipPath-".concat(n,")"):null};return A.createElement(Re,m,u.map(function(y){return A.cloneElement(y,{key:"error-bar-".concat(n,"-").concat(y.props.dataKey),data:o,xAxis:i,yAxis:s,layout:c,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.data,o=r.className,i=r.xAxis,s=r.yAxis,c=r.left,l=r.top,u=r.width,d=r.height,p=r.isAnimationActive,m=r.background,y=r.id;if(n||!a||!a.length)return null;var h=this.state.isAnimationFinished,v=ge("recharts-bar",o),g=i&&i.allowDataOverflow,w=s&&s.allowDataOverflow,S=g||w,x=ye(y)?this.id:y;return A.createElement(Re,{className:v},g||w?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(x)},A.createElement("rect",{x:g?c:c-u/2,y:w?l:l-d/2,width:g?u:u*2,height:w?d:d*2}))):null,A.createElement(Re,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!p||h)&&kr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(b.PureComponent);gv=Nr,sr(Nr,"displayName","Bar"),sr(Nr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!er.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),sr(Nr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,m=nk(n,r);if(!m)return null;var y=t.layout,h=r.type.defaultProps,v=h!==void 0?Ae(Ae({},h),r.props):r.props,g=v.dataKey,w=v.children,S=v.minPointSize,x=y==="horizontal"?i:o,_=l?x.scale.domain():null,j=dk({numericAxis:x}),O=jt(w,Rp),P=d.map(function(M,T){var E,N,C,k,I,B;l?E=ak(l[u+T],_):(E=Ct(M,g),Array.isArray(E)||(E=[j,E]));var F=fC(S,gv.defaultProps.minPointSize)(E[1],T);if(y==="horizontal"){var V,W=[i.scale(E[0]),i.scale(E[1])],Z=W[0],X=W[1];N=zm({axis:o,ticks:s,bandSize:a,offset:m.offset,entry:M,index:T}),C=(V=X??Z)!==null&&V!==void 0?V:void 0,k=m.size;var L=Z-X;if(I=Number.isNaN(L)?0:L,B={x:N,y:i.y,width:k,height:i.height},Math.abs(F)>0&&Math.abs(I)<Math.abs(F)){var G=wt(I||F)*(Math.abs(F)-Math.abs(I));C-=G,I+=G}}else{var D=[o.scale(E[0]),o.scale(E[1])],U=D[0],te=D[1];if(N=U,C=zm({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:M,index:T}),k=te-U,I=m.size,B={x:o.x,y:C,width:o.width,height:I},Math.abs(F)>0&&Math.abs(k)<Math.abs(F)){var ie=wt(k||F)*(Math.abs(F)-Math.abs(k));k+=ie}}return Ae(Ae(Ae({},M),{},{x:N,y:C,width:k,height:I,value:l?E:E[1],payload:M,background:B},O&&O[T]&&O[T].props),{},{tooltipPayload:[Wm(r,M)],tooltipPosition:{x:N+k/2,y:C+I/2}})});return Ae({data:P,layout:y},p)});function Oa(e){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(e)}function _C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sv(n.key),n)}}function OC(e,t,r){return t&&_v(e.prototype,t),r&&_v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ov(Object(r),!0).forEach(function(n){ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ov(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ti(e,t,r){return t=Sv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sv(e){var t=SC(e,"string");return Oa(t)=="symbol"?t:t+""}function SC(e,t){if(Oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EC=function(e,t,r,n,a){var o=e.width,i=e.height,s=e.layout,c=e.children,l=Object.keys(t),u={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},d=!!ct(c,Nr);return l.reduce(function(p,m){var y=t[m],h=y.orientation,v=y.domain,g=y.padding,w=g===void 0?{}:g,S=y.mirror,x=y.reversed,_="".concat(h).concat(S?"Mirror":""),j,O,P,M,T;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var E=v[1]-v[0],N=1/0,C=y.categoricalDomain.sort();if(C.forEach(function(G,D){D>0&&(N=Math.min((G||0)-(C[D-1]||0),N))}),Number.isFinite(N)){var k=N/E,I=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(j=k*I/2),y.padding==="no-gap"){var B=vr(e.barCategoryGap,k*I),F=k*I/2;j=F-B-(F-B)/I*B}}}n==="xAxis"?O=[r.left+(w.left||0)+(j||0),r.left+r.width-(w.right||0)-(j||0)]:n==="yAxis"?O=s==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(j||0),r.top+r.height-(w.bottom||0)-(j||0)]:O=y.range,x&&(O=[O[1],O[0]]);var V=tk(y,a,d),W=V.scale,Z=V.realScaleType;W.domain(v).range(O),rk(W);var X=uk(W,St(St({},y),{},{realScaleType:Z}));n==="xAxis"?(T=h==="top"&&!S||h==="bottom"&&S,P=r.left,M=u[_]-T*y.height):n==="yAxis"&&(T=h==="left"&&!S||h==="right"&&S,P=u[_]-T*y.width,M=r.top);var L=St(St(St({},y),X),{},{realScaleType:Z,x:P,y:M,scale:W,width:n==="xAxis"?r.width:y.width,height:n==="yAxis"?r.height:y.height});return L.bandSize=Lo(L,X),!y.hide&&n==="xAxis"?u[_]+=(T?-1:1)*L.height:y.hide||(u[_]+=(T?-1:1)*L.width),St(St({},p),{},ti({},m,L))},{})},Ev=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return{x:Math.min(r,a),y:Math.min(n,o),width:Math.abs(a-r),height:Math.abs(o-n)}},kC=function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return Ev({x:t,y:r},{x:n,y:a})},kv=function(){function e(t){_C(this,e),this.scale=t}return OC(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,a=r.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}],[{key:"create",value:function(t){return new e(t)}}])}();ti(kv,"EPS",1e-4);var Bl=function(e){var t=Object.keys(e).reduce(function(r,n){return St(St({},r),{},ti({},n,kv.create(e[n])))},{});return St(St({},t),{},{apply:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;return eC(r,function(i,s){return t[s].apply(i,{bandAware:a,position:o})})},isInRange:function(r){return mv(r,function(n,a){return t[a].isInRange(n)})}})};function NC(e){return(e%180+180)%180}var PC=function(e){var t=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=NC(n),o=a*Math.PI/180,i=Math.atan(r/t),s=o>i&&o<Math.PI-i?r/Math.sin(o):t/Math.cos(o);return Math.abs(s)},Fl,Nv;function AC(){if(Nv)return Fl;Nv=1;var e=Ir(),t=QI(),r=eL();function n(a){return function(o,i,s){var c=Object(o);if(!t(o)){var l=e(i,3);o=r(o),i=function(d){return l(c[d],d,c)}}var u=a(o,i,s);return u>-1?c[l?o[u]:u]:void 0}}return Fl=n,Fl}var $l,Pv;function CC(){if(Pv)return $l;Pv=1;var e=tp(),t=Ir(),r=nI(),n=Math.max;function a(o,i,s){var c=o==null?0:o.length;if(!c)return-1;var l=s==null?0:r(s);return l<0&&(l=n(c+l,0)),e(o,t(i,3),l)}return $l=a,$l}var zl,Av;function MC(){if(Av)return zl;Av=1;var e=AC(),t=CC(),r=e(t);return zl=r,zl}var TC=MC();const DC=Se(TC);var IC=tL(),LC=Se(IC)(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ul=b.createContext(void 0),Vl=b.createContext(void 0),Cv=b.createContext(void 0),Mv=b.createContext({}),Tv=b.createContext(void 0),Dv=b.createContext(0),Iv=b.createContext(0),Lv=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,o=e.clipPathId,i=e.children,s=e.width,c=e.height,l=LC(a);return A.createElement(Ul.Provider,{value:r},A.createElement(Vl.Provider,{value:n},A.createElement(Mv.Provider,{value:a},A.createElement(Cv.Provider,{value:l},A.createElement(Tv.Provider,{value:o},A.createElement(Dv.Provider,{value:c},A.createElement(Iv.Provider,{value:s},i)))))))},RC=function(){return b.useContext(Tv)},Rv=function(e){var t=b.useContext(Ul);t==null&&Sr();var r=t[e];return r==null&&Sr(),r},BC=function(){var e=b.useContext(Ul);return Qt(e)},FC=function(){var e=b.useContext(Vl),t=DC(e,function(r){return mv(r.domain,Number.isFinite)});return t||Qt(e)},Bv=function(e){var t=b.useContext(Vl);t==null&&Sr();var r=t[e];return r==null&&Sr(),r},$C=function(){var e=b.useContext(Cv);return e},zC=function(){return b.useContext(Mv)},Hl=function(){return b.useContext(Iv)},ql=function(){return b.useContext(Dv)};function ln(e){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(e)}function UC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uv(n.key),n)}}function HC(e,t,r){return t&&VC(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qC(e,t,r){return t=ri(t),WC(e,Fv()?Reflect.construct(t,r||[],ri(e).constructor):t.apply(e,r))}function WC(e,t){if(t&&(ln(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XC(e)}function XC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fv=function(){return!!e})()}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ri(e)}function GC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wl(e,t)}function Wl(e,t){return Wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wl(e,t)}function $v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(r),!0).forEach(function(n){Xl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$v(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xl(e,t,r){return t=Uv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uv(e){var t=YC(e,"string");return ln(t)=="symbol"?t:t+""}function YC(e,t){if(ln(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ln(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KC(e,t){return eM(e)||QC(e,t)||JC(e,t)||ZC()}function ZC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JC(e,t){if(e){if(typeof e=="string")return Vv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vv(e,t)}}function Vv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function eM(e){if(Array.isArray(e))return e}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}var tM=function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):se(e)?r=e(t):r=A.createElement("line",Gl({},t,{className:"recharts-reference-line-line"})),r},rM=function(e,t,r,n,a,o,i,s,c){var l=a.x,u=a.y,d=a.width,p=a.height;if(r){var m=c.y,y=e.y.apply(m,{position:o});if(Mt(c,"discard")&&!e.y.isInRange(y))return null;var h=[{x:l+d,y},{x:l,y}];return s==="left"?h.reverse():h}if(t){var v=c.x,g=e.x.apply(v,{position:o});if(Mt(c,"discard")&&!e.x.isInRange(g))return null;var w=[{x:g,y:u+p},{x:g,y:u}];return i==="top"?w.reverse():w}if(n){var S=c.segment,x=S.map(function(_){return e.apply(_,{position:o})});return Mt(c,"discard")&&ZA(x,function(_){return!e.isInRange(_)})?null:x}return null};function nM(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,c=e.alwaysShow,l=RC(),u=Rv(a),d=Bv(o),p=$C();if(!l||!p)return null;Lt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Bl({x:u.scale,y:d.scale}),y=Ce(t),h=Ce(r),v=n&&n.length===2,g=rM(m,y,h,v,p,e.position,u.orientation,d.orientation,e);if(!g)return null;var w=KC(g,2),S=w[0],x=S.x,_=S.y,j=w[1],O=j.x,P=j.y,M=Mt(e,"hidden")?"url(#".concat(l,")"):void 0,T=zv(zv({clipPath:M},me(e,!0)),{},{x1:x,y1:_,x2:O,y2:P});return A.createElement(Re,{className:ge("recharts-reference-line",s)},tM(i,T),He.renderCallByParent(e,kC({x1:x,y1:_,x2:O,y2:P})))}var Yl=function(e){function t(){return UC(this,t),qC(this,t,arguments)}return GC(t,e),HC(t,[{key:"render",value:function(){return A.createElement(nM,this.props)}}])}(A.Component);Xl(Yl,"displayName","ReferenceLine"),Xl(Yl,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}function un(e){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(e)}function Hv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hv(Object(r),!0).forEach(function(n){ai(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xv(n.key),n)}}function iM(e,t,r){return t&&oM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sM(e,t,r){return t=ni(t),cM(e,Wv()?Reflect.construct(t,r||[],ni(e).constructor):t.apply(e,r))}function cM(e,t){if(t&&(un(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lM(e)}function lM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wv=function(){return!!e})()}function ni(e){return ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ni(e)}function uM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zl(e,t)}function Zl(e,t){return Zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zl(e,t)}function ai(e,t,r){return t=Xv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xv(e){var t=dM(e,"string");return un(t)=="symbol"?t:t+""}function dM(e,t){if(un(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(un(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fM=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,o=Bl({x:n.scale,y:a.scale}),i=o.apply({x:t,y:r},{bandAware:!0});return Mt(e,"discard")&&!o.isInRange(i)?null:i},oi=function(e){function t(){return aM(this,t),sM(this,t,arguments)}return uM(t,e),iM(t,[{key:"render",value:function(){var r=this.props,n=r.x,a=r.y,o=r.r,i=r.alwaysShow,s=r.clipPathId,c=Ce(n),l=Ce(a);if(Lt(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!l)return null;var u=fM(this.props);if(!u)return null;var d=u.x,p=u.y,m=this.props,y=m.shape,h=m.className,v=Mt(this.props,"hidden")?"url(#".concat(s,")"):void 0,g=qv(qv({clipPath:v},me(this.props,!0)),{},{cx:d,cy:p});return A.createElement(Re,{className:ge("recharts-reference-dot",h)},t.renderDot(y,g),He.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(A.Component);ai(oi,"displayName","ReferenceDot"),ai(oi,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),ai(oi,"renderDot",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):se(e)?r=e(t):r=A.createElement(Vy,Kl({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}function dn(e){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}function Gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(r),!0).forEach(function(n){si(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zv(n.key),n)}}function mM(e,t,r){return t&&hM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yM(e,t,r){return t=ii(t),vM(e,Kv()?Reflect.construct(t,r||[],ii(e).constructor):t.apply(e,r))}function vM(e,t){if(t&&(dn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gM(e)}function gM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kv=function(){return!!e})()}function ii(e){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ii(e)}function bM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ql(e,t)}function Ql(e,t){return Ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ql(e,t)}function si(e,t,r){return t=Zv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zv(e){var t=xM(e,"string");return dn(t)=="symbol"?t:t+""}function xM(e,t){if(dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wM=function(e,t,r,n,a){var o=a.x1,i=a.x2,s=a.y1,c=a.y2,l=a.xAxis,u=a.yAxis;if(!l||!u)return null;var d=Bl({x:l.scale,y:u.scale}),p={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},m={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(c,{position:"end"}):d.y.rangeMax};return Mt(a,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:Ev(p,m)},ci=function(e){function t(){return pM(this,t),yM(this,t,arguments)}return bM(t,e),mM(t,[{key:"render",value:function(){var r=this.props,n=r.x1,a=r.x2,o=r.y1,i=r.y2,s=r.className,c=r.alwaysShow,l=r.clipPathId;Lt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Ce(n),d=Ce(a),p=Ce(o),m=Ce(i),y=this.props.shape;if(!u&&!d&&!p&&!m&&!y)return null;var h=wM(u,d,p,m,this.props);if(!h&&!y)return null;var v=Mt(this.props,"hidden")?"url(#".concat(l,")"):void 0;return A.createElement(Re,{className:ge("recharts-reference-area",s)},t.renderRect(y,Yv(Yv({clipPath:v},me(this.props,!0)),h)),He.renderCallByParent(this.props,h))}}])}(A.Component);si(ci,"displayName","ReferenceArea"),si(ci,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),si(ci,"renderRect",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):se(e)?r=e(t):r=A.createElement(wl,Jl({},t,{className:"recharts-reference-area-rect"})),r});function Jv(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function jM(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return PC(n,r)}function _M(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function li(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function OM(e,t){return Jv(e,t+1)}function SM(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,c=0,l=1,u=i,d=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:Jv(n,l)};var y=c,h,v=function(){return h===void 0&&(h=r(m,y)),h},g=m.coordinate,w=c===0||li(e,g,v,u,s);w||(c=0,u=i,l+=1),w&&(u=g+e*(v()/2+a),c+=l)},p;l<=o.length;)if(p=d(),p)return p.v;return[]}function Sa(e){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(e)}function Qv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qv(Object(r),!0).forEach(function(n){EM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EM(e,t,r){return t=kM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kM(e){var t=NM(e,"string");return Sa(t)=="symbol"?t:t+""}function NM(e,t){if(Sa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PM(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,c=t.end,l=function(d){var p=o[d],m,y=function(){return m===void 0&&(m=r(p,d)),m};if(d===i-1){var h=e*(p.coordinate+e*y()/2-c);o[d]=p=qe(qe({},p),{},{tickCoord:h>0?p.coordinate-h*e:p.coordinate})}else o[d]=p=qe(qe({},p),{},{tickCoord:p.coordinate});var v=li(e,p.tickCoord,y,s,c);v&&(c=p.tickCoord-e*(y()/2+a),o[d]=qe(qe({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)l(u);return o}function AM(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,c=t.start,l=t.end;if(o){var u=n[s-1],d=r(u,s-1),p=e*(u.coordinate+e*d/2-l);i[s-1]=u=qe(qe({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var m=li(e,u.tickCoord,function(){return d},c,l);m&&(l=u.tickCoord-e*(d/2+a),i[s-1]=qe(qe({},u),{},{isShow:!0}))}for(var y=o?s-1:s,h=function(g){var w=i[g],S,x=function(){return S===void 0&&(S=r(w,g)),S};if(g===0){var _=e*(w.coordinate-e*x()/2-c);i[g]=w=qe(qe({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else i[g]=w=qe(qe({},w),{},{tickCoord:w.coordinate});var j=li(e,w.tickCoord,x,c,l);j&&(c=w.tickCoord+e*(x()/2+a),i[g]=qe(qe({},w),{},{isShow:!0}))},v=0;v<y;v++)h(v);return i}function eu(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(H(c)||er.isSsr)return OM(a,typeof c=="number"&&H(c)?c:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",y=u&&m==="width"?zn(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=function(w,S){var x=se(l)?l(w.value,S):w.value;return m==="width"?jM(zn(x,{fontSize:t,letterSpacing:r}),y,d):zn(x,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?wt(a[1].coordinate-a[0].coordinate):1,g=_M(o,v,m);return c==="equidistantPreserveStart"?SM(v,g,h,a,i):(c==="preserveStart"||c==="preserveStartEnd"?p=AM(v,g,h,a,i,c==="preserveStartEnd"):p=PM(v,g,h,a,i),p.filter(function(w){return w.isShow}))}var CM=["viewBox"],MM=["viewBox"],TM=["ticks"];function fn(e){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(e)}function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pn.apply(this,arguments)}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(n){nu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tu(e,t){if(e==null)return{};var r=DM(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ng(n.key),n)}}function LM(e,t,r){return t&&tg(e.prototype,t),r&&tg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RM(e,t,r){return t=ui(t),BM(e,rg()?Reflect.construct(t,r||[],ui(e).constructor):t.apply(e,r))}function BM(e,t){if(t&&(fn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FM(e)}function FM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rg=function(){return!!e})()}function ui(e){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ui(e)}function $M(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ru(e,t)}function ru(e,t){return ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ru(e,t)}function nu(e,t,r){return t=ng(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ng(e){var t=zM(e,"string");return fn(t)=="symbol"?t:t+""}function zM(e,t){if(fn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hn=function(e){function t(r){var n;return IM(this,t),n=RM(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return $M(t,e),LM(t,[{key:"shouldComponentUpdate",value:function(r,n){var a=r.viewBox,o=tu(r,CM),i=this.props,s=i.viewBox,c=tu(i,MM);return!$r(a,s)||!$r(o,c)||!$r(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,c=n.orientation,l=n.tickSize,u=n.mirror,d=n.tickMargin,p,m,y,h,v,g,w=u?-1:1,S=r.tickSize||l,x=H(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,h=o+ +!u*s,y=h-w*S,g=y-w*d,v=x;break;case"left":y=h=r.coordinate,m=a+ +!u*i,p=m-w*S,v=p-w*d,g=x;break;case"right":y=h=r.coordinate,m=a+ +u*i,p=m+w*S,v=p+w*d,g=x;break;default:p=m=r.coordinate,h=o+ +u*s,y=h+w*S,g=y+w*d,v=x;break}return{line:{x1:p,y1:y,x2:m,y2:h},tick:{x:v,y:g}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o;switch(n){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.orientation,c=r.mirror,l=r.axisLine,u=Ke(Ke(Ke({},me(this.props,!1)),me(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!c||s==="bottom"&&c);u=Ke(Ke({},u),{},{x1:n,y1:a+d*i,x2:n+o,y2:a+d*i})}else{var p=+(s==="left"&&!c||s==="right"&&c);u=Ke(Ke({},u),{},{x1:n+p*o,y1:a,x2:n+p*o,y2:a+i})}return A.createElement("line",pn({},u,{className:ge("recharts-cartesian-axis-line",pt(l,"className"))}))}},{key:"renderTicks",value:function(r,n,a){var o=this,i=this.props,s=i.tickLine,c=i.stroke,l=i.tick,u=i.tickFormatter,d=i.unit,p=eu(Ke(Ke({},this.props),{},{ticks:r}),n,a),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),h=me(this.props,!1),v=me(l,!1),g=Ke(Ke({},h),{},{fill:"none"},me(s,!1)),w=p.map(function(S,x){var _=o.getTickLineCoord(S),j=_.line,O=_.tick,P=Ke(Ke(Ke(Ke({textAnchor:m,verticalAnchor:y},h),{},{stroke:"none",fill:c},v),O),{},{index:x,payload:S,visibleTicksCount:p.length,tickFormatter:u});return A.createElement(Re,pn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Ha(o.props,S,x)),s&&A.createElement("line",pn({},g,j,{className:ge("recharts-cartesian-axis-tick-line",pt(s,"className"))})),l&&t.renderTickItem(l,P,"".concat(se(u)?u(S.value,x):S.value).concat(d||"")))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,n=this.props,a=n.axisLine,o=n.width,i=n.height,s=n.ticksGenerator,c=n.className,l=n.hide;if(l)return null;var u=this.props,d=u.ticks,p=tu(u,TM),m=d;return se(s)&&(m=d&&d.length>0?s(this.props):s(p)),o<=0||i<=0||!m||!m.length?null:A.createElement(Re,{className:ge("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),He.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,a){var o;return A.isValidElement(r)?o=A.cloneElement(r,n):se(r)?o=r(n):o=A.createElement(uo,pn({},n,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(b.Component);nu(hn,"displayName","CartesianAxis"),nu(hn,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UM=["x1","y1","x2","y2","key"],VM=["offset"];function Pr(e){"@babel/helpers - typeof";return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(e)}function ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ag(Object(r),!0).forEach(function(n){HM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HM(e,t,r){return t=qM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qM(e){var t=WM(e,"string");return Pr(t)=="symbol"?t:t+""}function WM(e,t){if(Pr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ar.apply(this,arguments)}function og(e,t){if(e==null)return{};var r=XM(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GM=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.ry;return A.createElement("rect",{x:n,y:a,ry:s,width:o,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ig(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(se(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,c=og(t,UM),l=me(c,!1);l.offset;var u=og(l,VM);r=A.createElement("line",Ar({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function YM(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=We(We({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return ig(a,l)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function KM(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=We(We({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return ig(a,l)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function ZM(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,c=e.horizontal,l=c===void 0?!0:c;if(!l||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==u[0]&&u.unshift(0);var d=u.map(function(p,m){var y=!u[m+1],h=y?a+i-p:u[m+1]-p;if(h<=0)return null;var v=m%t.length;return A.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:h,width:o,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function JM(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,c=e.height,l=e.verticalPoints;if(!r||!n||!n.length)return null;var u=l.map(function(p){return Math.round(p+o-o)}).sort(function(p,m){return p-m});o!==u[0]&&u.unshift(0);var d=u.map(function(p,m){var y=!u[m+1],h=y?o+s-p:u[m+1]-p;if(h<=0)return null;var v=m%n.length;return A.createElement("rect",{key:"react-".concat(m),x:p,y:i,width:h,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var QM=function(e,t){var r=e.xAxis,n=e.width,a=e.height,o=e.offset;return Fm(eu(We(We(We({},hn.defaultProps),r),{},{ticks:qt(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.left,o.left+o.width,t)},eT=function(e,t){var r=e.yAxis,n=e.width,a=e.height,o=e.offset;return Fm(eu(We(We(We({},hn.defaultProps),r),{},{ticks:qt(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.top,o.top+o.height,t)},mn={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sg(e){var t,r,n,a,o,i,s=Hl(),c=ql(),l=zC(),u=We(We({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:mn.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:mn.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:mn.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:mn.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:mn.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:mn.verticalFill,x:H(e.x)?e.x:l.left,y:H(e.y)?e.y:l.top,width:H(e.width)?e.width:l.width,height:H(e.height)?e.height:l.height}),d=u.x,p=u.y,m=u.width,y=u.height,h=u.syncWithTicks,v=u.horizontalValues,g=u.verticalValues,w=BC(),S=FC();if(!H(m)||m<=0||!H(y)||y<=0||!H(d)||d!==+d||!H(p)||p!==+p)return null;var x=u.verticalCoordinatesGenerator||QM,_=u.horizontalCoordinatesGenerator||eT,j=u.horizontalPoints,O=u.verticalPoints;if((!j||!j.length)&&se(_)){var P=v&&v.length,M=_({yAxis:S?We(We({},S),{},{ticks:P?v:S.ticks}):void 0,width:s,height:c,offset:l},P?!0:h);Lt(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Pr(M),"]")),Array.isArray(M)&&(j=M)}if((!O||!O.length)&&se(x)){var T=g&&g.length,E=x({xAxis:w?We(We({},w),{},{ticks:T?g:w.ticks}):void 0,width:s,height:c,offset:l},T?!0:h);Lt(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Pr(E),"]")),Array.isArray(E)&&(O=E)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(GM,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),A.createElement(YM,Ar({},u,{offset:l,horizontalPoints:j,xAxis:w,yAxis:S})),A.createElement(KM,Ar({},u,{offset:l,verticalPoints:O,xAxis:w,yAxis:S})),A.createElement(ZM,Ar({},u,{horizontalPoints:j})),A.createElement(JM,Ar({},u,{verticalPoints:O})))}sg.displayName="CartesianGrid";function yn(e){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(e)}function tT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ug(n.key),n)}}function nT(e,t,r){return t&&rT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aT(e,t,r){return t=di(t),oT(e,cg()?Reflect.construct(t,r||[],di(e).constructor):t.apply(e,r))}function oT(e,t){if(t&&(yn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iT(e)}function iT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cg=function(){return!!e})()}function di(e){return di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},di(e)}function sT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&au(e,t)}function au(e,t){return au=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},au(e,t)}function lg(e,t,r){return t=ug(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ug(e){var t=cT(e,"string");return yn(t)=="symbol"?t:t+""}function cT(e,t){if(yn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(this,arguments)}function lT(e){var t=e.xAxisId,r=Hl(),n=ql(),a=Rv(t);return a==null?null:A.createElement(hn,ou({},a,{className:ge("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return qt(o,!0)}}))}var fi=function(e){function t(){return tT(this,t),aT(this,t,arguments)}return sT(t,e),nT(t,[{key:"render",value:function(){return A.createElement(lT,this.props)}}])}(A.Component);lg(fi,"displayName","XAxis"),lg(fi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vn(e){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(e)}function uT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pg(n.key),n)}}function fT(e,t,r){return t&&dT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pT(e,t,r){return t=pi(t),hT(e,dg()?Reflect.construct(t,r||[],pi(e).constructor):t.apply(e,r))}function hT(e,t){if(t&&(vn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mT(e)}function mT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dg=function(){return!!e})()}function pi(e){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pi(e)}function yT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iu(e,t)}function iu(e,t){return iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},iu(e,t)}function fg(e,t,r){return t=pg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pg(e){var t=vT(e,"string");return vn(t)=="symbol"?t:t+""}function vT(e,t){if(vn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(this,arguments)}var gT=function(e){var t=e.yAxisId,r=Hl(),n=ql(),a=Bv(t);return a==null?null:A.createElement(hn,su({},a,{className:ge("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return qt(o,!0)}}))},cu=function(e){function t(){return uT(this,t),pT(this,t,arguments)}return yT(t,e),fT(t,[{key:"render",value:function(){return A.createElement(gT,this.props)}}])}(A.Component);fg(cu,"displayName","YAxis"),fg(cu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hg(e){return jT(e)||wT(e)||xT(e)||bT()}function bT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xT(e,t){if(e){if(typeof e=="string")return lu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lu(e,t)}}function wT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jT(e){if(Array.isArray(e))return lu(e)}function lu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uu=function(e,t,r,n,a){var o=jt(e,Yl),i=jt(e,oi),s=[].concat(hg(o),hg(i)),c=jt(e,ci),l="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce(function(y,h){if(h.props[l]===r&&Mt(h.props,"extendDomain")&&H(h.props[u])){var v=h.props[u];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},d)),c.length){var p="".concat(u,"1"),m="".concat(u,"2");d=c.reduce(function(y,h){if(h.props[l]===r&&Mt(h.props,"extendDomain")&&H(h.props[p])&&H(h.props[m])){var v=h.props[p],g=h.props[m];return[Math.min(y[0],v,g),Math.max(y[1],v,g)]}return y},d)}return a&&a.length&&(d=a.reduce(function(y,h){return H(h)?[Math.min(y[0],h),Math.max(y[1],h)]:y},d)),d},mg={exports:{}},yg;function _T(){return yg||(yg=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,d,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,d||c,p),y=r?r+l:l;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function i(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],l,u;if(this._eventsCount===0)return c;for(u in l=this._events)t.call(l,u)&&c.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},s.prototype.listeners=function(c){var l=r?r+c:c,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,p=u.length,m=new Array(p);d<p;d++)m[d]=u[d].fn;return m},s.prototype.listenerCount=function(c){var l=r?r+c:c,u=this._events[l];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,l,u,d,p,m){var y=r?r+c:c;if(!this._events[y])return!1;var h=this._events[y],v=arguments.length,g,w;if(h.fn){switch(h.once&&this.removeListener(c,h.fn,void 0,!0),v){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,l),!0;case 3:return h.fn.call(h.context,l,u),!0;case 4:return h.fn.call(h.context,l,u,d),!0;case 5:return h.fn.call(h.context,l,u,d,p),!0;case 6:return h.fn.call(h.context,l,u,d,p,m),!0}for(w=1,g=new Array(v-1);w<v;w++)g[w-1]=arguments[w];h.fn.apply(h.context,g)}else{var S=h.length,x;for(w=0;w<S;w++)switch(h[w].once&&this.removeListener(c,h[w].fn,void 0,!0),v){case 1:h[w].fn.call(h[w].context);break;case 2:h[w].fn.call(h[w].context,l);break;case 3:h[w].fn.call(h[w].context,l,u);break;case 4:h[w].fn.call(h[w].context,l,u,d);break;default:if(!g)for(x=1,g=new Array(v-1);x<v;x++)g[x-1]=arguments[x];h[w].fn.apply(h[w].context,g)}}return!0},s.prototype.on=function(c,l,u){return o(this,c,l,u,!1)},s.prototype.once=function(c,l,u){return o(this,c,l,u,!0)},s.prototype.removeListener=function(c,l,u,d){var p=r?r+c:c;if(!this._events[p])return this;if(!l)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===l&&(!d||m.once)&&(!u||m.context===u)&&i(this,p);else{for(var y=0,h=[],v=m.length;y<v;y++)(m[y].fn!==l||d&&!m[y].once||u&&m[y].context!==u)&&h.push(m[y]);h.length?this._events[p]=h.length===1?h[0]:h:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var l;return c?(l=r?r+c:c,this._events[l]&&i(this,l)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(mg)),mg.exports}var OT=_T();const ST=Se(OT);var du=new ST,fu="recharts.syncMouseEvents";function Ea(e){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(e)}function ET(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vg(n.key),n)}}function NT(e,t,r){return t&&kT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pu(e,t,r){return t=vg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vg(e){var t=PT(e,"string");return Ea(t)=="symbol"?t:t+""}function PT(e,t){if(Ea(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ea(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AT=function(){function e(){ET(this,e),pu(this,"activeIndex",0),pu(this,"coordinateList",[]),pu(this,"layout","horizontal")}return NT(e,[{key:"setDetails",value:function(t){var r,n=t.coordinateList,a=n===void 0?null:n,o=t.container,i=o===void 0?null:o,s=t.layout,c=s===void 0?null:s,l=t.offset,u=l===void 0?null:l,d=t.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=i??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),a=n.x,o=n.y,i=n.height,s=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,l=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=a+s+c,d=o+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:u,pageY:d})}}}])}();function CT(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&H(n)&&H(a))return!0}return!1}function MT(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gg(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=ze(t,r,n,a),s=ze(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function TT(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.angle,p=ze(s,c,l,d),m=ze(s,c,u,d);n=p.x,a=p.y,o=m.x,i=m.y}else return gg(t);return[{x:n,y:a},{x:o,y:i}]}function ka(e){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(e)}function bg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bg(Object(r),!0).forEach(function(n){DT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DT(e,t,r){return t=IT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IT(e){var t=LT(e,"string");return ka(t)=="symbol"?t:t+""}function LT(e,t){if(ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RT(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,c=e.offset,l=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!o||!i||p!=="ScatterChart"&&a!=="axis")return null;var y,h=cy;if(p==="ScatterChart")y=i,h=QP;else if(p==="BarChart")y=MT(d,i,c,u),h=wl;else if(d==="radial"){var v=gg(i),g=v.cx,w=v.cy,S=v.radius,x=v.startAngle,_=v.endAngle;y={cx:g,cy:w,startAngle:x,endAngle:_,innerRadius:S,outerRadius:S},h=ay}else y={points:TT(d,i,c)},h=cy;var j=hi(hi(hi(hi({stroke:"#ccc",pointerEvents:"none"},c),y),me(m,!1)),{},{payload:s,payloadIndex:l,className:ge("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,j):b.createElement(h,j)}var BT=["item"],FT=["children","className","width","height","style","compact","title","desc"];function gn(e){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(e)}function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bn.apply(this,arguments)}function xg(e,t){return UT(e)||zT(e,t)||_g(e,t)||$T()}function $T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function UT(e){if(Array.isArray(e))return e}function wg(e,t){if(e==null)return{};var r=VT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sg(n.key),n)}}function WT(e,t,r){return t&&qT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XT(e,t,r){return t=mi(t),GT(e,jg()?Reflect.construct(t,r||[],mi(e).constructor):t.apply(e,r))}function GT(e,t){if(t&&(gn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YT(e)}function YT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jg=function(){return!!e})()}function mi(e){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mi(e)}function KT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hu(e,t)}function hu(e,t){return hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},hu(e,t)}function xn(e){return QT(e)||JT(e)||_g(e)||ZT()}function ZT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _g(e,t){if(e){if(typeof e=="string")return mu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mu(e,t)}}function JT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QT(e){if(Array.isArray(e))return mu(e)}function mu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Og(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Og(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ee(e,t,r){return t=Sg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sg(e){var t=e2(e,"string");return gn(t)=="symbol"?t:t+""}function e2(e,t){if(gn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t2={xAxis:["bottom","top"],yAxis:["left","right"]},r2={width:"100%",height:"100%"},Eg={x:0,y:0};function yi(e){return e}var n2=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},a2=function(e,t,r,n){var a=t.find(function(l){return l&&l.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,i=n.radius;return R(R(R({},n),ze(n.cx,n.cy,i,o)),{},{angle:o,radius:i})}var s=a.coordinate,c=n.angle;return R(R(R({},n),ze(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return Eg},vi=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,o=(r??[]).reduce(function(i,s){var c=s.props.data;return c&&c.length?[].concat(xn(i),xn(c)):i},[]);return o.length>0?o:e&&e.length&&H(n)&&H(a)?e.slice(n,a+1):[]};function kg(e){return e==="number"?[0,"auto"]:void 0}var yu=function(e,t,r,n){var a=e.graphicalItems,o=e.tooltipAxis,i=vi(t,e);return r<0||!a||!a.length||r>=i.length?null:a.reduce(function(s,c){var l,u=(l=c.props.data)!==null&&l!==void 0?l:t;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=u===void 0?i:u;d=is(p,o.dataKey,n)}else d=u&&u[r]||i[r];return d?[].concat(xn(s),[Wm(c,d)]):s},[])},Ng=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},o=n2(a,r),i=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=YE(o,i,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,d=yu(e,t,l,u),p=a2(r,i,l,a);return{activeTooltipIndex:l,activeLabel:u,activePayload:d,activeCoordinate:p}}return null},o2=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=e.stackOffset,p=Bm(l,a);return r.reduce(function(m,y){var h,v=y.type.defaultProps!==void 0?R(R({},y.type.defaultProps),y.props):y.props,g=v.type,w=v.dataKey,S=v.allowDataOverflow,x=v.allowDuplicatedCategory,_=v.scale,j=v.ticks,O=v.includeHidden,P=v[o];if(m[P])return m;var M=vi(e.data,{graphicalItems:n.filter(function(X){var L,G=o in X.props?X.props[o]:(L=X.type.defaultProps)===null||L===void 0?void 0:L[o];return G===P}),dataStartIndex:s,dataEndIndex:c}),T=M.length,E,N,C;CT(v.domain,S,g)&&(E=al(v.domain,null,S),p&&(g==="number"||_!=="auto")&&(C=Do(M,w,"category")));var k=kg(g);if(!E||E.length===0){var I,B=(I=v.domain)!==null&&I!==void 0?I:k;if(w){if(E=Do(M,w,g),g==="category"&&p){var F=yw(E);x&&F?(N=E,E=Ko(0,T)):x||(E=qm(B,E,y).reduce(function(X,L){return X.indexOf(L)>=0?X:[].concat(xn(X),[L])},[]))}else if(g==="category")x?E=E.filter(function(X){return X!==""&&!ye(X)}):E=qm(B,E,y).reduce(function(X,L){return X.indexOf(L)>=0||L===""||ye(L)?X:[].concat(xn(X),[L])},[]);else if(g==="number"){var V=ek(M,n.filter(function(X){var L,G,D=o in X.props?X.props[o]:(L=X.type.defaultProps)===null||L===void 0?void 0:L[o],U="hide"in X.props?X.props.hide:(G=X.type.defaultProps)===null||G===void 0?void 0:G.hide;return D===P&&(O||!U)}),w,a,l);V&&(E=V)}p&&(g==="number"||_!=="auto")&&(C=Do(M,w,"category"))}else p?E=Ko(0,T):i&&i[P]&&i[P].hasStack&&g==="number"?E=d==="expand"?[0,1]:Um(i[P].stackGroups,s,c):E=Rm(M,n.filter(function(X){var L=o in X.props?X.props[o]:X.type.defaultProps[o],G="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return L===P&&(O||!G)}),g,l,!0);if(g==="number")E=uu(u,E,P,a,j),B&&(E=al(B,E,S));else if(g==="category"&&B){var W=B,Z=E.every(function(X){return W.indexOf(X)>=0});Z&&(E=W)}}return R(R({},m),{},ee({},P,R(R({},v),{},{axisType:a,domain:E,categoricalDomain:C,duplicateDomain:N,originalDomain:(h=v.domain)!==null&&h!==void 0?h:k,isCategorical:p,layout:l})))},{})},i2=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=vi(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:c}),p=d.length,m=Bm(l,a),y=-1;return r.reduce(function(h,v){var g=v.type.defaultProps!==void 0?R(R({},v.type.defaultProps),v.props):v.props,w=g[o],S=kg("number");if(!h[w]){y++;var x;return m?x=Ko(0,p):i&&i[w]&&i[w].hasStack?(x=Um(i[w].stackGroups,s,c),x=uu(u,x,w,a)):(x=al(S,Rm(d,r.filter(function(_){var j,O,P=o in _.props?_.props[o]:(j=_.type.defaultProps)===null||j===void 0?void 0:j[o],M="hide"in _.props?_.props.hide:(O=_.type.defaultProps)===null||O===void 0?void 0:O.hide;return P===w&&!M}),"number",l),n.defaultProps.allowDataOverflow),x=uu(u,x,w,a)),R(R({},h),{},ee({},w,R(R({axisType:a},n.defaultProps),{},{hide:!0,orientation:pt(t2,"".concat(a,".").concat(y%2),null),domain:x,originalDomain:S,isCategorical:m,layout:l})))}return h},{})},s2=function(e,t){var r=t.axisType,n=r===void 0?"xAxis":r,a=t.AxisComp,o=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(n,"Id"),d=jt(l,a),p={};return d&&d.length?p=o2(e,{axes:d,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(p=i2(e,{Axis:a,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c})),p},c2=function(e){var t=Qt(e),r=qt(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Qs(r,function(n){return n.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Lo(t,r)}},Pg=function(e){var t=e.children,r=e.defaultShowTooltip,n=ct(t,sn),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},l2=function(e){return!e||!e.length?!1:e.some(function(t){var r=It(t&&t.type);return r&&r.indexOf("Bar")>=0})},Ag=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},u2=function(e,t){var r=e.props,n=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,i=e.yAxisMap,s=i===void 0?{}:i,c=r.width,l=r.height,u=r.children,d=r.margin||{},p=ct(u,sn),m=ct(u,Hr),y=Object.keys(s).reduce(function(x,_){var j=s[_],O=j.orientation;return!j.mirror&&!j.hide?R(R({},x),{},ee({},O,x[O]+j.width)):x},{left:d.left||0,right:d.right||0}),h=Object.keys(o).reduce(function(x,_){var j=o[_],O=j.orientation;return!j.mirror&&!j.hide?R(R({},x),{},ee({},O,pt(x,"".concat(O))+j.height)):x},{top:d.top||0,bottom:d.bottom||0}),v=R(R({},h),y),g=v.bottom;p&&(v.bottom+=p.props.height||sn.defaultProps.height),m&&t&&(v=JE(v,n,r,t));var w=c-v.left-v.right,S=l-v.top-v.bottom;return R(R({brushBottom:g},v),{},{width:Math.max(w,0),height:Math.max(S,0)})},d2=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},f2=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=n===void 0?"axis":n,o=e.validateTooltipEventTypes,i=o===void 0?["axis"]:o,s=e.axisComponents,c=e.legendContent,l=e.formatAxisMap,u=e.defaultProps,d=function(h,v){var g=v.graphicalItems,w=v.stackGroups,S=v.offset,x=v.updateId,_=v.dataStartIndex,j=v.dataEndIndex,O=h.barSize,P=h.layout,M=h.barGap,T=h.barCategoryGap,E=h.maxBarSize,N=Ag(P),C=N.numericAxisName,k=N.cateAxisName,I=l2(g),B=[];return g.forEach(function(F,V){var W=vi(h.data,{graphicalItems:[F],dataStartIndex:_,dataEndIndex:j}),Z=F.type.defaultProps!==void 0?R(R({},F.type.defaultProps),F.props):F.props,X=Z.dataKey,L=Z.maxBarSize,G=Z["".concat(C,"Id")],D=Z["".concat(k,"Id")],U={},te=s.reduce(function(Mr,Tr){var Aa=v["".concat(Tr.axisType,"Map")],wb=Z["".concat(Tr.axisType,"Id")];Aa&&Aa[wb]||Tr.axisType==="zAxis"||Sr();var jb=Aa[wb];return R(R({},Mr),{},ee(ee({},Tr.axisType,jb),"".concat(Tr.axisType,"Ticks"),qt(jb)))},U),ie=te[k],_e=te["".concat(k,"Ticks")],q=w&&w[G]&&w[G].hasStack&&fk(F,w[G].stackGroups),Q=It(F.type).indexOf("Bar")>=0,ne=Lo(ie,_e),z=[],$e=I&&KE({barSize:O,stackGroups:w,totalSize:d2(te,k)});if(Q){var ue,De,Ie=ye(L)?E:L,Ze=(ue=(De=Lo(ie,_e,!0))!==null&&De!==void 0?De:Ie)!==null&&ue!==void 0?ue:0;z=ZE({barGap:M,barCategoryGap:T,bandSize:Ze!==ne?Ze:ne,sizeList:$e[D],maxBarSize:Ie}),Ze!==ne&&(z=z.map(function(Mr){return R(R({},Mr),{},{position:R(R({},Mr.position),{},{offset:Mr.position.offset-Ze/2})})}))}var Cr=F&&F.type&&F.type.getComposedData;Cr&&B.push({props:R(R({},Cr(R(R({},te),{},{displayedData:W,props:h,dataKey:X,item:F,bandSize:ne,barPosition:z,offset:S,stackedData:q,layout:P,dataStartIndex:_,dataEndIndex:j}))),{},ee(ee(ee({key:F.key||"item-".concat(V)},C,te[C]),k,te[k]),"animationId",x)),childIndex:kw(F,h.children),item:F})}),B},p=function(h,v){var g=h.props,w=h.dataStartIndex,S=h.dataEndIndex,x=h.updateId;if(!vf({props:g}))return null;var _=g.children,j=g.layout,O=g.stackOffset,P=g.data,M=g.reverseStackOrder,T=Ag(j),E=T.numericAxisName,N=T.cateAxisName,C=jt(_,r),k=lk(P,C,"".concat(E,"Id"),"".concat(N,"Id"),O,M),I=s.reduce(function(Z,X){var L="".concat(X.axisType,"Map");return R(R({},Z),{},ee({},L,s2(g,R(R({},X),{},{graphicalItems:C,stackGroups:X.axisType===E&&k,dataStartIndex:w,dataEndIndex:S}))))},{}),B=u2(R(R({},I),{},{props:g,graphicalItems:C}),v==null?void 0:v.legendBBox);Object.keys(I).forEach(function(Z){I[Z]=l(g,I[Z],B,Z.replace("Map",""),t)});var F=I["".concat(N,"Map")],V=c2(F),W=d(g,R(R({},I),{},{dataStartIndex:w,dataEndIndex:S,updateId:x,graphicalItems:C,stackGroups:k,offset:B}));return R(R({formattedGraphicalItems:W,graphicalItems:C,offset:B,stackGroups:k},V),I)},m=function(h){function v(g){var w,S,x;return HT(this,v),x=XT(this,v,[g]),ee(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ee(x,"accessibilityManager",new AT),ee(x,"handleLegendBBoxUpdate",function(_){if(_){var j=x.state,O=j.dataStartIndex,P=j.dataEndIndex,M=j.updateId;x.setState(R({legendBBox:_},p({props:x.props,dataStartIndex:O,dataEndIndex:P,updateId:M},R(R({},x.state),{},{legendBBox:_}))))}}),ee(x,"handleReceiveSyncEvent",function(_,j,O){if(x.props.syncId===_){if(O===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(j)}}),ee(x,"handleBrushChange",function(_){var j=_.startIndex,O=_.endIndex;if(j!==x.state.dataStartIndex||O!==x.state.dataEndIndex){var P=x.state.updateId;x.setState(function(){return R({dataStartIndex:j,dataEndIndex:O},p({props:x.props,dataStartIndex:j,dataEndIndex:O,updateId:P},x.state))}),x.triggerSyncEvent({dataStartIndex:j,dataEndIndex:O})}}),ee(x,"handleMouseEnter",function(_){var j=x.getMouseInfo(_);if(j){var O=R(R({},j),{},{isTooltipActive:!0});x.setState(O),x.triggerSyncEvent(O);var P=x.props.onMouseEnter;se(P)&&P(O,_)}}),ee(x,"triggeredAfterMouseMove",function(_){var j=x.getMouseInfo(_),O=j?R(R({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(O),x.triggerSyncEvent(O);var P=x.props.onMouseMove;se(P)&&P(O,_)}),ee(x,"handleItemMouseEnter",function(_){x.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),ee(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ee(x,"handleMouseMove",function(_){_.persist(),x.throttleTriggeredAfterMouseMove(_)}),ee(x,"handleMouseLeave",function(_){x.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};x.setState(j),x.triggerSyncEvent(j);var O=x.props.onMouseLeave;se(O)&&O(j,_)}),ee(x,"handleOuterEvent",function(_){var j=Ew(_),O=pt(x.props,"".concat(j));if(j&&se(O)){var P,M;/.*touch.*/i.test(j)?M=x.getMouseInfo(_.changedTouches[0]):M=x.getMouseInfo(_),O((P=M)!==null&&P!==void 0?P:{},_)}}),ee(x,"handleClick",function(_){var j=x.getMouseInfo(_);if(j){var O=R(R({},j),{},{isTooltipActive:!0});x.setState(O),x.triggerSyncEvent(O);var P=x.props.onClick;se(P)&&P(O,_)}}),ee(x,"handleMouseDown",function(_){var j=x.props.onMouseDown;if(se(j)){var O=x.getMouseInfo(_);j(O,_)}}),ee(x,"handleMouseUp",function(_){var j=x.props.onMouseUp;if(se(j)){var O=x.getMouseInfo(_);j(O,_)}}),ee(x,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),ee(x,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseDown(_.changedTouches[0])}),ee(x,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseUp(_.changedTouches[0])}),ee(x,"triggerSyncEvent",function(_){x.props.syncId!==void 0&&du.emit(fu,x.props.syncId,_,x.eventEmitterSymbol)}),ee(x,"applySyncEvent",function(_){var j=x.props,O=j.layout,P=j.syncMethod,M=x.state.updateId,T=_.dataStartIndex,E=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)x.setState(R({dataStartIndex:T,dataEndIndex:E},p({props:x.props,dataStartIndex:T,dataEndIndex:E,updateId:M},x.state)));else if(_.activeTooltipIndex!==void 0){var N=_.chartX,C=_.chartY,k=_.activeTooltipIndex,I=x.state,B=I.offset,F=I.tooltipTicks;if(!B)return;if(typeof P=="function")k=P(F,_);else if(P==="value"){k=-1;for(var V=0;V<F.length;V++)if(F[V].value===_.activeLabel){k=V;break}}var W=R(R({},B),{},{x:B.left,y:B.top}),Z=Math.min(N,W.x+W.width),X=Math.min(C,W.y+W.height),L=F[k]&&F[k].value,G=yu(x.state,x.props.data,k),D=F[k]?{x:O==="horizontal"?F[k].coordinate:Z,y:O==="horizontal"?X:F[k].coordinate}:Eg;x.setState(R(R({},_),{},{activeLabel:L,activeCoordinate:D,activePayload:G,activeTooltipIndex:k}))}else x.setState(_)}),ee(x,"renderCursor",function(_){var j,O=x.state,P=O.isTooltipActive,M=O.activeCoordinate,T=O.activePayload,E=O.offset,N=O.activeTooltipIndex,C=O.tooltipAxisBandSize,k=x.getTooltipEventType(),I=(j=_.props.active)!==null&&j!==void 0?j:P,B=x.props.layout,F=_.key||"_recharts-cursor";return A.createElement(RT,{key:F,activeCoordinate:M,activePayload:T,activeTooltipIndex:N,chartName:t,element:_,isActive:I,layout:B,offset:E,tooltipAxisBandSize:C,tooltipEventType:k})}),ee(x,"renderPolarAxis",function(_,j,O){var P=pt(_,"type.axisType"),M=pt(x.state,"".concat(P,"Map")),T=_.type.defaultProps,E=T!==void 0?R(R({},T),_.props):_.props,N=M&&M[E["".concat(P,"Id")]];return b.cloneElement(_,R(R({},N),{},{className:ge(P,N.className),key:_.key||"".concat(j,"-").concat(O),ticks:qt(N,!0)}))}),ee(x,"renderPolarGrid",function(_){var j=_.props,O=j.radialLines,P=j.polarAngles,M=j.polarRadius,T=x.state,E=T.radiusAxisMap,N=T.angleAxisMap,C=Qt(E),k=Qt(N),I=k.cx,B=k.cy,F=k.innerRadius,V=k.outerRadius;return b.cloneElement(_,{polarAngles:Array.isArray(P)?P:qt(k,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(M)?M:qt(C,!0).map(function(W){return W.coordinate}),cx:I,cy:B,innerRadius:F,outerRadius:V,key:_.key||"polar-grid",radialLines:O})}),ee(x,"renderLegend",function(){var _=x.state.formattedGraphicalItems,j=x.props,O=j.children,P=j.width,M=j.height,T=x.props.margin||{},E=P-(T.left||0)-(T.right||0),N=Tm({children:O,formattedGraphicalItems:_,legendWidth:E,legendContent:c});if(!N)return null;var C=N.item,k=wg(N,BT);return b.cloneElement(C,R(R({},k),{},{chartWidth:P,chartHeight:M,margin:T,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ee(x,"renderTooltip",function(){var _,j=x.props,O=j.children,P=j.accessibilityLayer,M=ct(O,Nt);if(!M)return null;var T=x.state,E=T.isTooltipActive,N=T.activeCoordinate,C=T.activePayload,k=T.activeLabel,I=T.offset,B=(_=M.props.active)!==null&&_!==void 0?_:E;return b.cloneElement(M,{viewBox:R(R({},I),{},{x:I.left,y:I.top}),active:B,label:k,payload:B?C:[],coordinate:N,accessibilityLayer:P})}),ee(x,"renderBrush",function(_){var j=x.props,O=j.margin,P=j.data,M=x.state,T=M.offset,E=M.dataStartIndex,N=M.dataEndIndex,C=M.updateId;return b.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Io(x.handleBrushChange,_.props.onChange),data:P,x:H(_.props.x)?_.props.x:T.left,y:H(_.props.y)?_.props.y:T.top+T.height+T.brushBottom-(O.bottom||0),width:H(_.props.width)?_.props.width:T.width,startIndex:E,endIndex:N,updateId:"brush-".concat(C)})}),ee(x,"renderReferenceElement",function(_,j,O){if(!_)return null;var P=x,M=P.clipPathId,T=x.state,E=T.xAxisMap,N=T.yAxisMap,C=T.offset,k=_.type.defaultProps||{},I=_.props,B=I.xAxisId,F=B===void 0?k.xAxisId:B,V=I.yAxisId,W=V===void 0?k.yAxisId:V;return b.cloneElement(_,{key:_.key||"".concat(j,"-").concat(O),xAxis:E[F],yAxis:N[W],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:M})}),ee(x,"renderActivePoints",function(_){var j=_.item,O=_.activePoint,P=_.basePoint,M=_.childIndex,T=_.isRange,E=[],N=j.props.key,C=j.item.type.defaultProps!==void 0?R(R({},j.item.type.defaultProps),j.item.props):j.item.props,k=C.activeDot,I=C.dataKey,B=R(R({index:M,dataKey:I,cx:O.x,cy:O.y,r:4,fill:rl(j.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},me(k,!1)),Va(k));return E.push(v.renderActiveDot(k,B,"".concat(N,"-activePoint-").concat(M))),P?E.push(v.renderActiveDot(k,R(R({},B),{},{cx:P.x,cy:P.y}),"".concat(N,"-basePoint-").concat(M))):T&&E.push(null),E}),ee(x,"renderGraphicChild",function(_,j,O){var P=x.filterFormatItem(_,j,O);if(!P)return null;var M=x.getTooltipEventType(),T=x.state,E=T.isTooltipActive,N=T.tooltipAxis,C=T.activeTooltipIndex,k=T.activeLabel,I=x.props.children,B=ct(I,Nt),F=P.props,V=F.points,W=F.isRange,Z=F.baseLine,X=P.item.type.defaultProps!==void 0?R(R({},P.item.type.defaultProps),P.item.props):P.item.props,L=X.activeDot,G=X.hide,D=X.activeBar,U=X.activeShape,te=!!(!G&&E&&B&&(L||D||U)),ie={};M!=="axis"&&B&&B.props.trigger==="click"?ie={onClick:Io(x.handleItemMouseEnter,_.props.onClick)}:M!=="axis"&&(ie={onMouseLeave:Io(x.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Io(x.handleItemMouseEnter,_.props.onMouseEnter)});var _e=b.cloneElement(_,R(R({},P.props),ie));function q(Aa){return typeof N.dataKey=="function"?N.dataKey(Aa.payload):null}if(te)if(C>=0){var Q,ne;if(N.dataKey&&!N.allowDuplicatedCategory){var z=typeof N.dataKey=="function"?q:"payload.".concat(N.dataKey.toString());Q=is(V,z,k),ne=W&&Z&&is(Z,z,k)}else Q=V==null?void 0:V[C],ne=W&&Z&&Z[C];if(U||D){var $e=_.props.activeIndex!==void 0?_.props.activeIndex:C;return[b.cloneElement(_,R(R(R({},P.props),ie),{},{activeIndex:$e})),null,null]}if(!ye(Q))return[_e].concat(xn(x.renderActivePoints({item:P,activePoint:Q,basePoint:ne,childIndex:C,isRange:W})))}else{var ue,De=(ue=x.getItemByXY(x.state.activeCoordinate))!==null&&ue!==void 0?ue:{graphicalItem:_e},Ie=De.graphicalItem,Ze=Ie.item,Cr=Ze===void 0?_:Ze,Mr=Ie.childIndex,Tr=R(R(R({},P.props),ie),{},{activeIndex:Mr});return[b.cloneElement(Cr,Tr),null,null]}return W?[_e,null,null]:[_e,null]}),ee(x,"renderCustomized",function(_,j,O){return b.cloneElement(_,R(R({key:"recharts-customized-".concat(O)},x.props),x.state))}),ee(x,"renderMap",{CartesianGrid:{handler:yi,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:yi},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:yi},YAxis:{handler:yi},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((w=g.id)!==null&&w!==void 0?w:Ua("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=c0(x.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return KT(v,h),WT(v,[{key:"componentDidMount",value:function(){var g,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var g=this.props,w=g.children,S=g.data,x=g.height,_=g.layout,j=ct(w,Nt);if(j){var O=j.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,M=yu(this.state,S,O,P),T=this.state.tooltipTicks[O].coordinate,E=(this.state.offset.top+x)/2,N=_==="horizontal",C=N?{x:T,y:E}:{y:T,x:E},k=this.state.formattedGraphicalItems.find(function(B){var F=B.item;return F.type.name==="Scatter"});k&&(C=R(R({},C),k.props.points[O].tooltipPosition),M=k.props.points[O].tooltipPayload);var I={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:P,activePayload:M,activeCoordinate:C};this.setState(I),this.renderCursor(j),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(g,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==g.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==g.margin){var S,x;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(g){fs([ct(g.children,Nt)],[ct(this.props.children,Nt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var g=ct(this.props.children,Nt);if(g&&typeof g.props.shared=="boolean"){var w=g.props.shared?"axis":"item";return i.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(g){if(!this.container)return null;var w=this.container,S=w.getBoundingClientRect(),x=u_(S),_={chartX:Math.round(g.pageX-x.left),chartY:Math.round(g.pageY-x.top)},j=S.width/w.offsetWidth||1,O=this.inRange(_.chartX,_.chartY,j);if(!O)return null;var P=this.state,M=P.xAxisMap,T=P.yAxisMap,E=this.getTooltipEventType();if(E!=="axis"&&M&&T){var N=Qt(M).scale,C=Qt(T).scale,k=N&&N.invert?N.invert(_.chartX):null,I=C&&C.invert?C.invert(_.chartY):null;return R(R({},_),{},{xValue:k,yValue:I})}var B=Ng(this.state,this.props.data,this.props.layout,O);return B?R(R({},_),B):null}},{key:"inRange",value:function(g,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,_=g/S,j=w/S;if(x==="horizontal"||x==="vertical"){var O=this.state.offset,P=_>=O.left&&_<=O.left+O.width&&j>=O.top&&j<=O.top+O.height;return P?{x:_,y:j}:null}var M=this.state,T=M.angleAxisMap,E=M.radiusAxisMap;if(T&&E){var N=Qt(T);return Ym({x:_,y:j},N)}return null}},{key:"parseEventsOfWrapper",value:function(){var g=this.props.children,w=this.getTooltipEventType(),S=ct(g,Nt),x={};S&&w==="axis"&&(S.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var _=Va(this.props,this.handleOuterEvent);return R(R({},_),x)}},{key:"addListener",value:function(){du.on(fu,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){du.removeListener(fu,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(g,w,S){for(var x=this.state.formattedGraphicalItems,_=0,j=x.length;_<j;_++){var O=x[_];if(O.item===g||O.props.key===g.key||w===It(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var g=this.clipPathId,w=this.state.offset,S=w.left,x=w.top,_=w.height,j=w.width;return A.createElement("defs",null,A.createElement("clipPath",{id:g},A.createElement("rect",{x:S,y:x,height:_,width:j})))}},{key:"getXScales",value:function(){var g=this.state.xAxisMap;return g?Object.entries(g).reduce(function(w,S){var x=xg(S,2),_=x[0],j=x[1];return R(R({},w),{},ee({},_,j.scale))},{}):null}},{key:"getYScales",value:function(){var g=this.state.yAxisMap;return g?Object.entries(g).reduce(function(w,S){var x=xg(S,2),_=x[0],j=x[1];return R(R({},w),{},ee({},_,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(g){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[g])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(g){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[g])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(g){var w=this.state,S=w.formattedGraphicalItems,x=w.activeItem;if(S&&S.length)for(var _=0,j=S.length;_<j;_++){var O=S[_],P=O.props,M=O.item,T=M.type.defaultProps!==void 0?R(R({},M.type.defaultProps),M.props):M.props,E=It(M.type);if(E==="Bar"){var N=(P.data||[]).find(function(B){return VP(g,B)});if(N)return{graphicalItem:O,payload:N}}else if(E==="RadialBar"){var C=(P.data||[]).find(function(B){return Ym(g,B)});if(C)return{graphicalItem:O,payload:C}}else if(Go(O,x)||Yo(O,x)||xa(O,x)){var k=CA({graphicalItem:O,activeTooltipItem:x,itemData:T.data}),I=T.activeIndex===void 0?k:T.activeIndex;return{graphicalItem:R(R({},O),{},{childIndex:I}),payload:xa(O,x)?T.data[k]:O.props.data[k]}}}return null}},{key:"render",value:function(){var g=this;if(!vf(this))return null;var w=this.props,S=w.children,x=w.className,_=w.width,j=w.height,O=w.style,P=w.compact,M=w.title,T=w.desc,E=wg(w,FT),N=me(E,!1);if(P)return A.createElement(Lv,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement(hs,bn({},N,{width:_,height:j,title:M,desc:T}),this.renderClipPath(),bf(S,this.renderMap)));if(this.props.accessibilityLayer){var C,k;N.tabIndex=(C=this.props.tabIndex)!==null&&C!==void 0?C:0,N.role=(k=this.props.role)!==null&&k!==void 0?k:"application",N.onKeyDown=function(B){g.accessibilityManager.keyboardEvent(B)},N.onFocus=function(){g.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return A.createElement(Lv,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement("div",bn({className:ge("recharts-wrapper",x),style:R({position:"relative",cursor:"default",width:_,height:j},O)},I,{ref:function(B){g.container=B}}),A.createElement(hs,bn({},N,{width:_,height:j,title:M,desc:T,style:r2}),this.renderClipPath(),bf(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);ee(m,"displayName",t),ee(m,"defaultProps",R({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),ee(m,"getDerivedStateFromProps",function(h,v){var g=h.dataKey,w=h.data,S=h.children,x=h.width,_=h.height,j=h.layout,O=h.stackOffset,P=h.margin,M=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var E=Pg(h);return R(R(R({},E),{},{updateId:0},p(R(R({props:h},E),{},{updateId:0}),v)),{},{prevDataKey:g,prevData:w,prevWidth:x,prevHeight:_,prevLayout:j,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(g!==v.prevDataKey||w!==v.prevData||x!==v.prevWidth||_!==v.prevHeight||j!==v.prevLayout||O!==v.prevStackOffset||!$r(P,v.prevMargin)){var N=Pg(h),C={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},k=R(R({},Ng(v,w,j)),{},{updateId:v.updateId+1}),I=R(R(R({},N),C),k);return R(R(R({},I),p(R({props:h},I),v)),{},{prevDataKey:g,prevData:w,prevWidth:x,prevHeight:_,prevLayout:j,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(!fs(S,v.prevChildren)){var B,F,V,W,Z=ct(S,sn),X=Z&&(B=(F=Z.props)===null||F===void 0?void 0:F.startIndex)!==null&&B!==void 0?B:M,L=Z&&(V=(W=Z.props)===null||W===void 0?void 0:W.endIndex)!==null&&V!==void 0?V:T,G=X!==M||L!==T,D=!ye(w),U=D&&!G?v.updateId:v.updateId+1;return R(R({updateId:U},p(R(R({props:h},v),{},{updateId:U,dataStartIndex:X,dataEndIndex:L}),v)),{},{prevChildren:S,dataStartIndex:X,dataEndIndex:L})}return null}),ee(m,"renderActiveDot",function(h,v,g){var w;return b.isValidElement(h)?w=b.cloneElement(h,v):se(h)?w=h(v):w=A.createElement(Vy,v),A.createElement(Re,{className:"recharts-active-dot",key:g},w)});var y=b.forwardRef(function(h,v){return A.createElement(m,bn({},h,{ref:v}))});return y.displayName=m.displayName,y},p2=f2({chartName:"BarChart",GraphicalChild:Nr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fi},{axisType:"yAxis",AxisComp:cu}],formatAxisMap:EC});const h2={light:"",dark:".dark"},Cg=b.createContext(null);function Mg(){const e=b.useContext(Cg);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Tg=b.forwardRef(({id:e,className:t,children:r,config:n,...a},o)=>{const i=b.useId(),s=`chart-${e||i.replace(/:/g,"")}`;return f.jsx(Cg.Provider,{value:{config:n},children:f.jsxs("div",{"data-chart":s,ref:o,className:ae("flex aspect-video justify-center text-xs",t),...a,children:[f.jsx(m2,{id:s,config:n}),f.jsx(n_,{children:r})]})})});Tg.displayName="Chart";const m2=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?f.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(h2).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([o,i])=>{var c;const s=((c=i.theme)==null?void 0:c[n])||i.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},y2=Nt,Dg=b.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:o=!1,label:i,labelFormatter:s,labelClassName:c,formatter:l,color:u,nameKey:d,labelKey:p},m)=>{const{config:y}=Mg(),h=b.useMemo(()=>{var _;if(a||!(t!=null&&t.length))return null;const[g]=t,w=`${p||g.dataKey||g.name||"value"}`,S=vu(y,g,w),x=!p&&typeof i=="string"?((_=y[i])==null?void 0:_.label)||i:S==null?void 0:S.label;return s?f.jsx("div",{className:ae("font-medium",c),children:s(x,t)}):x?f.jsx("div",{className:ae("font-medium",c),children:x}):null},[i,s,t,a,c,y,p]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return f.jsxs("div",{ref:m,className:ae("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:h,f.jsx("div",{className:"grid gap-1.5",children:t.map((g,w)=>{const S=`${d||g.name||g.dataKey||"value"}`,x=vu(y,g,S),_=u||g.payload.fill||g.color;return f.jsx("div",{className:ae("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:l&&(g==null?void 0:g.value)!==void 0&&g.name?l(g.value,g.name,g,w,g.payload):f.jsxs(f.Fragment,{children:[x!=null&&x.icon?f.jsx(x.icon,{}):!o&&f.jsx("div",{className:ae("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":_,"--color-border":_}}),f.jsxs("div",{className:ae("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[f.jsxs("div",{className:"grid gap-1.5",children:[v?h:null,f.jsx("span",{className:"text-muted-foreground",children:(x==null?void 0:x.label)||g.name})]}),g.value&&f.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:g.value.toLocaleString()})]})]})},g.dataKey)})})]})});Dg.displayName="ChartTooltip";const v2=b.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},o)=>{const{config:i}=Mg();return r!=null&&r.length?f.jsx("div",{ref:o,className:ae("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(s=>{const c=`${a||s.dataKey||"value"}`,l=vu(i,s,c);return f.jsxs("div",{className:ae("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[l!=null&&l.icon&&!t?f.jsx(l.icon,{}):f.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),l==null?void 0:l.label]},s.value)})}):null});v2.displayName="ChartLegend";function vu(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const Ig=e=>{const t=["Bytes","KB","MB","GB","TB"];if(e===void 0)return"Unknown size";if(e===0)return"0 Byte";const r=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,r))} ${t[r]}`},g2=b.memo(()=>{const{t:e}=ce("flows"),[t,r]=b.useState(),n=Ca(y=>y.cachedLLMURLs),a=Ne(y=>y.currentSession),[o,i]=b.useState(),[s,c]=b.useState(""),[l,u]=b.useState(),d=b.useMemo(()=>({nodes:{label:e("session_info_node.entities.nodes"),color:"#2563eb"},edges:{label:e("session_info_node.entities.edges"),color:"#34d399"},threads:{label:e("session_info_node.entities.threads"),color:"#fbbf24"},llms:{label:e("session_info_node.entities.llms"),color:"#f87171"},prompts:{label:e("session_info_node.entities.prompts"),color:"#a78bfa"},tools:{label:e("session_info_node.entities.tools"),color:"#ffcccb"},schemas:{label:e("session_info_node.entities.schemas"),color:"#ffb6c1"},vectorDatabases:{label:e("session_info_node.entities.vector_databases"),color:"#ff69b4"},jsonlDatas:{label:e("session_info_node.entities.jsonl_data"),color:"#ff1493"},csvDatas:{label:e("session_info_node.entities.csv_data"),color:"#db7093"}}),[e]);b.useEffect(()=>{ft(async()=>{const{functionCallingModelIds:y,prebuiltAppConfig:h}=await import("./index-cNm9Y0sY.js").then(async v=>(await v.__tla,v));return{functionCallingModelIds:y,prebuiltAppConfig:h}},__vite__mapDeps([0,1,2,3,4,5])).then(({functionCallingModelIds:y,prebuiltAppConfig:h})=>{r(n==null?void 0:n.map(v=>{const g=h.model_list.find(w=>v.includes(w.model));if(g)return{model_id:(g==null?void 0:g.model_id)||"",info:g,isFunctionCalling:y.includes((g==null?void 0:g.model_id)||"")}}))})},[n,a==null?void 0:a.id]);const p=b.useCallback(async()=>{navigator.storage.estimate().then(y=>{y&&c(e("session_info_node.used_bytes",{used:Ig(y.usage),total:Ig(y==null?void 0:y.quota)}))}),a!=null&&a.id&&(Promise.all([K("FlowNode").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),K("FlowEdge").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),K("Thread").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),K("Prompt").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),K("LLM").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),K("Schema").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),K("ToolDefinition").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),K("VectorDatabase").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),K("JSONLData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),K("CSVData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}})]).then(y=>{const h=y.reduce((v,g)=>g!=null&&g.updated_at&&(!v||new Date(g.updated_at)>v)?new Date(g.updated_at):v,a.updated_at?new Date(a.updated_at):void 0);i(h)}),Promise.all([K("FlowNode").count({where:{session_id:a==null?void 0:a.id}}),K("FlowEdge").count({where:{session_id:a==null?void 0:a.id}}),K("Thread").count({where:{session_id:a==null?void 0:a.id}}),K("Prompt").count({where:{session_id:a==null?void 0:a.id}}),K("LLM").count({where:{session_id:a==null?void 0:a.id}}),K("ToolDefinition").count({where:{session_id:a==null?void 0:a.id}}),K("Schema").count({where:{session_id:a==null?void 0:a.id}}),K("VectorDatabase").count({where:{session_id:a==null?void 0:a.id}}),K("JSONLData").count({where:{session_id:a==null?void 0:a.id}}),K("CSVData").count({where:{session_id:a==null?void 0:a.id}})]).then(([y,h,v,g,w,S,x,_,j,O])=>{u([{name:e("session_info_node.count_info.title"),nodes:y||0,edges:h||0,threads:v||0,prompts:g||0,llms:w||0,tools:S||0,schemas:x||0,vectorDatabases:_||0,jsonlDatas:j||0,csvDatas:O||0}])}))},[a==null?void 0:a.id,a==null?void 0:a.updated_at,e]),m=b.useCallback(()=>{p()},[p]);return b.useEffect(()=>{p()},[p]),f.jsxs(Le,{className:"w-96",children:[f.jsxs(Qe,{children:[f.jsx(at,{children:e("session_info_node.title")}),f.jsx(aI,{children:o||a!=null&&a.updated_at?LD(o||(a==null?void 0:a.updated_at)).fromNow():""})]}),f.jsxs(et,{className:"grid gap-4",children:[f.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsx("p",{className:"text-sm font-medium leading-none",children:e("session_info_node.disk_size")}),f.jsx("p",{className:"text-sm text-muted-foreground",children:s})]})}),f.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsxs("div",{className:"text-sm font-medium leading-none",children:[e("session_info_node.cached_llms"),f.jsx(Dr,{className:"ml-2",children:(t==null?void 0:t.length)||0})]}),t==null?void 0:t.map(y=>f.jsxs("div",{className:"text-sm text-muted-foreground gap-1",children:[y==null?void 0:y.model_id,f.jsx("div",{className:"max-w-full gap-1 flex flex-wrap mt-1",children:f.jsx(ki,{model:y==null?void 0:y.info,isFunctionCalling:(y==null?void 0:y.isFunctionCalling)||!1,isCached:!0,cloud:!1})})]},y==null?void 0:y.model_id))]})}),f.jsx("div",{children:f.jsx(Tg,{config:d,className:"min-h-28 w-full",children:f.jsxs(p2,{accessibilityLayer:!0,data:l,children:[f.jsx(sg,{vertical:!1}),f.jsx(fi,{dataKey:"name",tickLine:!1,tickMargin:10,axisLine:!1}),f.jsx(y2,{content:f.jsx(Dg,{})}),Object.entries(d).map(([y,h])=>f.jsx(Nr,{dataKey:y,fill:h.color,radius:4},y))]})})})]}),f.jsx(ur,{children:f.jsxs(Ee,{className:"w-full",onClick:m,children:[f.jsx(re,{size:24,name:"refresh-ccw"}),e("session_info_node.reload")]})})]})}),b2=e=>{const t=b.useCallback(async({edgeId:r})=>{try{return{deleteEdgeId:r}}catch{return{deleteEdgeId:r}}},[]);Xe(e,t)},x2=b.memo(e=>{var c,l;const{t}=ce("flows"),{id:r,data:n,isConnectable:a}=e,o=b.useRef(!1),i=Je(r),s=J(u=>u.updateNodes);return b2(r),b.useEffect(()=>{var d;const u=n==null?void 0:n.entity;!u||!i||o.current||(d=u==null?void 0:u.schema_items)!=null&&d.length||n.loaded||(o.current=!0,K("SchemaItem").find({where:{schema_id:u.id}}).then(p=>{s([{id:i.id,type:"replace",item:{...i,data:{...(i==null?void 0:i.data)||{},loaded:!0,entity:{...n.entity,schema_items:p}}}}])}).finally(()=>{o.current=!1}))},[n.entity,n.loaded,i,s]),f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsx(Ve,{id:r}),f.jsxs(Yb,{defaultValue:"account",className:"w-[400px]",children:[f.jsxs(Kb,{className:"grid w-full grid-cols-2",children:[f.jsx(_n,{value:"account",children:t("schema_node.typescript")}),f.jsx(_n,{value:"password",children:t("schema_node.zod")})]}),f.jsx(On,{value:"account",children:f.jsx(Le,{className:"p-4",children:f.jsx("pre",{className:"overflow-hidden break-words whitespace-pre-wrap",children:PI(((c=n==null?void 0:n.entity)==null?void 0:c.schema_items)||[])})})}),f.jsx(On,{value:"password",children:f.jsx(Le,{className:"p-4 max-w-full",children:f.jsx("pre",{className:"overflow-hidden break-words whitespace-pre-wrap",children:AI(((l=n==null?void 0:n.entity)==null?void 0:l.schema_items)||[])})})})]})]}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:a})]})}),w2=b.memo(e=>{var o,i;const{id:t,data:r,isConnectable:n}=e,a=b.useMemo(()=>{if(!(r!=null&&r.entity))return{headers:[],rows:[]};const s=ju(r.entity.csv);return{headers:_u(r.entity.headers),rows:s.map(c=>_u(c))}},[r==null?void 0:r.entity]);return f.jsxs("div",{children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(Ve,{id:t}),f.jsxs(Le,{className:"min-w-32 min-h-16 p-4",children:[f.jsx(Qe,{className:"!p-0",children:f.jsxs("div",{className:"pt-2 flex !flex-row",children:[f.jsx(re,{name:"file-spreadsheet",className:"mr-2"}),f.jsxs(le,{className:"!font-medium leading-none tracking-tight pr-8",children:[$.CSVData," ",(o=a==null?void 0:a.rows)!=null&&o.length?`(${((i=a==null?void 0:a.rows)==null?void 0:i.length)||0})`:""]})]})}),f.jsx(et,{className:"pb-0",children:f.jsx(Cu,{data:a.rows,headers:a.headers})})]})]}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:n})]})}),j2=e=>{const t=J(n=>n.createOrUpdateFlowEdge),r=b.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.Schema&&(o==null?void 0:o.type)===$.ToolDefinition){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);Xe(e,r)},_2=b.memo(({id:e,data:t,isConnectable:r})=>{var n,a;return j2(e),f.jsxs("div",{children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:r}),f.jsx("div",{children:f.jsxs(Et,{className:"flex justify-center",children:[f.jsx(re,{size:24,name:"wrench"}),f.jsxs("div",{className:"ml-2",children:[f.jsx(dr,{children:`${((n=t.entity)==null?void 0:n.name)||""}`}),f.jsx(Ma,{children:`${((a=t.entity)==null?void 0:a.description)||""}`})]})]})}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:r})]})}),O2=b.memo(e=>{var d,p;const[t,r]=b.useState(!1),[n,a]=b.useState({}),[o,i]=b.useState({}),{confirmPassphrase:s}=t0(),{t:c}=ce("atoms"),l=async()=>{var m;if(t)a({}),i({});else{if((m=Object.keys(e.encrypted||{}))!=null&&m.length){await s();const y={},h=await Oi.get("passphrase");if(!h)throw new Error("Passphrase is not found");await Promise.all(Object.keys(e.encrypted||{}).map(async v=>{var g,w;(g=e.encrypted)!=null&&g[v]&&(y[v]=await CI((w=e.encrypted)==null?void 0:w[v],h))})),i(y||{})}a({...e.options})}r(!t)},u=()=>{var m;(m=e.onChangeOptions)==null||m.call(e,n||{},o||{}),r(!1)};return f.jsx("div",{className:ae("min-w-20 flex justify-end",e.className),children:f.jsxs(r0,{open:t,onOpenChange:r,children:[f.jsx(DI,{children:f.jsx("div",{className:"flex justify-end gap-2 !cursor-pointer",children:f.jsxs(Ee,{onClick:l,variant:"link",className:"flex items-center px-0 !cursor-pointer",children:[f.jsx(re,{name:"settings"}),f.jsx(le,{children:c("embedding_setting.title")})]})})}),f.jsx(n0,{className:"w-full p-0",children:t?f.jsxs(Le,{className:"!border-none max-w-96 min-w-56",children:[f.jsx(Qe,{children:f.jsx(at,{children:c("embedding_setting.title")})}),f.jsxs(et,{children:[f.jsxs(le,{children:[c("embedding_setting.provider"),":"]}),f.jsxs(Yt,{value:n!=null&&n.provider?`${n==null?void 0:n.provider}`:"local_transformers",onValueChange:m=>a({provider:m}),children:[f.jsx(Kt,{className:"",children:f.jsx(Zt,{placeholder:c("embedding_setting.provider_placeholder")})}),f.jsxs(Jt,{children:[f.jsx(ot,{value:"local_transformers",children:c("embedding_setting.providers.local_transformers")},"local_transformers"),(d=e.supportedProviders)==null?void 0:d.map(m=>f.jsx(ot,{value:m,children:c(`embedding_setting.providers.${m.toLowerCase()}`)},m))]})]}),(p=e.supportedProviders)!=null&&p.length?void 0:f.jsx(le,{className:"text-red-500 !pt-2",children:c("embedding_setting.alerts.no_provider")}),f.jsx(f.Fragment,{children:n.provider&&n.provider!=="local_transformers"?f.jsxs(f.Fragment,{children:[f.jsx(Et,{variant:"destructive",className:"mt-4",children:c("embedding_setting.alerts.session_passkey")}),f.jsxs("div",{className:"mt-4",children:[f.jsx(le,{children:c("embedding_setting.encrypted_fields.api_key")}),f.jsx(Ee,{variant:"link",className:"px-1",children:f.jsxs("a",{href:n.provider===pe.OpenAI?Fa:Ba,target:"_blank",rel:"noreferrer",children:["(",n.provider===pe.OpenAI?Fa:Ba,")"]})}),f.jsx(nt,{type:"password",value:o!=null&&o.key?`${o==null?void 0:o.key}`:"",onChange:m=>i(y=>({...y,key:m.target.value}))})]})]}):void 0})]}),f.jsx(ur,{className:"flex justify-end",children:f.jsx(Ee,{variant:"secondary",onClick:u,children:c("embedding_setting.save")})})]}):void 0})]})})}),S2=e=>{const t=b.useCallback(async({edgeId:r})=>({deleteEdgeId:r}),[]);Xe(e,t)},E2=e=>{const t=Ne(s=>{var c;return(c=s.currentSession)==null?void 0:c.id}),r=Je(e),n=Zb(),a=J(s=>s.updateNodes),{confirmOrCreatePassphrase:o}=Ld(),i=b.useCallback(async(s,c)=>{var l;if(r&&t){let u=e!==Ai.DEFAULT_EMBEDDING_MODEL?await K("FlowNode").findOne({where:{id:e}}):void 0;const d={};if((l=Object.keys(c||{}))!=null&&l.length){await o();const y=await Oi.get("passphrase");if(!y)throw new Error("Passphrase is not found");await Promise.all(Object.keys(c||{}).map(async h=>{c!=null&&c[h]&&(d[h]=await e0(c[h],y))}))}let p;const m=[];u?(await K("FlowNodePlaceholder").update(u.source_id,{encrypted:d,data:s}),p=await K("FlowNodePlaceholder").findOne({where:{id:u.source_id}}),m.push({id:u.id,type:"replace",item:r})):(m.push({id:e,type:"remove"}),p=await K("FlowNodePlaceholder").save({placeholder_type:Ta.DEFAULT_EMBEDDING_MODEL,encrypted:d,data:s,session_id:t}),u=await K("FlowNode").save({node_type:$.DefaultEmbeddingModel,session_id:t,source_type:"FlowNodePlaceholder",source_id:p.id,x:r.position.x,y:r.position.y}),m.push({type:"add",item:r})),r.data.entity=p,r.data.flowNode=u,a(m)}},[o,t,e,r,a]);return b.useEffect(()=>{e===Ai.DEFAULT_EMBEDDING_MODEL&&n.find(s=>s.type===$.DefaultEmbeddingModel&&s.id!==Ai.DEFAULT_EMBEDDING_MODEL)&&a([{id:e,type:"remove"}])},[e,n,a]),{changeLLMOptions:i}},k2=b.memo(e=>{var s,c,l,u;const{id:t,data:r,isConnectable:n}=e,{changeLLMOptions:a}=E2(t);S2(t);let o="brain",i=RD;switch(`${(c=(s=r==null?void 0:r.entity)==null?void 0:s.data)==null?void 0:c.provider}`){case pe.OpenAI:o="gpt",i="text-embedding-3-small";break;case pe.GoogleGenerativeAI:o="gemma",i="text-embedding-004";break}return f.jsxs("div",{children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:n}),f.jsx("div",{children:f.jsxs(Et,{className:"flex justify-center max-w-auto",variant:"default",children:[f.jsx(fr,{name:o,className:"w-7 h-7"}),f.jsxs("div",{className:"ml-2 pr-4 flex justify-center gap-1 flex-col",children:[f.jsx("div",{className:"min-h-8 flex items-center",children:f.jsx(dr,{children:`${i||""}`})}),f.jsx(O2,{supportedProviders:[pe.OpenAI,pe.GoogleGenerativeAI],onChangeOptions:a,encrypted:(l=r.entity)==null?void 0:l.encrypted,options:(u=r.entity)==null?void 0:u.data})]})]})}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:n})]})}),N2=`Use the following pieces of context to answer the question at the end.
If you don't know the answer, just say that you don't know, don't try to make up an answer.
Use three sentences maximum and keep the answer as concise as possible.

{context}
`,P2=bi(e=>{const{source:t,documents:r}=e,n=cr(),{toast:a}=dt(),{t:o}=ce("dialogs"),{loading:i,createPrompt:s}=Rd(),c=async l=>{try{if(!l.content||!l.content.includes("{context}")){a({title:o("create_vector_database_prompt.errors.fill_context"),variant:"destructive"});return}const u=l.content.replace("{context}",r.map(d=>`<document>${d.pageContent}</document>`).join(`
`));return await s(t,{...l,content:u}),n.hide(),!0}catch{a({title:o("create_vector_database_prompt.errors.create_failed"),variant:"destructive"})}};return f.jsx(xi,{open:n.visible,onOpenChange:n.hide,children:f.jsxs(wi,{className:"sm:max-w-[425px]",children:[f.jsx(ji,{children:f.jsxs("div",{className:"flex",children:[f.jsx(re,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx(_i,{children:o("create_vector_database_prompt.title")})]})}),f.jsxs("div",{className:"flex gap-4 py-4 flex-col",children:[f.jsx(Zi,{onSubmit:c,loading:i,hidePromptType:!0,defaultPromptRole:"system",defaultPromptContent:N2}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm items-center",children:[f.jsx(re,{name:"info",className:"mr-2",size:14}),o("create_vector_database_prompt.fill_content_note")]})]})]})})}),A2=()=>{const e=Ne(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=b.useState(!1),n=J(i=>i.createOrUpdateFlowNode),a=J(i=>i.createOrUpdateFlowEdge),o=b.useCallback(async({prompt:i,source:s,metadata:c})=>{var l,u,d,p;try{const m=(l=s==null?void 0:s.data)==null?void 0:l.entity;if(!m||!e)throw new Error("Source or Session not found");r(!0);const y=((u=s.position)==null?void 0:u.x)||0,h=(((d=s.position)==null?void 0:d.y)||0)+(((p=s.measured)==null?void 0:p.height)||0),v=await K("Prompt").save({...i,status:(i==null?void 0:i.status)||xt.Started,role:(i==null?void 0:i.role)||it.System,type:(i==null?void 0:i.type)||st.Chat,content:(i==null?void 0:i.content)||"{context}",session_id:e});if(!v)throw new Error("Failed to save prompt");const g=await n({source_id:v.id,source_type:"Prompt",node_type:$.Prompt,x:y,y:h+20});if(!g)throw new Error("Failed to save prompt node");const w=await K("FlowNodePlaceholder").save({placeholder:`Retriever for ${m.name}`,placeholder_type:Ta.VECTOR_DATABASE_RETREIVER,session_id:e,metadata:c});if(!w)throw new Error("Failed to save node placeholder");const S=await n({source_id:w.id,source_type:"FlowNodePlaceholder",node_type:$.PlaceHolder,x:y,y:h+40});if(!S)throw new Error("Failed to save node placeholder node");await a({source:g.id,target:S.id}),await a({source:s.id,target:S.id})}finally{r(!1)}},[e,n,a]);return{loading:t,createVectorDatabaseRetriever:o}},C2=`Use the following pieces of context to answer the question at the end.
If you don't know the answer, just say that you don't know, don't try to make up an answer.
----------------
{context}
`,M2=bi(e=>{const{source:t}=e,r=cr(),{toast:n}=dt(),{t:a}=ce("dialogs"),[o,i]=b.useState(1),[s,c]=b.useState(void 0),{loading:l,createVectorDatabaseRetriever:u}=A2(),d=async y=>{try{const h=y.content;if(!h||!h.includes("{context}")){n({title:a("create_vector_database_retriever.errors.fill_context"),variant:"destructive"});return}return await u({source:t,prompt:{content:h},metadata:{k:o,minimalScore:s}}),i(1),c(void 0),r.hide(),!0}catch{n({title:a("create_vector_database_retriever.errors.create_failed"),variant:"destructive"})}},p=y=>{i(y.target.value?Number(y.target.value):void 0)},m=y=>{c(y.target.value?Number(y.target.value):void 0)};return f.jsx(xi,{open:r.visible,onOpenChange:r.hide,children:f.jsxs(wi,{className:"sm:max-w-[425px]",children:[f.jsx(ji,{children:f.jsxs("div",{className:"flex",children:[f.jsx(re,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx(_i,{children:a("create_vector_database_retriever.title")})]})}),f.jsxs("div",{className:"flex gap-4 py-4 flex-col",children:[f.jsx(Zi,{onSubmit:d,loading:l,hidePromptType:!0,defaultPromptRole:"system",defaultPromptContent:C2}),f.jsxs(Le,{children:[f.jsx(Qe,{children:f.jsx(at,{children:a("create_vector_database_retriever.retriever_settings")})}),f.jsxs(et,{children:[f.jsx(le,{children:a("create_vector_database_retriever.retriever_k")}),f.jsx(nt,{value:o||"",type:"number",onChange:p,placeholder:a("create_vector_database_retriever.retriever_k_placeholder")}),f.jsx(le,{children:a("create_vector_database_retriever.retriever_minimum_score")}),f.jsx(nt,{value:s||"",type:"number",onChange:m,placeholder:a("create_vector_database_retriever.retriever_minimum_score_placeholder")})]})]}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm items-center",children:[f.jsx(re,{name:"info",className:"mr-2",size:14}),a("create_vector_database_retriever.fill_content_note")]})]})]})})}),T2=e=>{const t=J(o=>o.createOrUpdateFlowEdge),{getFlowEmbeddingEntity:r}=za(),{index:n}=Au(),a=b.useCallback(async({edgeId:o,target:i,source:s})=>{var c,l;try{const u=(c=i==null?void 0:i.data)==null?void 0:c.entity;if((s==null?void 0:s.type)===$.CSVData&&(i==null?void 0:i.type)===$.VectorDatabase){const d=(l=s==null?void 0:s.data)==null?void 0:l.entity;if(!d||!u)return{deleteEdgeId:o};const{rows:p}=Tb(d.headers,d.csv),m=p.map(y=>new Lb({pageContent:`${y.text}`}));await n(r(),{database:{databaseId:u.id,dataSourceId:d.id,dataSourceType:"CSVData"}},m),await t({source:s.id,target:i.id});return}return{deleteEdgeId:o}}catch{return{deleteEdgeId:o}}},[t,r,n]);Xe(e,a)},D2=e=>{const[t,r]=b.useState(!1),{t:n}=ce("flows"),{toast:a}=dt(),{getNode:o,getHandleConnections:i}=kt(),s=J(m=>m.updateNodes),{getFlowEmbeddingEntity:c}=za(),{index:l,similaritySearchWithScore:u}=Au(),d=b.useCallback(async(m,y)=>{var h,v,g;try{const w=o(e);if(!w)return;const S=(h=w.data)==null?void 0:h.entity;if(!S){a({variant:"destructive",title:n("vector_database_node.errors.vector_database_not_found")});return}const x=c();if(S.storage===lr.DataNode){const _=(g=(v=i({nodeId:e,type:"target"}).map(j=>o(j.source)).find(j=>(j==null?void 0:j.type)&&[$.JSONLData,$.CSVData].includes(j==null?void 0:j.type)))==null?void 0:v.data)==null?void 0:g.entity;if(!_){a({variant:"destructive",title:n("vector_database_node.errors.data_node_not_found")});return}return r(!0),await u(x,{database:{databaseId:S.id,dataSourceId:_.id,dataSourceType:wu(_)}},m,y==null?void 0:y.k)}else return r(!0),await u(x,{database:{databaseId:S.id}},m,y==null?void 0:y.k)}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[o,e,c,a,n,i,u]),p=b.useCallback(async(m,y)=>{var h,v,g,w;try{const S=o(e);if(!S)return;r(!0);const x=m.content?[new Lb({pageContent:m.content,id:m.id,metadata:{id:m.id}})]:m.documents;if(!(x!=null&&x.length)){a({variant:"destructive",title:n("vector_database_node.errors.content_not_found")});return}const _=(h=S.data)==null?void 0:h.entity;if(!_||!S){a({variant:"destructive",title:n("vector_database_node.errors.vector_database_not_found")});return}const j=c();if(_.storage===lr.DataNode){const O=i({nodeId:e,type:"target"}).map(N=>o(N.source)).find(N=>(N==null?void 0:N.type)&&[$.JSONLData,$.CSVData].includes(N==null?void 0:N.type)),P=(v=O==null?void 0:O.data)==null?void 0:v.entity;if(!P){a({variant:"destructive",title:n("vector_database_node.errors.data_node_not_found")});return}const M=wu(P),T=Jb(x,10);let E=0;for(const N of T){if((g=y==null?void 0:y.onProgressReport)==null||g.call(y,{handling:N.length,handled:E,total:x.length}),await l(j,{database:{databaseId:_.id,dataSourceId:P.id,dataSourceType:M}},N),M&&O){const C=await K(M).findOne({where:{id:P.id}});s([{type:"replace",id:O.id,item:{...O,data:{...O.data,entity:C}}}])}E+=N.length}}else{const O=Jb(x,10);let P=0;for(const M of O){(w=y==null?void 0:y.onProgressReport)==null||w.call(y,{handling:M.length,handled:P,total:x.length}),await l(j,{database:{databaseId:_.id}},M);const T=await K("VectorDatabase").findOne({where:{id:`${_.id}`}});s([{type:"replace",id:S.id,item:{...S,data:{...S.data,entity:T}}}]),P+=M.length}}}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[o,e,c,a,n,i,l,s]);return{loading:t,indexData:p,similaritySearchWithScore:d}},I2=b.memo(e=>{var j,O,P,M;const{t}=ce("flows"),[r,n]=b.useState(0),[a,o]=b.useState("search"),i=Je(e.id),{id:s,data:c,isConnectable:l}=e,{loading:u,similaritySearchWithScore:d,indexData:p}=D2(s),m=cr(P2),y=cr(M2);T2(s);const h=b.useCallback(async(...T)=>{i&&await p(...T)},[p,i]),v=b.useCallback(async(T,E)=>{const N=T.trim(),C=await d(N,{k:E});if(C!=null&&C.length)return C},[d]),g=b.useCallback(T=>{m.show({source:i,documents:T.map(([E])=>E)})},[m,i]),w=b.useCallback(async()=>{y.show({source:i})},[y,i]),S=b.useCallback(async T=>{if(T.type.includes("text")||T.type.includes("txt")){const E=new FileReader;E.onload=async N=>{var k;const C=(k=N.target)==null?void 0:k.result;await h({content:C})},E.readAsText(T)}else if(T.type.endsWith("pdf")){const E=new Blob([T],{type:"application/pdf"}),N=await new oI(E,{pdfjs:async()=>{const C=await ft(()=>import("./pdf.min-tvA1-jnn.js").then(async k=>(await k.__tla,k)),__vite__mapDeps([6,2,3,1,4,5]));return await ft(()=>import("./pdf.worker.min-DyQ70O7P.js").then(async k=>(await k.__tla,k)),__vite__mapDeps([7,1,2,3,4,5])),C.GlobalWorkerOptions.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString(),C},parsedItemSeparator:" "}).load();await h({documents:N},{onProgressReport:C=>{n((C.handled+C.handling)/C.total)}})}},[h]),x=b.useMemo(()=>{var N,C;if(!((N=c==null?void 0:c.entity)!=null&&N.raw))return{headers:[],rows:[]};const T=["content","embedding","metadata"],E=ju((C=c==null?void 0:c.entity)==null?void 0:C.raw);return{headers:T,rows:E.map(k=>{try{return JSON.parse(k)}catch{return[]}})}},[(j=c==null?void 0:c.entity)==null?void 0:j.raw]),_=b.useMemo(()=>{switch(a){case"search":return f.jsx(On,{value:"search",children:f.jsx(cI,{loading:u,onSimilaritySearch:v,onCreatePrompt:g,onCreateRetriever:w})});case"new":return f.jsx(On,{className:"min-w-80",value:"new",children:f.jsx(sI,{loading:u,onCreateData:h})});case"file":return f.jsx(On,{value:"file",children:f.jsx(iI,{loading:u,progress:r,onFileSubmit:S,fileOptions:{accept:".pdf,.txt,.text",maxSize:15}})});case"view":return f.jsx(On,{value:"view",children:f.jsx(Cu,{data:x.rows,headers:x.headers,limitLengthByColumns:{embedding:32}})})}},[h,g,w,S,v,u,a,r,x]);return f.jsxs("div",{className:"min-w-72",children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:l}),f.jsxs("div",{className:"max-w-full",children:[f.jsx(Ve,{id:s}),f.jsxs(Et,{className:"flex justify-center",variant:"default",children:[f.jsx(re,{size:24,name:"database-zap"}),f.jsxs("div",{className:"ml-2 max-w-full",children:[f.jsx(dr,{children:`${((O=c.entity)==null?void 0:O.name)||""}`}),f.jsxs(Yb,{value:a,onValueChange:o,defaultValue:"search",className:ae("w-full mt-4"),children:[f.jsxs(Kb,{className:ae("grid w-full grid-cols-3",((P=c.entity)==null?void 0:P.storage)===lr.DatabaseNode?"grid-cols-4":"grid-cols-3"),children:[f.jsx(_n,{value:"search",children:t("vector_database_node.search")}),f.jsx(_n,{value:"new",children:t("vector_database_node.text")}),f.jsx(_n,{value:"file",children:t("vector_database_node.file")}),((M=c.entity)==null?void 0:M.storage)===lr.DatabaseNode?f.jsx(_n,{value:"view",children:t("vector_database_node.view")}):void 0]}),_]})]})]})]}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:l})]})}),L2={embedding:32},R2=b.memo(e=>{var o,i,s;const{id:t,data:r,isConnectable:n}=e,a=b.useMemo(()=>{var u;if(!((u=r==null?void 0:r.entity)!=null&&u.jsonl))return{headers:[],rows:[]};const c=_u(r.entity.headers||""),l=ju(r.entity.jsonl);return{headers:c,rows:l.map(d=>{try{return JSON.parse(d)}catch{return[]}})}},[(o=r==null?void 0:r.entity)==null?void 0:o.jsonl,r.entity.headers]);return f.jsxs("div",{className:"min-w-80",children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(Ve,{id:t}),f.jsxs(Le,{className:"min-w-32 min-h-16 p-4",children:[f.jsx(Qe,{className:"!p-0",children:f.jsxs("div",{className:"pt-2 flex !flex-row",children:[f.jsx(re,{name:"file-json",className:"mr-2"}),f.jsxs(le,{className:"!font-medium leading-none tracking-tight pr-8",children:[$.JSONLData," ",(i=a==null?void 0:a.rows)!=null&&i.length?`(${((s=a==null?void 0:a.rows)==null?void 0:s.length)||0})`:""]})]})}),f.jsx(et,{className:"pb-0",children:f.jsx(Cu,{data:a.rows,headers:a.headers,limitLengthByColumns:L2})})]})]}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:n})]})}),Lg=60,Rg=140,B2=Bb("supports-backdrop-blur:bg-white/10 supports-backdrop-blur:dark:bg-black/10 mx-auto flex h-[58px] w-max gap-2 rounded-lg border p-2 backdrop-blur-md"),Bg=A.forwardRef(({className:e,children:t,magnification:r=Lg,distance:n=Rg,direction:a="bottom",...o},i)=>{const s=Di(1/0),c=()=>A.Children.map(t,l=>A.isValidElement(l)&&l.type===Na?A.cloneElement(l,{...l.props,mouseX:s,magnification:r,distance:n}):l);return f.jsx(Rb.div,{ref:i,onMouseMove:l=>s.set(l.pageX),onMouseLeave:()=>s.set(1/0),...o,className:ae(B2({className:e}),{"items-start":a==="top","items-center":a==="middle","items-end":a==="bottom"}),children:c()})});Bg.displayName="Dock";const Na=({magnification:e=Lg,distance:t=Rg,mouseX:r,className:n,children:a,...o})=>{const i=b.useRef(null),s=$u(r||new BD,u=>{var p;const d=((p=i.current)==null?void 0:p.getBoundingClientRect())??{x:0,width:0};return u-d.x-d.width/2}),c=$u(s,[-t,0,t],[40,e,40]),l=g0(c,{mass:.1,stiffness:150,damping:12});return f.jsx(Rb.div,{ref:i,style:{width:l},className:ae("flex aspect-square cursor-pointer items-center justify-center rounded-full",n),...o,children:a})};Na.displayName="DockIcon";let Fg,$g,zg,Ug,gi,Vg,Pa,Hg,qg,Wg,Xg,Gg,Yg,Kg,Zg,Jg,Qg,eb,tb,rb,nb,ab,ob,ib,sb,cb,lb,ub,gu,db;Fg=e=>b.createElement("svg",{viewBox:"0 0 256 254",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:256,height:254,preserveAspectRatio:"xMidYMid",...e},b.createElement("defs",null,b.createElement("linearGradient",{id:"c",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},b.createElement("stop",{offset:"0%",stopColor:"#FFF"}),b.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:0})),b.createElement("path",{id:"a",d:"M180.828 252.605a15.872 15.872 0 0 0 12.65-.486l52.501-25.262a15.94 15.94 0 0 0 9.025-14.364V41.197a15.939 15.939 0 0 0-9.025-14.363l-52.5-25.263a15.877 15.877 0 0 0-18.115 3.084L74.857 96.35l-43.78-33.232a10.614 10.614 0 0 0-13.56.603L3.476 76.494c-4.63 4.211-4.635 11.495-.012 15.713l37.967 34.638-37.967 34.637c-4.623 4.219-4.618 11.502.012 15.714l14.041 12.772a10.614 10.614 0 0 0 13.56.604l43.78-33.233 100.507 91.695a15.853 15.853 0 0 0 5.464 3.571Zm10.464-183.649-76.262 57.889 76.262 57.888V68.956Z"})),b.createElement("mask",{id:"b",fill:"#fff"},b.createElement("use",{xlinkHref:"#a"})),b.createElement("path",{fill:"#0065A9",d:"M246.135 26.873 193.593 1.575a15.885 15.885 0 0 0-18.123 3.08L3.466 161.482c-4.626 4.219-4.62 11.502.012 15.714l14.05 12.772a10.625 10.625 0 0 0 13.569.604L238.229 33.436c6.949-5.271 16.93-.315 16.93 8.407v-.61a15.938 15.938 0 0 0-9.024-14.36Z"}),b.createElement("path",{fill:"#007ACC",d:"m246.135 226.816-52.542 25.298a15.887 15.887 0 0 1-18.123-3.08L3.466 92.207c-4.626-4.218-4.62-11.502.012-15.713l14.05-12.773a10.625 10.625 0 0 1 13.569-.603l207.132 157.135c6.949 5.271 16.93.315 16.93-8.408v.611a15.939 15.939 0 0 1-9.024 14.36Z"}),b.createElement("path",{fill:"#1F9CF0",d:"M193.428 252.134a15.892 15.892 0 0 1-18.125-3.083c5.881 5.88 15.938 1.715 15.938-6.603V11.273c0-8.318-10.057-12.483-15.938-6.602a15.892 15.892 0 0 1 18.125-3.084l52.533 25.263a15.937 15.937 0 0 1 9.03 14.363V212.51c0 6.125-3.51 11.709-9.03 14.363l-52.533 25.262Z"}),b.createElement("path",{fill:"url(#c)",fillOpacity:.25,d:"M180.828 252.605a15.874 15.874 0 0 0 12.65-.486l52.5-25.263a15.938 15.938 0 0 0 9.026-14.363V41.197a15.939 15.939 0 0 0-9.025-14.363L193.477 1.57a15.877 15.877 0 0 0-18.114 3.084L74.857 96.35l-43.78-33.232a10.614 10.614 0 0 0-13.56.603L3.476 76.494c-4.63 4.211-4.635 11.495-.012 15.713l37.967 34.638-37.967 34.637c-4.623 4.219-4.618 11.502.012 15.714l14.041 12.772a10.614 10.614 0 0 0 13.56.604l43.78-33.233 100.506 91.695a15.857 15.857 0 0 0 5.465 3.571Zm10.464-183.65-76.262 57.89 76.262 57.888V68.956Z"})),$g="/NoLLMChat/assets/plate-editor-C1jTW62C.png",zg={[$.Shape]:{width:100,height:100},[$.CircleShape]:{width:100,height:100},[$.TriangleShape]:{width:100,height:100},[$.EditorApp]:{width:1240,height:400}},Ug=e=>{const t=Je(e),r=Ne(s=>s.currentSession),[n,a]=b.useState(!1),o=J(s=>s.createOrUpdateFlowNode),i=b.useCallback(async s=>{var c,l,u;try{if(a(!0),t&&(r==null?void 0:r.id)){const d=((c=t.position)==null?void 0:c.x)||0,p=(((l=t.position)==null?void 0:l.y)||0)+(((u=t.measured)==null?void 0:u.height)||0),m=await K("FlowNodeData").save({data:{},session_id:r.id});if(!m)throw new Error("Failed to save node data");if(!await o({node_type:s,data:{},source_id:m.id,source_type:"FlowNodeData",x:d,y:p+20,...zg[s]||{}}))throw new Error("Failed to save node")}}finally{a(!1)}},[o,r==null?void 0:r.id,t]);return{loading:n,createNode:i}},gi={applications:[{key:$.EditorApp,image:$g,label:"application_bar.editor"},{key:$.VSLiteApp,icon:Fg,label:"application_bar.vslite"}],shapes:[{key:$.Shape,icon:"square",label:"application_bar.square"},{key:$.CircleShape,icon:"circle",label:"application_bar.circle"},{key:$.TriangleShape,icon:"triangle",label:"application_bar.triangle"}],old:[{key:$.CodeContainerApp,icon:"file-code-2",label:"application_bar.code_editor"}]},Vg=b.memo(e=>{const{t}=ce("flows"),{toast:r}=dt(),{loading:n,createNode:a}=Ug(e.id),o=async i=>{try{if(n)return;await a(i)}catch{r({description:t("application_bar.errors.add_node_failed"),variant:"destructive"})}};return f.jsx(FD,{children:f.jsxs(Bg,{direction:"middle",children:[gi.applications.map(i=>{const s=i.icon;return f.jsx(Na,{children:f.jsxs(Ou,{children:[f.jsxs(Su,{children:[s?f.jsx(s,{width:20,height:20,onClick:()=>o(i.key)}):void 0,i.image?f.jsx("img",{src:i.image,alt:t(i.label),className:"w-8 h-8 rounded-md",onClick:()=>o(i.key)}):void 0]}),f.jsx(Eu,{children:f.jsx("p",{children:t(i.label)})})]})},i.label)}),f.jsx(Fb,{orientation:"vertical",className:"h-full"}),gi.shapes.map(i=>f.jsx(Na,{children:f.jsxs(Ou,{children:[f.jsx(Su,{children:f.jsx(re,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(Eu,{children:f.jsx("p",{children:t(i.label)})})]})},i.label)),f.jsx(Fb,{orientation:"vertical",className:"h-full"}),gi.old.map(i=>f.jsx(Na,{children:f.jsxs(Ou,{children:[f.jsx(Su,{children:f.jsx(re,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(Eu,{children:f.jsx("p",{children:t(i.label)})})]})},i.label))]})})}),Pa=b.memo(e=>{const{lineClassName:t,handleClassName:r,...n}=e;return f.jsx(lI,{lineClassName:ae("!border-1.5",t),handleClassName:ae("!w-2 !h-2 !border-2 !rounded-full",r),...n})}),Hg=e=>{const t=J(n=>n.createOrUpdateFlowEdge),r=b.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([$.CircleShape,$.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===$.Shape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);Xe(e,r)},qg=b.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return Hg(t),f.jsxs(f.Fragment,{children:[f.jsx(Pa,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(de,{type:"target",position:fe.Top,isConnectable:n}),f.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border border",children:f.jsx(Ve,{id:t})}),f.jsx(de,{type:"source",position:fe.Bottom,isConnectable:n})]})}),Wg=e=>{const t=J(n=>n.createOrUpdateFlowEdge),r=b.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([$.Shape,$.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===$.CircleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);Xe(e,r)},Xg=b.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return Wg(t),f.jsxs(f.Fragment,{children:[f.jsx(Pa,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(de,{type:"target",position:fe.Top,isConnectable:n}),f.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border rounded-full border",children:f.jsx(Ve,{id:t})}),f.jsx(de,{type:"source",position:fe.Bottom,isConnectable:n})]})}),Gg=e=>{const t=J(n=>n.createOrUpdateFlowEdge),r=b.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([$.CircleShape,$.Shape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===$.TriangleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);Xe(e,r)},Yg=b.memo(e=>{const{id:t,selected:r,width:n,height:a,isConnectable:o}=e;return Gg(t),f.jsxs(f.Fragment,{children:[f.jsx(Pa,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(de,{type:"target",position:fe.Top,isConnectable:o}),f.jsx("div",{className:"w-0 h-0 border-l-transparent border-r-transparent border-b-border",style:{borderLeftWidth:(n||0)/2,borderRightWidth:(n||0)/2,borderBottomWidth:a||0}}),f.jsx(Ve,{id:t,className:"absolute top-0 right-0"}),f.jsx(de,{type:"source",position:fe.Bottom,isConnectable:o})]})}),Kg=e=>{const t=J(n=>n.createOrUpdateFlowEdge),r=b.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.LLM&&(o==null?void 0:o.type)===$.EditorApp){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);Xe(e,r)},Zg=e=>{const t=Je(e),{t:r}=ce("flows"),n=b.useRef(null),{toast:a}=dt(),{getNode:o,getHandleConnections:i}=kt(),{stream:s}=Du(),c=b.useCallback(async d=>{t&&(clearTimeout(n.current),n.current=setTimeout(async()=>{await K("FlowNode").update(t.id,{data:d})},150))},[t]),l=b.useCallback(async(d,p)=>{var m;if(t){const y=i({nodeId:e,type:"target"}).find(g=>{var w;return((w=o(g.source))==null?void 0:w.type)===$.LLM}),h=y?o(y==null?void 0:y.source):void 0,v=(m=h==null?void 0:h.data)==null?void 0:m.entity;if(!h||!v)return a({variant:"destructive",description:r("editor_node.errors.llm_not_found")});if(h.data.status!==tt.Loaded)return a({variant:"destructive",description:r("editor_node.errors.llm_not_loaded_yet")});try{return(await s(v.provider,typeof d=="string"?[new jn(d)]:d,{onMessageUpdate:g=>{p==null||p(g.content)},llm:v})).content}catch(g){if(g instanceof Error&&g.message.includes("LLM_NOT_LOADED_YET"))return a({title:r("editor_node.errors.llm_not_loaded_yet")});a({variant:"destructive",title:r("editor_node.errors.stream_message_failed")})}}},[t,i,e,o,a,r,s]),u=b.useCallback(d=>{if(!o(d))return[];const p=[];return i({nodeId:d,type:"target"}).forEach(m=>{const y=o(m.source);!y||y.type!==$.LLM||p.push({node:y,connections:[m]})}),p},[i,o]);return{createMessage:l,updateEditorContent:c,getLinkedConnections:u}},Jg=b.lazy(()=>ft(()=>import("./index-C2MnLp1u.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([8,2,3,9,10,11,12,13,14,15,5,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,1,4,56]))),Qg=b.memo(e=>{var l;const{id:t,data:r,selected:n,isConnectable:a}=e;Kg(t);const{createMessage:o,updateEditorContent:i,getLinkedConnections:s}=Zg(t),c=b.useCallback(u=>{i(u)},[i]);return f.jsxs("div",{className:"w-full min-w-[1240px] h-full",children:[f.jsx(Pa,{isVisible:!!n,minWidth:1240,minHeight:400}),f.jsx(de,{type:"target",position:fe.Top,isConnectable:a}),f.jsxs("div",{className:"min-w-10 min-h-10 w-full h-full rounded-lg border bg-background",children:[f.jsx(Ve,{className:"!z-[100]",id:t,enableToStandalone:!0,getLinkedConnections:s}),f.jsx(b.Suspense,{fallback:f.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:f.jsx(re,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx("div",{className:"h-full w-ful rounded-lg","data-registry":"plate",children:f.jsx(Jg,{defaultValue:(l=r==null?void 0:r.flowNode)==null?void 0:l.data,onValueChange:c,copilotStream:o})})})]}),f.jsx(de,{type:"source",position:fe.Bottom,isConnectable:a})]})}),eb=e=>{const t=b.useCallback(async({edgeId:r})=>{try{return{deleteEdgeId:r}}catch{return{deleteEdgeId:r}}},[]);Xe(e,t)},tb=b.memo(e=>{var i,s;const{id:t,data:r,isConnectable:n}=e,{t:a}=ce("flows");eb(t);let o="";switch((i=r.entity)==null?void 0:i.placeholder_type){case"VECTOR_DATABASE_RETREIVER":o=a("placeholder_node.vector_database_retriever");break}return f.jsxs("div",{children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:n}),f.jsxs(Et,{className:"flex justify-center max-w-80",variant:"default",children:[f.jsx(Ve,{id:t}),f.jsx(re,{name:"land-plot",className:"w-7 h-7"}),f.jsxs("div",{className:"ml-2 pr-4",children:[f.jsx(dr,{children:`${((s=r.entity)==null?void 0:s.placeholder)||""}`}),f.jsx(Ma,{children:o?f.jsx(Dr,{children:o}):void 0})]})]}),f.jsx(de,{type:"source",position:fe.Bottom,id:"a",isConnectable:n})]})}),rb=b.lazy(()=>ft(()=>import("./CodeContainerApp-Ap_hh07R.js").then(async e=>(await e.__tla,e)).then(e=>e.C),__vite__mapDeps([57,2,3,58,59,9,1,4,5,60,14,11,61,62]))),nb=b.memo(e=>{const{id:t,isConnectable:r}=e;return f.jsxs("div",{className:"w-[1380px] h-[600px] rounded-lg border overflow-hidden shadow-sm",children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:r}),f.jsxs("div",{className:"w-full h-full rounded-lg border bg-card overflow-hidden",children:[f.jsx(Ve,{id:t}),f.jsx(b.Suspense,{fallback:f.jsx("div",{className:"h-full w-full flex justify-center items-center",children:f.jsx(re,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx(rb,{...e})})]}),f.jsx(de,{type:"source",position:fe.Bottom,isConnectable:r})]})}),ab=["empty-source","vite-vue","shadcn-react-vite","todo-app-react-vite","porfolio-nextjs"],ob=async e=>{switch(e){case"empty-source":return ft(()=>import("./empty-source-Dw1dvL8s.js"),[]).then(t=>t.BASE);case"vite-vue":return ft(()=>import("./vite-vue-Bmz2z3Fo.js"),[]).then(t=>t.BASE);case"shadcn-react-vite":return ft(()=>import("./shadcn-react-vite-CDJ9BaE9.js"),[]).then(t=>t.BASE);case"todo-app-react-vite":return ft(()=>import("./todo-app-react-vite-BBWBkRjR.js"),[]).then(t=>t.BASE);case"porfolio-nextjs":return ft(()=>import("./porfolio-nextjs-DCkli5iW.js"),[]).then(t=>t.BASE);default:throw new Error(`Unknown source base: ${e}`)}},Bu=b.memo(({className:e,onUpdateSourceBase:t})=>{const{t:r}=ce("components"),[n,a]=b.useState();return f.jsxs(Le,{className:ae("mw-full",e),children:[f.jsx(Qe,{className:"p-4",children:f.jsx(at,{children:r("add_source_base.title")})}),f.jsx(et,{className:"p-4",children:f.jsxs("div",{className:"flex items-center justify-center w-full h-full flex-col",children:[f.jsxs(Yt,{onValueChange:o=>a(o),children:[f.jsx(Kt,{className:"w-full mb-4",children:f.jsx(Zt,{placeholder:r("add_source_base.source_base_select_placeholder")})}),f.jsx(Jt,{children:ab.map(o=>f.jsx(ot,{value:`${o}`,children:r(`add_source_base.sourcebases.${o.toLowerCase()}`)},`${o}`))})]}),f.jsx(Ee,{className:"w-full",onClick:async()=>n&&t(await ob(n)),children:r("add_source_base.update_source")})]})})]})}),ib=()=>{const{getNode:e,getHandleConnections:t}=kt(),{stream:r}=Du(),n=b.useCallback(async(o,i)=>{await K("FlowNode").update(o,{raw:dL(i)})},[]),a=b.useCallback(o=>{if(!e(o))return[];const i=[];return t({nodeId:o,type:"target"}).forEach(s=>{const c=e(s.source);!c||c.type!==$.LLM||i.push({node:c,connections:[s]})}),i},[t,e]);return{sendMessage:b.useCallback(async(o,i,{onMessageUpdate:s,onResponseMessageCreate:c}={})=>{const l=i.map(d=>d.role==="system"?new Db(d.content):d.role==="user"?new jn(d.content):new Ei(d.content));c==null||c();const{content:u}=await r(pe.WebLLM,[...l,new jn(o)],{onMessageUpdate:({content:d})=>{s==null||s({nodeData:{loading:!0,content:d}})},llm:void 0});return s==null||s({nodeData:{loading:!1,content:u}}),u},[r]),getLinkedConnections:a,updateCodeContainerData:n}},sb=e=>{const t=J(n=>n.createOrUpdateFlowEdge),r=b.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.LLM&&(o==null?void 0:o.type)===$.VSLiteApp){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);Xe(e,r)},cb=b.lazy(()=>ft(()=>import("./index-BuXK4Fyc.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([63,2,3,11,21,35,5,64,65,60,14,61,66]))),lb=b.memo(e=>{var p,m,y,h;const{id:t,isConnectable:r,data:n}=e,[a,o]=b.useState((p=n==null?void 0:n.flowNode)!=null&&p.raw?fL(n.flowNode.raw):void 0),{updateCodeContainerData:i,getLinkedConnections:s,sendMessage:c}=ib();sb(t);const l=b.useCallback(async v=>{var g,w;(g=n==null?void 0:n.flowNode)!=null&&g.id&&(await i((w=n==null?void 0:n.flowNode)==null?void 0:w.id,v),o(v))},[(m=n==null?void 0:n.flowNode)==null?void 0:m.id,i]),u=b.useCallback(async(v,g)=>{var w;return(w=n==null?void 0:n.flowNode)!=null&&w.id?await c(v,g):void 0},[(y=n==null?void 0:n.flowNode)==null?void 0:y.id,c]),d=b.useCallback(async v=>{o(g=>{var S;const w=pL(g||{},v);return i((S=n==null?void 0:n.flowNode)==null?void 0:S.id,w),w})},[(h=n==null?void 0:n.flowNode)==null?void 0:h.id,i]);return a?f.jsxs("div",{className:"w-[1380px] h-[600px] rounded-lg border overflow-hidden shadow-sm",children:[f.jsx(de,{type:"target",position:fe.Top,isConnectable:r}),f.jsxs("div",{className:"w-full h-full rounded-lg border bg-card overflow-hidden",children:[f.jsx(Ve,{id:t,className:"z-50",enableToStandalone:!0,getLinkedConnections:s}),f.jsx(b.Suspense,{fallback:f.jsx("div",{className:"h-full w-full flex justify-center items-center",children:f.jsx(re,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx(cb,{fileSystemTree:a,onUpdateFileContent:d,sendMessage:u})})]}),f.jsx(de,{type:"source",position:fe.Bottom,isConnectable:r})]}):f.jsx("div",{className:"h-full flex justify-center items-center",children:f.jsx(Bu,{className:"w-64",onUpdateSourceBase:l})})}),ub={[$.LLM]:Zd,[$.Toolbox]:Hd,[$.Thread]:rf,[$.Message]:Jx,[$.Prompt]:ew,[$.SessionInfo]:g2,[$.Schema]:x2,[$.CSVData]:w2,[$.ToolDefinition]:_2,[$.DefaultEmbeddingModel]:k2,[$.VectorDatabase]:I2,[$.JSONLData]:R2,[$.ApplicationBar]:Vg,[$.Shape]:qg,[$.CircleShape]:Xg,[$.TriangleShape]:Yg,[$.EditorApp]:Qg,[$.PlaceHolder]:tb,[$.CodeContainerApp]:nb,[$.VSLiteApp]:lb},gu=Bb("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),db=b.forwardRef(({className:e,variant:t,size:r,...n},a)=>f.jsx(u0,{ref:a,className:ae(gu({variant:t,size:r,className:e})),...n})),db.displayName=u0.displayName;const fb=b.createContext({size:"default",variant:"default"}),pb=b.forwardRef(({className:e,variant:t,size:r,children:n,...a},o)=>f.jsx(d0,{ref:o,className:ae("flex items-center justify-center gap-1",e),...a,children:f.jsx(fb.Provider,{value:{variant:t,size:r},children:n})}));pb.displayName=d0.displayName;const hb=b.forwardRef(({className:e,children:t,variant:r,size:n,...a},o)=>{const i=b.useContext(fb);return f.jsx(f0,{ref:o,className:ae(gu({variant:i.variant||r,size:i.size||n}),e),...a,children:t})});hb.displayName=f0.displayName;function F2(){const e=uI(t=>`x: ${t.transform[0].toFixed(2)}, y: ${t.transform[1].toFixed(2)}, zoom: ${t.transform[2].toFixed(2)}`);return f.jsx("div",{children:e})}function $2({change:e}){var n,a,o,i;const t="id"in e?e.id:"-",{type:r}=e;return f.jsxs("div",{className:"mb-3",children:[f.jsxs("div",{children:["node id: ",t]}),f.jsxs("div",{children:[r==="add"?JSON.stringify(e.item,null,2):null,r==="dimensions"?`dimensions: ${(n=e.dimensions)==null?void 0:n.width} \xD7 ${(a=e.dimensions)==null?void 0:a.height}`:null,r==="position"?`position: ${(o=e.position)==null?void 0:o.x.toFixed(1)}, ${(i=e.position)==null?void 0:i.y.toFixed(1)}`:null,r==="remove"?"remove":null,r==="select"?e.selected?"select":"unselect":null]})]})}function z2({limit:e=20}){const[t,r]=b.useState([]),n=dI(),a=b.useCallback(i=>{r(s=>[...i,...s].slice(0,e))},[e]);b.useEffect(()=>(n.setState({onNodesChange:a}),()=>n.setState({onNodesChange:void 0})),[a,n]);const o=()=>f.jsx("div",{children:"No Changes Triggered"});return f.jsx(f.Fragment,{children:t.length===0?f.jsx(o,{}):t.map((i,s)=>f.jsx($2,{change:i},s))})}function U2(){const{getInternalNode:e}=kt(),t=Zb();return f.jsx(fI,{children:f.jsx("div",{className:"text-secondary-foreground",children:t.map(r=>{var o,i;const n=e(r.id);if(!n)return null;const a=n==null?void 0:n.internals.positionAbsolute;return f.jsx(V2,{id:r.id,selected:!!r.selected,type:r.type||"default",position:r.position,absPosition:a,width:((o=r.measured)==null?void 0:o.width)??0,height:((i=r.measured)==null?void 0:i.height)??0,data:r.data},r.id)})})})}function V2({id:e,type:t,selected:r,position:n,absPosition:a,width:o,height:i,data:s}){if(!o||!i)return null;const c=`translate(${a.x}px, ${a.y+i}px)`,l=`${n.x.toFixed(1)}, ${n.y.toFixed(1)}`,u=`${o} \xD7 ${i}`,d=r?"Selected":"Not Selected";return f.jsxs("div",{style:{position:"absolute",transform:c,width:o*2},className:"text-xs",children:[f.jsxs("div",{children:["id: ",e]}),f.jsxs("div",{children:["type: ",t]}),f.jsxs("div",{children:["selected: ",d]}),f.jsxs("div",{children:["position: ",l]}),f.jsxs("div",{children:["dimensions: ",u]}),f.jsxs("div",{children:["data: ",JSON.stringify(s,null,2)]})]})}function H2({tools:e}){return f.jsx(Mu,{position:"top-left",className:"bg-card p-1 border rounded shadow-sm",children:f.jsx(pb,{type:"multiple",children:e.map(({active:t,setActive:r,label:n,value:a})=>f.jsx(hb,{value:a,onClick:()=>r(o=>!o),"aria-pressed":t,className:"bg-card text-card-foreground transition-colors duration-300 hover:bg-secondary hover:text-secondary-foreground",children:n},a))})})}function mb(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[a,o]=b.useState(!1),i=[{active:e,setActive:t,label:"Node Inspector",value:"node-inspector"},{active:r,setActive:n,label:"Change Logger",value:"change-logger"},{active:a,setActive:o,label:"Viewport Logger",value:"viewport-logger"}];return f.jsxs(f.Fragment,{children:[f.jsx(H2,{tools:i}),r&&f.jsx(Mu,{className:"text-xs p-5 bg-white rounded shadow-md overflow-y-auto max-h-[50%] mt-20",position:"bottom-right",children:f.jsx(z2,{})}),e&&f.jsx(U2,{}),a&&f.jsx(Mu,{position:"bottom-left",className:"text-secondary-foreground",children:f.jsx(F2,{})})]})}mb.displayName="DevTools";let yb,vb,gb,bb,xb;yb=()=>{const e=b.useRef({}),t=b.useRef({}),r=b.useRef([]),n=J(E=>E.flowEdges),a=Ne(E=>E.currentSession),o=J(E=>E.setNodes),i=J(E=>E.updateNodes),s=J(E=>E.updateEdges),c=J(E=>E.addConnectionToEdges),l=J(E=>E.reset),u=J(E=>E.findFlowEdges),d=J(E=>E.deleteFlowNode),p=J(E=>E.deleteFlowEdge),m=J(E=>E.updateFlowNode),y=J(E=>E.getNodes),h=J(E=>E.findFlowNodesWithSource),v=b.useRef(n),g=b.useRef(),[w,S]=b.useState({loading:!1});v.current=n;const x=b.useCallback(async(E,N)=>{try{g.current=E,l(),await(N==null?void 0:N())}catch{g.current=void 0}},[l]),_=b.useCallback(async E=>{try{if(!(a!=null&&a.id))return;S(k=>({...k,loading:!0}));const N=await h({...E,where:{...E.where,session_id:a.id}}),C=await u({where:[{source:Tu(N.map(k=>k.id))},{target:Tu(N.map(k=>k.id))}]});return{flowNodes:N,flowEdges:C}}finally{S(N=>({...N,loading:!1}))}},[h,u,a==null?void 0:a.id]),j=b.useCallback(async E=>{var N,C;for(const k of r.current){const I=await k(E);if(typeof I=="boolean"&&!I)return}for(const k of E)if("id"in k&&Object.values(Ai).includes(k.id)&&k.type!=="remove")i([k]);else if(k.type==="position"&&k.position&&!isNaN(k.position.x)&&!isNaN(k.position.y)){i([k]);const I=k.position.x,B=k.position.y;clearTimeout(e.current[k.id]),e.current[k.id]=setTimeout(async()=>{e.current[k.id]=void 0,await m({id:k.id,x:I,y:B},{silent:!0})},200)}else if(k.type==="remove"){const I=(N=y([k.id]))==null?void 0:N[0];if(!(I!=null&&I.type)||pI.includes(I.type))return;await d({id:k.id})}else if(k.type==="dimensions"&&k.dimensions&&!isNaN(k.dimensions.width)&&!isNaN(k.dimensions.height)){const I=(C=y([k.id]))==null?void 0:C[0];if(!(I!=null&&I.width)&&!(I!=null&&I.height))return;i([k]),clearTimeout(t.current[k.id]);const B=k.dimensions.width,F=k.dimensions.height;t.current[k.id]=setTimeout(async()=>{await m({id:k.id,width:B,height:F},{silent:!0})},200)}else k.type==="select"&&i([k])},[i,m,y,d]),O=b.useCallback(E=>{Promise.all(E.map(async N=>{if(N.type==="remove")return p({id:N.id})})),s(E)},[p,s]),P=b.useCallback(E=>{c(E)},[c]),M=b.useCallback(E=>{o(N=>{var B,F;let C;if(typeof E=="function"?C=E(N):C=E,!C)return N;const k=N==null?void 0:N.find(V=>V.id===C.id),I={id:C.id,item:k?hI(k,C):{...C,position:{x:((B=C.position)==null?void 0:B.x)||0,y:((F=C.position)==null?void 0:F.y)||0}},type:k?"replace":"add"};return mI([I],N)})},[o]),T=b.useCallback(E=>(r.current.push(E),()=>{r.current=r.current.filter(N=>N!==E)}),[]);return{initFlow:x,loadingState:w,prepareFlowInfo:_,updateNodeChanges:j,updateEdgeChanges:O,updateOrCreateNode:M,currentSessionIdRef:g,updateEdgeConnection:P,addOnNodeChangeHandler:T}},vb=e=>{const t=Ne(d=>{var p;return(p=d.currentSession)==null?void 0:p.id}),{loadingState:r,prepareFlowInfo:n,initFlow:a,currentSessionIdRef:o}=e,i=J(d=>d.ready),s=J(d=>d.nodes),c=b.useRef(s),l=J(d=>d.removeSyncNodeQueue),u=J(d=>d.removeSyncEdgeQueue);c.current=s,b.useEffect(()=>{r.loading||!i||!t||o.current===t||a(t,async()=>{await n({where:{session_id:t}})})},[a,n,r.loading,o,i,t]),b.useEffect(()=>{const d=J.subscribe(m=>m.syncNodeQueue,async(m,y)=>{const h=y.map(g=>g.timestamp),v=m.filter(g=>!h.includes(g.timestamp));v.length&&l(v.map(g=>g.timestamp))}),p=J.subscribe(m=>m.syncEdgeQueue,async(m,y)=>{const h=y.map(g=>g.timestamp),v=m.filter(g=>!h.includes(g.timestamp));v.length&&u(v.map(g=>g.timestamp))});return()=>{d(),p()}},[n,u,l])},gb=()=>{const[e,t]=b.useState(!0),r=yb(),n=Ca(u=>u.selectedModel),a=b.useRef(n),o=Ca(u=>u.setInitProgressCallback),{updateOrCreateNode:i,updateNodeChanges:s,updateEdgeChanges:c,updateEdgeConnection:l}=r;return vb(r),a.current=n,b.useEffect(()=>{const u=o==null?void 0:o(d=>{if(!a.current)return;const p=`${a.current}`;i(m=>{const y=m==null?void 0:m.find(h=>{var v;return(v=h.data)!=null&&v.entity&&typeof h.data.entity=="object"&&"name"in h.data.entity?h.data.entity.name===p:!1});if(y)return y.data.label=d.text,y.data.status=tt.Loading,d.progress===100&&(y.data.label="",y.data.status=tt.Loaded),y})});return()=>{u==null||u()}},[o,i]),b.useMemo(()=>({updateNodeChanges:s,updateEdgeChanges:c,initializing:e,setInitializing:t,updateEdgeConnection:l}),[s,c,e,t,l])},bb=()=>{const e=Mb(l=>l.theme),t=J(l=>l.nodes),r=J(l=>l.edges),{updateNodeChanges:n,updateEdgeChanges:a,updateEdgeConnection:o}=gb(),i=b.useCallback(l=>{n(l)},[n]),s=b.useCallback(l=>{a(l)},[a]),c=b.useCallback(l=>{o(l)},[o]);return f.jsxs(yI,{nodes:t,edges:r,nodeTypes:ub,onNodesChange:i,onEdgesChange:s,onConnect:c,panOnScroll:!0,panOnScrollMode:vI.Free,colorMode:e,fitView:!0,children:[f.jsx(gI,{variant:bI.Dots,gap:24,size:1}),f.jsx(xI,{}),f.jsx(wI,{}),$D?f.jsx(mb,{}):void 0]})},xb=b.memo(bb),p0=Object.freeze(Object.defineProperty({__proto__:null,default:xb},Symbol.toStringTag,{value:"Module"}))});export{Bu as C,p0 as H,mL as __tla,Xe as a,J as u};
