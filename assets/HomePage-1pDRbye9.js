const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BfwsW2Zg.js","assets/use-llm-D_d83IRI.js","assets/index-BL-fuuU1.js","assets/index-l2yWm1DY.css","assets/routes-XM45Th12.js","assets/few_shot-CZXN65hU.js","assets/index-95am0tNA.js","assets/objectWithoutPropertiesLoose-BjXSgPXB.js","assets/index-DWe7lNFA.js","assets/index-Ux8lesU9.css","assets/pdf-BhBJw3HU.js","assets/pdf.min-BE6IsQ0T.js","assets/pdf.worker.min-C59CwJvh.js","assets/PlateEditor-ChjMaqt3.js","assets/chevron-down-jXfwsv9t.js","assets/createLucideIcon-BNNfojak.js","assets/chevron-right-bL3QIFEJ.js","assets/check-DTrM1riz.js","assets/ellipsis-CnltqjL1.js","assets/highlighter-bBiWAmGJ.js","assets/keyboard-C2kFj-qm.js","assets/superscript-CurWIsEE.js","assets/subscript-Ce9dWNbN.js","assets/align-left-QvlAVySU.js","assets/align-center-CLkU1KIk.js","assets/align-right-DbP-K1Lp.js","assets/align-justify-BP8oYsD4.js","assets/plus-CP_nimxV.js","assets/eraser-iAHUWEYH.js","assets/star-DTThd0aG.js","assets/flag-KLmywYfd.js","assets/apple-DmD0Sb68.js","assets/clock-Bsdm36rH.js","assets/leaf-0Zm0yv8c.js","assets/lightbulb-BhEwG2jW.js","assets/smile-XCTgYrWB.js","assets/compass-BMEfpl70.js","assets/music-CuDX-fC2.js","assets/x-OYeMCjx3.js","assets/search-o9tJVBoJ.js","assets/external-link-BUJybSVX.js","assets/redo-2-Cvd9f1Hb.js","assets/undo-2-DfKsdbMy.js","assets/list-DB69qonv.js","assets/list-ordered-DwcmJPrI.js","assets/list-todo-D2Kl3X7M.js","assets/indent-increase-Dxhg6mRn.js","assets/pilcrow-QGT09s9a.js","assets/heading-1-BRV2K3Eq.js","assets/heading-2-P8-sLXIT.js","assets/heading-3-BgjMF2R-.js","assets/table-Dg29O7n_.js","assets/file-code-YhkTo1U1.js","assets/quote-czUzKf8I.js","assets/minus-CUtbjwv-.js","assets/square-CFtKjXik.js","assets/image-CI7j0_mJ.js","assets/table-of-contents-YQX6Gtvs.js","assets/columns-3-BrztDwmQ.js","assets/link-2-CDXwCTkP.js","assets/calendar-D1Ogcul2.js","assets/wrap-text-BpgfNHzX.js","assets/link-7ARg5TQi.js","assets/pen-DFgNXYN9.js","assets/eye-DsUY_hSD.js","assets/indent-decrease-yP0hmdld.js","assets/trash-BzXJ8sJ3.js","assets/rectangle-vertical-BcWIFM6i.js","assets/rectangle-horizontal-1mt1T_yl.js","assets/list-collapse-B_QE2EoI.js","assets/pointer-CLa-406I.js","assets/wand-sparkles-Dl_Qf6U1.js","assets/bold-ax8ntLJH.js","assets/italic-zZUv_7p1.js","assets/underline-BewZDlA4.js","assets/strikethrough-C_o2al5H.js","assets/code-xml-CxuvS4gK.js","assets/baseline-CZ4dYElA.js","assets/paint-bucket-qZbj7MP-.js","assets/arrow-up-to-line-Cf7OIQIf.js","assets/circle-nwRGDs-p.js","assets/text-WV2iXAm7.js","assets/unlink-C4ckEl0h.js","assets/arrow-left-BXmqh0dm.js","assets/arrow-right-C3ZvA9fw.js","assets/download-BX5m5_Um.js","assets/chevrons-up-down-C65d6l-7.js","assets/trash-2-DTVHsq9V.js","assets/chevron-left-C8OXT1c5.js","assets/sparkles-U09zcvk4.js","assets/combine-CKOP0J8z.js","assets/ungroup-ctKrZjLF.js","assets/grip-vertical-Darcvo2p.js","assets/index-CJKVIYM2.js","assets/pen-line-DWGjgmJI.js","assets/badge-help-C7zmML_4.js","assets/wand-BoppUXCz.js","assets/list-end-BIiZWh8W.js","assets/list-plus-DwLQaZNB.js","assets/list-minus-DGhUaj2K.js","assets/feather-7LLFVOYo.js","assets/album-Bbxo-oxR.js","assets/corner-up-left-CNnsEgGa.js","assets/loader-circle-Dp_qltd8.js","assets/use-prevent-pitch-zoom-B8-4ngqE.js","assets/PlateEditor-D7XtzYg9.css","assets/CodeContainerApp-oMMwgTH8.js","assets/index-cdAx_3pa.js","assets/folder-open-DMsaghZi.js","assets/folder-DM7kOyG4.js","assets/file-C97OLMnq.js","assets/index-CarVWsTE.js","assets/index-DVhmL1wB.css"])))=>i.map(i=>d[i]);
import{G as Xx,r as v,M as Kx,H as ZB,I as Gx,J as QB,K as Yx,N as eF,O as fd,Q as Jx,T as tF,U as rF,z as pd,c as Un,b as Mt,j as d,P as fe,f as et,d as ue,g as X,L as te,V as nF,W as aF,X as oF,s as st,y as ne,Y as z,e as us,S as Zx,D as Qx,l as ew,u as vr,m as tw,Z as iF,i as sF,p as se,x as ct,$ as gr,_ as tt,a0 as cF,a1 as E,a2 as Vn,a3 as lF,a4 as ds,a5 as uF,a6 as dF,a7 as rw,a8 as nw,t as aw,a9 as fF,C as pF,aa as hF,v as fs,w as tr,ab as mF,ac as yF,ad as ps,ae as vF,af as hd,ag as ow,ah as gF,ai as hs,aj as md,ak as iw,al as Ne,am as ge,an as bF,ao as sw,ap as yd,aq as ms,q as cw,h as lw,ar as xF,as as wF,at as jF,__tla as _F}from"./index-BL-fuuU1.js";import{c as OF,i as vd,a as uw,b as dw,d as SF,e as NF,g as EF,L as jt,f as gd,h as ys,s as PF,u as Xe,R as fw,j as Qa,k as vs,T as Xr,l as rr,H as CF,P as he,I as eo,m as gs,n as kF,A as br,o as xr,p as to,q as MF,r as bd,t as AF,F as bs,v as pw,w as hw,_ as xs,x as Hn,y as ws,z as _t,B as qn,C as de,D as TF,E as DF,G as mw,J as IF,K as RF,M as wr,N as LF,O as BF,Q as FF,S as yw,U as js,V as xd,W as vw,X as zF,Y as $F,Z as ro,$ as UF,a0 as VF,a1 as HF,a2 as _s,a3 as qF,a4 as WF,a5 as XF,a6 as KF,a7 as GF,a8 as YF,a9 as JF,aa as wd,ab as ZF,ac as QF,ad as ez,ae as tz,af as rz,ag as nz,ah as az,ai as oz,aj as iz,ak as sz,al as cz,am as lz,an as uz,ao as dz,__tla as fz}from"./use-llm-D_d83IRI.js";import{c as pz,a as Wn,u as no,R as jd,I as _d,A as hz,C as mz,G as yz,L as vz,b as gz,d as bz,e as xz,f as wz,g as jz,S as _z,h as Oz,i as Sz,j as Nz,k as rt,l as Ez,P as Pz,m as Os,n as Od,o as gw,p as bw,q as xw,F as ww,r as jw,s as _w,t as Ow,v as Cz,w as kz,O as Mz,x as Az,B as Te,y as be,z as Sw,D as Tz,T as Dz,E as Iz,H as Rz,J as Ot,K as Ss,M as Ns,N as Es,Q as Ps,U as Lz,V as Bz,W as Kr,X as Fz,Y as zz,Z as Sd,_ as Nd,$ as Ed,a0 as Nw,__tla as $z}from"./routes-XM45Th12.js";let Ew,Pd,Cs,Cd,kd,Md,Ad,Td,ks,Gr,jr,ht,Pw,Dd,Ms,Cw,As,Ts,Id,Rd,Ld,Bd,Yr,Fd,kw,zd,$d,Mw,Ud,Aw,Vd,Ds,Hd,Is,nt,qd,Rs,re,Ls,Wd,Xd,Bs,Fs,Uz=Promise.all([(()=>{try{return _F}catch{}})(),(()=>{try{return fz}catch{}})(),(()=>{try{return $z}catch{}})()]).then(async()=>{var Ft=(e=>(e.Started="started",e.Inprogress="inprogress",e.Success="success",e.Failed="failed",e))(Ft||{}),lt=(e=>(e.Human="human",e.User="user",e.AI="ai",e.System="system",e.Assistant="assistant",e.Tool="tool",e.FewShotExample="few_shot_example",e))(lt||{}),ao=(e=>(e.Started="started",e.Inprogress="inprogress",e.Done="done",e))(ao||{}),ut=(e=>(e.Chat="chat",e.FewShotExample="few_shot_example",e))(ut||{});function zs(e){const t=Xx(()=>ZB(e)),{isStatic:r}=v.useContext(Kx);if(r){const[,n]=v.useState(e);v.useEffect(()=>t.on("change",n),[])}return t}function Kd(e,t){const r=zs(t()),n=()=>r.set(t());return n(),Gx(()=>{const a=()=>Yx.preRender(n,!1,!0),o=e.map(i=>i.on("change",a));return()=>{o.forEach(i=>i()),QB(n)}}),r}const Tw=e=>e&&typeof e=="object"&&e.mix,Dw=e=>Tw(e)?e.mix:void 0;function Iw(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],o=e[2+r],i=e[3+r],s=eF(a,o,{mixer:Dw(o[0]),...i});return t?s(n):s}function Rw(e){fd.current=[],e();const t=Kd(fd.current,e);return fd.current=void 0,t}function Gd(e,t,r,n){if(typeof e=="function")return Rw(e);const a=typeof t=="function"?t:Iw(t,r,n);return Array.isArray(e)?Yd(e,a):Yd([e],([o])=>a(o))}function Yd(e,t){const r=Xx(()=>[]);return Kd(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function Jd(e){return typeof e=="number"?e:parseFloat(e)}function Lw(e,t={}){const{isStatic:r}=v.useContext(Kx),n=v.useRef(null),a=zs(Jx(e)?Jd(e.get()):e),o=v.useRef(a.get()),i=v.useRef(()=>{}),s=()=>{const l=n.current;l&&l.time===0&&l.sample(tF.delta),c(),n.current=rF({keyframes:[a.get(),o.current],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:i.current})},c=()=>{n.current&&n.current.stop()};return v.useInsertionEffect(()=>a.attach((l,u)=>r?u(l):(o.current=l,i.current=u,Yx.update(s),a.get()),c),[JSON.stringify(t)]),Gx(()=>{if(Jx(e))return e.on("change",l=>a.set(Jd(l)))},[a]),a}function Bw(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function Fw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zw(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Jr(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function $w(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Uw(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Jr(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}function Jr(e,t){var r=typeof t,n;return t==null||r==="boolean"?OF(t):(r==="number"?vd:r==="string"?(n=uw(t))?(t=n,dw):SF:t instanceof uw?dw:t instanceof Date?$w:Fw(t)?Bw:Array.isArray(t)?zw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Uw:vd)(e,t)}function $s(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vw(e,t){t===void 0&&(t=e,e=Jr);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}var oo="Menubar",[Us,Hw,qw]=pd(oo),[Zd,Vz]=Un(oo,[qw,Wn]),Ke=pz(),Qd=Wn(),[Ww,Vs]=Zd(oo),ef=v.forwardRef((e,t)=>{const{__scopeMenubar:r,value:n,onValueChange:a,defaultValue:o,loop:i=!0,dir:s,...c}=e,l=no(s),u=Qd(r),[f="",p]=Mt({prop:n,onChange:a,defaultProp:o}),[m,y]=v.useState(null);return d.jsx(Ww,{scope:r,value:f,onMenuOpen:v.useCallback(h=>{p(h),y(h)},[p]),onMenuClose:v.useCallback(()=>p(""),[p]),onMenuToggle:v.useCallback(h=>{p(g=>g?"":h),y(h)},[p]),dir:l,loop:i,children:d.jsx(Us.Provider,{scope:r,children:d.jsx(Us.Slot,{scope:r,children:d.jsx(jd,{asChild:!0,...u,orientation:"horizontal",loop:i,dir:l,currentTabStopId:m,onCurrentTabStopIdChange:y,children:d.jsx(fe.div,{role:"menubar",...c,ref:t})})})})})});ef.displayName=oo;var Hs="MenubarMenu",[Xw,tf]=Zd(Hs),rf=e=>{const{__scopeMenubar:t,value:r,...n}=e,a=rt(),o=r||a||"LEGACY_REACT_AUTO_VALUE",i=Vs(Hs,t),s=Ke(t),c=v.useRef(null),l=v.useRef(!1),u=i.value===o;return v.useEffect(()=>{u||(l.current=!1)},[u]),d.jsx(Xw,{scope:t,value:o,triggerId:rt(),triggerRef:c,contentId:rt(),wasKeyboardTriggerOpenRef:l,children:d.jsx(Ez,{...s,open:u,onOpenChange:f=>{f||i.onMenuClose()},modal:!1,dir:i.dir,...n})})};rf.displayName=Hs;var qs="MenubarTrigger",nf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,disabled:n=!1,...a}=e,o=Qd(r),i=Ke(r),s=Vs(qs,r),c=tf(qs,r),l=v.useRef(null),u=et(t,l,c.triggerRef),[f,p]=v.useState(!1),m=s.value===c.value;return d.jsx(Us.ItemSlot,{scope:r,value:c.value,disabled:n,children:d.jsx(_d,{asChild:!0,...o,focusable:!n,tabStopId:c.value,children:d.jsx(hz,{asChild:!0,...i,children:d.jsx(fe.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":m,"aria-controls":m?c.contentId:void 0,"data-highlighted":f?"":void 0,"data-state":m?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:u,onPointerDown:ue(e.onPointerDown,y=>{!n&&y.button===0&&y.ctrlKey===!1&&(s.onMenuOpen(c.value),m||y.preventDefault())}),onPointerEnter:ue(e.onPointerEnter,()=>{var y;s.value&&!m&&(s.onMenuOpen(c.value),(y=l.current)==null||y.focus())}),onKeyDown:ue(e.onKeyDown,y=>{n||(["Enter"," "].includes(y.key)&&s.onMenuToggle(c.value),y.key==="ArrowDown"&&s.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(y.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,y.preventDefault()))}),onFocus:ue(e.onFocus,()=>p(!0)),onBlur:ue(e.onBlur,()=>p(!1))})})})})});nf.displayName=qs;var Kw="MenubarPortal",af=e=>{const{__scopeMenubar:t,...r}=e,n=Ke(t);return d.jsx(Pz,{...n,...r})};af.displayName=Kw;var Ws="MenubarContent",of=v.forwardRef((e,t)=>{const{__scopeMenubar:r,align:n="start",...a}=e,o=Ke(r),i=Vs(Ws,r),s=tf(Ws,r),c=Hw(r),l=v.useRef(!1);return d.jsx(mz,{id:s.contentId,"aria-labelledby":s.triggerId,"data-radix-menubar-content":"",...o,...a,ref:t,align:n,onCloseAutoFocus:ue(e.onCloseAutoFocus,u=>{var f;!i.value&&!l.current&&((f=s.triggerRef.current)==null||f.focus()),l.current=!1,u.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,u=>{const f=u.target;c().some(p=>{var m;return(m=p.ref.current)==null?void 0:m.contains(f)})&&u.preventDefault()}),onInteractOutside:ue(e.onInteractOutside,()=>{l.current=!0}),onEntryFocus:u=>{s.wasKeyboardTriggerOpenRef.current||u.preventDefault()},onKeyDown:ue(e.onKeyDown,u=>{if(["ArrowRight","ArrowLeft"].includes(u.key)){const f=u.target,p=f.hasAttribute("data-radix-menubar-subtrigger"),m=f.closest("[data-radix-menubar-content]")!==u.currentTarget,y=(i.dir==="rtl"?"ArrowRight":"ArrowLeft")===u.key;if(!y&&p||m&&y)return;let h=c().filter(w=>!w.disabled).map(w=>w.value);y&&h.reverse();const g=h.indexOf(s.value);h=i.loop?l1(h,g+1):h.slice(g+1);const[b]=h;b&&i.onMenuOpen(b)}},{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});of.displayName=Ws;var Gw="MenubarGroup",Yw=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(yz,{...a,...n,ref:t})});Yw.displayName=Gw;var Jw="MenubarLabel",sf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(vz,{...a,...n,ref:t})});sf.displayName=Jw;var Zw="MenubarItem",cf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(gz,{...a,...n,ref:t})});cf.displayName=Zw;var Qw="MenubarCheckboxItem",lf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(bz,{...a,...n,ref:t})});lf.displayName=Qw;var e1="MenubarRadioGroup",t1=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(xz,{...a,...n,ref:t})});t1.displayName=e1;var r1="MenubarRadioItem",uf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(wz,{...a,...n,ref:t})});uf.displayName=r1;var n1="MenubarItemIndicator",df=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(jz,{...a,...n,ref:t})});df.displayName=n1;var a1="MenubarSeparator",ff=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(_z,{...a,...n,ref:t})});ff.displayName=a1;var o1="MenubarArrow",i1=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(Oz,{...a,...n,ref:t})});i1.displayName=o1;var s1="MenubarSubTrigger",pf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(Sz,{"data-radix-menubar-subtrigger":"",...a,...n,ref:t})});pf.displayName=s1;var c1="MenubarSubContent",hf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return d.jsx(Nz,{...a,"data-radix-menubar-content":"",...n,ref:t,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});hf.displayName=c1;function l1(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mf=ef,u1=rf,yf=nf,d1=af,vf=of,gf=sf,bf=cf,xf=lf,wf=uf,jf=df,_f=ff,Of=pf,Sf=hf;const Xs=u1,Nf=v.forwardRef(({className:e,...t},r)=>d.jsx(mf,{ref:r,className:X("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",e),...t}));Nf.displayName=mf.displayName;const Ks=v.forwardRef(({className:e,...t},r)=>d.jsx(yf,{ref:r,className:X("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e),...t}));Ks.displayName=yf.displayName;const f1=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>d.jsxs(Of,{ref:a,className:X("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,d.jsx(te,{name:"chevron-right",className:"ml-auto h-4 w-4"})]}));f1.displayName=Of.displayName;const p1=v.forwardRef(({className:e,...t},r)=>d.jsx(Sf,{ref:r,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));p1.displayName=Sf.displayName;const Ef=v.forwardRef(({className:e,align:t="start",alignOffset:r=-4,sideOffset:n=8,...a},o)=>d.jsx(d1,{children:d.jsx(vf,{ref:o,align:t,alignOffset:r,sideOffset:n,className:X("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));Ef.displayName=vf.displayName;const Pf=v.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(bf,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Pf.displayName=bf.displayName;const h1=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>d.jsxs(xf,{ref:a,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(jf,{children:d.jsx(te,{name:"check",className:"h-4 w-4"})})}),t]}));h1.displayName=xf.displayName;const m1=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(wf,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(jf,{children:d.jsx(te,{name:"circle",className:"h-2 w-2 fill-current"})})}),t]}));m1.displayName=wf.displayName;const y1=v.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(gf,{ref:n,className:X("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));y1.displayName=gf.displayName;const v1=v.forwardRef(({className:e,...t},r)=>d.jsx(_f,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));v1.displayName=_f.displayName;const De=v.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));De.displayName="Card";const Ge=v.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:X("flex flex-col space-y-1.5 p-6",e),...t}));Ge.displayName="CardHeader";const at=v.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:X("text-2xl font-semibold leading-none tracking-tight",e),...t}));at.displayName="CardTitle";const Cf=v.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:X("text-sm text-muted-foreground",e),...t}));Cf.displayName="CardDescription";const Ye=v.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:X("p-6 pt-0",e),...t}));Ye.displayName="CardContent";const nr=v.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:X("flex items-center p-6 pt-0",e),...t}));nr.displayName="CardFooter";let kf;re=nF()(aF(oF((e,t)=>({...NF,...EF(e,t)})))),kf=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.pushSyncNodeQueue),a=re(i=>i.createOrUpdateFlowNode),o=v.useCallback(async(i,s)=>{try{if(!e)throw new Error("Session not found");r(!0);const c=await ne("LLM").findOne({where:{name:s.name,session_id:e}});return c?(n("LLM",{where:{source_type:"LLM",source_id:c.id}}),c):ne("LLM").save({name:`${s.name}`,status:jt.Started,session_id:e,provider:gd.WebLLM,metadata:JSON.stringify({}),model_type:s.model_type||ys.LLM,...s}).then(async l=>{var u,f,p;return await a({source_id:l.id,source_type:"LLM",node_type:z.LLM,x:(u=i.position)==null?void 0:u.x,y:((f=i.position)==null?void 0:f.y)+(((p=i.measured)==null?void 0:p.height)||0)+30}),l})}finally{r(!1)}},[a,n,e]);return{loading:t,createDatabaseLLM:o}};var Gs="Popover",[Mf,Hz]=Un(Gs,[Os]),Xn=Os(),[g1,ar]=Mf(Gs),Af=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,s=Xn(t),c=v.useRef(null),[l,u]=v.useState(!1),[f=!1,p]=Mt({prop:n,defaultProp:a,onChange:o});return d.jsx(Ow,{...s,children:d.jsx(g1,{scope:t,contentId:rt(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:l,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:i,children:r})})};Af.displayName=Gs;let Ys;Ys="PopoverAnchor",Is=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ar(Ys,r),o=Xn(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:s}=a;return v.useEffect(()=>(i(),()=>s()),[i,s]),d.jsx(Od,{...o,...n,ref:t})}),Is.displayName=Ys;var Tf="PopoverTrigger",Js=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ar(Tf,r),o=Xn(r),i=et(t,a.triggerRef),s=d.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Bf(a.open),...n,ref:i,onClick:ue(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:d.jsx(Od,{asChild:!0,...o,children:s})});Js.displayName=Tf;var Zs="PopoverPortal",[b1,x1]=Mf(Zs,{forceMount:void 0}),Df=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=ar(Zs,t);return d.jsx(b1,{scope:t,forceMount:r,children:d.jsx(us,{present:r||o.open,children:d.jsx(ew,{asChild:!0,container:a,children:n})})})};Df.displayName=Zs;var Zr="PopoverContent",If=v.forwardRef((e,t)=>{const r=x1(Zr,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=ar(Zr,e.__scopePopover);return d.jsx(us,{present:n||o.open,children:o.modal?d.jsx(w1,{...a,ref:t}):d.jsx(j1,{...a,ref:t})})});If.displayName=Zr;var w1=v.forwardRef((e,t)=>{const r=ar(Zr,e.__scopePopover),n=v.useRef(null),a=et(t,n),o=v.useRef(!1);return v.useEffect(()=>{const i=n.current;if(i)return gw(i)},[]),d.jsx(bw,{as:Zx,allowPinchZoom:!0,children:d.jsx(Rf,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),o.current||((s=r.triggerRef.current)==null||s.focus())}),onPointerDownOutside:ue(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,l=s.button===2||c;o.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),j1=v.forwardRef((e,t)=>{const r=ar(Zr,e.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return d.jsx(Rf,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,s;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||((s=r.triggerRef.current)==null||s.focus()),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var s,c;(s=e.onInteractOutside)==null||s.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;(c=r.triggerRef.current)!=null&&c.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Rf=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,...f}=e,p=ar(Zr,r),m=Xn(r);return xw(),d.jsx(ww,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:d.jsx(Qx,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>p.onOpenChange(!1),children:d.jsx(jw,{"data-state":Bf(p.open),role:"dialog",id:p.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Lf="PopoverClose",_1=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ar(Lf,r);return d.jsx(fe.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,()=>a.onOpenChange(!1))})});_1.displayName=Lf;var O1="PopoverArrow",S1=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xn(r);return d.jsx(_w,{...a,...n,ref:t})});S1.displayName=O1;function Bf(e){return e?"open":"closed"}Vd=Af,Ew=Is,Cw=Js,Dd=Df,Cs=If;const N1=Vd,Ff=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>d.jsx(Dd,{children:d.jsx(Cs,{ref:a,align:t,sideOffset:r,className:X("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ff.displayName=Cs.displayName;var zf=1,E1=.9,P1=.8,C1=.17,Qs=.1,ec=.999,k1=.9999,M1=.99,A1=/[\\\/_+.#"@\[\(\{&]/,T1=/[\\\/_+.#"@\[\(\{&]/g,D1=/[\s-]/,$f=/[\s-]/g;function tc(e,t,r,n,a,o,i){if(o===t.length)return a===e.length?zf:M1;var s=`${a},${o}`;if(i[s]!==void 0)return i[s];for(var c=n.charAt(o),l=r.indexOf(c,a),u=0,f,p,m,y;l>=0;)f=tc(e,t,r,n,l+1,o+1,i),f>u&&(l===a?f*=zf:A1.test(e.charAt(l-1))?(f*=P1,m=e.slice(a,l-1).match(T1),m&&a>0&&(f*=Math.pow(ec,m.length))):D1.test(e.charAt(l-1))?(f*=E1,y=e.slice(a,l-1).match($f),y&&a>0&&(f*=Math.pow(ec,y.length))):(f*=C1,a>0&&(f*=Math.pow(ec,l-a))),e.charAt(l)!==t.charAt(o)&&(f*=k1)),(f<Qs&&r.charAt(l-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(l-1)!==n.charAt(o))&&(p=tc(e,t,r,n,l+1,o+2,i),p*Qs>f&&(f=p*Qs)),f>u&&(u=f),l=r.indexOf(c,l+1);return i[s]=u,u}function Uf(e){return e.toLowerCase().replace($f," ")}function I1(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,tc(e,t,Uf(e),Uf(t),0,0,{})}var Kn='[cmdk-group=""]',rc='[cmdk-group-items=""]',R1='[cmdk-group-heading=""]',nc='[cmdk-item=""]',Vf=`${nc}:not([aria-disabled="true"])`,ac="cmdk-item-select",_r="data-value",L1=(e,t,r)=>I1(e,t,r),Hf=v.createContext(void 0),Gn=()=>v.useContext(Hf),qf=v.createContext(void 0),oc=()=>v.useContext(qf),Wf=v.createContext(void 0),Xf=v.forwardRef((e,t)=>{let r=Qr(()=>{var I,Y;return{search:"",value:(Y=(I=e.value)!=null?I:e.defaultValue)!=null?Y:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=Qr(()=>new Set),a=Qr(()=>new Map),o=Qr(()=>new Map),i=Qr(()=>new Set),s=Kf(e),{label:c,children:l,value:u,onValueChange:f,filter:p,shouldFilter:m,loop:y,disablePointerSelection:h=!1,vimBindings:g=!0,...b}=e,w=rt(),S=rt(),x=rt(),j=v.useRef(null),_=K1();Or(()=>{if(u!==void 0){let I=u.trim();r.current.value=I,O.emit()}},[u]),Or(()=>{_(6,A)},[]);let O=v.useMemo(()=>({subscribe:I=>(i.current.add(I),()=>i.current.delete(I)),snapshot:()=>r.current,setState:(I,Y,H)=>{var J,ie,W;if(!Object.is(r.current[I],Y)){if(r.current[I]=Y,I==="search")T(),C(),_(1,N);else if(I==="value"&&(H||_(5,A),((J=s.current)==null?void 0:J.value)!==void 0)){let oe=Y??"";(W=(ie=s.current).onValueChange)==null||W.call(ie,oe);return}O.emit()}},emit:()=>{i.current.forEach(I=>I())}}),[]),P=v.useMemo(()=>({value:(I,Y,H)=>{var J;Y!==((J=o.current.get(I))==null?void 0:J.value)&&(o.current.set(I,{value:Y,keywords:H}),r.current.filtered.items.set(I,M(Y,H)),_(2,()=>{C(),O.emit()}))},item:(I,Y)=>(n.current.add(I),Y&&(a.current.has(Y)?a.current.get(Y).add(I):a.current.set(Y,new Set([I]))),_(3,()=>{T(),C(),r.current.value||N(),O.emit()}),()=>{o.current.delete(I),n.current.delete(I),r.current.filtered.items.delete(I);let H=D();_(4,()=>{T(),(H==null?void 0:H.getAttribute("id"))===I&&N(),O.emit()})}),group:I=>(a.current.has(I)||a.current.set(I,new Set),()=>{o.current.delete(I),a.current.delete(I)}),filter:()=>s.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:w,inputId:x,labelId:S,listInnerRef:j}),[]);function M(I,Y){var H,J;let ie=(J=(H=s.current)==null?void 0:H.filter)!=null?J:L1;return I?ie(I,r.current.search,Y):0}function C(){if(!r.current.search||s.current.shouldFilter===!1)return;let I=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(J=>{let ie=a.current.get(J),W=0;ie.forEach(oe=>{let $=I.get(oe);W=Math.max($,W)}),Y.push([J,W])});let H=j.current;k().sort((J,ie)=>{var W,oe;let $=J.getAttribute("id"),G=ie.getAttribute("id");return((W=I.get(G))!=null?W:0)-((oe=I.get($))!=null?oe:0)}).forEach(J=>{let ie=J.closest(rc);ie?ie.appendChild(J.parentElement===ie?J:J.closest(`${rc} > *`)):H.appendChild(J.parentElement===H?J:J.closest(`${rc} > *`))}),Y.sort((J,ie)=>ie[1]-J[1]).forEach(J=>{var ie;let W=(ie=j.current)==null?void 0:ie.querySelector(`${Kn}[${_r}="${encodeURIComponent(J[0])}"]`);W==null||W.parentElement.appendChild(W)})}function N(){let I=k().find(H=>H.getAttribute("aria-disabled")!=="true"),Y=I==null?void 0:I.getAttribute(_r);O.setState("value",Y||void 0)}function T(){var I,Y,H,J;if(!r.current.search||s.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ie=0;for(let W of n.current){let oe=(Y=(I=o.current.get(W))==null?void 0:I.value)!=null?Y:"",$=(J=(H=o.current.get(W))==null?void 0:H.keywords)!=null?J:[],G=M(oe,$);r.current.filtered.items.set(W,G),G>0&&ie++}for(let[W,oe]of a.current)for(let $ of oe)if(r.current.filtered.items.get($)>0){r.current.filtered.groups.add(W);break}r.current.filtered.count=ie}function A(){var I,Y,H;let J=D();J&&(((I=J.parentElement)==null?void 0:I.firstChild)===J&&((H=(Y=J.closest(Kn))==null?void 0:Y.querySelector(R1))==null||H.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function D(){var I;return(I=j.current)==null?void 0:I.querySelector(`${nc}[aria-selected="true"]`)}function k(){var I;return Array.from(((I=j.current)==null?void 0:I.querySelectorAll(Vf))||[])}function R(I){let Y=k()[I];Y&&O.setState("value",Y.getAttribute(_r))}function F(I){var Y;let H=D(),J=k(),ie=J.findIndex(oe=>oe===H),W=J[ie+I];(Y=s.current)!=null&&Y.loop&&(W=ie+I<0?J[J.length-1]:ie+I===J.length?J[0]:J[ie+I]),W&&O.setState("value",W.getAttribute(_r))}function U(I){let Y=D(),H=Y==null?void 0:Y.closest(Kn),J;for(;H&&!J;)H=I>0?W1(H,Kn):X1(H,Kn),J=H==null?void 0:H.querySelector(Vf);J?O.setState("value",J.getAttribute(_r)):F(I)}let V=()=>R(k().length-1),Q=I=>{I.preventDefault(),I.metaKey?V():I.altKey?U(1):F(1)},q=I=>{I.preventDefault(),I.metaKey?R(0):I.altKey?U(-1):F(-1)};return v.createElement(fe.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:I=>{var Y;if((Y=b.onKeyDown)==null||Y.call(b,I),!I.defaultPrevented)switch(I.key){case"n":case"j":{g&&I.ctrlKey&&Q(I);break}case"ArrowDown":{Q(I);break}case"p":case"k":{g&&I.ctrlKey&&q(I);break}case"ArrowUp":{q(I);break}case"Home":{I.preventDefault(),R(0);break}case"End":{I.preventDefault(),V();break}case"Enter":if(!I.nativeEvent.isComposing&&I.keyCode!==229){I.preventDefault();let H=D();if(H){let J=new Event(ac);H.dispatchEvent(J)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:Y1},c),io(e,I=>v.createElement(qf.Provider,{value:O},v.createElement(Hf.Provider,{value:P},I))))}),B1=v.forwardRef((e,t)=>{var r,n;let a=rt(),o=v.useRef(null),i=v.useContext(Wf),s=Gn(),c=Kf(e),l=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;Or(()=>{if(!l)return s.item(a,i==null?void 0:i.id)},[l]);let u=Gf(a,o,[e.value,e.children,o],e.keywords),f=oc(),p=Sr(_=>_.value&&_.value===u.current),m=Sr(_=>l||s.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);v.useEffect(()=>{let _=o.current;if(!(!_||e.disabled))return _.addEventListener(ac,y),()=>_.removeEventListener(ac,y)},[m,e.onSelect,e.disabled]);function y(){var _,O;h(),(O=(_=c.current).onSelect)==null||O.call(_,u.current)}function h(){f.setState("value",u.current,!0)}if(!m)return null;let{disabled:g,value:b,onSelect:w,forceMount:S,keywords:x,...j}=e;return v.createElement(fe.div,{ref:Yn([o,t]),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!p,"data-disabled":!!g,"data-selected":!!p,onPointerMove:g||s.getDisablePointerSelection()?void 0:h,onClick:g?void 0:y},e.children)}),F1=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...o}=e,i=rt(),s=v.useRef(null),c=v.useRef(null),l=rt(),u=Gn(),f=Sr(m=>a||u.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);Or(()=>u.group(i),[]),Gf(i,s,[e.value,e.heading,c]);let p=v.useMemo(()=>({id:i,forceMount:a}),[a]);return v.createElement(fe.div,{ref:Yn([s,t]),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:l},r),io(e,m=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?l:void 0},v.createElement(Wf.Provider,{value:p},m))))}),z1=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=v.useRef(null),o=Sr(i=>!i.search);return!r&&!o?null:v.createElement(fe.div,{ref:Yn([a,t]),...n,"cmdk-separator":"",role:"separator"})}),$1=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,o=oc(),i=Sr(u=>u.search),s=Sr(u=>u.value),c=Gn(),l=v.useMemo(()=>{var u;let f=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${nc}[${_r}="${encodeURIComponent(s)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),v.createElement(fe.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),U1=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=v.useRef(null),i=v.useRef(null),s=Gn();return v.useEffect(()=>{if(i.current&&o.current){let c=i.current,l=o.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let p=c.offsetHeight;l.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),v.createElement(fe.div,{ref:Yn([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":n,id:s.listId},io(e,c=>v.createElement("div",{ref:Yn([i,s.listInnerRef]),"cmdk-list-sizer":""},c)))}),V1=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:o,container:i,...s}=e;return v.createElement(Cz,{open:r,onOpenChange:n},v.createElement(kz,{container:i},v.createElement(Mz,{"cmdk-overlay":"",className:a}),v.createElement(Az,{"aria-label":e.label,"cmdk-dialog":"",className:o},v.createElement(Xf,{ref:t,...s}))))}),H1=v.forwardRef((e,t)=>Sr(r=>r.filtered.count===0)?v.createElement(fe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),q1=v.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return v.createElement(fe.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},io(e,i=>v.createElement("div",{"aria-hidden":!0},i)))}),ot=Object.assign(Xf,{List:U1,Item:B1,Input:$1,Group:F1,Separator:z1,Dialog:V1,Empty:H1,Loading:q1});function W1(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function X1(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Kf(e){let t=v.useRef(e);return Or(()=>{t.current=e}),t}var Or=typeof window>"u"?v.useEffect:v.useLayoutEffect;function Qr(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function Yn(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Sr(e){let t=oc(),r=()=>e(t.snapshot());return PF.useSyncExternalStore(t.subscribe,r,r)}function Gf(e,t,r,n=[]){let a=v.useRef(),o=Gn();return Or(()=>{var i;let s=(()=>{var l;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(l=u.current.textContent)==null?void 0:l.trim():a.current}})(),c=n.map(l=>l.trim());o.value(e,s,c),(i=t.current)==null||i.setAttribute(_r,s),a.current=s}),a}var K1=()=>{let[e,t]=v.useState(),r=Qr(()=>new Map);return Or(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function G1(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function io({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(G1(t),{ref:t.ref},r(t.props.children)):r(t)}var Y1={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Yf=v.forwardRef(({className:e,...t},r)=>d.jsx(ot,{ref:r,className:X("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Yf.displayName=ot.displayName;const Jf=v.forwardRef(({className:e,...t},r)=>d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[d.jsx(te,{name:"search",className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),d.jsx(ot.Input,{ref:r,className:X("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Jf.displayName=ot.Input.displayName;const Zf=v.forwardRef(({className:e,...t},r)=>d.jsx(ot.List,{ref:r,className:X("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Zf.displayName=ot.List.displayName;const Qf=v.forwardRef((e,t)=>d.jsx(ot.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Qf.displayName=ot.Empty.displayName;const ep=v.forwardRef(({className:e,...t},r)=>d.jsx(ot.Group,{ref:r,className:X("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ep.displayName=ot.Group.displayName;const J1=v.forwardRef(({className:e,...t},r)=>d.jsx(ot.Separator,{ref:r,className:X("-mx-1 h-px bg-border",e),...t}));J1.displayName=ot.Separator.displayName;const tp=v.forwardRef(({className:e,...t},r)=>d.jsx(ot.Item,{ref:r,className:X("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));tp.displayName=ot.Item.displayName,Ls=function(e,[t,r]){return Math.min(r,Math.max(t,e))};function rp(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Z1=[" ","Enter","ArrowUp","ArrowDown"],Q1=[" ","Enter"],Jn="Select",[so,co,ej]=pd(Jn),[en,qz]=Un(Jn,[ej,Os]),lo=Os(),[tj,or]=en(Jn),[rj,nj]=en(Jn),np=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:s,onValueChange:c,dir:l,name:u,autoComplete:f,disabled:p,required:m,form:y}=e,h=lo(t),[g,b]=v.useState(null),[w,S]=v.useState(null),[x,j]=v.useState(!1),_=no(l),[O=!1,P]=Mt({prop:n,defaultProp:a,onChange:o}),[M,C]=Mt({prop:i,defaultProp:s,onChange:c}),N=v.useRef(null),T=g?y||!!g.closest("form"):!0,[A,D]=v.useState(new Set),k=Array.from(A).map(R=>R.props.value).join(";");return d.jsx(Ow,{...h,children:d.jsxs(tj,{required:m,scope:t,trigger:g,onTriggerChange:b,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:x,onValueNodeHasChildrenChange:j,contentId:rt(),value:M,onValueChange:C,open:O,onOpenChange:P,dir:_,triggerPointerDownPosRef:N,disabled:p,children:[d.jsx(so.Provider,{scope:t,children:d.jsx(rj,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(R=>{D(F=>new Set(F).add(R))},[]),onNativeOptionRemove:v.useCallback(R=>{D(F=>{const U=new Set(F);return U.delete(R),U})},[]),children:r})}),T?d.jsxs(Pp,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:M,onChange:R=>C(R.target.value),disabled:p,form:y,children:[M===void 0?d.jsx("option",{value:""}):null,Array.from(A)]},k):null]})})};np.displayName=Jn;var ap="SelectTrigger",op=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=lo(r),i=or(ap,r),s=i.disabled||n,c=et(t,i.onTriggerChange),l=co(r),u=v.useRef("touch"),[f,p,m]=Cp(h=>{const g=l().filter(S=>!S.disabled),b=g.find(S=>S.value===i.value),w=kp(g,h,b);w!==void 0&&i.onValueChange(w.value)}),y=h=>{s||(i.onOpenChange(!0),m()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return d.jsx(Od,{asChild:!0,...o,children:d.jsx(fe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Ep(i.value)?"":void 0,...a,ref:c,onClick:ue(a.onClick,h=>{h.currentTarget.focus(),u.current!=="mouse"&&y(h)}),onPointerDown:ue(a.onPointerDown,h=>{u.current=h.pointerType;const g=h.target;g.hasPointerCapture(h.pointerId)&&g.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(y(h),h.preventDefault())}),onKeyDown:ue(a.onKeyDown,h=>{const g=f.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(g&&h.key===" ")&&Z1.includes(h.key)&&(y(),h.preventDefault())})})})});op.displayName=ap;var ip="SelectValue",sp=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...s}=e,c=or(ip,r),{onValueNodeHasChildrenChange:l}=c,u=o!==void 0,f=et(t,c.onValueNodeChange);return vr(()=>{l(u)},[l,u]),d.jsx(fe.span,{...s,ref:f,style:{pointerEvents:"none"},children:Ep(c.value)?d.jsx(d.Fragment,{children:i}):o})});sp.displayName=ip;var aj="SelectIcon",cp=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return d.jsx(fe.span,{"aria-hidden":!0,...a,ref:t,children:n||"\u25BC"})});cp.displayName=aj;var oj="SelectPortal",lp=e=>d.jsx(ew,{asChild:!0,...e});lp.displayName=oj;var Nr="SelectContent",up=v.forwardRef((e,t)=>{const r=or(Nr,e.__scopeSelect),[n,a]=v.useState();if(vr(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?tw.createPortal(d.jsx(dp,{scope:e.__scopeSelect,children:d.jsx(so.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),o):null}return d.jsx(fp,{...e,ref:t})});up.displayName=Nr;var St=10,[dp,ir]=en(Nr),ij="SelectContentImpl",fp=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:h,avoidCollisions:g,...b}=e,w=or(Nr,r),[S,x]=v.useState(null),[j,_]=v.useState(null),O=et(t,W=>x(W)),[P,M]=v.useState(null),[C,N]=v.useState(null),T=co(r),[A,D]=v.useState(!1),k=v.useRef(!1);v.useEffect(()=>{if(S)return gw(S)},[S]),xw();const R=v.useCallback(W=>{const[oe,...$]=T().map(B=>B.ref.current),[G]=$.slice(-1),ee=document.activeElement;for(const B of W)if(B===ee||(B==null||B.scrollIntoView({block:"nearest"}),B===oe&&j&&(j.scrollTop=0),B===G&&j&&(j.scrollTop=j.scrollHeight),B==null||B.focus(),document.activeElement!==ee))return},[T,j]),F=v.useCallback(()=>R([P,S]),[R,P,S]);v.useEffect(()=>{A&&F()},[A,F]);const{onOpenChange:U,triggerPointerDownPosRef:V}=w;v.useEffect(()=>{if(S){let W={x:0,y:0};const oe=G=>{var ee,B;W={x:Math.abs(Math.round(G.pageX)-(((ee=V.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(G.pageY)-(((B=V.current)==null?void 0:B.y)??0))}},$=G=>{W.x<=10&&W.y<=10?G.preventDefault():S.contains(G.target)||U(!1),document.removeEventListener("pointermove",oe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",$,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",$,{capture:!0})}}},[S,U,V]),v.useEffect(()=>{const W=()=>U(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[U]);const[Q,q]=Cp(W=>{const oe=T().filter(ee=>!ee.disabled),$=oe.find(ee=>ee.ref.current===document.activeElement),G=kp(oe,W,$);G&&setTimeout(()=>G.ref.current.focus())}),I=v.useCallback((W,oe,$)=>{const G=!k.current&&!$;(w.value!==void 0&&w.value===oe||G)&&(M(W),G&&(k.current=!0))},[w.value]),Y=v.useCallback(()=>S==null?void 0:S.focus(),[S]),H=v.useCallback((W,oe,$)=>{const G=!k.current&&!$;(w.value!==void 0&&w.value===oe||G)&&N(W)},[w.value]),J=n==="popper"?ic:pp,ie=J===ic?{side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:h,avoidCollisions:g}:{};return d.jsx(dp,{scope:r,content:S,viewport:j,onViewportChange:_,itemRefCallback:I,selectedItem:P,onItemLeave:Y,itemTextRefCallback:H,focusSelectedItem:F,selectedItemText:C,position:n,isPositioned:A,searchRef:Q,children:d.jsx(bw,{as:Zx,allowPinchZoom:!0,children:d.jsx(ww,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ue(a,W=>{var oe;(oe=w.trigger)==null||oe.focus({preventScroll:!0}),W.preventDefault()}),children:d.jsx(Qx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(J,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...b,...ie,onPlaced:()=>D(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ue(b.onKeyDown,W=>{const oe=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!oe&&W.key.length===1&&q(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let $=T().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(W.key)&&($=$.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const G=W.target,ee=$.indexOf(G);$=$.slice(ee+1)}setTimeout(()=>R($)),W.preventDefault()}})})})})})})});fp.displayName=ij;var sj="SelectItemAlignedPosition",pp=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=or(Nr,r),i=ir(Nr,r),[s,c]=v.useState(null),[l,u]=v.useState(null),f=et(t,O=>u(O)),p=co(r),m=v.useRef(!1),y=v.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:b,focusSelectedItem:w}=i,S=v.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&l&&h&&g&&b){const O=o.trigger.getBoundingClientRect(),P=l.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),C=b.getBoundingClientRect();if(o.dir!=="rtl"){const G=C.left-P.left,ee=M.left-G,B=O.left-ee,_e=O.width+B,le=Math.max(_e,P.width),Pe=window.innerWidth-St,Ce=Ls(ee,[St,Math.max(St,Pe-le)]);s.style.minWidth=_e+"px",s.style.left=Ce+"px"}else{const G=P.right-C.right,ee=window.innerWidth-M.right-G,B=window.innerWidth-O.right-ee,_e=O.width+B,le=Math.max(_e,P.width),Pe=window.innerWidth-St,Ce=Ls(ee,[St,Math.max(St,Pe-le)]);s.style.minWidth=_e+"px",s.style.right=Ce+"px"}const N=p(),T=window.innerHeight-St*2,A=h.scrollHeight,D=window.getComputedStyle(l),k=parseInt(D.borderTopWidth,10),R=parseInt(D.paddingTop,10),F=parseInt(D.borderBottomWidth,10),U=parseInt(D.paddingBottom,10),V=k+R+A+U+F,Q=Math.min(g.offsetHeight*5,V),q=window.getComputedStyle(h),I=parseInt(q.paddingTop,10),Y=parseInt(q.paddingBottom,10),H=O.top+O.height/2-St,J=T-H,ie=g.offsetHeight/2,W=g.offsetTop+ie,oe=k+R+W,$=V-oe;if(oe<=H){const G=N.length>0&&g===N[N.length-1].ref.current;s.style.bottom="0px";const ee=l.clientHeight-h.offsetTop-h.offsetHeight,B=Math.max(J,ie+(G?Y:0)+ee+F),_e=oe+B;s.style.height=_e+"px"}else{const G=N.length>0&&g===N[0].ref.current;s.style.top="0px";const ee=Math.max(H,k+h.offsetTop+(G?I:0)+ie)+$;s.style.height=ee+"px",h.scrollTop=oe-H+h.offsetTop}s.style.margin=`${St}px 0`,s.style.minHeight=Q+"px",s.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,s,l,h,g,b,o.dir,n]);vr(()=>S(),[S]);const[x,j]=v.useState();vr(()=>{l&&j(window.getComputedStyle(l).zIndex)},[l]);const _=v.useCallback(O=>{O&&y.current===!0&&(S(),w==null||w(),y.current=!1)},[S,w]);return d.jsx(lj,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:d.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:d.jsx(fe.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});pp.displayName=sj;var cj="SelectPopperPosition",ic=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=St,...o}=e,i=lo(r);return d.jsx(jw,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ic.displayName=cj;var[lj,sc]=en(Nr,{}),cc="SelectViewport",hp=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=ir(cc,r),i=sc(cc,r),s=et(t,o.onViewportChange),c=v.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(so.Slot,{scope:r,children:d.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ue(a.onScroll,l=>{const u=l.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const m=Math.abs(c.current-u.scrollTop);if(m>0){const y=window.innerHeight-St*2,h=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),b=Math.max(h,g);if(b<y){const w=b+m,S=Math.min(y,w),x=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(u.scrollTop=x>0?x:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});hp.displayName=cc;var mp="SelectGroup",[uj,dj]=en(mp),fj=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=rt();return d.jsx(uj,{scope:r,id:a,children:d.jsx(fe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});fj.displayName=mp;var yp="SelectLabel",vp=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=dj(yp,r);return d.jsx(fe.div,{id:a.id,...n,ref:t})});vp.displayName=yp;var uo="SelectItem",[pj,gp]=en(uo),bp=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,s=or(uo,r),c=ir(uo,r),l=s.value===n,[u,f]=v.useState(o??""),[p,m]=v.useState(!1),y=et(t,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,n,a)}),h=rt(),g=v.useRef("touch"),b=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(pj,{scope:r,value:n,disabled:a,textId:h,isSelected:l,onItemTextChange:v.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(so.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:d.jsx(fe.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":l&&p,"data-state":l?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:y,onFocus:ue(i.onFocus,()=>m(!0)),onBlur:ue(i.onBlur,()=>m(!1)),onClick:ue(i.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:ue(i.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:ue(i.onPointerDown,w=>{g.current=w.pointerType}),onPointerMove:ue(i.onPointerMove,w=>{var S;g.current=w.pointerType,a?(S=c.onItemLeave)==null||S.call(c):g.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(i.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:ue(i.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(Q1.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});bp.displayName=uo;var Zn="SelectItemText",xp=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=or(Zn,r),s=ir(Zn,r),c=gp(Zn,r),l=nj(Zn,r),[u,f]=v.useState(null),p=et(t,b=>f(b),c.onItemTextChange,b=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,b,c.value,c.disabled)}),m=u==null?void 0:u.textContent,y=v.useMemo(()=>d.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:h,onNativeOptionRemove:g}=l;return vr(()=>(h(y),()=>g(y)),[h,g,y]),d.jsxs(d.Fragment,{children:[d.jsx(fe.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?tw.createPortal(o.children,i.valueNode):null]})});xp.displayName=Zn;var wp="SelectItemIndicator",jp=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return gp(wp,r).isSelected?d.jsx(fe.span,{"aria-hidden":!0,...n,ref:t}):null});jp.displayName=wp;var lc="SelectScrollUpButton",_p=v.forwardRef((e,t)=>{const r=ir(lc,e.__scopeSelect),n=sc(lc,e.__scopeSelect),[a,o]=v.useState(!1),i=et(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollTop>0;o(l)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?d.jsx(Sp,{...e,ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});_p.displayName=lc;var uc="SelectScrollDownButton",Op=v.forwardRef((e,t)=>{const r=ir(uc,e.__scopeSelect),n=sc(uc,e.__scopeSelect),[a,o]=v.useState(!1),i=et(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;o(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?d.jsx(Sp,{...e,ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});Op.displayName=uc;var Sp=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=ir("SelectScrollButton",r),i=v.useRef(null),s=co(r),c=v.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),vr(()=>{var l,u;(u=(l=s().find(f=>f.ref.current===document.activeElement))==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),d.jsx(fe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ue(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ue(a.onPointerMove,()=>{var l;(l=o.onItemLeave)==null||l.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ue(a.onPointerLeave,()=>{c()})})}),hj="SelectSeparator",Np=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(fe.div,{"aria-hidden":!0,...n,ref:t})});Np.displayName=hj;var dc="SelectArrow",mj=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=lo(r),o=or(dc,r),i=ir(dc,r);return o.open&&i.position==="popper"?d.jsx(_w,{...a,...n,ref:t}):null});mj.displayName=dc;function Ep(e){return e===""||e===void 0}var Pp=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=v.useRef(null),o=et(t,a),i=rp(r);return v.useEffect(()=>{const s=a.current,c=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&l){const u=new Event("change",{bubbles:!0});l.call(s,r),s.dispatchEvent(u)}},[i,r]),d.jsx(iF,{asChild:!0,children:d.jsx("select",{...n,ref:o,defaultValue:r})})});Pp.displayName="BubbleSelect";function Cp(e){const t=sF(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(i=>{const s=r.current+i;t(s),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(s)},[t]),o=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function kp(e,t,r){const n=t.length>1&&Array.from(t).every(s=>s===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=yj(e,Math.max(a,0));n.length===1&&(o=o.filter(s=>s!==r));const i=o.find(s=>s.textValue.toLowerCase().startsWith(n.toLowerCase()));return i!==r?i:void 0}function yj(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var vj=np,Mp=op,gj=sp,bj=cp,xj=lp,Ap=up,wj=hp,Tp=vp,Dp=bp,jj=xp,_j=jp,Ip=_p,Rp=Op,Lp=Np;const zt=vj,$t=gj,At=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(Mp,{ref:n,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,d.jsx(bj,{asChild:!0,children:d.jsx(te,{name:"chevron-down",className:"h-4 w-4 opacity-50"})})]}));At.displayName=Mp.displayName;const Bp=v.forwardRef(({className:e,...t},r)=>d.jsx(Ip,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(te,{name:"chevron-up",className:"h-4 w-4"})}));Bp.displayName=Ip.displayName;const Fp=v.forwardRef(({className:e,...t},r)=>d.jsx(Rp,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(te,{name:"chevron-down",className:"h-4 w-4"})}));Fp.displayName=Rp.displayName;const Tt=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>d.jsx(xj,{children:d.jsxs(Ap,{ref:a,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[d.jsx(Bp,{}),d.jsx(wj,{className:X("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(Fp,{})]})}));Tt.displayName=Ap.displayName;const Oj=v.forwardRef(({className:e,...t},r)=>d.jsx(Tp,{ref:r,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Oj.displayName=Tp.displayName;const it=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(Dp,{ref:n,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(_j,{children:d.jsx(te,{name:"check",className:"h-4 w-4"})})}),d.jsx(jj,{children:t})]}));it.displayName=Dp.displayName;const Sj=v.forwardRef(({className:e,...t},r)=>d.jsx(Lp,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));Sj.displayName=Lp.displayName;let zp;ht=v.memo(e=>{const{loading:t,...r}=e;return d.jsx(Te,{...r,disabled:e.disabled||t,children:t?d.jsx(te,{name:"loader-circle",className:"animate-spin"}):e.children})}),zp=[gd.WebLLM];function Nj(e){var D;const{id:t,setDialog:r}=e,{t:n}=se("components"),{toast:a}=ct(),o=Xe(t),[i,s]=v.useState(""),[c,l]=v.useState(!1),[u,f]=v.useState(""),[p,m]=v.useState(gd.WebLLM),[y,h]=v.useState(!1),[g,b]=v.useState(),w=gr(k=>k.syncCachedLLMURLs),S=gr(k=>k.cachedLLMURLs),{loading:x,createDatabaseLLM:j}=kf();v.useEffect(()=>{tt(()=>import("./index-BfwsW2Zg.js").then(async k=>(await k.__tla,k)),__vite__mapDeps([0,1,2,3,4])).then(async({functionCallingModelIds:k,prebuiltAppConfig:R})=>{const F=R.model_list;b({modelList:F,functionCallingModelIds:k})})},[]),v.useEffect(()=>{w()},[w]);const _=v.useMemo(()=>!(g!=null&&g.functionCallingModelIds)||!(g!=null&&g.modelList)?[]:((u?g==null?void 0:g.modelList.filter(k=>k.model_id.toLowerCase().includes(u.toLowerCase())):g==null?void 0:g.modelList)||[]).sort((k,R)=>{const F=S.some(Y=>Y.includes(k.model_id)),U=S.some(Y=>Y.includes(R.model_id));if(F&&!U)return-1;if(!F&&U)return 1;const V=fw.includes(k.model_id),Q=fw.includes(R.model_id);if(V&&!Q)return-1;if(!V&&Q)return 1;const q=g==null?void 0:g.functionCallingModelIds.includes(k.model_id),I=g==null?void 0:g.functionCallingModelIds.includes(R.model_id);return q&&!I?-1:!q&&I?1:k.vram_required_MB&&R.vram_required_MB&&k.vram_required_MB!==R.vram_required_MB?k.vram_required_MB-R.vram_required_MB:k.model_id.localeCompare(R.model_id)}),[g==null?void 0:g.modelList,g==null?void 0:g.functionCallingModelIds,u,S]),O=v.useMemo(()=>{if(!(!i||!(g!=null&&g.modelList)))return g==null?void 0:g.modelList.find(k=>k.model_id===i)},[i,g==null?void 0:g.modelList]);v.useEffect(()=>{!(O!=null&&O.model_id)||!S||h(S.some(k=>k.includes(O.model_id)))},[S,O==null?void 0:O.model_id]);const P=v.useCallback(k=>k===1?ys.embedding:k===2?ys.VLM:ys.LLM,[]),M=v.useCallback(k=>{s(k),l(!1)},[]),C=v.useCallback(k=>{f(k)},[]),N=v.useCallback(k=>{m(k)},[]),T=async()=>{var k;if(o)try{await j(o,{name:i,model_type:P(O==null?void 0:O.model_type),function_calling:O!=null&&O.model_id?(k=g==null?void 0:g.functionCallingModelIds)==null?void 0:k.includes(O==null?void 0:O.model_id):!1}),r==null||r(!1)}catch{a({variant:"destructive",description:n("add_llm_card.errors.failed_to_create")})}finally{s("")}},A=v.useMemo(()=>_.map(k=>{var R;return d.jsxs(tp,{value:k.model_id,onSelect:M,children:[i===k.model_id?d.jsx(te,{name:"check",className:"mr-2 h-4 w-4"}):d.jsx("div",{className:"mr-2 h-4 w-4"}),d.jsxs("span",{className:"max-w-md",children:[d.jsxs("div",{className:"flex gap-2 mb-2",children:[d.jsx(Qa,{name:k.model_id}),k.model_id]}),d.jsx("div",{className:"flex max-w-full flex-wrap gap-1",children:d.jsx(vs,{model:k,isFunctionCalling:((R=g==null?void 0:g.functionCallingModelIds)==null?void 0:R.includes(k.model_id))||!1,name:k.model_id,isCached:S.some(F=>F.includes(k.model_id))||!1})})]})]},k.model_id)}),[S,M,i,g==null?void 0:g.functionCallingModelIds,_]);return d.jsxs(De,{className:"max-w-lg",children:[d.jsx(Ge,{children:d.jsx(at,{children:n("add_llm_card.title")})}),d.jsxs(Ye,{children:[d.jsxs("div",{className:"grid w-full gap-1.5",children:[d.jsx(be,{children:n("add_llm_card.provider")}),d.jsxs(zt,{value:p,onValueChange:N,children:[d.jsx(At,{className:"w-full mb-4",children:d.jsx($t,{placeholder:n("add_llm_card.provider_select_placeholder")})}),d.jsx(Tt,{children:Object.values(zp).map(k=>d.jsx(it,{value:k,children:n(`add_llm_card.providers.${k.toLowerCase()}`)},k))})]}),d.jsx(be,{children:n("add_llm_card.model_name")}),d.jsxs(N1,{open:c,onOpenChange:l,children:[d.jsx(Js,{asChild:!0,children:d.jsxs(Te,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[i?O==null?void 0:O.model_id:n("add_llm_card.select_model_placeholder"),d.jsx(te,{name:"chevrons-up-down",className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),d.jsx(Ff,{className:"w-full p-0",children:d.jsxs(Yf,{children:[d.jsx(Jf,{onValueChange:C,placeholder:n("add_llm_card.search_placeholder")}),d.jsxs(Zf,{children:[d.jsx(Qf,{children:n("add_llm_card.no_model")}),d.jsx(ep,{children:A})]})]})})]})]}),O?d.jsxs("div",{className:"mt-4",children:[d.jsxs("div",{className:"mt-4 text-sm text-muted-foreground center flex max-w-full flex-wrap gap-1",children:[d.jsx(Qa,{name:O.model_id,className:"mr-2"}),d.jsx(vs,{model:O,isFunctionCalling:((D=g==null?void 0:g.functionCallingModelIds)==null?void 0:D.includes(O.model_id))||!1,name:O.model_id,isCached:S.some(k=>k.includes(O.model_id))||!1})]}),d.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[d.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_url")}),O.model]}),d.jsxs("div",{className:"mt-2 text-sm text-muted-foreground center flex",children:[d.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_lib_url")}),O.model_lib]}),d.jsxs("div",{className:"mt-2 text-sm text-muted-foreground center flex",children:[d.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.metadata")}),JSON.stringify(O.overrides)]})]}):null]}),d.jsx(nr,{className:"flex justify-between",children:d.jsx(ht,{loading:x,disabled:!(i!=null&&i.length),onClick:T,className:"w-full",children:n(y?"add_llm_card.button_add":"add_llm_card.button_download_and_add")})})]})}const $p=()=>{const e=st(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=v.useState(!1),n=re(o=>o.createOrUpdateFlowNode),a=v.useCallback(async(o,i)=>{var s,c,l;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const u=((s=o.position)==null?void 0:s.x)||0,f=(((c=o.position)==null?void 0:c.y)||0)+(((l=o.measured)==null?void 0:l.height)||0),p=await ne("Prompt").save({content:i.content,prefix:i.prefix,role:i.role||lt.System,status:Ft.Started,session_id:e,type:i.type||ut.Chat});if(!p)throw new Error("Failed to save prompt");if(!await n({source_id:p.id,source_type:"Prompt",node_type:z.Prompt,x:u,y:f+20}))throw new Error("Failed to save prompt node")}finally{r(!1)}},[e,n]);return{loading:t,createPrompt:a}},Ej={[ut.Chat]:{label:"add_prompt_card.prompt_types.chat",value:ut.Chat},[ut.FewShotExample]:{label:"add_prompt_card.prompt_types.few_shot_example",value:ut.FewShotExample}},Pj={[lt.System]:{label:"add_prompt_card.prompt_roles.system",value:lt.System},[lt.Human]:{label:"add_prompt_card.prompt_roles.human",value:lt.Human},[lt.AI]:{label:"add_prompt_card.prompt_roles.ai",value:lt.AI}},fc=v.memo(({defaultPromptContent:e,defaultPromptRole:t,defaultPromptType:r,hidePromptRole:n,hidePromptType:a,loading:o,onSubmit:i})=>{const[s,c]=v.useState(e||""),[l,u]=v.useState(r||ut.Chat),[f,p]=v.useState(t),[m,y]=v.useState(""),{t:h}=se("components"),g=v.useCallback(j=>{c(j.target.value)},[]),b=v.useCallback(j=>{y(j.target.value)},[]),w=v.useCallback(j=>{j===ut.FewShotExample&&c(`Question: {input}
Answer: {output}`),u(j)},[]),S=v.useCallback(j=>{p(j)},[]),x=async()=>{await i({content:s,role:f,prefix:m,type:l})&&(c(""),p(void 0),u("chat"),y(""))};return d.jsxs("div",{children:[d.jsxs("div",{className:"grid w-full gap-1.5",children:[a?void 0:d.jsxs(d.Fragment,{children:[d.jsx(be,{children:h("add_prompt_card.prompt_type")}),d.jsxs(zt,{value:l,onValueChange:w,children:[d.jsx(At,{className:"w-full mb-4",children:d.jsx($t,{placeholder:h("add_prompt_card.type_select_placeholder")})}),d.jsx(Tt,{children:Object.values(Ej).map(j=>d.jsx(it,{value:j.value,children:h(j.label)},j.value))})]})]}),n?void 0:d.jsxs(d.Fragment,{children:[d.jsx(be,{children:h("add_prompt_card.prompt_role")}),d.jsxs(zt,{value:f,onValueChange:S,children:[d.jsx(At,{className:"w-full mb-4",children:d.jsx($t,{placeholder:h("add_prompt_card.role_select_placeholder")})}),d.jsx(Tt,{children:Object.values(Pj).map(j=>d.jsx(it,{value:j.value,children:h(j.label)},j.value))})]})]}),l===ut.FewShotExample&&d.jsxs(d.Fragment,{children:[d.jsx(be,{children:h("add_prompt_card.prompt_prefix")}),d.jsx(Xr,{value:m,onChange:b,disabled:!1,className:"h-20",placeholder:h("add_prompt_card.placeholder"),id:"message"}),d.jsx(be,{children:h("add_prompt_card.prompt_content")}),d.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm justify-end items-center",children:[d.jsx(te,{name:"info",className:"mr-2",size:14}),h("add_prompt_card.few_shot_example_note")]})]}),d.jsx(Xr,{value:s,onChange:g,disabled:!1,placeholder:h("add_prompt_card.placeholder"),id:"message"})]}),d.jsx("div",{children:d.jsx(ht,{loading:o,disabled:!(s!=null&&s.length),onClick:x,className:"w-full mt-4",children:h("add_prompt_card.button")})})]})}),Cj=v.memo(e=>{const{id:t,thread:r,setDialog:n}=e,{t:a}=se("components"),{toast:o}=ct(),i=Xe(t),{createPrompt:s,loading:c}=$p(),l=async u=>{if(i)try{if(!(u!=null&&u.content))throw new Error("Prompt data is missing");await s(i,{...u,content:u.content,thread:r}),n==null||n(!1)}catch(f){o({variant:"destructive",title:`${f}`})}};return d.jsxs(De,{className:"mw-full",children:[d.jsx(Ge,{children:d.jsx(at,{children:a("add_prompt_card.title")})}),d.jsx(Ye,{children:d.jsx(fc,{onSubmit:l,loading:c,defaultPromptRole:"system",defaultPromptType:"chat"})})]})}),kj="0123456789abcdef",Mj=[8,4,4,4,12];function pc(){return Mj.map(e=>cF(kj,e)()).join("-")}const Aj=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=v.useCallback((i,s,c,l)=>{var u;if(e){for(const f of s)(u=f.data)!=null&&u.length?a(i,f.data,c,f.id):c.push({name:f.name,type:f.type,enum:f.enum?JSON.stringify(f.enum):"",required:f.required,description:f.description,id:f.id||pc(),parent_id:l,schema_id:i,session_id:e});return c}},[e]),o=v.useCallback(async(i,s)=>{var c,l,u;try{if(!i||!e)throw new Error("Source or Session not found");r(!0);const f=((c=i.position)==null?void 0:c.x)||0,p=(((l=i.position)==null?void 0:l.y)||0)+(((u=i.measured)==null?void 0:u.height)||0),m=await ne("Schema").save({name:"Untitled Schema",session_id:e});if(!m)throw new Error("Failed to save schema");const y=a(m.id,s,[],void 0);if(!(y!=null&&y.length))throw new Error("Failed to convert schema items");if(await ne("SchemaItem").save(y),!await n({source_id:m.id,source_type:"Schema",node_type:z.Schema,x:f,y:p+20}))throw new Error("Failed to save schema node")}finally{r(!1)}},[e,a,n]);return{loading:t,createSchema:o}};var Ut="Accordion",Tj=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[hc,Dj,Ij]=pd(Ut),[fo,Wz]=Un(Ut,[Ij,Sw]),mc=Sw(),Up=E.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,o=n;return d.jsx(hc.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?d.jsx(Fj,{...o,ref:t}):d.jsx(Bj,{...a,ref:t})})});Up.displayName=Ut;var[Vp,Rj]=fo(Ut),[Hp,Lj]=fo(Ut,{collapsible:!1}),Bj=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:o=!1,...i}=e,[s,c]=Mt({prop:r,defaultProp:n,onChange:a});return d.jsx(Vp,{scope:e.__scopeAccordion,value:s?[s]:[],onItemOpen:c,onItemClose:E.useCallback(()=>o&&c(""),[o,c]),children:d.jsx(Hp,{scope:e.__scopeAccordion,collapsible:o,children:d.jsx(qp,{...i,ref:t})})})}),Fj=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i=[],s]=Mt({prop:r,defaultProp:n,onChange:a}),c=E.useCallback(u=>s((f=[])=>[...f,u]),[s]),l=E.useCallback(u=>s((f=[])=>f.filter(p=>p!==u)),[s]);return d.jsx(Vp,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:l,children:d.jsx(Hp,{scope:e.__scopeAccordion,collapsible:!0,children:d.jsx(qp,{...o,ref:t})})})}),[zj,po]=fo(Ut),qp=E.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:o="vertical",...i}=e,s=E.useRef(null),c=et(s,t),l=Dj(r),u=no(a)==="ltr",f=ue(e.onKeyDown,p=>{var O;if(!Tj.includes(p.key))return;const m=p.target,y=l().filter(P=>{var M;return!((M=P.ref.current)!=null&&M.disabled)}),h=y.findIndex(P=>P.ref.current===m),g=y.length;if(h===-1)return;p.preventDefault();let b=h;const w=0,S=g-1,x=()=>{b=h+1,b>S&&(b=w)},j=()=>{b=h-1,b<w&&(b=S)};switch(p.key){case"Home":b=w;break;case"End":b=S;break;case"ArrowRight":o==="horizontal"&&(u?x():j());break;case"ArrowDown":o==="vertical"&&x();break;case"ArrowLeft":o==="horizontal"&&(u?j():x());break;case"ArrowUp":o==="vertical"&&j();break}const _=b%g;(O=y[_].ref.current)==null||O.focus()});return d.jsx(zj,{scope:r,disabled:n,direction:a,orientation:o,children:d.jsx(hc.Slot,{scope:r,children:d.jsx(fe.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:f})})})}),ho="AccordionItem",[$j,yc]=fo(ho),Wp=E.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,o=po(ho,r),i=Rj(ho,r),s=mc(r),c=rt(),l=n&&i.value.includes(n)||!1,u=o.disabled||e.disabled;return d.jsx($j,{scope:r,open:l,disabled:u,triggerId:c,children:d.jsx(Tz,{"data-orientation":o.orientation,"data-state":Zp(l),...s,...a,ref:t,disabled:u,open:l,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});Wp.displayName=ho;var Xp="AccordionHeader",Kp=E.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=po(Ut,r),o=yc(Xp,r);return d.jsx(fe.h3,{"data-orientation":a.orientation,"data-state":Zp(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});Kp.displayName=Xp;var vc="AccordionTrigger",Gp=E.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=po(Ut,r),o=yc(vc,r),i=Lj(vc,r),s=mc(r);return d.jsx(hc.ItemSlot,{scope:r,children:d.jsx(Dz,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...s,...n,ref:t})})});Gp.displayName=vc;var Yp="AccordionContent",Jp=E.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=po(Ut,r),o=yc(Yp,r),i=mc(r);return d.jsx(Iz,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Jp.displayName=Yp;function Zp(e){return e?"open":"closed"}let Qp;Wd=Up,Xd=Wp,Qp=Kp,Bs=Gp,Fs=Jp;const eh=Wd,gc=v.forwardRef(({className:e,...t},r)=>d.jsx(Xd,{ref:r,className:X("border-b",e),...t}));gc.displayName="AccordionItem";const bc=v.forwardRef(({className:e,children:t,...r},n)=>d.jsx(Qp,{className:"flex",children:d.jsxs(Bs,{ref:n,className:X("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,d.jsx(te,{name:"chevron-down",className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));bc.displayName=Bs.displayName;const xc=v.forwardRef(({className:e,children:t,...r},n)=>d.jsx(Fs,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:d.jsx("div",{className:X("pb-4 pt-0",e),children:t})}));xc.displayName=Fs.displayName;var wc="Checkbox",[Uj,Xz]=Un(wc),[Vj,Hj]=Uj(wc),th=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:s,value:c="on",onCheckedChange:l,form:u,...f}=e,[p,m]=v.useState(null),y=et(t,x=>m(x)),h=v.useRef(!1),g=p?u||!!p.closest("form"):!0,[b=!1,w]=Mt({prop:a,defaultProp:o,onChange:l}),S=v.useRef(b);return v.useEffect(()=>{const x=p==null?void 0:p.form;if(x){const j=()=>w(S.current);return x.addEventListener("reset",j),()=>x.removeEventListener("reset",j)}},[p,w]),d.jsxs(Vj,{scope:r,state:b,disabled:s,children:[d.jsx(fe.button,{type:"button",role:"checkbox","aria-checked":sr(b)?"mixed":b,"aria-required":i,"data-state":ah(b),"data-disabled":s?"":void 0,disabled:s,value:c,...f,ref:y,onKeyDown:ue(e.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ue(e.onClick,x=>{w(j=>sr(j)?!0:!j),g&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})}),g&&d.jsx(qj,{control:p,bubbles:!h.current,name:n,value:c,checked:b,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"},defaultChecked:sr(o)?!1:o})]})});th.displayName=wc;var rh="CheckboxIndicator",nh=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=Hj(rh,r);return d.jsx(us,{present:n||sr(o.state)||o.state===!0,children:d.jsx(fe.span,{"data-state":ah(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});nh.displayName=rh;var qj=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,i=v.useRef(null),s=rp(r),c=Rz(t);v.useEffect(()=>{const u=i.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});u.indeterminate=sr(r),p.call(u,sr(r)?!1:r),u.dispatchEvent(m)}},[s,r,n]);const l=v.useRef(sr(r)?!1:r);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??l.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sr(e){return e==="indeterminate"}function ah(e){return sr(e)?"indeterminate":e?"checked":"unchecked"}Ds=th,Hd=nh;const oh=v.forwardRef(({className:e,...t},r)=>d.jsx(Ds,{ref:r,className:X("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:d.jsx(Hd,{className:X("flex items-center justify-center text-current"),children:d.jsx(te,{name:"check",className:"h-4 w-4"})})}));oh.displayName=Ds.displayName;const ih=v.memo(({setData:e,data:t,id:r})=>{const{t:n}=se("components"),[a,o]=v.useState({name:"",description:"",type:"string",required:!1,data:[]}),i=v.useMemo(()=>r&&t.find(h=>h.id===r)||a,[t,a,r]),s=v.useCallback(h=>{h.target.value&&!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(h.target.value)||(r?e(g=>[...g.map(b=>b.id===r?{...b,name:h.target.value||""}:b)]):o(g=>({...g,name:h.target.value||""})))},[r,e]),c=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,description:h.target.value||""}:b)]):o(g=>({...g,description:h.target.value||""}))},[r,e]),l=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,type:h||""}:b)]):o(g=>({...g,type:h||"string"}))},[r,e]),u=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,required:!!h||!1}:b)]):o(g=>({...g,required:!!h||!1}))},[r,e]),f=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,enum:h.target.value||""}:b)]):o(g=>({...g,enum:h.target.value||""}))},[r,e]),p=v.useCallback(()=>{if(t.find(h=>h.name===a.name))return Vn({variant:"destructive",content:"Name already exists"});a.id=pc(),e(h=>[...h,{...a}]),o({name:"",description:"",type:"string",required:!1,id:pc(),parent:r||void 0,data:[]})},[t,a,e,r]),m=v.useCallback(h=>{e(g=>[...g.map(b=>b.id===r?{...b,data:h(b.data||[])}:b)])},[r,e]),y=["object","array"].includes(i.type);return d.jsxs("div",{className:"w-full p-1",children:[d.jsxs("div",{children:[d.jsx(be,{children:n("add_schema_card.field.name")}),d.jsx(Ot,{id:"name",onChange:s,placeholder:n("add_schema_card.field.name_placeholder"),value:(i==null?void 0:i.name)||""})]}),d.jsxs("div",{children:[d.jsx(be,{children:n("add_schema_card.field.description")}),d.jsx(Ot,{id:"description",placeholder:n("add_schema_card.field.description_placeholder"),onChange:c,value:(i==null?void 0:i.description)||""})]}),d.jsxs("div",{children:[d.jsx(be,{children:n("add_schema_card.field.type")}),d.jsxs(zt,{onValueChange:l,value:(i==null?void 0:i.type)||"",children:[d.jsx(At,{children:d.jsx($t,{placeholder:n("add_schema_card.field.type_placeholder")})}),d.jsxs(Tt,{children:[d.jsx(it,{value:"string",children:n("add_schema_card.types.string")}),d.jsx(it,{value:"boolean",children:n("add_schema_card.types.boolean")}),d.jsx(it,{value:"number",children:n("add_schema_card.types.number")}),d.jsx(it,{value:"object",children:n("add_schema_card.types.object")}),d.jsx(it,{value:"array",children:n("add_schema_card.types.array")})]})]})]}),d.jsxs("div",{className:"flex items-center h-10",children:[d.jsx(be,{children:n("add_schema_card.field.required")}),d.jsx(oh,{className:"ml-2","aria-label":"Select row",onCheckedChange:u,checked:i==null?void 0:i.required})]}),y?d.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[d.jsx(be,{children:n("add_schema_card.children")}),d.jsx(sh,{data:(i==null?void 0:i.data)||[],setData:m})]}):null,(i==null?void 0:i.type)==="enum"?d.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[d.jsx(be,{children:n("add_schema_card.field.enum")}),d.jsx(Ot,{id:"enum",onChange:f,placeholder:"Enum"})]}):null,r?null:d.jsx("div",{className:"w-full flex justify-end mt-2",children:d.jsx(Te,{variant:"secondary",disabled:!i.name||!i.description||!i.type,onClick:p,className:"w-full",children:n("add_schema_card.field.add_field")})})]})}),Wj=v.memo(({data:e,setData:t})=>d.jsxs(eh,{type:"single",collapsible:!0,children:[e.map(r=>d.jsxs(gc,{value:`${r.id}`,children:[d.jsx(bc,{children:r.name}),d.jsx(xc,{children:d.jsx(ih,{setData:t,data:e,id:r.id})})]},r.id||"new")),d.jsx(De,{className:"p-2 mt-4",children:d.jsx(ih,{setData:t,data:e})})]})),sh=Wj,Xj=v.memo(e=>{const{t}=se("components"),{id:r}=e,n=Xe(r),[a,o]=v.useState([]),{createSchema:i,loading:s}=Aj(),c=async()=>{if(n&&(a!=null&&a.length))try{await i(n,a),o([])}catch(l){Vn({variant:"destructive",title:`${l}`})}};return d.jsxs(De,{className:"max-w-lg",children:[d.jsx(Ge,{children:d.jsx(at,{children:t("add_schema_card.title")})}),d.jsx(Ye,{className:"min-w-96",children:d.jsx(sh,{setData:o,data:a})}),d.jsx(nr,{className:"flex justify-between",children:d.jsx(ht,{loading:s,disabled:!(a!=null&&a.length),onClick:c,className:"w-full",children:t("add_schema_card.create")})})]})}),ch=()=>{const e=st(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=v.useState(!1),n=re(o=>o.createOrUpdateFlowNode),a=v.useCallback(async(o,i,s)=>{var c,l,u;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const f=((c=o.position)==null?void 0:c.x)||0,p=(((l=o.position)==null?void 0:l.y)||0)+(((u=o.measured)==null?void 0:u.height)||0),m=lF(i,s),y=await ne("CSVData").save({headers:m.headers,csv:m.data,session_id:e});if(!y)throw new Error("Failed to save");if(!await n({source_id:y.id,source_type:"CSVData",node_type:z.CSVData,x:f,y:p+20}))throw new Error("Failed to save node")}finally{r(!1)}},[e,n]);return{loading:t,createCSVData:a}},mo=v.forwardRef(({className:e,...t},r)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:r,className:X("w-full caption-bottom text-sm",e),...t})}));mo.displayName="Table";const yo=v.forwardRef(({className:e,...t},r)=>d.jsx("thead",{ref:r,className:X("[&_tr]:border-b",e),...t}));yo.displayName="TableHeader";const vo=v.forwardRef(({className:e,...t},r)=>d.jsx("tbody",{ref:r,className:X("[&_tr:last-child]:border-0",e),...t}));vo.displayName="TableBody";const Kj=v.forwardRef(({className:e,...t},r)=>d.jsx("tfoot",{ref:r,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Kj.displayName="TableFooter";const Er=v.forwardRef(({className:e,...t},r)=>d.jsx("tr",{ref:r,className:X("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Er.displayName="TableRow";const tn=v.forwardRef(({className:e,...t},r)=>d.jsx("th",{ref:r,className:X("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));tn.displayName="TableHead";const rn=v.forwardRef(({className:e,...t},r)=>d.jsx("td",{ref:r,className:X("align-middle [&:has([role=checkbox])]:pr-0",e),...t}));rn.displayName="TableCell";const Gj=v.forwardRef(({className:e,...t},r)=>d.jsx("caption",{ref:r,className:X("mt-4 text-sm text-muted-foreground",e),...t}));Gj.displayName="TableCaption";function Yj({data:e}){const{t}=se("components");return d.jsxs(mo,{className:"w-full",children:[d.jsx(yo,{children:d.jsxs(Er,{children:[d.jsx(tn,{children:t("add_few_shot_example_card.input")}),d.jsx(tn,{children:t("add_few_shot_example_card.output")})]})}),d.jsx(vo,{children:e==null?void 0:e.map((r,n)=>d.jsxs(Er,{children:[d.jsx(rn,{className:"p-4",children:r.input}),d.jsx(rn,{className:"p-4",children:r.output})]},`${r.input}_${r.output}_${n}`))})]})}const Jj=v.memo(e=>{const{id:t}=e,{t:r}=se("components"),[n,a]=v.useState([]),[o,i]=v.useState(""),[s,c]=v.useState(""),l=Xe(t),{createCSVData:u,loading:f}=ch(),p=()=>{a(y=>[...y,{input:o,output:s}]),i(""),c("")},m=async()=>{l&&await u(l,["input","output"],n.map(y=>[y.input,y.output]))};return d.jsxs(De,{className:"mw-full",children:[d.jsx(Ge,{children:d.jsx(at,{children:r("add_few_shot_example_card.title")})}),d.jsxs(Ye,{children:[d.jsxs("div",{className:"flex flex-col space-y-1.5",children:[d.jsx(be,{htmlFor:"name",children:r("add_few_shot_example_card.input")}),d.jsx(Ot,{value:o,onChange:y=>i(y.target.value||""),id:"name",placeholder:r("add_few_shot_example_card.input_placeholder")})]}),d.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[d.jsx(be,{htmlFor:"name",children:r("add_few_shot_example_card.output")}),d.jsx(Xr,{value:s,onChange:y=>c(y.target.value||""),placeholder:r("add_few_shot_example_card.output_placeholder")})]}),d.jsx("div",{className:"w-full flex mt-4 justify-end",children:d.jsx(Te,{disabled:!o||!s,onClick:p,className:"w-40",children:r("add_few_shot_example_card.add")})}),d.jsx(Yj,{data:n||[]})]}),d.jsx(nr,{className:"flex justify-between",children:d.jsx(ht,{loading:f,disabled:!(n!=null&&n.length),onClick:m,className:"w-full",children:r("add_few_shot_example_card.create")})})]})}),Zj=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async(i,s,c)=>{var l,u,f;try{if(!i||!e)throw new Error("Source or Session not found");if(!s.name||!s.description)throw new Error("Name is required");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,m=(((u=i.position)==null?void 0:u.y)||0)+(((f=i.measured)==null?void 0:f.height)||0),y=await ne("ToolDefinition").save({...s,name:`${s.name}`,description:`${s.description}`,session_id:e});if(!y)throw new Error("Failed create tool.");const h=await n({source_id:y.id,source_type:"ToolDefinition",node_type:z.ToolDefinition,x:p,y:m+20});if(!h)throw new Error("Failed to save node");c!=null&&c.schemaNode&&await a({source:c.schemaNode.id,target:h.id})}finally{r(!1)}},[e,n,a]);return{loading:t,createTool:o}},Qj=v.memo(e=>{const{t}=se("components"),{toast:r}=ct(),{id:n}=e,a=Xe(n),[o,i]=v.useState(""),[s,c]=v.useState(""),{createTool:l,loading:u}=Zj(),f=y=>{i(y.target.value)},p=y=>{c(y.target.value)},m=async()=>{if(a&&o&&s)try{await l(a,{name:o,description:s}),i(""),c("")}catch(y){ds(y),r({variant:"destructive",title:t("add_tool_card.errors.create_tool_failed")})}};return d.jsxs(De,{className:"mw-full",children:[d.jsx(Ge,{children:d.jsx(at,{children:t("add_tool_card.title")})}),d.jsxs(Ye,{children:[d.jsxs("div",{className:"flex flex-col space-y-1.5",children:[d.jsx(be,{htmlFor:"name",children:t("add_tool_card.tool_name")}),d.jsx(Ot,{onChange:f,id:"name",placeholder:t("add_tool_card.name_placeholder")})]}),d.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[d.jsx(be,{htmlFor:"name",children:t("add_tool_card.tool_description")}),d.jsx(Xr,{onChange:p,placeholder:t("add_tool_card.description_placeholder")})]})]}),d.jsx(nr,{className:"flex justify-between",children:d.jsx(ht,{loading:u,onClick:m,className:"w-full",children:t("add_tool_card.create")})})]})}),e_=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async(i,s,c)=>{var l,u,f;try{if(!(s!=null&&s.name)||!i||!e)throw new Error("Source or Session not found");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,m=(((u=i.position)==null?void 0:u.y)||0)+(((f=i.measured)==null?void 0:f.height)||0),y=await ne("JSONLData").save({headers:uF(["content","embedding","metadata"]),jsonl:"",session_id:e});if(!y)throw new Error("Failed to save databaseSource");const h=await n({source_id:y.id,source_type:"JSONLData",node_type:z.JSONLData,x:p+80,y:m+30});if(!h)throw new Error("Failed to save databaseSource node");const g=await ne("VectorDatabase").save({...s,name:`${s.name}`,type:s.type||dF.Local,storage:s.storage||rw.DataNode,provider:s.provider||nw.Memory,session_id:e,metadata:c?JSON.stringify({textSplitter:c}):void 0});if(!g)throw new Error("Failed to save vectorDatabase");const b=await n({source_id:g.id,source_type:"VectorDatabase",node_type:z.VectorDatabase,x:p,y:m+30});if(!b)throw new Error("Failed to save vectorDatabase node");return await a({source:h.id,target:b.id}),{vectorDatabase:g,vectorDatabaseNode:b}}finally{r(!1)}},[e,n,a]);return{loading:t,createVectorDatabase:o}},Qn=[nw.Memory],ea=[rw.DataNode],t_=["TokenTextSplitter","CharacterTextSplitter","RecursiveCharacterTextSplitter"],r_=v.memo(e=>{const{t}=se("components"),{id:r}=e,n=Xe(r),{toast:a}=ct(),[o,i]=v.useState(""),[s,c]=v.useState(Qn[0]),[l,u]=v.useState(ea[0]),[f,p]=v.useState({}),{loading:m,createVectorDatabase:y}=e_(),h=v.useCallback(_=>{c(_)},[]),g=v.useCallback(_=>{u(_)},[]),b=v.useCallback(_=>{p(O=>({...O,type:_,chunkSize:500,chunkOverlap:40}))},[]),w=v.useCallback(_=>{i(_.target.value||"")},[]),S=v.useCallback(_=>{p(O=>({...O,chunkSize:Number(_.target.value)}))},[]),x=v.useCallback(_=>{p(O=>({...O,chunkOverlap:Number(_.target.value)}))},[]),j=async()=>{try{if(!n)return;await y(n,{name:o,provider:s,storage:l},f!=null&&f.type?{type:f.type,chunkSize:f.chunkSize||500,chunkOverlap:f.chunkOverlap||0}:void 0),i(""),p({})}catch{a({variant:"destructive",description:t("create_vector_database_card.errors.create_failed")})}};return d.jsxs(De,{className:"mw-full",children:[d.jsx(Ge,{children:d.jsx(at,{children:t("create_vector_database_card.title")})}),d.jsx(Ye,{children:d.jsxs("div",{className:"grid w-full gap-1.5",children:[d.jsx(be,{children:t("create_vector_database_card.name")}),d.jsx(Ot,{className:"mb-4",value:o,onChange:w}),(ea==null?void 0:ea.length)>1?d.jsxs(d.Fragment,{children:[d.jsx(be,{children:t("create_vector_database_card.storage_type")}),d.jsxs(zt,{value:l,onValueChange:g,children:[d.jsx(At,{className:"w-full mb-4",children:d.jsx($t,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),d.jsx(Tt,{children:Object.values(ea).map(_=>d.jsx(it,{value:_,children:t(`create_vector_database_card.storage_types.${_.toLowerCase()}`)},_))})]})]}):void 0,(Qn==null?void 0:Qn.length)>1?d.jsxs(d.Fragment,{children:[d.jsx(be,{children:t("create_vector_database_card.provider")}),d.jsxs(zt,{value:s,onValueChange:h,children:[d.jsx(At,{className:"w-full mb-4",children:d.jsx($t,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),d.jsx(Tt,{children:Object.values(Qn).map(_=>d.jsx(it,{value:_,children:t(`create_vector_database_card.providers.${_.toLowerCase()}`)},_))})]})]}):void 0,d.jsx(be,{children:t("create_vector_database_card.text_splitter")}),d.jsxs(zt,{value:f.type,onValueChange:b,children:[d.jsx(At,{className:"w-full mb-4",children:d.jsx($t,{placeholder:t("create_vector_database_card.text_splitter_select_placeholder")})}),d.jsx(Tt,{children:Object.values(t_).map(_=>d.jsx(it,{value:_,children:t(`create_vector_database_card.text_splitters.${_.toLowerCase()}`)},_))})]}),f.type?d.jsxs(De,{children:[d.jsx(Ge,{children:d.jsx(at,{children:t("create_vector_database_card.text_splitter_configuration")})}),d.jsxs(Ye,{children:[d.jsx(be,{children:t("create_vector_database_card.text_splitter_chunksize")}),d.jsx(Ot,{value:f.chunkSize,onChange:S,placeholder:t("create_vector_database_card.text_splitter_chunksize_placeholder")}),d.jsx(be,{children:t("create_vector_database_card.text_splitter_chunkoverlap")}),d.jsx(Ot,{value:f.chunkOverlap,onChange:x,placeholder:t("create_vector_database_card.text_splitter_chunkoverlap_placeholder")})]})]}):void 0]})}),d.jsx(nr,{className:"flex justify-between",children:d.jsx(ht,{disabled:!f.type||!o,loading:m,onClick:j,className:"w-full",children:t("create_vector_database_card.create")})})]})}),n_=e=>v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"64 64 384.000000 384.000000",preserveAspectRatio:"xMidYMid meet",fill:"#000000",...e},v.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",stroke:"none"},v.createElement("path",{d:"M1953 3948 c-13 -21 -16 -289 -4 -369 15 -97 39 -193 62 -247 l18 -42 -69 -133 -69 -132 32 -22 c18 -12 40 -25 49 -28 24 -9 13 -25 -18 -25 -13 0 -24 -4 -24 -9 0 -13 40 -60 61 -71 10 -6 107 -15 215 -21 175 -9 198 -8 214 6 10 9 33 18 51 21 31 4 40 -1 92 -52 64 -63 70 -88 25 -114 -22 -12 -33 -12 -58 -3 -34 13 -41 0 -9 -17 24 -13 73 -5 89 15 10 12 17 11 43 -6 41 -24 59 -24 88 2 l24 20 -28 -17 c-26 -16 -31 -16 -62 -1 -58 27 -55 54 11 120 65 65 90 71 145 34 31 -20 41 -21 114 -15 44 4 129 10 190 14 107 6 110 7 142 39 39 39 42 55 8 55 -37 0 -31 17 14 40 22 11 42 24 46 30 7 11 -13 51 -90 184 -54 95 -54 95 -39 131 8 20 27 84 41 143 24 95 27 126 28 284 0 125 -4 180 -12 189 -30 30 -262 -126 -372 -250 l-62 -70 -42 16 c-67 25 -247 28 -332 6 l-70 -19 -86 86 c-96 96 -180 160 -272 207 -70 37 -73 38 -84 21z m1117 -261 c0 -2 -9 -14 -20 -27 -11 -13 -20 -19 -20 -15 0 5 7 17 17 27 15 17 23 22 23 15z m-830 -97 c6 -11 7 -20 2 -20 -6 0 -12 9 -15 20 -3 11 -3 20 -1 20 2 0 8 -9 14 -20z m744 -15 c-9 -14 -18 -25 -21 -25 -5 0 5 18 20 38 17 22 18 13 1 -13z m-654 -534 c0 -27 4 -61 10 -75 8 -21 7 -26 -6 -26 -38 0 -100 67 -119 128 -6 21 -4 22 54 22 l61 0 0 -49z m700 39 c0 -44 -80 -140 -117 -140 -12 0 -14 7 -9 31 3 17 6 51 6 75 l0 44 60 0 c35 0 60 -4 60 -10z m-587 -35 c15 -14 27 -30 27 -34 0 -18 -42 -60 -69 -69 -29 -10 -30 -10 -20 14 5 14 9 45 9 70 0 51 12 56 53 19z m411 -37 c3 -34 4 -64 1 -66 -15 -15 -85 53 -85 82 0 7 61 46 71 46 3 0 9 -28 13 -62z"}),v.createElement("path",{d:"M1590 3717 c0 -2 15 -16 33 -33 l32 -29 -29 33 c-28 30 -36 37 -36 29z"}),v.createElement("path",{d:"M1723 2863 c26 -2 68 -2 95 0 26 2 4 3 -48 3 -52 0 -74 -1 -47 -3z"}),v.createElement("path",{d:"M3403 2863 c31 -2 83 -2 115 0 31 2 5 3 -58 3 -63 0 -89 -1 -57 -3z"}),v.createElement("path",{d:"M3258 2853 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M2010 2830 c4 -8 20 -26 35 -40 l27 -25 -24 -6 c-16 -4 -7 -7 32 -13 58 -7 245 20 305 44 30 12 30 12 7 21 -23 9 -190 25 -324 32 -57 2 -65 1 -58 -13z"}),v.createElement("path",{d:"M3165 2844 c-148 -9 -306 -28 -293 -35 8 -6 -3 -9 -32 -10 -39 -1 -36 -3 25 -11 39 -5 79 -13 90 -18 33 -15 173 -32 197 -24 13 4 37 7 53 7 29 0 29 0 3 4 -33 5 -35 14 -7 39 29 26 44 55 27 52 -7 -1 -35 -3 -63 -4z"}),v.createElement("path",{d:"M2300 2749 c-63 -10 -130 -19 -147 -20 -37 -3 -40 -7 -17 -24 14 -9 -3 -19 -100 -60 -63 -27 -114 -51 -112 -53 3 -2 57 19 121 47 l117 50 41 -30 c51 -37 105 -61 121 -53 6 3 -11 -14 -39 -38 -172 -148 -266 -262 -325 -392 -16 -35 -36 -66 -45 -70 -9 -3 -55 -6 -102 -6 -94 0 -130 -16 -158 -70 -20 -39 -19 -80 10 -341 32 -287 32 -264 -5 -242 -56 33 -110 97 -139 168 -43 104 -99 136 -175 100 -122 -58 -74 -289 92 -450 65 -63 155 -118 231 -140 l59 -18 6 -56 c4 -31 15 -71 26 -89 39 -64 1 -62 962 -62 848 0 874 1 905 20 61 37 61 34 119 556 58 521 58 539 12 581 -44 40 -62 43 -242 43 l-176 0 -40 82 c-73 146 -155 247 -294 356 l-77 61 43 22 c23 12 60 33 81 47 32 21 41 23 63 13 36 -16 44 -13 12 5 -32 17 -36 31 -10 37 9 3 -2 5 -24 6 -23 0 -77 7 -120 15 -90 16 -164 26 -164 21 0 -2 31 -13 70 -25 63 -20 69 -23 60 -41 -23 -42 -111 -99 -194 -124 -99 -30 -148 -31 -236 -5 -73 22 -182 87 -200 119 -12 23 -15 21 85 60 59 24 54 24 -95 0z m1414 -684 c35 -23 56 -65 56 -112 1 -65 -91 -906 -103 -947 -7 -22 -24 -48 -40 -60 -28 -21 -34 -21 -900 -24 -851 -2 -873 -2 -904 17 -18 11 -39 30 -47 43 -15 23 -39 208 -71 538 -9 85 -22 211 -30 280 -22 184 -21 194 19 238 34 37 35 37 133 43 54 4 494 6 979 4 823 -2 883 -4 908 -20z"}),v.createElement("path",{d:"M1973 2743 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),v.createElement("path",{d:"M3263 2743 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),v.createElement("path",{d:"M1908 2733 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M2435 2730 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0 -8 -4 -11 -10z"}),v.createElement("path",{d:"M3328 2733 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M1848 2723 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3383 2723 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),v.createElement("path",{d:"M1798 2713 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3438 2713 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),v.createElement("path",{d:"M1738 2703 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3488 2703 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),v.createElement("path",{d:"M1688 2693 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3538 2693 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),v.createElement("path",{d:"M3170 2660 c8 -5 20 -10 25 -10 6 0 3 5 -5 10 -8 5 -19 10 -25 10 -5 0 -3 -5 5 -10z"}),v.createElement("path",{d:"M3230 2635 c14 -8 30 -14 35 -14 6 0 -1 6 -15 14 -14 8 -29 14 -35 14 -5 0 1 -6 15 -14z"}),v.createElement("path",{d:"M3349 2584 c41 -19 76 -33 78 -31 4 5 -133 67 -145 66 -4 0 26 -16 67 -35z"}),v.createElement("path",{d:"M1860 2570 c-8 -5 -10 -10 -5 -10 6 0 17 5 25 10 8 5 11 10 5 10 -5 0 -17 -5 -25 -10z"}),v.createElement("path",{d:"M1764 2524 c-18 -14 -18 -14 6 -3 31 14 36 19 24 19 -6 0 -19 -7 -30 -16z"}),v.createElement("path",{d:"M3470 2530 c8 -5 20 -10 25 -10 6 0 3 5 -5 10 -8 5 -19 10 -25 10 -5 0 -3 -5 5 -10z"})));function a_({data:e}){const{t}=se("components");return d.jsxs(mo,{className:"w-full",children:[d.jsx(yo,{children:d.jsx(Er,{children:d.jsx(tn,{children:t("add_text_data.text")})})}),d.jsx(vo,{children:e==null?void 0:e.map((r,n)=>d.jsx(Er,{children:d.jsx(rn,{className:"p-4",children:r.text})},`${r.text}_${n}`))})]})}const o_=v.memo(e=>{const{id:t}=e,{t:r}=se("components"),[n,a]=v.useState([]),[o,i]=v.useState(""),s=Xe(t),{createCSVData:c,loading:l}=ch(),u=()=>{a(p=>[...p,{text:o}]),i("")},f=async()=>{s&&await c(s,["text"],n.map(p=>[p.text]))};return d.jsxs(De,{className:"mw-full",children:[d.jsx(Ge,{children:d.jsx(at,{children:r("add_text_data.title")})}),d.jsxs(Ye,{children:[d.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[d.jsx(be,{htmlFor:"name",children:r("add_text_data.text")}),d.jsx(Xr,{value:o,onChange:p=>i(p.target.value||""),placeholder:r("add_text_data.text_placeholder")})]}),d.jsx("div",{className:"w-full flex mt-4 justify-end",children:d.jsx(Te,{disabled:!o,onClick:u,className:"w-40",children:r("add_text_data.add")})}),d.jsx(a_,{data:n||[]})]}),d.jsx(nr,{className:"flex justify-between",children:d.jsx(ht,{loading:l,disabled:!(n!=null&&n.length),onClick:f,className:"w-full",children:r("add_text_data.create")})})]})});var Vt=(e=>(e.ADD_LLM="ADD_LLM",e.ADD_PROMPT="ADD_PROMPT",e.ADD_TOOL_DEFINITION="ADD_TOOL_DEFINITION",e.ADD_SCHEMA="ADD_SCHEMA",e.ADD_FEW_SHOT_EXAMPLE="ADD_FEW_SHOT_EXAMPLE",e.ADD_VECTOR_DATABASE="ADD_VECTOR_DATABASE",e.ADD_TEXT_DATA="ADD_TEXT_DATA",e))(Vt||{});const i_=["ADD_LLM","ADD_PROMPT","ADD_SCHEMA","ADD_VECTOR_DATABASE",{key:"more",label:"more",icon:"ellipsis",children:["ADD_TOOL_DEFINITION","ADD_FEW_SHOT_EXAMPLE"]}],s_=()=>{const e="_coolMode_effect",t=document.getElementById(e);if(t)return t;const r=document.createElement("div");return r.setAttribute("id",e),r.setAttribute("style","overflow:hidden; position:fixed; height:100%; top:0; left:0; right:0; bottom:0; pointer-events:none; z-index:2147483647"),document.body.appendChild(r),r};let lh=0,uh,dh,fh,ph,hh,mh,Ve,go,pe,yh,vh,gh,bh,bo;uh=(e,t)=>{lh++;const r=(t==null?void 0:t.particle)||"circle",n=[15,20,25,35,45],a=45;let o=[],i=!1,s=0,c=0;const l=s_();function u(){const O=(t==null?void 0:t.size)||n[Math.floor(Math.random()*n.length)],P=(t==null?void 0:t.speedHorz)||Math.random()*10,M=(t==null?void 0:t.speedUp)||Math.random()*25,C=Math.random()*360,N=Math.random()*35*(Math.random()<=.5?-1:1),T=c-O/2,A=s-O/2,D=Math.random()<=.5?-1:1,k=document.createElement("div");if(r==="circle"){const R="http://www.w3.org/2000/svg",F=document.createElementNS(R,"svg"),U=document.createElementNS(R,"circle");U.setAttributeNS(null,"cx",(O/2).toString()),U.setAttributeNS(null,"cy",(O/2).toString()),U.setAttributeNS(null,"r",(O/2).toString()),U.setAttributeNS(null,"fill",`hsl(${Math.random()*360}, 70%, 50%)`),F.appendChild(U),F.setAttribute("width",O.toString()),F.setAttribute("height",O.toString()),k.appendChild(F)}else k.innerHTML=`<img src="${r}" width="${O}" height="${O}" style="border-radius: 50%">`;k.style.position="absolute",k.style.transform=`translate3d(${A}px, ${T}px, 0px) rotate(${C}deg)`,l.appendChild(k),o.push({direction:D,element:k,left:A,size:O,speedHorz:P,speedUp:M,spinSpeed:N,spinVal:C,top:T})}function f(){o.forEach(O=>{O.left=O.left-O.speedHorz*O.direction,O.top=O.top-O.speedUp,O.speedUp=Math.min(O.size,O.speedUp-1),O.spinVal=O.spinVal+O.spinSpeed,O.top>=Math.max(window.innerHeight,document.body.clientHeight)+O.size&&(o=o.filter(P=>P!==O),O.element.remove()),O.element.setAttribute("style",["position:absolute","will-change:transform",`top:${O.top}px`,`left:${O.left}px`,`transform:rotate(${O.spinVal}deg)`].join(";"))})}let p,m=0;const y=30;function h(){const O=performance.now();i&&o.length<a&&O-m>y&&(u(),m=O),f(),p=requestAnimationFrame(h)}h();const g="ontouchstart"in window,b=g?"touchstart":"mousedown",w=g?"touchend":"mouseup",S=g?"touchmove":"mousemove",x=O=>{var P,M;"touches"in O?(s=(P=O.touches)==null?void 0:P[0].clientX,c=(M=O.touches)==null?void 0:M[0].clientY):(s=O.clientX,c=O.clientY)},j=O=>{x(O),i=!0},_=()=>{i=!1};return e.addEventListener(S,x,{passive:!0}),e.addEventListener(b,j,{passive:!0}),e.addEventListener(w,_,{passive:!0}),e.addEventListener("mouseleave",_,{passive:!0}),()=>{e.removeEventListener(S,x),e.removeEventListener(b,j),e.removeEventListener(w,_),e.removeEventListener("mouseleave",_);const O=setInterval(()=>{p&&o.length===0&&(cancelAnimationFrame(p),clearInterval(O),--lh===0&&l.remove())},500)}},dh=({children:e,options:t})=>{const r=v.useRef(null);return v.useEffect(()=>{if(r.current)return uh(r.current,t)},[t]),E.cloneElement(e,{ref:r})},fh=v.memo(e=>{const{t}=se("flows"),r=aw(s=>s.theme),[n,a]=v.useState(`${Vt.ADD_LLM}`),o=v.useMemo(()=>d.jsxs(Nf,{children:[d.jsx(Xs,{children:d.jsx(dh,{children:d.jsx(Te,{variant:"link",className:"!p-0 !pl-3",children:d.jsx(n_,{width:32,height:32,className:X(r==="dark"?"fill-white":"fill-black")})})})}),i_.map(s=>typeof s=="object"?d.jsxs(Xs,{children:[d.jsx(Ks,{children:s.icon?d.jsx(te,{name:s.icon}):t(`supported_nodes.${s.label}`)}),d.jsx(Ef,{children:s.children.map(c=>d.jsx(Pf,{onClick:()=>a(c),children:t(`supported_nodes.${c.toLowerCase()}`)},c))})]},s.key):d.jsx(Xs,{children:d.jsx(Ks,{value:s,onClick:()=>a(s),children:t(`supported_nodes.${s.toLowerCase()}`)})},s))]}),[t,r]),i=v.useMemo(()=>{switch(n){case Vt.ADD_LLM:return d.jsx(Nj,{...e});case Vt.ADD_PROMPT:return d.jsx(Cj,{...e});case Vt.ADD_SCHEMA:return d.jsx(Xj,{...e});case Vt.ADD_FEW_SHOT_EXAMPLE:return d.jsx(Jj,{...e});case Vt.ADD_TOOL_DEFINITION:return d.jsx(Qj,{...e});case Vt.ADD_VECTOR_DATABASE:return d.jsx(r_,{...e});case Vt.ADD_TEXT_DATA:return d.jsx(o_,{...e})}},[e,n]);return d.jsxs(d.Fragment,{children:[o,d.jsx("div",{className:"mt-4",children:i})]})}),ph=()=>{const[e,t]=v.useState(!1),r=st(i=>i.currentSession),n=st(i=>i.getLatestApplications),a=v.useCallback(async(i,s,c,l)=>{var p;const u=(p=s.data)==null?void 0:p.entity;let f=s.type?fF[s.type]:void 0;if(f&&u&&s&&typeof u=="object"&&"id"in u&&!c.has(`${u.id}`)){f=f;const m=await ne(f).save({...u,...u&&typeof u=="object"&&"session_id"in u?{session_id:i.id}:{}});c.set(`${u.id}`,m.id);const y=await ne("FlowNode").save({...s.data.flowNode,session_id:i.id,id:void 0,source_type:f,source_id:m.id});return l.set(`${s.id}`,y.id),{entityName:f,entity:m,node:y}}},[]),o=v.useCallback(async(i,s)=>{try{if(!r)throw new Error("No current session");t(!0);const c=await ne("Session").save({type:pF.StandaloneApp,name:s.name||(r!=null&&r.name?`${r.name}`:"Standalone"),status:hF.Started});if(!c)throw new Error("Failed create standalone session");const l=new Map,u=new Map,f=await a(c,i,l,u);if(!f)throw new Error("Failed to clone main node");await ne("Session").update(c.id,{main_node_id:f.node.id,main_source_id:f.entity.id,main_source_type:f.entityName});for(const{node:p,connectedNodes:m}of s.connections)if(await a(c,p,l,u),m)for(const y of m)await a(c,y,l,u);for(const{connections:p}of s.connections)for(const m of p){const y=u.get(`${m.source}`),h=u.get(`${m.target}`);if(!y||!h)throw new Error("Failed to get connected flow node id");await ne("FlowEdge").save({source:y,target:h,sourceHandle:m.sourceHandle,targetHandle:m.targetHandle,session_id:c.id})}return n(),!0}finally{t(!1)}},[a,r,n]);return{loading:e,createStandaloneSession:o}},hh=()=>{const[e,t]=v.useState(!1),r=re(o=>o.updateNodes),n=re(o=>o.updateEdges),a=v.useCallback(async o=>{try{t(!0),await ne("FlowNode").delete(o);const i=await ne("FlowEdge").find({where:[{source:o},{target:o}]});return await Promise.all(i.map(s=>ne("FlowEdge").delete(s.id))),await r([{id:o,type:"remove"}]),await n(i.map(s=>({id:s.id,type:"remove"}))),!0}catch{return!1}finally{t(!1)}},[n,r]);return{loading:e,deleteNodeFlow:a}},mh=fs(({cloneStandaloneSession:e})=>{const t=tr(),{t:r}=se("dialogs"),[n,a]=v.useState(""),{toast:o}=ct(),i=c=>{a(c.target.value)},s=async()=>{try{t.hide(),await e(n)}catch{o({variant:"destructive",description:r("create_standalone_application.errors.create_failed")})}};return d.jsx(Ss,{open:t.visible,onOpenChange:t.hide,children:d.jsxs(Ns,{className:"sm:max-w-[425px]",children:[d.jsxs(Es,{children:[d.jsx(Ps,{children:r("create_session.title")}),d.jsx(Lz,{children:r("create_standalone_application.description")})]}),d.jsx("div",{className:"grid gap-4 py-4",children:d.jsxs("div",{className:"flex flex-col space-y-1.5",children:[d.jsx(be,{className:"mb-2",htmlFor:"name",children:r("create_standalone_application.name")}),d.jsx(Ot,{onChange:i,id:"name",value:n,placeholder:r("create_standalone_application.name_placeholder")})]})}),d.jsx(Bz,{children:d.jsx(Te,{onClick:s,disabled:!n,type:"submit",children:r("create_standalone_application.create")})})]})})}),Ve=v.memo(({id:e,className:t,enableToStandalone:r,getLinkedConnections:n})=>{const{t:a}=se("common"),{getNode:o}=rr(),{loading:i,deleteNodeFlow:s}=hh(),{createStandaloneSession:c}=ph(),{toast:l}=ct(),u=tr(mh),f=v.useCallback(async()=>{try{await s(e),l({description:a("deleted")})}catch{l({description:a("errors.delete_failed"),variant:"destructive"})}},[s,e,l,a]),p=v.useCallback(async y=>{try{const h=o(e);if(!h)throw new Error("No current node");const g=(n==null?void 0:n(e))||[];await c(h,{name:y,connections:g}),l({description:a("standalone_session_created")})}catch(h){mF(h),l({description:a("errors.create_standalone_session_failed"),variant:"destructive"})}},[o,e,n,c,l,a]),m=v.useCallback(()=>{u.show({cloneStandaloneSession:p})},[p,u]);return d.jsxs("div",{className:X("flex absolute z-[51] right-0 top-0 h-10",t),children:[r?d.jsx(Te,{className:"!rounded-none !px-2",onClick:m,variant:"ghost",children:d.jsx(te,{name:"package-plus",size:16})}):void 0,d.jsx(ht,{loading:i,className:"!rounded-none !px-2",onClick:f,variant:"ghost",children:d.jsx(te,{name:"trash-2",size:16})})]})}),go=({className:e,size:t=200,duration:r=15,anchor:n=90,borderWidth:a=1.5,colorFrom:o="#ffaa40",colorTo:i="#9c40ff",delay:s=0})=>d.jsx("div",{style:{"--size":t,"--duration":r,"--anchor":n,"--border-width":a,"--color-from":o,"--color-to":i,"--delay":`-${s}s`},className:X("pointer-events-none absolute inset-0 rounded-[inherit] [border:calc(var(--border-width)*1px)_solid_transparent]","![mask-clip:padding-box,border-box] ![mask-composite:intersect] [mask:linear-gradient(transparent,transparent),linear-gradient(white,white)]","after:absolute after:aspect-square after:w-[calc(var(--size)*1px)] after:animate-border-beam after:[animation-delay:var(--delay)] after:[background:linear-gradient(to_left,var(--color-from),var(--color-to),transparent)] after:[offset-anchor:calc(var(--anchor)*1%)_50%] after:[offset-path:rect(0_auto_auto_0_round_calc(var(--size)*1px))]",e)}),pe=v.memo(e=>{const{className:t,...r}=e;return d.jsx(CF,{className:X("!w-2 !h-2 !border-none !rounded-full !bg-slate-700",e.position===he.Top?"!top-[-2px]":"",t),...r})}),yh=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async(i,s)=>{var c,l,u,f,p;r(!0);try{const m=(c=i.data)==null?void 0:c.entity;if(!m||!e)throw new Error("LLM or Session not found");const y=await((f=(u=(l=s==null?void 0:s.connectedNodes)==null?void 0:l.find(x=>x.type===z.Schema))==null?void 0:u.data)==null?void 0:f.entity),h=i.position.x,g=i.position.y+(((p=i.measured)==null?void 0:p.height)||0),b=await ne("Thread").save({initial_llm_id:m.id,title:`New thread with ${m.name}`,status:ao.Started,messages:[],session_id:e,schema_id:y==null?void 0:y.id}),w=await n({source_id:b.id,source_type:"Thread",node_type:z.Thread,x:h,y:g+60});if(!w)throw new Error("Failed to create thread node");const S=await a({source:i.id,target:w.id});return{thread:b,flowNode:w,flowEdge:S}}finally{r(!1)}},[a,n,e]);return{loading:t,createThread:o}},vh=(e,t)=>{var x;const{t:r}=se("flows"),{toast:n}=ct(),[a,o]=v.useState(!1),[i,s]=v.useState(!1),c=Xe(e),l=gr(j=>j.loadModel),{createThread:u,loading:f}=yh(),p=re(j=>j.updateNodes),m=re(j=>j.pushSyncNodeQueue),{getNode:y,getNodes:h,getHandleConnections:g}=rr(),b=v.useCallback(async()=>{try{if(s(!0),t.entity.id){const j=await ne("Thread").find({where:{initial_llm_id:t.entity.id}});m("Thread",{where:{source_type:"Thread",source_id:eo(j.map(_=>_.id))}})}}finally{s(!1)}},[(x=t==null?void 0:t.entity)==null?void 0:x.id,m]),w=v.useCallback(async()=>{try{if(o(!0),t.entity&&c){await(l==null?void 0:l(`${t.entity.name}`));const j=h().filter(_=>_.type===z.LLM).map(_=>(_.data.status=jt.Started,{id:_.id,type:"replace",item:_}));c.data.status=jt.Loading,j.push({id:e,type:"replace",item:c}),p(j),await b()}}catch(j){ds(j),n({variant:"destructive",description:r("llm_node.errors.loading_model")})}finally{o(!1)}},[t.entity,h,e,l,c,b,r,n,p]),S=v.useCallback(async()=>{if(t.entity&&c){const j=g({type:"target",nodeId:c.id}).map(_=>y(_.source)).filter(Boolean);await(u==null?void 0:u(c,{connectedNodes:j}))}},[t.entity,c,g,u,y]);return{loadingModel:a,creatingThread:f,queringThreads:i,loadModel:w,createThread:S,queryThreads:b}},nt=(e,t)=>{const[r,n]=v.useState(!1),[a,o]=v.useState([]),{deleteElements:i,getNode:s}=rr();gs({type:"target",nodeId:e,onConnect:l=>{l!=null&&l.length&&o(u=>[...u,...kF(l)])}});const c=v.useCallback(async(l,u,f,p)=>{try{return await t({id:e,edgeId:l,source:u,target:f,connection:p})}catch{return{deleteEdgeId:l}}},[t,e]);v.useEffect(()=>{!(a!=null&&a.length)||r||(async()=>{try{n(!0);const l=[...a];o([]);const u=[],f=s(e);await Promise.all(l.map(async p=>{const m="edgeId"in p?p.edgeId:void 0,y=s(p.source);if(!y||!f)return;const h=await c(`${m}`,y,f,p);h!=null&&h.deleteEdgeId&&u.push(...Array.isArray(h.deleteEdgeId)?h.deleteEdgeId:[h.deleteEdgeId])})),u!=null&&u.length&&await i({edges:u.map(p=>({id:p}))})}finally{n(!1)}})()},[i,s,e,r,c,a])},gh=e=>{const t=v.useCallback(async()=>{},[]);nt(e,t)},bh=v.memo(e=>{var h,g,b,w;const{id:t,data:r,isConnectable:n}=e,[a,o]=v.useState(),{t:i}=se("flows"),{createThread:s,loadModel:c,queringThreads:l,queryThreads:u,loadingModel:f}=vh(t,r);gh(t);const p=[jt.Loading,jt.Downloading].includes(r.status);v.useEffect(()=>{var S;a||!((S=r==null?void 0:r.entity)!=null&&S.name)||tt(()=>import("./index-BfwsW2Zg.js").then(async x=>(await x.__tla,x)),__vite__mapDeps([0,1,2,3,4])).then(async({hasModelInCache:x,functionCallingModelIds:j,prebuiltAppConfig:_})=>{var P,M;const O=await x((P=r==null?void 0:r.entity)==null?void 0:P.name);o({hasCache:O,isFunctionCalling:j.includes((M=r==null?void 0:r.entity)==null?void 0:M.name),info:_.model_list.find(C=>{var N;return C.model_id===((N=r==null?void 0:r.entity)==null?void 0:N.name)})})})},[(h=r==null?void 0:r.entity)==null?void 0:h.name,a]);const m=v.useMemo(()=>{var S,x;switch(r.status){case jt.Downloading:return d.jsx(te,{className:"animate-spin w-7 h-7",name:"arrow-big-down-dash"});case jt.Loaded:return d.jsx(Qa,{name:((S=r.entity)==null?void 0:S.name)||"brain",className:"w-7 h-7"});case jt.Loading:return d.jsx(te,{className:"animate-spin w-7 h-7",name:"loader-circle"});default:return d.jsx(Qa,{name:((x=r.entity)==null?void 0:x.name)||"brain",className:"w-7 h-7"})}},[(g=r.entity)==null?void 0:g.name,r.status]),y=v.useMemo(()=>p?null:f?d.jsx(Te,{disabled:!0,className:"w-full mt-4",children:d.jsx(te,{className:"animate-spin",size:24,name:"loader-circle"})}):r.status===jt.Loaded?d.jsx(Te,{onClick:s,className:"mt-4 w-full",children:i("llm_node.create_thread_button")}):d.jsxs("div",{className:"flex gap-2 mt-4",children:[a!=null&&a.hasCache?d.jsx(ht,{loading:l,onClick:u,children:d.jsx(te,{size:24,name:"message-square-more"})}):null,d.jsx(Te,{disabled:f,onClick:c,className:"w-full",children:i(a!=null&&a.hasCache?"llm_node.load_model_button":"llm_node.download_model_button")})]}),[p,f,r.status,a==null?void 0:a.hasCache,l,u,c,i,s]);return d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx(Ve,{id:t}),d.jsxs(br,{className:"flex justify-center",children:[m,d.jsxs("div",{className:"ml-2 pt-1 max-w-lg",children:[d.jsx(xr,{className:"flex gap-2 items-center pr-6",children:`${((b=r==null?void 0:r.entity)==null?void 0:b.name)||""}`}),d.jsx(to,{className:"max-w-full",children:`${r.label||""}`}),d.jsx("div",{className:"max-w-full mt-2 flex-wrap flex gap-1",children:d.jsx(vs,{model:a==null?void 0:a.info,isFunctionCalling:(a==null?void 0:a.isFunctionCalling)||!1,name:(w=r==null?void 0:r.entity)==null?void 0:w.name,isCached:(a==null?void 0:a.hasCache)||!1})}),y]})]}),p?d.jsx(go,{className:"rounded-lg"}):void 0]}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),bo=v.memo(({tags:e,disabled:t,loading:r,onSubmit:n})=>{const{t:a}=se("components"),o=async i=>{try{return await n(i),!0}catch{return!1}};return d.jsxs(De,{className:"min-w-80",children:[d.jsx(Ge,{children:d.jsx(at,{children:a("add_message_card.title")})}),d.jsxs(Ye,{children:[d.jsx("div",{className:"grid w-full gap-1.5",children:d.jsx(MF,{onSubmit:o,disabled:t||r,placeholder:a("add_message_card.placeholder")})}),e?d.jsx("div",{className:"mt-2 gap-1 flex flex-wrap",children:e}):null]})]})});class c_ extends yF{get lc_attributes(){return{partialVariables:void 0}}constructor(t){super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:r}=t;if(r.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,t)}async mergePartialAndUserVariables(t){const r=this.partialVariables??{},n={};for(const[a,o]of Object.entries(r))typeof o=="string"?n[a]=o:n[a]=await o();return{...n,...t}}async invoke(t,r){return this._callWithConfig(n=>this.formatPromptValue(n),t,{...r,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(t){switch(t._type){case"prompt":{const{PromptTemplate:r}=await tt(async()=>{const{PromptTemplate:n}=await Promise.resolve().then(()=>Eh);return{PromptTemplate:n}},void 0);return r.deserialize(t)}case void 0:{const{PromptTemplate:r}=await tt(async()=>{const{PromptTemplate:n}=await Promise.resolve().then(()=>Eh);return{PromptTemplate:n}},void 0);return r.deserialize({...t,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:r}=await tt(async()=>{const{FewShotPromptTemplate:n}=await import("./few_shot-CZXN65hU.js").then(async a=>(await a.__tla,a));return{FewShotPromptTemplate:n}},__vite__mapDeps([5,2,3,1,4]));return r.deserialize(t)}default:throw new Error(`Invalid prompt type in config: ${t._type}`)}}}class l_ extends vF{}class u_ extends l_{static lc_name(){return"StringPromptValue"}constructor(t){super({value:t}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=t}toString(){return this.value}toChatMessages(){return[new ps(this.value)]}}Ad=class extends c_{async formatPromptValue(e){const t=await this.format(e);return new u_(t)}};function xh(){bd.escape=e=>e}let jc,wh,jh,_h,Oh,xo,Sh,Nh;jc=e=>{const t=e.split(""),r=[],n=(o,i)=>{for(let s=i;s<t.length;s+=1)if(o.includes(t[s]))return s;return-1};let a=0;for(;a<t.length;)if(t[a]==="{"&&a+1<t.length&&t[a+1]==="{")r.push({type:"literal",text:"{"}),a+=2;else if(t[a]==="}"&&a+1<t.length&&t[a+1]==="}")r.push({type:"literal",text:"}"}),a+=2;else if(t[a]==="{"){const o=n("}",a);if(o<0)throw new Error("Unclosed '{' in template.");r.push({type:"variable",name:t.slice(a+1,o).join("")}),a=o+1}else{if(t[a]==="}")throw new Error("Single '}' in template.");{const o=n("{}",a),i=(o<0?t.slice(a):t.slice(a,o)).join("");r.push({type:"literal",text:i}),a=o<0?t.length:o}}return r},wh=e=>e.map(t=>t[0]==="name"?{type:"variable",name:t[1].includes(".")?t[1].split(".")[0]:t[1]}:["#","&","^",">"].includes(t[0])?{type:"variable",name:t[1]}:{type:"literal",text:t[1]}),jh=e=>{xh();const t=bd.parse(e);return wh(t)},_h=(e,t)=>jc(e).reduce((r,n)=>{if(n.type==="variable"){if(n.name in t)return r+t[n.name];throw new Error(`(f-string) Missing value for input ${n.name}`)}return r+n.text},""),Oh=(e,t)=>(xh(),bd.render(e,t)),xo={"f-string":_h,mustache:Oh},Sh={"f-string":jc,mustache:jh},Gr=(e,t,r)=>xo[t](e,r),Nh=(e,t)=>Sh[t](e),Td=(e,t,r)=>{if(!(t in xo)){const n=Object.keys(xo);throw new Error(`Invalid template format. Got \`${t}\`;
                         should be one of ${n}`)}try{const n=r.reduce((a,o)=>(a[o]="foo",a),{});Array.isArray(e)?e.forEach(a=>{if(a.type==="text")Gr(a.text,t,n);else if(a.type==="image_url")if(typeof a.image_url=="string")Gr(a.image_url,t,n);else{const o=a.image_url.url;Gr(o,t,n)}else throw new Error(`Invalid message template received. ${JSON.stringify(a,null,2)}`)}):Gr(e,t,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}},jr=class extends Ad{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),Td(this.template,this.templateFormat,t)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return Gr(this.template,this.templateFormat,t)}static fromExamples(e,t,r,n=`

`,a=""){const o=[a,...e,t].join(n);return new jr({inputVariables:r,template:o})}static fromTemplate(e,t){const{templateFormat:r="f-string",...n}=t??{},a=new Set;return Nh(e,r).forEach(o=>{o.type==="variable"&&a.add(o.name)}),new jr({inputVariables:[...a],templateFormat:r,template:e,...n})}async partial(e){const t=this.inputVariables.filter(a=>!(a in e)),r={...this.partialVariables??{},...e},n={...this,inputVariables:t,partialVariables:r};return new jr(n)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new jr({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}};const Eh=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:jr},Symbol.toStringTag,{value:"Module"})),Ph=(e,t,r,n=[],a)=>{const o=e.map(i=>a.getNode(i));for(const i of o){if(!i)continue;const s=a.getHandleConnections({type:"target",nodeId:i.id});if(r.push(...s),i.type===z.Thread){n.push(i.id),t.push(i);continue}else if(i.type!==z.Message){n.push(i.id);continue}else if(n.includes(i.id))continue;n.push(i.id),t.push(i),s.length&&Ph(s.map(c=>c.source),t,r,n,a)}return{nodes:t,connections:r}},Ch=(e,t)=>{const r=t.getHandleConnections({nodeId:e.id,type:"target"}),n=r.map(f=>{const p=t.getNode(f.source);return p?{connections:t.getHandleConnections({nodeId:p.id,type:"target"}),node:p}:void 0}),a=n.filter(f=>{var p;return((p=f.node)==null?void 0:p.type)===z.Prompt}),o=[];a!=null&&a.length&&a.forEach(f=>{var m;const p=(m=f.connections)==null?void 0:m.map(y=>t.getNode(y.source)).filter(Boolean);o.push({node:f.node,connections:f.connections,connectedNodes:p})});const i=n.filter(f=>{var p;return((p=f.node)==null?void 0:p.type)===z.ToolDefinition}),s=[];i!=null&&i.length&&i.forEach(f=>{var m;const p=(m=f.connections)==null?void 0:m.map(y=>t.getNode(y.source)).filter(Boolean);p!=null&&p.find(y=>y.type===z.Schema)&&s.push({node:f.node,connections:f.connections,connectedNodes:p})});const c=n.filter(f=>{var p;return((p=f.node)==null?void 0:p.type)===z.PlaceHolder}),l=[];c!=null&&c.length&&c.forEach(f=>{var m;const p=(m=f.connections)==null?void 0:m.map(y=>t.getNode(y.source)).filter(Boolean);p&&l.push({node:f.node,connections:f.connections,connectedNodes:p})});const u=n.find(f=>{var p;return((p=f.node)==null?void 0:p.type)===z.Schema});return{thread:{node:e,connections:r},llm:n.find(f=>{var p;return((p=f.node)==null?void 0:p.type)===z.LLM}),schemas:u?[u]:[],prompts:o,tools:s,placeholders:l}},kh=e=>{const t=[];return e.forEach(r=>{var o,i,s;const{node:n,connectedNodes:a}=r;if((o=n.data)!=null&&o.entity){if(n.type===z.Message){const c=n.data.entity;switch(c.role){case"human":t.push(new ps(c.content));break;case"ai":t.push(new hd(c.content));break}}else if(n.type===z.Prompt){const c=n.data.entity;let l=`${c.prefix?`${c.prefix}
`:""}`;if(c.type===ut.FewShotExample){const u=(s=(i=a.find(f=>f.type===z.CSVData))==null?void 0:i.data)==null?void 0:s.entity;if(u){const{rows:f}=ow(u.headers,u.csv);f.forEach(p=>{l+=`${c.content.replace(/{([^{}]*)}/g,(m,y)=>`${p[y]}`)}
`})}}else l+=c.content;switch(c.suffix&&(l+=`
${c.suffix}`),c.role){case"human":t.push(new ps(l));break;case"system":t.push(new gF(l));break;default:t.push(new hd(l));break}}}}),t},d_=(e,t)=>{const r=(e==null?void 0:e.filter(a=>a.type===z.Message).map(a=>({node:a,connectedNodes:[]})).reverse())||[],n=[];return t.forEach(async a=>{n.unshift({node:a.node,connectedNodes:a.connectedNodes||[]})}),{history:kh(r),systems:kh(n)}},Mh=({getNode:e,getHandleConnections:t})=>{const{t:r}=se("create_new_message"),[n,a]=v.useState(!1),o=re(y=>y.createOrUpdateFlowNode),i=re(y=>y.createOrUpdateFlowEdge),s=hs(y=>y.similaritySearchWithScore),c=gr(y=>y.getCurrentModelInfo),{stream:l}=AF(),u=v.useCallback(async({content:y,threadId:h,sourceId:g,initialX:b,initialY:w,initialLLMId:S})=>{const x=await ne("Message").save({thread_id:h,content:y,role:lt.Human,status:Ft.Started,llm_id:S});if(!x)throw new Error("Failed to save message");const j=await o({source_id:x.id,source_type:"Message",node_type:z.Message,x:b,y:w+80});if(!j)throw new Error("Failed to save human message node");await i({source:g,target:j.id});const _=await ne("Message").save({thread_id:h,content:r("initial_ai_message"),role:lt.AI,status:Ft.Inprogress,llm_id:S,parent_message_id:x.id});if(!_)throw new Error("Failed to save message");const O=await o({source_id:_.id,source_type:"Message",node_type:z.Message,x:b,y:w+250});if(!O)throw new Error("Failed to save ai message node");return await i({source:j.id,target:O.id}),{aiMessage:_,humanMessage:x,aiMessageNode:O,humanMessageNode:j}},[i,o,r]),f=v.useCallback(async(y,h)=>{const{placeholders:g}=h;if(!(g!=null&&g.length))return[];const b=[];return await Promise.all(g.map(async w=>{var x,j,_,O,P,M,C,N,T,A,D,k;const S=(x=w.node.data)==null?void 0:x.entity;if(S)switch(S.placeholder_type){case bs.VECTOR_DATABASE_RETREIVER:{const R=(j=w.connectedNodes)==null?void 0:j.find(H=>H.type===z.VectorDatabase),F=(_=R==null?void 0:R.data)==null?void 0:_.entity,U=(M=(P=(O=w.connectedNodes)==null?void 0:O.find(H=>H.type===z.Prompt))==null?void 0:P.data)==null?void 0:M.entity;if(!U||!F||!R)return;const V=(N=(C=t({nodeId:R.id,type:"target"}).map(H=>e(H.source)).find(H=>(H==null?void 0:H.type)&&[z.JSONLData,z.CSVData].includes(H==null?void 0:H.type)))==null?void 0:C.data)==null?void 0:N.entity;if(!V)return;const Q=(T=S.metadata)!=null&&T.k?+((A=S.metadata)==null?void 0:A.k):1;let q=(D=S.metadata)!=null&&D.minimalScore?+((k=S.metadata)==null?void 0:k.minimalScore):void 0;q&&q>1&&(q=q/100);const I=await s({databaseId:F.id,dataSourceId:V.id,dataSourceType:md(V)},y.humanMessage.content,Q);if(!I)return[];const Y=new jr({template:U.content,inputVariables:["context"]});b.push(new hd(await Y.format({context:q?I.filter(([,H])=>H>=q).map(([H])=>H.pageContent).join(`
`):I.map(([H])=>H.pageContent).join(`
`)})))}}})),b},[t,e,s]),p=v.useCallback(async(y,h,g,{onMessageUpdate:b})=>{const{prompts:w,tools:S,schemas:x,placeholders:j}=h,_=[];j!=null&&j.length&&_.push(...await f(y,h));const{history:O,systems:P}=d_(g,w),M=[...P,..._,...O,new ps(y.humanMessage.content)],{lastChunk:C,content:N}=await l(M,{tools:S,schemas:x,onMessageUpdate:({content:T})=>{b==null||b({id:y.aiMessageNode.id,nodeData:{loading:!0,content:T}})}});return y.aiMessage.content=N,y.aiMessage.metadata=JSON.stringify({message:C}),b==null||b({id:y.aiMessageNode.id,nodeData:{content:N,loading:!1,entity:y.aiMessage}}),y.aiMessage.id&&await ne("Message").update(y.aiMessage.id,{content:N,metadata:JSON.stringify({message:C})}),N},[f,l]),m=v.useCallback(async(y,h,g)=>{var _,O,P;const{nodes:b}=Ph([y.id],[],[],[],{getNode:e,getHandleConnections:t}),w=b.find(M=>M.type===z.Thread),S=w==null?void 0:w.data.entity;if(!y||!S||!w)throw new Error("Source or thread is not found");if(!await c())throw new Error("Model is not loaded yet");const x=Ch(w,{getNode:e,getHandleConnections:t});if(!(x!=null&&x.thread))throw new Error("Thread node is not found");let j;try{a(!0);const M=((_=y.position)==null?void 0:_.x)||0,C=(((O=y.position)==null?void 0:O.y)||0)+(((P=y.measured)==null?void 0:P.height)||0);return j=await u({content:h,initialX:M,initialY:C,sourceId:y.id,threadId:S.id,initialLLMId:S.initial_llm_id}),await p(j,x,b,g),await ne("Message").update(`${j.aiMessage.id}`,{status:Ft.Success}),j.aiMessage.status=Ft.Success,g.onMessageUpdate({id:j.aiMessageNode.id,nodeData:{entity:j.aiMessage,loading:!1}}),!0}catch{j!=null&&j.aiMessage&&await ne("Message").update(`${j.aiMessage.id}`,{status:Ft.Failed,content:r("errors.ai_message_content_failed")}),j!=null&&j.aiMessageNode.id&&(g==null||g.onMessageUpdate({id:j.aiMessageNode.id,nodeData:{content:r("errors.ai_message_content_failed"),loading:!1}}))}finally{a(!1)}},[c,t,e,u,p,r]);return{loading:n,createMessage:m}},f_=(e,t)=>{const r=Xe(e),{t:n}=se("flows"),{getNode:a,getHandleConnections:o}=rr(),i=re(p=>p.updateNodes),{createMessage:s,loading:c}=Mh({getNode:a,getHandleConnections:o}),l=v.useCallback(p=>{if(!p.id)return;const m=a(p.id);!m||!p.nodeData||i([{id:m.id,type:"replace",item:{...m,data:{...m.data,...pw(p.nodeData,hw)}}}])},[a,i]),u=v.useCallback(async p=>{if(r&&t.entity)try{await s(r,p,{onMessageUpdate:l})}catch(m){if(m instanceof Error&&m.message.includes("LLM_NOT_LOADED_YET"))return Vn({variant:"destructive",title:n("thread_node.errors.llm_not_loaded_yet")});Vn({variant:"destructive",title:`${m}`})}},[r,t.entity,s,l,n]),f=v.useCallback(p=>{const m=a(p);if(!m)return[];const y=[],h=Ch(m,{getNode:a,getHandleConnections:o});return h.thread&&y.push({node:h.thread.node,connectedNodes:[],connections:h.thread.connections}),h.prompts&&y.push(...h.prompts.map(g=>({node:g.node,connectedNodes:g.connectedNodes,connections:g.connections}))),h.schemas&&y.push(...h.schemas.map(g=>({node:g.node,connectedNodes:[],connections:g.connections}))),h.placeholders&&y.push(...h.placeholders.map(g=>({node:g.node,connectedNodes:[],connections:g.connections}))),h.llm&&y.push(h.llm),y},[o,a]);return{loading:c,createMessage:u,getLinkedConnections:f}},p_=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===z.Prompt&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===z.LLM&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===z.Schema&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});const s=o.data.entity,c=o.data.entity;await ne("Thread").update(s.id,{schema_id:c.id});return}else if((a==null?void 0:a.type)===z.ToolDefinition&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===z.VectorDatabase&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===z.PlaceHolder&&(o==null?void 0:o.type)===z.Thread&&a.data.entity.placeholder_type===bs.VECTOR_DATABASE_RETREIVER){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},h_=v.memo(e=>{const{id:t,data:r,isConnectable:n}=e,{t:a}=se("flows"),[o,i]=v.useState(!1),s=gs({type:"source"}),c=gs({type:"target"}),{getNode:l}=rr(),{loading:u,createMessage:f,getLinkedConnections:p}=f_(t,r);p_(t);const m=v.useCallback(async(...b)=>(i(!1),await f(...b)),[f]),y=v.useMemo(()=>s.length>0,[s]),h=v.useCallback(()=>{i(b=>!b)},[]),g=v.useMemo(()=>{var w,S;const b=c.map((x,j)=>{var O;const _=l(x.source);if((_==null?void 0:_.type)===z.Schema)return d.jsx(Kr,{children:a("thread_node.structured_output")},`${j}`);if((_==null?void 0:_.type)===z.Prompt){const P=_.data.entity;return d.jsx(Kr,{children:a(P.type===ut.FewShotExample?"thread_node.prompts.few_shot_example":`thread_node.prompts.${P.role.toLowerCase()}`)},`${j}`)}else if((_==null?void 0:_.type)===z.PlaceHolder&&((O=_.data.entity)==null?void 0:O.placeholder_type)===bs.VECTOR_DATABASE_RETREIVER)return d.jsx(Kr,{children:a("thread_node.vector_database_retriever")},`${j}`)}).filter(Boolean);return e.data.entity&&!((S=(w=e.data.entity)==null?void 0:w.messages)!=null&&S.length)&&!y?d.jsx(bo,{disabled:u,loading:u,onSubmit:m,tags:b}):b!=null&&b.length?d.jsxs(De,{className:"p-4 pt-2",children:[d.jsx(at,{className:"mb-2",children:a("thread_node.title")}),d.jsx("div",{className:"flex gap-1.5",children:b}),d.jsx("div",{className:"mt-4 w-full flex justify-end",children:d.jsxs(Te,{onClick:h,variant:"outline",children:[d.jsx(te,{name:o?"copy-minus":"copy-plus"}),a(o?"thread_node.hide":"thread_node.clone")]})})]}):d.jsx("div",{className:"w-12 h-10"})},[y,l,m,h,u,e.data.entity,o,a,c]);return d.jsxs("div",{children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),d.jsxs("div",{children:[d.jsx(Ve,{id:t,enableToStandalone:!0,getLinkedConnections:p}),g,o?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),d.jsx("div",{className:"absolute mt-[30px] w-full",children:d.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:d.jsx(bo,{disabled:u,loading:u,onSubmit:m})})})]}):void 0]}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})});function m_({data:e,onNewThread:t,loading:r,showThread:n}){var o;const{t:a}=se("flows");return d.jsxs(br,{className:"flex min-w-52",children:[d.jsx(te,{size:24,name:"user"}),d.jsxs("div",{className:"ml-2 max-w-full w-full",children:[d.jsx(xr,{children:"Human"}),d.jsx(to,{children:`${e.content||((o=e.entity)==null?void 0:o.content)||""}`}),t?d.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:d.jsxs(Te,{onClick:t,disabled:r,variant:"outline",children:[d.jsx(te,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]})]})}const y_=v.lazy(()=>tt(()=>import("./index-95am0tNA.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([6,7,2,3,8,9])));function v_({data:e,onNewThread:t,loading:r,showThread:n}){var i,s,c,l,u,f,p,m;const{t:a}=se("flows"),o=v.useMemo(()=>{var y;try{return JSON.parse(((y=e==null?void 0:e.entity)==null?void 0:y.metadata)||"{}")}catch{return{}}},[(i=e==null?void 0:e.entity)==null?void 0:i.metadata]);return d.jsxs(br,{className:"flex min-w-52",children:[d.jsx(te,{className:X(e.loading?"animate-spin":void 0),size:24,name:e.loading?"loader-circle":"bot"}),d.jsx(te,{name:n?"minus":"plus",size:24}),d.jsxs("div",{className:"ml-2 w-full max-w-full",children:[d.jsx(xr,{children:a(`message_node.message_roles.${(c=(s=e.entity)==null?void 0:s.role)==null?void 0:c.toLowerCase()}`)}),d.jsx(v.Suspense,{fallback:d.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:d.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:d.jsx(y_,{className:"!text-sm [&_p]:leading-relaxed !max-w-full !bg-transparent !text-inherit !font-sans",source:`${e.content||((l=e.entity)==null?void 0:l.content)||""}`})}),Array.isArray((u=o==null?void 0:o.message)==null?void 0:u.tool_calls)&&((p=(f=o==null?void 0:o.message)==null?void 0:f.tool_calls)!=null&&p.length)?(m=o==null?void 0:o.message)==null?void 0:m.tool_calls.map((y,h)=>d.jsx(Kr,{children:a("message_node.tool_call",{name:y.name,args:Object.entries(y.args).map(([g,b])=>`"${g}": "${b}"`).join(", ")})},`${y.name}_${h}`)):null,t?d.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:d.jsxs(Te,{onClick:t,disabled:r,variant:"outline",children:[d.jsx(te,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]}),e.loading?d.jsx(go,{size:350,duration:10}):void 0]})}const g_=e=>{const{t}=se("flows"),r=Xe(e),n=re(u=>u.updateNodes),{getNode:a,getHandleConnections:o}=rr(),{createMessage:i,loading:s}=Mh({getNode:a,getHandleConnections:o}),c=v.useCallback(u=>{if(!u.id)return;const f=a(u.id);!f||!u.nodeData||n([{id:f.id,type:"replace",item:{...f,data:{...f.data,...pw(u.nodeData,hw)}}}])},[a,n]),l=v.useCallback(async u=>{if(r)try{await i(r,u,{onMessageUpdate:c})}catch(f){if(f instanceof Error&&f.message.includes("LLM_NOT_LOADED_YET"))return Vn({variant:"destructive",title:t("message_node.errors.llm_not_loaded_yet")});Vn({variant:"destructive",title:t("message_node.errors.create_message")})}},[r,t,i,c]);return{loading:s,createMessage:l}},Ah=()=>{const e=re(r=>r.createOrUpdateFlowNode),t=re(r=>r.createOrUpdateFlowEdge);return{createIdieMessage:v.useCallback(async(r,n,a,o)=>{var m,y,h,g,b;if(!r||!n)return;const i=(y=(m=o==null?void 0:o.promptNode)==null?void 0:m.data)==null?void 0:y.entity,s=((h=r.position)==null?void 0:h.x)||0,c=(((g=r.position)==null?void 0:g.y)||0)+(((b=r.measured)==null?void 0:b.height)||0),l=await ne("Message").save({thread_id:n.id,content:a,role:(i==null?void 0:i.role)||lt.Human,status:Ft.Started,llm_id:n.initial_llm_id});if(!l)throw new Error("Failed to save message");const u=await e({source_id:l.id,source_type:"Message",node_type:z.Message,x:s,y:c});if(!u)throw new Error("Failed to save message node");const f=await t({source:r.id,target:u.id});let p;return o!=null&&o.promptNode&&(p=await t({source:o==null?void 0:o.promptNode.id,target:u.id})),{message:l,edgeToPrompt:p,messageNode:u,messageEdge:f}},[e,t])}},b_=e=>{const{createIdieMessage:t}=Ah(),r=v.useCallback(async({edgeId:n,source:a,target:o})=>{var i,s;try{if((a==null?void 0:a.type)===z.Prompt&&(o==null?void 0:o.type)===z.Message){const c=(i=o==null?void 0:o.data)==null?void 0:i.entity,l=(s=a==null?void 0:a.data)==null?void 0:s.entity;if(!l||!c||!o)return{deleteEdgeId:n};await t(o,{id:c==null?void 0:c.thread_id,title:"",status:ao.Started,initial_llm_id:c.llm_id,session_id:l.session_id},l.content,{promptNode:a});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},x_=v.memo(e=>{var S,x,j;const{id:t,data:r,isConnectable:n}=e,[a,o]=v.useState(!1),[i,s]=v.useState(!1),{t:c}=se("common"),l=gs({type:"source"}),{loading:u,createMessage:f}=g_(t),{toast:p}=ct();b_(t);const m=v.useCallback(async(..._)=>{const O=await f(..._);return o(!1),O},[f]),y=v.useMemo(()=>l.length===0,[l]),h=v.useCallback(()=>{var _;(_=r.entity)!=null&&_.content&&(navigator.clipboard.writeText(r.entity.content),p({description:c("copied")}))},[p,r,c]),g=v.useCallback(async()=>{var _;try{if(i)return await iw.stop(),s(!1);s(!0),await iw.speak(((_=r.entity)==null?void 0:_.content)||"")}catch{p({variant:"destructive",description:c("errors.speech_is_not_supported")})}finally{s(!1)}},[(S=r.entity)==null?void 0:S.content,i,c,p]),b=v.useCallback(()=>{o(_=>!_)},[]),w=v.useMemo(()=>{var _;if(!(!y&&!a||r.loading||u||((_=r==null?void 0:r.entity)==null?void 0:_.status)==="inprogress"))return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),d.jsx("div",{className:"absolute mt-[30px] w-full",children:d.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:d.jsx(bo,{disabled:u,loading:u,onSubmit:m})})})]})},[(x=r==null?void 0:r.entity)==null?void 0:x.status,r.loading,m,y,u,a]);return d.jsxs("div",{children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),d.jsxs("div",{className:"max-w-sm min-w-64",children:[d.jsxs("div",{className:"w-auto",children:[d.jsx(Ve,{id:t}),d.jsx("div",{children:((j=r.entity)==null?void 0:j.role)===lt.Human?d.jsx(m_,{data:r,showThread:a,onNewThread:y?void 0:b}):d.jsx(v_,{data:r,showThread:a,loading:u,onNewThread:y?void 0:b})}),d.jsx(Te,{onClick:g,className:"absolute top-0 right-[68px] !px-2 !rounded-none",variant:"ghost",children:d.jsx(te,{name:i?"circle-stop":"speech",size:16})}),d.jsx(Te,{onClick:h,className:"absolute top-0 right-[36px] !px-2 !rounded-none",variant:"ghost",children:d.jsx(te,{name:"copy",size:16})})]}),w]}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),Th=fs(({title:e,content:t})=>{const r=tr();return d.jsx(Ss,{open:r.visible,onOpenChange:r.hide,children:d.jsxs(Ns,{className:"sm:max-w-2xl",children:[d.jsx(Es,{children:d.jsxs("div",{className:"flex",children:[d.jsx(te,{name:"file",className:"mr-2 h-4 w-4"}),d.jsx(Ps,{children:e})]})}),d.jsx("div",{className:"mx-auto w-full min-h-96 max-h-96 overflow-hidden",children:d.jsx("div",{className:"relative w-full h-full overflow-hidden rounded-xl p-1 border border-border",children:d.jsx("pre",{className:"break-all h-full overflow-y-auto bg-background font-mono text-xs w-full",children:t})})})]})})}),w_=e=>{const t=re(a=>a.createOrUpdateFlowEdge),{createIdieMessage:r}=Ah(),n=v.useCallback(async({edgeId:a,source:o,target:i})=>{var s,c,l,u;try{const f=(s=i==null?void 0:i.data)==null?void 0:s.entity,p=(c=o==null?void 0:o.data)==null?void 0:c.entity;if((o==null?void 0:o.type)===z.Message&&(i==null?void 0:i.type)===z.Prompt){const m=(l=o==null?void 0:o.data)==null?void 0:l.entity,y=(u=i==null?void 0:i.data)==null?void 0:u.entity;if(!y||!m||!i)return{deleteEdgeId:a};await r(o,{id:m==null?void 0:m.thread_id,title:"",status:ao.Started,initial_llm_id:m.llm_id,session_id:y.session_id},y.content,{promptNode:i});return}else if((o==null?void 0:o.type)===z.CSVData&&(i==null?void 0:i.type)===z.Prompt&&(f==null?void 0:f.type)===ut.FewShotExample&&(p!=null&&p.headers.includes("input"))&&(p!=null&&p.headers.includes("output"))){await t({source:o.id,target:i.id});return}return{deleteEdgeId:a}}catch{return{deleteEdgeId:a}}},[r,t]);nt(e,n)},j_=v.memo(e=>{var l,u,f;const{id:t,data:r,isConnectable:n}=e;w_(t);const a=tr(Th),o=v.useMemo(()=>{var p,m,y;return`${(p=r.entity)!=null&&p.prefix?`${(m=r.entity)==null?void 0:m.prefix}
`:""}${((y=r.entity)==null?void 0:y.content)||""}`},[(l=r.entity)==null?void 0:l.prefix,(u=r.entity)==null?void 0:u.content]),i=v.useMemo(()=>{var m;const p=/{(.*?)}/g;return((m=o.match(p))==null?void 0:m.map(y=>y.replace("{","").replace("}","")))||[]},[o]),s=o.length>990,c=()=>{a.show({title:"Prompt",content:o})};return d.jsxs("div",{className:"min-w-56",children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),d.jsxs("div",{children:[d.jsx(Ve,{id:t}),d.jsxs(br,{className:"flex justify-center max-w-72",variant:"default",children:[d.jsx(te,{size:24,name:"notepad-text"}),d.jsxs("div",{className:"ml-2 max-w-full break-words break-all",children:[d.jsx(xr,{children:`${((f=r.entity)==null?void 0:f.role)||""}`}),d.jsxs(to,{onClick:s?c:void 0,children:[s?`${o.slice(0,990)}...`:o,s?d.jsx("span",{className:"float-right",children:d.jsx(te,{name:"chevron-right"})}):void 0]}),i!=null&&i.length?i.map((p,m)=>d.jsx(Kr,{className:"mt-2 mr-1",variant:"default",children:p},m)):void 0]})]})]}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})});function __(e){return e==null}var O_=__;const ve=Ne(O_);var S_=xs,N_=Hn,E_=ws,P_="[object String]";function C_(e){return typeof e=="string"||!N_(e)&&E_(e)&&S_(e)==P_}var k_=C_;const ta=Ne(k_);var Dh={exports:{}},xe={},_c=Symbol.for("react.element"),Oc=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),jo=Symbol.for("react.strict_mode"),_o=Symbol.for("react.profiler"),Oo=Symbol.for("react.provider"),So=Symbol.for("react.context"),M_=Symbol.for("react.server_context"),No=Symbol.for("react.forward_ref"),Eo=Symbol.for("react.suspense"),Po=Symbol.for("react.suspense_list"),Co=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),A_=Symbol.for("react.offscreen"),Ih;Ih=Symbol.for("react.module.reference");function mt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _c:switch(e=e.type,e){case wo:case _o:case jo:case Eo:case Po:return e;default:switch(e=e&&e.$$typeof,e){case M_:case So:case No:case ko:case Co:case Oo:return e;default:return t}}case Oc:return t}}}xe.ContextConsumer=So,xe.ContextProvider=Oo,xe.Element=_c,xe.ForwardRef=No,xe.Fragment=wo,xe.Lazy=ko,xe.Memo=Co,xe.Portal=Oc,xe.Profiler=_o,xe.StrictMode=jo,xe.Suspense=Eo,xe.SuspenseList=Po,xe.isAsyncMode=function(){return!1},xe.isConcurrentMode=function(){return!1},xe.isContextConsumer=function(e){return mt(e)===So},xe.isContextProvider=function(e){return mt(e)===Oo},xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_c},xe.isForwardRef=function(e){return mt(e)===No},xe.isFragment=function(e){return mt(e)===wo},xe.isLazy=function(e){return mt(e)===ko},xe.isMemo=function(e){return mt(e)===Co},xe.isPortal=function(e){return mt(e)===Oc},xe.isProfiler=function(e){return mt(e)===_o},xe.isStrictMode=function(e){return mt(e)===jo},xe.isSuspense=function(e){return mt(e)===Eo},xe.isSuspenseList=function(e){return mt(e)===Po},xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wo||e===_o||e===jo||e===Eo||e===Po||e===A_||typeof e=="object"&&e!==null&&(e.$$typeof===ko||e.$$typeof===Co||e.$$typeof===Oo||e.$$typeof===So||e.$$typeof===No||e.$$typeof===Ih||e.getModuleId!==void 0)},xe.typeOf=mt,Dh.exports=xe;var T_=Dh.exports,D_=xs,I_=ws,R_="[object Number]";function L_(e){return typeof e=="number"||I_(e)&&D_(e)==R_}var Rh=L_;const B_=Ne(Rh);var F_=Rh;function z_(e){return F_(e)&&e!=+e}var $_=z_;const ra=Ne($_);var Nt=function(e){return e===0?0:e>0?1:-1},Pr=function(e){return ta(e)&&e.indexOf("%")===e.length-1},K=function(e){return B_(e)&&!ra(e)},Ie=function(e){return K(e)||ta(e)},U_=0,Mo=function(e){var t=++U_;return"".concat(e||"").concat(t)},Cr=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!K(e)&&!ta(e))return r;var a;if(Pr(e)){var o=e.indexOf("%");a=t*parseFloat(e.slice(0,o))/100}else a=+e;return ra(a)&&(a=r),n&&a>t&&(a=t),a},cr=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},V_=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},nn=function(e,t){return K(e)&&K(t)?function(r){return e+r*(t-e)}:function(){return t}};function Sc(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):_t(n,t))===r})}function an(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}var H_=["viewBox","children"],q_=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lh=["points","pathLength"],Ec={svg:H_,polygon:Lh,polyline:Lh},Pc=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ao=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),!qn(r))return null;var n={};return Object.keys(r).forEach(function(a){Pc.includes(a)&&(n[a]=t||function(o){return r[a](r,o)})}),n},W_=function(e,t,r){return function(n){return e(t,r,n),null}},To=function(e,t,r){if(!qn(e)||Nc(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(a){var o=e[a];Pc.includes(a)&&typeof o=="function"&&(n||(n={}),n[a]=W_(o,t,r))}),n},X_=["children"],K_=["children"];function Bh(e,t){if(e==null)return{};var r=G_(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G_(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fh={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ht=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},zh=null,Cc=null,kc=function e(t){if(t===zh&&Array.isArray(Cc))return Cc;var r=[];return v.Children.forEach(t,function(n){ve(n)||(T_.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Cc=r,zh=t,r};function Et(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ht(a)}):n=[Ht(t)],kc(e).forEach(function(a){var o=_t(a,"type.displayName")||_t(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function dt(e,t){var r=Et(e,t);return r&&r[0]}var $h=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!K(r)||r<=0||!K(n)||n<=0)},Y_=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],J_=function(e){return e&&e.type&&ta(e.type)&&Y_.indexOf(e.type)>=0},Z_=function(e,t,r,n){var a,o=(a=Ec==null?void 0:Ec[n])!==null&&a!==void 0?a:[];return!de(e)&&(n&&o.includes(t)||q_.includes(t))||r&&Pc.includes(t)},ye=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!qn(n))return null;var a={};return Object.keys(n).forEach(function(o){var i;Z_((i=n)===null||i===void 0?void 0:i[o],o,t,r)&&(a[o]=n[o])}),a},Mc=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Uh(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Uh(o,i))return!1}return!0},Uh=function(e,t){if(ve(e)&&ve(t))return!0;if(!ve(e)&&!ve(t)){var r=e.props||{},n=r.children,a=Bh(r,X_),o=t.props||{},i=o.children,s=Bh(o,K_);return n&&i?an(a,s)&&Mc(n,i):!n&&!i?an(a,s):!1}return!1},Vh=function(e,t){var r=[],n={};return kc(e).forEach(function(a,o){if(J_(a))r.push(a);else if(a){var i=Ht(a.type),s=t[i]||{},c=s.handler,l=s.once;if(c&&(!l||!n[i])){var u=c(a,i,o);r.push(u),n[i]=!0}}}),r},Q_=function(e){var t=e&&e.type;return t&&Fh[t]?Fh[t]:null},eO=function(e,t){return kc(t).indexOf(e)},tO=["children","width","height","viewBox","className","style","title","desc"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac.apply(this,arguments)}function rO(e,t){if(e==null)return{};var r=nO(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tc(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,c=e.desc,l=rO(e,tO),u=a||{width:r,height:n,x:0,y:0},f=ge("recharts-surface",o);return E.createElement("svg",Ac({},ye(l,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),E.createElement("title",null,s),E.createElement("desc",null,c),t)}var aO=["children","className"];function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(this,arguments)}function oO(e,t){if(e==null)return{};var r=iO(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Be=E.forwardRef(function(e,t){var r=e.children,n=e.className,a=oO(e,aO),o=ge("recharts-layer",n);return E.createElement("g",Dc({className:o},ye(a,!0),{ref:t}),r)}),qt=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function sO(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}let Hh;As=sO,Hh=As;function cO(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Hh(e,t,r)}var lO=cO,uO="\uD800-\uDFFF",dO="\\u0300-\\u036f",fO="\\ufe20-\\ufe2f",pO="\\u20d0-\\u20ff",hO=dO+fO+pO,mO="\\ufe0e\\ufe0f",yO="\\u200d",vO=RegExp("["+yO+uO+hO+mO+"]");function gO(e){return vO.test(e)}var qh=gO;function bO(e){return e.split("")}var xO=bO,Wh="\uD800-\uDFFF",wO="\\u0300-\\u036f",jO="\\ufe20-\\ufe2f",_O="\\u20d0-\\u20ff",OO=wO+jO+_O,SO="\\ufe0e\\ufe0f",NO="["+Wh+"]",Ic="["+OO+"]",Rc="\uD83C[\uDFFB-\uDFFF]",EO="(?:"+Ic+"|"+Rc+")",Xh="[^"+Wh+"]",Kh="(?:\uD83C[\uDDE6-\uDDFF]){2}",Gh="[\uD800-\uDBFF][\uDC00-\uDFFF]",PO="\\u200d",Yh=EO+"?",Jh="["+SO+"]?",CO="(?:"+PO+"(?:"+[Xh,Kh,Gh].join("|")+")"+Jh+Yh+")*",kO=Jh+Yh+CO,MO="(?:"+[Xh+Ic+"?",Ic,Kh,Gh,NO].join("|")+")",AO=RegExp(Rc+"(?="+Rc+")|"+MO+kO,"g");function TO(e){return e.match(AO)||[]}var DO=TO,IO=xO,RO=qh,LO=DO;function BO(e){return RO(e)?LO(e):IO(e)}var FO=BO,zO=lO,$O=qh,UO=FO,VO=TF;function HO(e){return function(t){t=VO(t);var r=$O(t)?UO(t):void 0,n=r?r[0]:t.charAt(0),a=r?zO(r,1).join(""):t.slice(1);return n[e]()+a}}var qO=HO,WO=qO,XO=WO("toUpperCase"),KO=XO;const Do=Ne(KO);function Oe(e){return function(){return e}}const Zh=Math.cos,Io=Math.sin,Pt=Math.sqrt,Ro=Math.PI,Lo=2*Ro,Lc=Math.PI,Bc=2*Lc,kr=1e-6,GO=Bc-kr;function Qh(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function YO(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Qh;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class JO{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Qh:YO(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,c=n-t,l=a-r,u=i-t,f=s-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>kr)if(!(Math.abs(f*c-l*u)>kr)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,y=a-s,h=c*c+l*l,g=m*m+y*y,b=Math.sqrt(h),w=Math.sqrt(p),S=o*Math.tan((Lc-Math.acos((h+p-g)/(2*b*w)))/2),x=S/w,j=S/b;Math.abs(x-1)>kr&&this._append`L${t+x*u},${r+x*f}`,this._append`A${o},${o},0,0,${+(f*m>u*y)},${this._x1=t+j*c},${this._y1=r+j*l}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),l=t+s,u=r+c,f=1^i,p=i?a-o:o-a;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>kr||Math.abs(this._y1-u)>kr)&&this._append`L${l},${u}`,n&&(p<0&&(p=p%Bc+Bc),p>GO?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=l},${this._y1=u}`:p>kr&&this._append`A${n},${n},0,${+(p>=Lc)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Fc(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new JO(t)}function zc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function em(e){this._context=e}em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bo(e){return new em(e)}function tm(e){return e[0]}function rm(e){return e[1]}function nm(e,t){var r=Oe(!0),n=null,a=Bo,o=null,i=Fc(s);e=typeof e=="function"?e:e===void 0?tm:Oe(e),t=typeof t=="function"?t:t===void 0?rm:Oe(t);function s(c){var l,u=(c=zc(c)).length,f,p=!1,m;for(n==null&&(o=a(m=i())),l=0;l<=u;++l)!(l<u&&r(f=c[l],l,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(f,l,c),+t(f,l,c));if(m)return o=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Oe(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Oe(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Oe(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(o=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=o=null:o=a(n=c),s):n},s}function Fo(e,t,r){var n=null,a=Oe(!0),o=null,i=Bo,s=null,c=Fc(l);e=typeof e=="function"?e:e===void 0?tm:Oe(+e),t=typeof t=="function"?t:Oe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?rm:Oe(+r);function l(f){var p,m,y,h=(f=zc(f)).length,g,b=!1,w,S=new Array(h),x=new Array(h);for(o==null&&(s=i(w=c())),p=0;p<=h;++p){if(!(p<h&&a(g=f[p],p,f))===b)if(b=!b)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=m;--y)s.point(S[y],x[y]);s.lineEnd(),s.areaEnd()}b&&(S[p]=+e(g,p,f),x[p]=+t(g,p,f),s.point(n?+n(g,p,f):S[p],r?+r(g,p,f):x[p]))}if(w)return s=null,w+""||null}function u(){return nm().defined(a).curve(i).context(o)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:Oe(+f),n=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Oe(+f),l):e},l.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Oe(+f),l):n},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:Oe(+f),r=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Oe(+f),l):t},l.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Oe(+f),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(n).y(t)},l.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Oe(!!f),l):a},l.curve=function(f){return arguments.length?(i=f,o!=null&&(s=i(o)),l):i},l.context=function(f){return arguments.length?(f==null?o=s=null:s=i(o=f),l):o},l}class am{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ZO(e){return new am(e,!0)}function QO(e){return new am(e,!1)}const $c={draw(e,t){const r=Pt(t/Ro);e.moveTo(r,0),e.arc(0,0,r,0,Lo)}},eS={draw(e,t){const r=Pt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},om=Pt(1/3),tS=om*2,rS={draw(e,t){const r=Pt(t/tS),n=r*om;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nS={draw(e,t){const r=Pt(t),n=-r/2;e.rect(n,n,r,r)}},aS=.8908130915292852,im=Io(Ro/10)/Io(7*Ro/10),oS=Io(Lo/10)*im,iS=-Zh(Lo/10)*im,sS={draw(e,t){const r=Pt(t*aS),n=oS*r,a=iS*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Lo*o/5,s=Zh(i),c=Io(i);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},Uc=Pt(3),cS={draw(e,t){const r=-Pt(t/(Uc*3));e.moveTo(0,r*2),e.lineTo(-Uc*r,-r),e.lineTo(Uc*r,-r),e.closePath()}},yt=-.5,vt=Pt(3)/2,Vc=1/Pt(12),lS=(Vc/2+1)*3,uS={draw(e,t){const r=Pt(t/lS),n=r/2,a=r*Vc,o=n,i=r*Vc+r,s=-o,c=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,c),e.lineTo(yt*n-vt*a,vt*n+yt*a),e.lineTo(yt*o-vt*i,vt*o+yt*i),e.lineTo(yt*s-vt*c,vt*s+yt*c),e.lineTo(yt*n+vt*a,yt*a-vt*n),e.lineTo(yt*o+vt*i,yt*i-vt*o),e.lineTo(yt*s+vt*c,yt*c-vt*s),e.closePath()}};function dS(e,t){let r=null,n=Fc(a);e=typeof e=="function"?e:Oe(e||$c),t=typeof t=="function"?t:Oe(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Oe(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Oe(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function zo(){}function $o(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function sm(e){this._context=e}sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$o(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$o(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fS(e){return new sm(e)}function cm(e){this._context=e}cm.prototype={areaStart:zo,areaEnd:zo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$o(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pS(e){return new cm(e)}function lm(e){this._context=e}lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$o(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hS(e){return new lm(e)}function um(e){this._context=e}um.prototype={areaStart:zo,areaEnd:zo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mS(e){return new um(e)}function dm(e){return e<0?-1:1}function fm(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(dm(o)+dm(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function pm(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Hc(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Uo(e){this._context=e}Uo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hc(this,this._t0,pm(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hc(this,pm(this,r=fm(this,e,t)),r);break;default:Hc(this,this._t0,r=fm(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hm(e){this._context=new mm(e)}(hm.prototype=Object.create(Uo.prototype)).point=function(e,t){Uo.prototype.point.call(this,t,e)};function mm(e){this._context=e}mm.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function yS(e){return new Uo(e)}function vS(e){return new hm(e)}function ym(e){this._context=e}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=vm(e),a=vm(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function vm(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function gS(e){return new ym(e)}function Vo(e,t){this._context=e,this._t=t}Vo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bS(e){return new Vo(e,.5)}function xS(e){return new Vo(e,0)}function wS(e){return new Vo(e,1)}function on(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function qc(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function jS(e,t){return e[t]}function _S(e){const t=[];return t.key=e,t}function OS(){var e=Oe([]),t=qc,r=on,n=jS;function a(o){var i=Array.from(e.apply(this,arguments),_S),s,c=i.length,l=-1,u;for(const f of o)for(s=0,++l;s<c;++s)(i[s][l]=[0,+n(f,i[s].key,l,o)]).data=f;for(s=0,u=zc(t(i));s<c;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Oe(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Oe(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?qc:typeof o=="function"?o:Oe(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??on,a):r},a}function SS(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}on(e,t)}}function NS(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}on(e,t)}}function ES(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],f=u[n][1]||0,p=u[n-1][1]||0,m=(f-p)/2,y=0;y<s;++y){var h=e[t[y]],g=h[n][1]||0,b=h[n-1][1]||0;m+=g-b}c+=f,l+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=l/c)}a[n-1][1]+=a[n-1][0]=r,on(e,t)}}function na(e){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(e)}var PS=["type","size","sizeType"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(this,arguments)}function gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gm(Object(r),!0).forEach(function(n){CS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CS(e,t,r){return t=kS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kS(e){var t=MS(e,"string");return na(t)=="symbol"?t:t+""}function MS(e,t){if(na(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AS(e,t){if(e==null)return{};var r=TS(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TS(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xm={symbolCircle:$c,symbolCross:eS,symbolDiamond:rS,symbolSquare:nS,symbolStar:sS,symbolTriangle:cS,symbolWye:uS},DS=Math.PI/180,IS=function(e){var t="symbol".concat(Do(e));return xm[t]||$c},RS=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*DS;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},LS=function(e,t){xm["symbol".concat(Do(e))]=t},Xc=function(e){var t=e.type,r=t===void 0?"circle":t,n=e.size,a=n===void 0?64:n,o=e.sizeType,i=o===void 0?"area":o,s=AS(e,PS),c=bm(bm({},s),{},{type:r,size:a,sizeType:i}),l=function(){var y=IS(r),h=dS().type(y).size(RS(a,i,r));return h()},u=c.className,f=c.cx,p=c.cy,m=ye(c,!0);return f===+f&&p===+p&&a===+a?E.createElement("path",Wc({},m,{className:ge("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(p,")"),d:l()})):null};Xc.registerSymbol=LS;function sn(e){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(e)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(this,arguments)}function wm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wm(Object(r),!0).forEach(function(n){aa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_m(n.key),n)}}function $S(e,t,r){return t&&zS(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function US(e,t,r){return t=Ho(t),VS(e,jm()?Reflect.construct(t,r||[],Ho(e).constructor):t.apply(e,r))}function VS(e,t){if(t&&(sn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HS(e)}function HS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jm=function(){return!!e})()}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function qS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gc(e,t)}function Gc(e,t){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Gc(e,t)}function aa(e,t,r){return t=_m(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _m(e){var t=WS(e,"string");return sn(t)=="symbol"?t:t+""}function WS(e,t){if(sn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gt=32,Yc=function(e){function t(){return FS(this,t),US(this,t,arguments)}return qS(t,e),$S(t,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,a=gt/2,o=gt/6,i=gt/3,s=r.inactive?n:r.color;if(r.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:gt,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(gt,"M").concat(2*i,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return E.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(gt/8,"h").concat(gt,"v").concat(gt*3/4,"h").concat(-gt,"z"),className:"recharts-legend-icon"});if(E.isValidElement(r.legendIcon)){var c=BS({},r);return delete c.legendIcon,E.cloneElement(r.legendIcon,c)}return E.createElement(Xc,{fill:s,cx:a,cy:a,size:gt,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,a=n.payload,o=n.iconSize,i=n.layout,s=n.formatter,c=n.inactiveColor,l={x:0,y:0,width:gt,height:gt},u={display:i==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var y=p.formatter||s,h=ge(aa(aa({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=de(p.value)?null:p.value;qt(!de(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return E.createElement("li",Kc({className:h,style:u,key:"legend-item-".concat(m)},To(r.props,p,m)),E.createElement(Tc,{width:o,height:o,viewBox:l,style:f},r.renderIcon(p)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(g,p,m):g))})}},{key:"render",value:function(){var r=this.props,n=r.payload,a=r.layout,o=r.align;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}(v.PureComponent);aa(Yc,"displayName","Legend"),aa(Yc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function XS(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Om=XS;function KS(e){return e!==e}var GS=KS;function YS(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var JS=YS,ZS=Om,QS=GS,eN=JS;function tN(e,t,r){return t===t?eN(e,t,r):ZS(e,QS,r)}var rN=tN,nN=rN;function aN(e,t){var r=e==null?0:e.length;return!!r&&nN(e,t,0)>-1}var oN=aN;function iN(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var sN=iN;function cN(){}var lN=cN,Jc=DF,uN=lN,dN=mw,fN=1/0,pN=Jc&&1/dN(new Jc([,-0]))[1]==fN?function(e){return new Jc(e)}:uN,hN=pN,mN=IF,yN=oN,vN=sN,gN=RF,bN=hN,xN=mw,wN=200;function jN(e,t,r){var n=-1,a=yN,o=e.length,i=!0,s=[],c=s;if(r)i=!1,a=vN;else if(o>=wN){var l=t?null:bN(e);if(l)return xN(l);i=!1,a=gN,c=new mN}else c=t?[]:s;e:for(;++n<o;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,i&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),s.push(u)}else a(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var _N=jN,ON=wr,SN=_N;function NN(e,t){return e&&e.length?SN(e,ON(t)):[]}var EN=NN;const Sm=Ne(EN);function Nm(e,t,r){return t===!0?Sm(e,r):de(t)?Sm(e,t):e}function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(e)}var PN=["ref"];function Em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Em(Object(r),!0).forEach(function(n){Wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Em(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,km(n.key),n)}}function kN(e,t,r){return t&&Pm(e.prototype,t),r&&Pm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MN(e,t,r){return t=qo(t),AN(e,Cm()?Reflect.construct(t,r||[],qo(e).constructor):t.apply(e,r))}function AN(e,t){if(t&&(cn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TN(e)}function TN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cm=function(){return!!e})()}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qo(e)}function DN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zc(e,t)}function Zc(e,t){return Zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zc(e,t)}function Wo(e,t,r){return t=km(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function km(e){var t=IN(e,"string");return cn(t)=="symbol"?t:t+""}function IN(e,t){if(cn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RN(e,t){if(e==null)return{};var r=LN(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LN(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BN(e){return e.value}function FN(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var r=RN(t,PN);return E.createElement(Yc,r)}var Mm=1,ln=function(e){function t(){var r;CN(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=MN(this,t,[].concat(a)),Wo(r,"lastBoundingBox",{width:-1,height:-1}),r}return DN(t,e),kN(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>Mm||Math.abs(n.height-this.lastBoundingBox.height)>Mm)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wt({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,a=n.layout,o=n.align,i=n.verticalAlign,s=n.margin,c=n.chartWidth,l=n.chartHeight,u,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();u={left:((c||0)-p.width)/2}}else u=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(i==="middle"){var m=this.getBBoxSnapshot();f={top:((l||0)-m.height)/2}}else f=i==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0};return Wt(Wt({},u),f)}},{key:"render",value:function(){var r=this,n=this.props,a=n.content,o=n.width,i=n.height,s=n.wrapperStyle,c=n.payloadUniqBy,l=n.payload,u=Wt(Wt({position:"absolute",width:o||"auto",height:i||"auto"},this.getDefaultPosition(s)),s);return E.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(f){r.wrapperNode=f}},FN(a,Wt(Wt({},this.props),{},{payload:Nm(l,c,BN)})))}}],[{key:"getWithHeight",value:function(r,n){var a=Wt(Wt({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&K(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||n}:null}}])}(v.PureComponent);Wo(ln,"displayName","Legend"),Wo(ln,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Am=LF,zN=BF,$N=Hn,Tm=Am?Am.isConcatSpreadable:void 0;function UN(e){return $N(e)||zN(e)||!!(Tm&&e&&e[Tm])}var VN=UN,HN=FF,qN=VN;function Dm(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=qN),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Dm(s,t-1,r,n,a):HN(a,s):n||(a[a.length]=s)}return a}Ts=Dm;function WN(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(r(o[c],c,o)===!1)break}return t}}let Im,Rm,Lm,Bm,Fm;Im=WN,Rm=Im,Lm=Rm(),Ld=Lm,Bm=Ld,Fm=yw;function XN(e,t){return e&&Bm(e,t,Fm)}var zm=XN,KN=js;function GN(e,t){return function(r,n){if(r==null)return r;if(!KN(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var YN=GN,JN=zm,ZN=YN,QN=ZN(JN),Qc=QN,eE=Qc,tE=js;function rE(e,t){var r=-1,n=tE(e)?Array(e.length):[];return eE(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var $m=rE;function nE(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var aE=nE,Um=xd;function oE(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Um(e),i=t!==void 0,s=t===null,c=t===t,l=Um(t);if(!s&&!l&&!o&&e>t||o&&i&&c&&!s&&!l||n&&i&&c||!r&&c||!a)return 1;if(!n&&!o&&!l&&e<t||l&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!c)return-1}return 0}var iE=oE,sE=iE;function cE(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var c=sE(a[n],o[n]);if(c){if(n>=s)return c;var l=r[n];return c*(l=="desc"?-1:1)}}return e.index-t.index}var lE=cE,el=vw,uE=zF,dE=wr,fE=$m,pE=aE,hE=$F,mE=lE,yE=ro,vE=Hn;function gE(e,t,r){t.length?t=el(t,function(o){return vE(o)?function(i){return uE(i,o.length===1?o[0]:o)}:o}):t=[yE];var n=-1;t=el(t,hE(dE));var a=fE(e,function(o,i,s){var c=el(t,function(l){return l(o)});return{criteria:c,index:++n,value:o}});return pE(a,function(o,i){return mE(o,i,r)})}var bE=gE;function xE(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}let Vm,tl;$d=xE,Vm=$d,tl=Math.max;function wE(e,t,r){return t=tl(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=tl(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),Vm(e,this,s)}}Id=wE;function jE(e){return function(){return e}}var _E=jE,OE=_E,Hm=UF,SE=ro,NE=Hm?function(e,t){return Hm(e,"toString",{configurable:!0,enumerable:!1,value:OE(t),writable:!0})}:SE,EE=NE,PE=800,CE=16,kE=Date.now;function ME(e){var t=0,r=0;return function(){var n=kE(),a=CE-(n-r);if(r=n,a>0){if(++t>=PE)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}let qm,Wm,Xm,Km,Gm,Ym,Jm;qm=ME,Wm=EE,Xm=qm,Km=Xm(Wm),Rd=Km,Gm=ro,Ym=Id,Jm=Rd;function AE(e,t){return Jm(Ym(e,t,Gm),e+"")}let Zm,Qm,ey,ty;Bd=AE,Zm=VF,Qm=js,ey=HF,ty=_s;function TE(e,t,r){if(!ty(r))return!1;var n=typeof t;return(n=="number"?Qm(r)&&ey(t,r.length):n=="string"&&t in r)?Zm(r[t],e):!1}let ry,ny,ay,rl,oy,iy;Yr=TE,ry=Ts,ny=bE,ay=Bd,rl=Yr,oy=ay(function(e,t){if(e==null)return[];var r=t.length;return r>1&&rl(e,t[0],t[1])?t=[]:r>2&&rl(t[0],t[1],t[2])&&(t=[t[0]]),ny(e,ry(t,1),[])}),iy=oy;const nl=Ne(iy);function oa(e){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oa(e)}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}function DE(e,t){return BE(e)||LE(e,t)||RE(e,t)||IE()}function IE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RE(e,t){if(e){if(typeof e=="string")return sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sy(e,t)}}function sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function BE(e){if(Array.isArray(e))return e}function cy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cy(Object(r),!0).forEach(function(n){FE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FE(e,t,r){return t=zE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zE(e){var t=$E(e,"string");return oa(t)=="symbol"?t:t+""}function $E(e,t){if(oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UE(e){return Array.isArray(e)&&Ie(e[0])&&Ie(e[1])?e.join(" ~ "):e}var VE=function(e){var t=e.separator,r=t===void 0?" : ":t,n=e.contentStyle,a=n===void 0?{}:n,o=e.itemStyle,i=o===void 0?{}:o,s=e.labelStyle,c=s===void 0?{}:s,l=e.payload,u=e.formatter,f=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,h=e.labelFormatter,g=e.accessibilityLayer,b=g===void 0?!1:g,w=function(){if(l&&l.length){var C={padding:0,margin:0},N=(f?nl(l,f):l).map(function(T,A){if(T.type==="none")return null;var D=ol({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},i),k=T.formatter||u||UE,R=T.value,F=T.name,U=R,V=F;if(k&&U!=null&&V!=null){var Q=k(R,F,T,A,l);if(Array.isArray(Q)){var q=DE(Q,2);U=q[0],V=q[1]}else U=Q}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:D},Ie(V)?E.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Ie(V)?E.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,E.createElement("span",{className:"recharts-tooltip-item-value"},U),E.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},S=ol({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=ol({margin:0},c),j=!ve(y),_=j?y:"",O=ge("recharts-default-tooltip",p),P=ge("recharts-tooltip-label",m);j&&h&&l!==void 0&&l!==null&&(_=h(y,l));var M=b?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",al({className:O,style:S},M),E.createElement("p",{className:P,style:x},E.isValidElement(_)?_:"".concat(_)),w())};function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(e)}function Xo(e,t,r){return t=HE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HE(e){var t=qE(e,"string");return ia(t)=="symbol"?t:t+""}function qE(e,t){if(ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sa="recharts-tooltip-wrapper",WE={visibility:"hidden"};function XE(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ge(sa,Xo(Xo(Xo(Xo({},"".concat(sa,"-right"),K(r)&&t&&K(t.x)&&r>=t.x),"".concat(sa,"-left"),K(r)&&t&&K(t.x)&&r<t.x),"".concat(sa,"-bottom"),K(n)&&t&&K(t.y)&&n>=t.y),"".concat(sa,"-top"),K(n)&&t&&K(t.y)&&n<t.y))}function ly(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(o&&K(o[n]))return o[n];var u=r[n]-s-a,f=r[n]+a;if(t[n])return i[n]?u:f;if(i[n]){var p=u,m=c[n];return p<m?Math.max(f,c[n]):Math.max(u,c[n])}var y=f+s,h=c[n]+l;return y>h?Math.max(u,c[n]):Math.max(f,c[n])}function KE(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function GE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,l,u,f;return i.height>0&&i.width>0&&r?(u=ly({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=ly({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),l=KE({translateX:u,translateY:f,useTranslate3d:s})):l=WE,{cssProperties:l,cssClasses:XE({translateX:u,translateY:f,coordinate:r})}}function un(e){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(e)}function uy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uy(Object(r),!0).forEach(function(n){sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,py(n.key),n)}}function ZE(e,t,r){return t&&JE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QE(e,t,r){return t=Ko(t),eP(e,fy()?Reflect.construct(t,r||[],Ko(e).constructor):t.apply(e,r))}function eP(e,t){if(t&&(un(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tP(e)}function tP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fy=function(){return!!e})()}function Ko(e){return Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ko(e)}function rP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&il(e,t)}function il(e,t){return il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},il(e,t)}function sl(e,t,r){return t=py(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function py(e){var t=nP(e,"string");return un(t)=="symbol"?t:t+""}function nP(e,t){if(un(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(un(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hy=1,aP=function(e){function t(){var r;YE(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=QE(this,t,[].concat(a)),sl(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sl(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,c,l,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),r}return rP(t,e),ZE(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>hy||Math.abs(r.height-this.state.lastBoundingBox.height)>hy)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.children,l=n.coordinate,u=n.hasPayload,f=n.isAnimationActive,p=n.offset,m=n.position,y=n.reverseDirection,h=n.useTranslate3d,g=n.viewBox,b=n.wrapperStyle,w=GE({allowEscapeViewBox:o,coordinate:l,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:g}),S=w.cssClasses,x=w.cssProperties,j=dy(dy({transition:f&&a?"transform ".concat(i,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&u?"visible":"hidden",position:"absolute",top:0,left:0},b);return E.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(_){r.wrapperNode=_}},c)}}])}(v.PureComponent),oP=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},lr={isSsr:oP(),get:function(e){return lr[e]},set:function(e,t){if(typeof e=="string")lr[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(n){lr[n]=e[n]})}}};function dn(e){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}function my(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?my(Object(r),!0).forEach(function(n){ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):my(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gy(n.key),n)}}function cP(e,t,r){return t&&sP(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lP(e,t,r){return t=Go(t),uP(e,vy()?Reflect.construct(t,r||[],Go(e).constructor):t.apply(e,r))}function uP(e,t){if(t&&(dn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dP(e)}function dP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vy=function(){return!!e})()}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(e)}function fP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cl(e,t)}function cl(e,t){return cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},cl(e,t)}function ll(e,t,r){return t=gy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gy(e){var t=pP(e,"string");return dn(t)=="symbol"?t:t+""}function pP(e,t){if(dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hP(e){return e.dataKey}function mP(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(VE,t)}var Dt=function(e){function t(){return iP(this,t),lP(this,t,arguments)}return fP(t,e),cP(t,[{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.content,l=n.coordinate,u=n.filterNull,f=n.isAnimationActive,p=n.offset,m=n.payload,y=n.payloadUniqBy,h=n.position,g=n.reverseDirection,b=n.useTranslate3d,w=n.viewBox,S=n.wrapperStyle,x=m??[];u&&x.length&&(x=Nm(m.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),y,hP));var j=x.length>0;return E.createElement(aP,{allowEscapeViewBox:o,animationDuration:i,animationEasing:s,isAnimationActive:f,active:a,coordinate:l,hasPayload:j,offset:p,position:h,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:S},mP(c,yy(yy({},this.props),{},{payload:x})))}}])}(v.PureComponent);ll(Dt,"displayName","Tooltip"),ll(Dt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!lr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yP=qF,vP=function(){return yP.Date.now()},gP=vP,bP=/\s/;function xP(e){for(var t=e.length;t--&&bP.test(e.charAt(t)););return t}var wP=xP,jP=wP,_P=/^\s+/;function OP(e){return e&&e.slice(0,jP(e)+1).replace(_P,"")}var SP=OP,NP=SP,by=_s,EP=xd,xy=NaN,PP=/^[-+]0x[0-9a-f]+$/i,CP=/^0b[01]+$/i,kP=/^0o[0-7]+$/i,MP=parseInt;function AP(e){if(typeof e=="number")return e;if(EP(e))return xy;if(by(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=by(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=NP(e);var r=CP.test(e);return r||kP.test(e)?MP(e.slice(2),r?2:8):PP.test(e)?xy:+e}var wy=AP,TP=_s,ul=gP,jy=wy,DP="Expected a function",IP=Math.max,RP=Math.min;function LP(e,t,r){var n,a,o,i,s,c,l=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(DP);t=jy(t)||0,TP(r)&&(u=!!r.leading,f="maxWait"in r,o=f?IP(jy(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p);function m(_){var O=n,P=a;return n=a=void 0,l=_,i=e.apply(P,O),i}function y(_){return l=_,s=setTimeout(b,t),u?m(_):i}function h(_){var O=_-c,P=_-l,M=t-O;return f?RP(M,o-P):M}function g(_){var O=_-c,P=_-l;return c===void 0||O>=t||O<0||f&&P>=o}function b(){var _=ul();if(g(_))return w(_);s=setTimeout(b,h(_))}function w(_){return s=void 0,p&&n?m(_):(n=a=void 0,i)}function S(){s!==void 0&&clearTimeout(s),l=0,n=c=a=s=void 0}function x(){return s===void 0?i:w(ul())}function j(){var _=ul(),O=g(_);if(n=arguments,a=this,c=_,O){if(s===void 0)return y(c);if(f)return clearTimeout(s),s=setTimeout(b,t),m(c)}return s===void 0&&(s=setTimeout(b,t)),i}return j.cancel=S,j.flush=x,j}var _y=LP;kw=Ne(_y);var BP=_y,FP=_s,zP="Expected a function";function $P(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(zP);return FP(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),BP(e,t,{leading:n,maxWait:t,trailing:a})}var UP=$P;Rs=Ne(UP);function ca(e){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(e)}function Oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oy(Object(r),!0).forEach(function(n){VP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VP(e,t,r){return t=HP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HP(e){var t=qP(e,"string");return ca(t)=="symbol"?t:t+""}function qP(e,t){if(ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WP(e,t){return YP(e)||GP(e,t)||KP(e,t)||XP()}function XP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KP(e,t){if(e){if(typeof e=="string")return Sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sy(e,t)}}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function YP(e){if(Array.isArray(e))return e}var JP=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,c=s===void 0?"100%":s,l=e.minWidth,u=l===void 0?0:l,f=e.minHeight,p=e.maxHeight,m=e.children,y=e.debounce,h=y===void 0?0:y,g=e.id,b=e.className,w=e.onResize,S=e.style,x=S===void 0?{}:S,j=v.useRef(null),_=v.useRef();_.current=w,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var O=v.useState({containerWidth:a.width,containerHeight:a.height}),P=WP(O,2),M=P[0],C=P[1],N=v.useCallback(function(A,D){C(function(k){var R=Math.round(A),F=Math.round(D);return k.containerWidth===R&&k.containerHeight===F?k:{containerWidth:R,containerHeight:F}})},[]);v.useEffect(function(){var A=function(U){var V,Q=U[0].contentRect,q=Q.width,I=Q.height;N(q,I),(V=_.current)===null||V===void 0||V.call(_,q,I)};h>0&&(A=Rs(A,h,{trailing:!0,leading:!1}));var D=new ResizeObserver(A),k=j.current.getBoundingClientRect(),R=k.width,F=k.height;return N(R,F),D.observe(j.current),function(){D.disconnect()}},[N,h]);var T=v.useMemo(function(){var A=M.containerWidth,D=M.containerHeight;if(A<0||D<0)return null;qt(Pr(i)||Pr(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),qt(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Pr(i)?A:i,R=Pr(c)?D:c;r&&r>0&&(k?R=k/r:R&&(k=R*r),p&&R>p&&(R=p)),qt(k>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,R,i,c,u,f,r);var F=!Array.isArray(m)&&Ht(m.type).endsWith("Chart");return E.Children.map(m,function(U){return E.isValidElement(U)?v.cloneElement(U,Yo({width:k,height:R},F?{style:Yo({height:"100%",width:"100%",maxHeight:R,maxWidth:k},U.props.style)}:{})):U})},[r,m,c,p,f,u,M,i]);return E.createElement("div",{id:g?"".concat(g):void 0,className:ge("recharts-responsive-container",b),style:Yo(Yo({},x),{},{width:i,height:c,minWidth:u,minHeight:f,maxHeight:p}),ref:j},T)}),Ny=function(e){return null};Ny.displayName="Cell";function la(e){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},la(e)}function Ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ey(Object(r),!0).forEach(function(n){ZP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ey(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZP(e,t,r){return t=QP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QP(e){var t=eC(e,"string");return la(t)=="symbol"?t:t+""}function eC(e,t){if(la(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(la(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fn={widthCache:{},cacheCount:0},tC=2e3,rC={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Py="recharts_measurement_span";function nC(e){var t=dl({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ua=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lr.isSsr)return{width:0,height:0};var r=nC(t),n=JSON.stringify({text:e,copyStyle:r});if(fn.widthCache[n])return fn.widthCache[n];try{var a=document.getElementById(Py);a||(a=document.createElement("span"),a.setAttribute("id",Py),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=dl(dl({},rC),r);Object.assign(a.style,o),a.textContent="".concat(e);var i=a.getBoundingClientRect(),s={width:i.width,height:i.height};return fn.widthCache[n]=s,++fn.cacheCount>tC&&(fn.cacheCount=0,fn.widthCache={}),s}catch{return{width:0,height:0}}},aC=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function da(e){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(e)}function Jo(e,t){return cC(e)||sC(e,t)||iC(e,t)||oC()}function oC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iC(e,t){if(e){if(typeof e=="string")return Cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cy(e,t)}}function Cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function cC(e){if(Array.isArray(e))return e}function lC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ky(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dC(n.key),n)}}function uC(e,t,r){return t&&ky(e.prototype,t),r&&ky(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dC(e){var t=fC(e,"string");return da(t)=="symbol"?t:t+""}function fC(e,t){if(da(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var My=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ay=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pC=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hC=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ty={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mC=Object.keys(Ty),pn="NaN";function yC(e,t){return e*Ty[t]}var Zo=function(){function e(t,r){lC(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!pC.test(r)&&(this.num=NaN,this.unit=""),mC.includes(r)&&(this.num=yC(t,r),this.unit="px")}return uC(e,[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,n=(r=hC.exec(t))!==null&&r!==void 0?r:[],a=Jo(n,3),o=a[1],i=a[2];return new e(parseFloat(o),i??"")}}])}();function Dy(e){if(e.includes(pn))return pn;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=My.exec(t))!==null&&r!==void 0?r:[],a=Jo(n,4),o=a[1],i=a[2],s=a[3],c=Zo.parse(o??""),l=Zo.parse(s??""),u=i==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return pn;t=t.replace(My,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=Ay.exec(t))!==null&&f!==void 0?f:[],m=Jo(p,4),y=m[1],h=m[2],g=m[3],b=Zo.parse(y??""),w=Zo.parse(g??""),S=h==="+"?b.add(w):b.subtract(w);if(S.isNaN())return pn;t=t.replace(Ay,S.toString())}return t}var Iy=/\(([^()]*)\)/;function vC(e){for(var t=e;t.includes("(");){var r=Iy.exec(t),n=Jo(r,2),a=n[1];t=t.replace(Iy,Dy(a))}return t}function gC(e){var t=e.replace(/\s+/g,"");return t=vC(t),t=Dy(t),t}function bC(e){try{return gC(e)}catch{return pn}}function fl(e){var t=bC(e.slice(5,-1));return t===pn?"":t}var xC=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wC=["dx","dy","angle","className","breakAll"];function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}function Ry(e,t){if(e==null)return{};var r=jC(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ly(e,t){return NC(e)||SC(e,t)||OC(e,t)||_C()}function _C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OC(e,t){if(e){if(typeof e=="string")return By(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return By(e,t)}}function By(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function NC(e){if(Array.isArray(e))return e}var Fy=/[ \f\n\r\t\v\u2028\u2029]+/,zy=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];ve(t)||(r?a=t.toString().split(""):a=t.toString().split(Fy));var o=a.map(function(s){return{word:s,width:ua(s,n).width}}),i=r?0:ua("\xA0",n).width;return{wordsWithComputedWidth:o,spaceWidth:i}}catch{return null}},EC=function(e,t,r,n,a){var o=e.maxLines,i=e.children,s=e.style,c=e.breakAll,l=K(o),u=i,f=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce(function(D,k){var R=k.word,F=k.width,U=D[D.length-1];if(U&&(n==null||a||U.width+F+r<Number(n)))U.words.push(R),U.width+=F+r;else{var V={words:[R],width:F};D.push(V)}return D},[])},p=f(t),m=function(A){return A.reduce(function(D,k){return D.width>k.width?D:k})};if(!l)return p;for(var y="\u2026",h=function(A){var D=u.slice(0,A),k=zy({breakAll:c,style:s,children:D+y}).wordsWithComputedWidth,R=f(k),F=R.length>o||m(R).width>Number(n);return[F,R]},g=0,b=u.length-1,w=0,S;g<=b&&w<=u.length-1;){var x=Math.floor((g+b)/2),j=x-1,_=h(j),O=Ly(_,2),P=O[0],M=O[1],C=h(x),N=Ly(C,1),T=N[0];if(!P&&!T&&(g=x+1),P&&T&&(b=x-1),!P&&T){S=M;break}w++}return S||p},$y=function(e){var t=ve(e)?[]:e.toString().split(Fy);return[{words:t}]},PC=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,o=e.breakAll,i=e.maxLines;if((t||r)&&!lr.isSsr){var s,c,l=zy({breakAll:o,children:n,style:a});if(l){var u=l.wordsWithComputedWidth,f=l.spaceWidth;s=u,c=f}else return $y(n);return EC({breakAll:o,children:n,maxLines:i,style:a},s,c,t,r)}return $y(n)},Uy="#808080",Qo=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.lineHeight,i=o===void 0?"1em":o,s=e.capHeight,c=s===void 0?"0.71em":s,l=e.scaleToFit,u=l===void 0?!1:l,f=e.textAnchor,p=f===void 0?"start":f,m=e.verticalAnchor,y=m===void 0?"end":m,h=e.fill,g=h===void 0?Uy:h,b=Ry(e,xC),w=v.useMemo(function(){return PC({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:u,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,u,b.style,b.width]),S=b.dx,x=b.dy,j=b.angle,_=b.className,O=b.breakAll,P=Ry(b,wC);if(!Ie(r)||!Ie(a))return null;var M=r+(K(S)?S:0),C=a+(K(x)?x:0),N;switch(y){case"start":N=fl("calc(".concat(c,")"));break;case"middle":N=fl("calc(".concat((w.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:N=fl("calc(".concat(w.length-1," * -").concat(i,")"));break}var T=[];if(u){var A=w[0].width,D=b.width;T.push("scale(".concat((K(D)?D/A:1)/A,")"))}return j&&T.push("rotate(".concat(j,", ").concat(M,", ").concat(C,")")),T.length&&(P.transform=T.join(" ")),E.createElement("text",pl({},ye(P,!0),{x:M,y:C,className:ge("recharts-text",_),textAnchor:p,fill:g.includes("url")?Uy:g}),w.map(function(k,R){var F=k.words.join(O?"":" ");return E.createElement("tspan",{x:M,dy:R===0?N:i,key:"".concat(F,"-").concat(R)},F)}))};function ur(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CC(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hl(e){let t,r,n;e.length!==2?(t=ur,r=(s,c)=>ur(e(s),c),n=(s,c)=>e(s)-c):(t=e===ur||e===CC?e:kC,r=e,n=e);function a(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const f=l+u>>>1;r(s[f],c)<0?l=f+1:u=f}while(l<u)}return l}function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const f=l+u>>>1;r(s[f],c)<=0?l=f+1:u=f}while(l<u)}return l}function i(s,c,l=0,u=s.length){const f=a(s,c,l,u-1);return f>l&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:i,right:o}}function kC(){return 0}function Vy(e){return e===null?NaN:+e}function*MC(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const AC=hl(ur),fa=AC.right;hl(Vy).center;class Hy extends Map{constructor(t,r=IC){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(qy(this,t))}has(t){return super.has(qy(this,t))}set(t,r){return super.set(TC(this,t),r)}delete(t){return super.delete(DC(this,t))}}function qy({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function TC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function DC({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function IC(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RC(e=ur){if(e===ur)return Wy;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Wy(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LC=Math.sqrt(50),BC=Math.sqrt(10),FC=Math.sqrt(2);function ei(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=LC?10:o>=BC?5:o>=FC?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=r&&r<2?ei(e,t,r*2):[s,c,l]}function ml(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?ei(t,e,r):ei(e,t,r);if(!(o>=a))return[];const s=o-a+1,c=new Array(s);if(n)if(i<0)for(let l=0;l<s;++l)c[l]=(o-l)/-i;else for(let l=0;l<s;++l)c[l]=(o-l)*i;else if(i<0)for(let l=0;l<s;++l)c[l]=(a+l)/-i;else for(let l=0;l<s;++l)c[l]=(a+l)*i;return c}function yl(e,t,r){return t=+t,e=+e,r=+r,ei(e,t,r)[2]}function vl(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?yl(t,e,r):yl(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Xy(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Ky(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Gy(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Wy:RC(a);n>r;){if(n-r>600){const c=n-r+1,l=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(l-c/2<0?-1:1),m=Math.max(r,Math.floor(t-l*f/c+p)),y=Math.min(n,Math.floor(t+(c-l)*f/c+p));Gy(e,t,m,y,a)}const o=e[t];let i=r,s=n;for(pa(e,r,t),a(e[n],o)>0&&pa(e,r,n);i<s;){for(pa(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?pa(e,r,s):(++s,pa(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function pa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zC(e,t,r){if(e=Float64Array.from(MC(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Ky(e);if(t>=1)return Xy(e);var n,a=(n-1)*t,o=Math.floor(a),i=Xy(Gy(e,o).subarray(0,o+1)),s=Ky(e.subarray(o+1));return i+(s-i)*(a-o)}}function $C(e,t,r=Vy){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function UC(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function bt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const gl=Symbol("implicit");function bl(){var e=new Hy,t=[],r=[],n=gl;function a(o){let i=e.get(o);if(i===void 0){if(n!==gl)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Hy;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return bl(t,r).unknown(n)},bt.apply(a,arguments),a}function ha(){var e=bl().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,c=0,l=0,u=.5;delete e.unknown;function f(){var p=t().length,m=a<n,y=m?a:n,h=m?n:a;o=(h-y)/Math.max(1,p-c+l*2),s&&(o=Math.floor(o)),y+=(h-y-o*(p-c))*u,i=o*(1-c),s&&(y=Math.round(y),i=Math.round(i));var g=UC(p).map(function(b){return y+o*b});return r(m?g.reverse():g)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,l=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(l=+p,f()):l},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return ha(t(),[n,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},bt.apply(f(),arguments)}function Yy(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Yy(t())},e}function ma(){return Yy(ha.apply(null,arguments).paddingInner(1))}function VC(e){return function(){return e}}function ti(e){return+e}var Jy=[0,1];function Je(e){return e}function xl(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VC(isNaN(t)?NaN:.5)}function HC(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function qC(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=xl(a,n),o=r(i,o)):(n=xl(n,a),o=r(o,i)),function(s){return o(n(s))}}function WC(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=xl(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var c=fa(e,s,1,n)-1;return o[c](a[c](s))}}function ya(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ri(){var e=Jy,t=Jy,r=Jr,n,a,o,i=Je,s,c,l;function u(){var p=Math.min(e.length,t.length);return i!==Je&&(i=HC(e[0],e[p-1])),s=p>2?WC:qC,c=l=null,f}function f(p){return p==null||isNaN(p=+p)?o:(c||(c=s(e.map(n),t,r)))(n(i(p)))}return f.invert=function(p){return i(a((l||(l=s(t,e.map(n),vd)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,ti),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=$s,u()},f.clamp=function(p){return arguments.length?(i=p?!0:Je,u()):i!==Je},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(o=p,f):o},function(p,m){return n=p,a=m,u()}}function wl(){return ri()(Je,Je)}function XC(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ni(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function hn(e){return e=ni(Math.abs(e)),e?e[1]:NaN}function KC(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),o.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function GC(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var YC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function va(e){if(!(t=YC.exec(e)))throw new Error("invalid format: "+e);var t;return new jl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}va.prototype=jl.prototype;function jl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JC(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Zy;function ZC(e,t){var r=ni(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(Zy=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+ni(e,Math.max(0,t+o-1))[0]}function Qy(e,t){var r=ni(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const ev={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:XC,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Qy(e*100,t),r:Qy,s:ZC,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tv(e){return e}var rv=Array.prototype.map,nv=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function QC(e){var t=e.grouping===void 0||e.thousands===void 0?tv:KC(rv.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?tv:GC(rv.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(f){f=va(f);var p=f.fill,m=f.align,y=f.sign,h=f.symbol,g=f.zero,b=f.width,w=f.comma,S=f.precision,x=f.trim,j=f.type;j==="n"?(w=!0,j="g"):ev[j]||(S===void 0&&(S=12),x=!0,j="g"),(g||p==="0"&&m==="=")&&(g=!0,p="0",m="=");var _=h==="$"?r:h==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",O=h==="$"?n:/[%p]/.test(j)?i:"",P=ev[j],M=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function C(N){var T=_,A=O,D,k,R;if(j==="c")A=P(N)+A,N="";else{N=+N;var F=N<0||1/N<0;if(N=isNaN(N)?c:P(Math.abs(N),S),x&&(N=JC(N)),F&&+N==0&&y!=="+"&&(F=!1),T=(F?y==="("?y:s:y==="-"||y==="("?"":y)+T,A=(j==="s"?nv[8+Zy/3]:"")+A+(F&&y==="("?")":""),M){for(D=-1,k=N.length;++D<k;)if(R=N.charCodeAt(D),48>R||R>57){A=(R===46?a+N.slice(D+1):N.slice(D))+A,N=N.slice(0,D);break}}}w&&!g&&(N=t(N,1/0));var U=T.length+N.length+A.length,V=U<b?new Array(b-U+1).join(p):"";switch(w&&g&&(N=t(V+N,V.length?b-A.length:1/0),V=""),m){case"<":N=T+N+A+V;break;case"=":N=T+V+N+A;break;case"^":N=V.slice(0,U=V.length>>1)+T+N+A+V.slice(U);break;default:N=V+T+N+A;break}return o(N)}return C.toString=function(){return f+""},C}function u(f,p){var m=l((f=va(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(hn(p)/3)))*3,h=Math.pow(10,-y),g=nv[8+y/3];return function(b){return m(h*b)+g}}return{format:l,formatPrefix:u}}var ai,_l,av;ek({thousands:",",grouping:[3],currency:["$",""]});function ek(e){return ai=QC(e),_l=ai.format,av=ai.formatPrefix,ai}function tk(e){return Math.max(0,-hn(Math.abs(e)))}function rk(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hn(t)/3)))*3-hn(Math.abs(e)))}function nk(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hn(t)-hn(e))+1}function ov(e,t,r,n){var a=vl(e,t,r),o;switch(n=va(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=rk(a,i))&&(n.precision=o),av(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=nk(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=tk(a))&&(n.precision=o-(n.type==="%")*2);break}}return _l(n)}function dr(e){var t=e.domain;return e.ticks=function(r){var n=t();return ml(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ov(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],c,l,u=10;for(s<i&&(l=i,i=s,s=l,l=a,a=o,o=l);u-- >0;){if(l=yl(i,s,r),l===c)return n[a]=i,n[o]=s,t(n);if(l>0)i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l;else if(l<0)i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function oi(){var e=wl();return e.copy=function(){return ya(e,oi())},bt.apply(e,arguments),dr(e)}function iv(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ti),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return iv(e).unknown(t)},e=arguments.length?Array.from(e,ti):[0,1],dr(r)}function sv(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function cv(e){return Math.log(e)}function lv(e){return Math.exp(e)}function ak(e){return-Math.log(-e)}function ok(e){return-Math.exp(-e)}function ik(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sk(e){return e===10?ik:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ck(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uv(e){return(t,r)=>-e(-t,r)}function Ol(e){const t=e(cv,lv),r=t.domain;let n=10,a,o;function i(){return a=ck(n),o=sk(n),r()[0]<0?(a=uv(a),o=uv(o),e(ak,ok)):e(cv,lv),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const c=r();let l=c[0],u=c[c.length-1];const f=u<l;f&&([l,u]=[u,l]);let p=a(l),m=a(u),y,h;const g=s==null?10:+s;let b=[];if(!(n%1)&&m-p<g){if(p=Math.floor(p),m=Math.ceil(m),l>0){for(;p<=m;++p)for(y=1;y<n;++y)if(h=p<0?y/o(-p):y*o(p),!(h<l)){if(h>u)break;b.push(h)}}else for(;p<=m;++p)for(y=n-1;y>=1;--y)if(h=p>0?y/o(-p):y*o(p),!(h<l)){if(h>u)break;b.push(h)}b.length*2<g&&(b=ml(l,u,g))}else b=ml(p,m,Math.min(m-p,g)).map(o);return f?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=va(c)).precision==null&&(c.trim=!0),c=_l(c)),s===1/0)return c;const l=Math.max(1,n*s/t.ticks().length);return u=>{let f=u/o(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=l?c(u):""}},t.nice=()=>r(sv(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function dv(){const e=Ol(ri()).domain([1,10]);return e.copy=()=>ya(e,dv()).base(e.base()),bt.apply(e,arguments),e}function fv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sl(e){var t=1,r=e(fv(t),pv(t));return r.constant=function(n){return arguments.length?e(fv(t=+n),pv(t)):t},dr(r)}function hv(){var e=Sl(ri());return e.copy=function(){return ya(e,hv()).constant(e.constant())},bt.apply(e,arguments)}function mv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lk(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uk(e){return e<0?-e*e:e*e}function Nl(e){var t=e(Je,Je),r=1;function n(){return r===1?e(Je,Je):r===.5?e(lk,uk):e(mv(r),mv(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},dr(t)}function El(){var e=Nl(ri());return e.copy=function(){return ya(e,El()).exponent(e.exponent())},bt.apply(e,arguments),e}function dk(){return El.apply(null,arguments).exponent(.5)}function yv(e){return Math.sign(e)*e*e}function fk(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vv(){var e=wl(),t=[0,1],r=!1,n;function a(o){var i=fk(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(yv(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,ti)).map(yv)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return vv(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},bt.apply(a,arguments),dr(a)}function gv(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=$C(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[fa(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ur),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return gv().domain(e).range(t).unknown(n)},bt.apply(o,arguments)}function bv(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(c){return c!=null&&c<=c?a[fa(n,c,0,r)]:o}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},i.invertExtent=function(c){var l=a.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,n[0]]:l>=r?[n[r-1],t]:[n[l-1],n[l]]},i.unknown=function(c){return arguments.length&&(o=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return bv().domain([e,t]).range(a).unknown(o)},bt.apply(dr(i),arguments)}function xv(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[fa(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return xv().domain(e).range(t).unknown(r)},bt.apply(a,arguments)}const Pl=new Date,Cl=new Date;function Re(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const c=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return c;let l;do c.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<i);return c},a.filter=o=>Re(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Pl.setTime(+o),Cl.setTime(+i),e(Pl),e(Cl),Math.floor(r(Pl,Cl))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const ii=Re(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ii.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Re(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ii),ii.range;const Kt=1e3,xt=Kt*60,Gt=xt*60,Yt=Gt*24,kl=Yt*7,wv=Yt*30,Ml=Yt*365,Mr=Re(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Kt)},(e,t)=>(t-e)/Kt,e=>e.getUTCSeconds());Mr.range;const Al=Re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kt)},(e,t)=>{e.setTime(+e+t*xt)},(e,t)=>(t-e)/xt,e=>e.getMinutes());Al.range;const Tl=Re(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xt)},(e,t)=>(t-e)/xt,e=>e.getUTCMinutes());Tl.range;const Dl=Re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kt-e.getMinutes()*xt)},(e,t)=>{e.setTime(+e+t*Gt)},(e,t)=>(t-e)/Gt,e=>e.getHours());Dl.range;const Il=Re(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gt)},(e,t)=>(t-e)/Gt,e=>e.getUTCHours());Il.range;const ga=Re(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xt)/Yt,e=>e.getDate()-1);ga.range;const si=Re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yt,e=>e.getUTCDate()-1);si.range;const jv=Re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yt,e=>Math.floor(e/Yt));jv.range;function Ar(e){return Re(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xt)/kl)}const ci=Ar(0),li=Ar(1),pk=Ar(2),hk=Ar(3),mn=Ar(4),mk=Ar(5),yk=Ar(6);ci.range,li.range,pk.range,hk.range,mn.range,mk.range,yk.range;function Tr(e){return Re(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kl)}const ui=Tr(0),di=Tr(1),vk=Tr(2),gk=Tr(3),yn=Tr(4),bk=Tr(5),xk=Tr(6);ui.range,di.range,vk.range,gk.range,yn.range,bk.range,xk.range;const Rl=Re(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rl.range;const Ll=Re(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ll.range;const Jt=Re(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Re(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),Jt.range;const Zt=Re(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Re(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),Zt.range;function _v(e,t,r,n,a,o){const i=[[Mr,1,Kt],[Mr,5,5*Kt],[Mr,15,15*Kt],[Mr,30,30*Kt],[o,1,xt],[o,5,5*xt],[o,15,15*xt],[o,30,30*xt],[a,1,Gt],[a,3,3*Gt],[a,6,6*Gt],[a,12,12*Gt],[n,1,Yt],[n,2,2*Yt],[r,1,kl],[t,1,wv],[t,3,3*wv],[e,1,Ml]];function s(l,u,f){const p=u<l;p&&([l,u]=[u,l]);const m=f&&typeof f.range=="function"?f:c(l,u,f),y=m?m.range(l,+u+1):[];return p?y.reverse():y}function c(l,u,f){const p=Math.abs(u-l)/f,m=hl(([,,g])=>g).right(i,p);if(m===i.length)return e.every(vl(l/Ml,u/Ml,f));if(m===0)return ii.every(Math.max(vl(l,u,f),1));const[y,h]=i[p/i[m-1][2]<i[m][2]/p?m-1:m];return y.every(h)}return[s,c]}const[wk,jk]=_v(Zt,Ll,ui,jv,Il,Tl),[_k,Ok]=_v(Jt,Rl,ci,ga,Dl,Al);function Bl(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fl(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ba(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Sk(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=xa(a),u=wa(a),f=xa(o),p=wa(o),m=xa(i),y=wa(i),h=xa(s),g=wa(s),b=xa(c),w=wa(c),S={a:F,A:U,b:V,B:Q,c:null,d:Cv,e:Cv,f:Kk,g:aM,G:iM,H:qk,I:Wk,j:Xk,L:kv,m:Gk,M:Yk,p:q,q:I,Q:Rv,s:Lv,S:Jk,u:Zk,U:Qk,V:eM,w:tM,W:rM,x:null,X:null,y:nM,Y:oM,Z:sM,"%":Iv},x={a:Y,A:H,b:J,B:ie,c:null,d:Av,e:Av,f:dM,g:wM,G:_M,H:cM,I:lM,j:uM,L:Tv,m:fM,M:pM,p:W,q:oe,Q:Rv,s:Lv,S:hM,u:mM,U:yM,V:vM,w:gM,W:bM,x:null,X:null,y:xM,Y:jM,Z:OM,"%":Iv},j={a:C,A:N,b:T,B:A,c:D,d:Ev,e:Ev,f:$k,g:Nv,G:Sv,H:Pv,I:Pv,j:Lk,L:zk,m:Rk,M:Bk,p:M,q:Ik,Q:Vk,s:Hk,S:Fk,u:kk,U:Mk,V:Ak,w:Ck,W:Tk,x:k,X:R,y:Nv,Y:Sv,Z:Dk,"%":Uk};S.x=_(r,S),S.X=_(n,S),S.c=_(t,S),x.x=_(r,x),x.X=_(n,x),x.c=_(t,x);function _($,G){return function(ee){var B=[],_e=-1,le=0,Pe=$.length,Ce,Qe,Hr;for(ee instanceof Date||(ee=new Date(+ee));++_e<Pe;)$.charCodeAt(_e)===37&&(B.push($.slice(le,_e)),(Qe=Ov[Ce=$.charAt(++_e)])!=null?Ce=$.charAt(++_e):Qe=Ce==="e"?" ":"0",(Hr=G[Ce])&&(Ce=Hr(ee,Qe)),B.push(Ce),le=_e+1);return B.push($.slice(le,_e)),B.join("")}}function O($,G){return function(ee){var B=ba(1900,void 0,1),_e=P(B,$,ee+="",0),le,Pe;if(_e!=ee.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(G&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(le=Fl(ba(B.y,0,1)),Pe=le.getUTCDay(),le=Pe>4||Pe===0?di.ceil(le):di(le),le=si.offset(le,(B.V-1)*7),B.y=le.getUTCFullYear(),B.m=le.getUTCMonth(),B.d=le.getUTCDate()+(B.w+6)%7):(le=Bl(ba(B.y,0,1)),Pe=le.getDay(),le=Pe>4||Pe===0?li.ceil(le):li(le),le=ga.offset(le,(B.V-1)*7),B.y=le.getFullYear(),B.m=le.getMonth(),B.d=le.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Pe="Z"in B?Fl(ba(B.y,0,1)).getUTCDay():Bl(ba(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Pe+5)%7:B.w+B.U*7-(Pe+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Fl(B)):Bl(B)}}function P($,G,ee,B){for(var _e=0,le=G.length,Pe=ee.length,Ce,Qe;_e<le;){if(B>=Pe)return-1;if(Ce=G.charCodeAt(_e++),Ce===37){if(Ce=G.charAt(_e++),Qe=j[Ce in Ov?G.charAt(_e++):Ce],!Qe||(B=Qe($,ee,B))<0)return-1}else if(Ce!=ee.charCodeAt(B++))return-1}return B}function M($,G,ee){var B=l.exec(G.slice(ee));return B?($.p=u.get(B[0].toLowerCase()),ee+B[0].length):-1}function C($,G,ee){var B=m.exec(G.slice(ee));return B?($.w=y.get(B[0].toLowerCase()),ee+B[0].length):-1}function N($,G,ee){var B=f.exec(G.slice(ee));return B?($.w=p.get(B[0].toLowerCase()),ee+B[0].length):-1}function T($,G,ee){var B=b.exec(G.slice(ee));return B?($.m=w.get(B[0].toLowerCase()),ee+B[0].length):-1}function A($,G,ee){var B=h.exec(G.slice(ee));return B?($.m=g.get(B[0].toLowerCase()),ee+B[0].length):-1}function D($,G,ee){return P($,t,G,ee)}function k($,G,ee){return P($,r,G,ee)}function R($,G,ee){return P($,n,G,ee)}function F($){return i[$.getDay()]}function U($){return o[$.getDay()]}function V($){return c[$.getMonth()]}function Q($){return s[$.getMonth()]}function q($){return a[+($.getHours()>=12)]}function I($){return 1+~~($.getMonth()/3)}function Y($){return i[$.getUTCDay()]}function H($){return o[$.getUTCDay()]}function J($){return c[$.getUTCMonth()]}function ie($){return s[$.getUTCMonth()]}function W($){return a[+($.getUTCHours()>=12)]}function oe($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var G=_($+="",S);return G.toString=function(){return $},G},parse:function($){var G=O($+="",!1);return G.toString=function(){return $},G},utcFormat:function($){var G=_($+="",x);return G.toString=function(){return $},G},utcParse:function($){var G=O($+="",!0);return G.toString=function(){return $},G}}}var Ov={"-":"",_:" ",0:"0"},Fe=/^\s*\d+/,Nk=/^%/,Ek=/[\\^$*+?|[\]().{}]/g;function me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Pk(e){return e.replace(Ek,"\\$&")}function xa(e){return new RegExp("^(?:"+e.map(Pk).join("|")+")","i")}function wa(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ck(e,t,r){var n=Fe.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kk(e,t,r){var n=Fe.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Mk(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Ak(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Tk(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Sv(e,t,r){var n=Fe.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Nv(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Dk(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ik(e,t,r){var n=Fe.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Rk(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ev(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Lk(e,t,r){var n=Fe.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Pv(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Bk(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Fk(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function zk(e,t,r){var n=Fe.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $k(e,t,r){var n=Fe.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Uk(e,t,r){var n=Nk.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Vk(e,t,r){var n=Fe.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Hk(e,t,r){var n=Fe.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Cv(e,t){return me(e.getDate(),t,2)}function qk(e,t){return me(e.getHours(),t,2)}function Wk(e,t){return me(e.getHours()%12||12,t,2)}function Xk(e,t){return me(1+ga.count(Jt(e),e),t,3)}function kv(e,t){return me(e.getMilliseconds(),t,3)}function Kk(e,t){return kv(e,t)+"000"}function Gk(e,t){return me(e.getMonth()+1,t,2)}function Yk(e,t){return me(e.getMinutes(),t,2)}function Jk(e,t){return me(e.getSeconds(),t,2)}function Zk(e){var t=e.getDay();return t===0?7:t}function Qk(e,t){return me(ci.count(Jt(e)-1,e),t,2)}function Mv(e){var t=e.getDay();return t>=4||t===0?mn(e):mn.ceil(e)}function eM(e,t){return e=Mv(e),me(mn.count(Jt(e),e)+(Jt(e).getDay()===4),t,2)}function tM(e){return e.getDay()}function rM(e,t){return me(li.count(Jt(e)-1,e),t,2)}function nM(e,t){return me(e.getFullYear()%100,t,2)}function aM(e,t){return e=Mv(e),me(e.getFullYear()%100,t,2)}function oM(e,t){return me(e.getFullYear()%1e4,t,4)}function iM(e,t){var r=e.getDay();return e=r>=4||r===0?mn(e):mn.ceil(e),me(e.getFullYear()%1e4,t,4)}function sM(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+me(t/60|0,"0",2)+me(t%60,"0",2)}function Av(e,t){return me(e.getUTCDate(),t,2)}function cM(e,t){return me(e.getUTCHours(),t,2)}function lM(e,t){return me(e.getUTCHours()%12||12,t,2)}function uM(e,t){return me(1+si.count(Zt(e),e),t,3)}function Tv(e,t){return me(e.getUTCMilliseconds(),t,3)}function dM(e,t){return Tv(e,t)+"000"}function fM(e,t){return me(e.getUTCMonth()+1,t,2)}function pM(e,t){return me(e.getUTCMinutes(),t,2)}function hM(e,t){return me(e.getUTCSeconds(),t,2)}function mM(e){var t=e.getUTCDay();return t===0?7:t}function yM(e,t){return me(ui.count(Zt(e)-1,e),t,2)}function Dv(e){var t=e.getUTCDay();return t>=4||t===0?yn(e):yn.ceil(e)}function vM(e,t){return e=Dv(e),me(yn.count(Zt(e),e)+(Zt(e).getUTCDay()===4),t,2)}function gM(e){return e.getUTCDay()}function bM(e,t){return me(di.count(Zt(e)-1,e),t,2)}function xM(e,t){return me(e.getUTCFullYear()%100,t,2)}function wM(e,t){return e=Dv(e),me(e.getUTCFullYear()%100,t,2)}function jM(e,t){return me(e.getUTCFullYear()%1e4,t,4)}function _M(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yn(e):yn.ceil(e),me(e.getUTCFullYear()%1e4,t,4)}function OM(){return"+0000"}function Iv(){return"%"}function Rv(e){return+e}function Lv(e){return Math.floor(+e/1e3)}var vn,Bv,Fv;SM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SM(e){return vn=Sk(e),Bv=vn.format,vn.parse,Fv=vn.utcFormat,vn.utcParse,vn}function NM(e){return new Date(e)}function EM(e){return e instanceof Date?+e:+new Date(+e)}function zl(e,t,r,n,a,o,i,s,c,l){var u=wl(),f=u.invert,p=u.domain,m=l(".%L"),y=l(":%S"),h=l("%I:%M"),g=l("%I %p"),b=l("%a %d"),w=l("%b %d"),S=l("%B"),x=l("%Y");function j(_){return(c(_)<_?m:s(_)<_?y:i(_)<_?h:o(_)<_?g:n(_)<_?a(_)<_?b:w:r(_)<_?S:x)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?p(Array.from(_,EM)):p().map(NM)},u.ticks=function(_){var O=p();return e(O[0],O[O.length-1],_??10)},u.tickFormat=function(_,O){return O==null?j:l(O)},u.nice=function(_){var O=p();return(!_||typeof _.range!="function")&&(_=t(O[0],O[O.length-1],_??10)),_?p(sv(O,_)):u},u.copy=function(){return ya(u,zl(e,t,r,n,a,o,i,s,c,l))},u}function PM(){return bt.apply(zl(_k,Ok,Jt,Rl,ci,ga,Dl,Al,Mr,Bv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CM(){return bt.apply(zl(wk,jk,Zt,Ll,ui,si,Il,Tl,Mr,Fv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fi(){var e=0,t=1,r,n,a,o,i=Je,s=!1,c;function l(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(o(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),l):[e,t]},l.clamp=function(f){return arguments.length?(s=!!f,l):s},l.interpolator=function(f){return arguments.length?(i=f,l):i};function u(f){return function(p){var m,y;return arguments.length?([m,y]=p,i=f(m,y),l):[i(0),i(1)]}}return l.range=u(Jr),l.rangeRound=u($s),l.unknown=function(f){return arguments.length?(c=f,l):c},function(f){return o=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),l}}function fr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zv(){var e=dr(fi()(Je));return e.copy=function(){return fr(e,zv())},Xt.apply(e,arguments)}function $v(){var e=Ol(fi()).domain([1,10]);return e.copy=function(){return fr(e,$v()).base(e.base())},Xt.apply(e,arguments)}function Uv(){var e=Sl(fi());return e.copy=function(){return fr(e,Uv()).constant(e.constant())},Xt.apply(e,arguments)}function $l(){var e=Nl(fi());return e.copy=function(){return fr(e,$l()).exponent(e.exponent())},Xt.apply(e,arguments)}function kM(){return $l.apply(null,arguments).exponent(.5)}function Vv(){var e=[],t=Je;function r(n){if(n!=null&&!isNaN(n=+n))return t((fa(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ur),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>zC(e,o/n))},r.copy=function(){return Vv(t).domain(e)},Xt.apply(r,arguments)}function pi(){var e=0,t=.5,r=1,n=1,a,o,i,s,c,l=Je,u,f=!1,p;function m(h){return isNaN(h=+h)?p:(h=.5+((h=+u(h))-o)*(n*h<n*o?s:c),l(f?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([e,t,r]=h,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m):[e,t,r]},m.clamp=function(h){return arguments.length?(f=!!h,m):f},m.interpolator=function(h){return arguments.length?(l=h,m):l};function y(h){return function(g){var b,w,S;return arguments.length?([b,w,S]=g,l=Vw(h,[b,w,S]),m):[l(0),l(.5),l(1)]}}return m.range=y(Jr),m.rangeRound=y($s),m.unknown=function(h){return arguments.length?(p=h,m):p},function(h){return u=h,a=h(e),o=h(t),i=h(r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m}}function Hv(){var e=dr(pi()(Je));return e.copy=function(){return fr(e,Hv())},Xt.apply(e,arguments)}function qv(){var e=Ol(pi()).domain([.1,1,10]);return e.copy=function(){return fr(e,qv()).base(e.base())},Xt.apply(e,arguments)}function Wv(){var e=Sl(pi());return e.copy=function(){return fr(e,Wv()).constant(e.constant())},Xt.apply(e,arguments)}function Ul(){var e=Nl(pi());return e.copy=function(){return fr(e,Ul()).exponent(e.exponent())},Xt.apply(e,arguments)}function MM(){return Ul.apply(null,arguments).exponent(.5)}const Xv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ha,scaleDiverging:Hv,scaleDivergingLog:qv,scaleDivergingPow:Ul,scaleDivergingSqrt:MM,scaleDivergingSymlog:Wv,scaleIdentity:iv,scaleImplicit:gl,scaleLinear:oi,scaleLog:dv,scaleOrdinal:bl,scalePoint:ma,scalePow:El,scaleQuantile:gv,scaleQuantize:bv,scaleRadial:vv,scaleSequential:zv,scaleSequentialLog:$v,scaleSequentialPow:$l,scaleSequentialQuantile:Vv,scaleSequentialSqrt:kM,scaleSequentialSymlog:Uv,scaleSqrt:dk,scaleSymlog:hv,scaleThreshold:xv,scaleTime:PM,scaleUtc:CM,tickFormat:ov},Symbol.toStringTag,{value:"Module"}));var AM=xd;function TM(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!AM(i):r(i,s)))var s=i,c=o}return c}var Kv=TM;function DM(e,t){return e>t}var IM=DM,RM=Kv,LM=IM,BM=ro;function FM(e){return e&&e.length?RM(e,BM,LM):void 0}var zM=FM;const hi=Ne(zM);function $M(e,t){return e<t}var UM=$M,VM=Kv,HM=UM,qM=ro;function WM(e){return e&&e.length?VM(e,qM,HM):void 0}var XM=WM;const mi=Ne(XM);var KM=vw,GM=wr,YM=$m,JM=Hn;function ZM(e,t){var r=JM(e)?KM:YM;return r(e,GM(t))}var Gv=ZM;Aw=Ne(Gv);var QM=Ts,e2=Gv;function t2(e,t){return QM(e2(e,t),1)}var r2=t2;const n2=Ne(r2);var a2=WF;function o2(e,t){return a2(e,t)}var i2=o2;const Vl=Ne(i2);var gn=1e9,s2={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wl,Ee=!0,wt="[DecimalError] ",Dr=wt+"Invalid argument: ",Hl=wt+"Exponent out of range: ",bn=Math.floor,Ir=Math.pow,c2=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ft,ze=1e7,Se=7,Yv=9007199254740991,yi=bn(Yv/Se),Z={};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Z.comparedTo=Z.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1},Z.decimalPlaces=Z.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Se;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r},Z.dividedBy=Z.div=function(e){return Qt(this,new this.constructor(e))},Z.dividedToIntegerBy=Z.idiv=function(e){var t=this,r=t.constructor;return je(Qt(t,new r(e),0,1),r.precision)},Z.equals=Z.eq=function(e){return!this.cmp(e)},Z.exponent=function(){return Me(this)},Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0},Z.greaterThanOrEqualTo=Z.gte=function(e){return this.cmp(e)>=0},Z.isInteger=Z.isint=function(){return this.e>this.d.length-2},Z.isNegative=Z.isneg=function(){return this.s<0},Z.isPositive=Z.ispos=function(){return this.s>0},Z.isZero=function(){return this.s===0},Z.lessThan=Z.lt=function(e){return this.cmp(e)<0},Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1},Z.logarithm=Z.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ft))throw Error(wt+"NaN");if(r.s<1)throw Error(wt+(r.s?"NaN":"-Infinity"));return r.eq(ft)?new n(0):(Ee=!1,t=Qt(ja(r,o),ja(e,o),o),Ee=!0,je(t,a))},Z.minus=Z.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eg(t,e):Jv(t,(e.s=-e.s,e))},Z.modulo=Z.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(wt+"NaN");return r.s?(Ee=!1,t=Qt(r,e,0,1).times(e),Ee=!0,r.minus(t)):je(new n(r),a)},Z.naturalExponential=Z.exp=function(){return Zv(this)},Z.naturalLogarithm=Z.ln=function(){return ja(this)},Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Z.plus=Z.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jv(t,e):eg(t,(e.s=-e.s,e))},Z.precision=Z.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dr+e);if(t=Me(a)+1,n=a.d.length-1,r=n*Se+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},Z.squareRoot=Z.sqrt=function(){var e,t,r,n,a,o,i,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(wt+"NaN")}for(e=Me(s),Ee=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Rt(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bn((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(o=n,n=o.plus(Qt(s,o,i+2)).times(.5),Rt(o.d).slice(0,i)===(t=Rt(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(je(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Ee=!0,je(n,r)},Z.times=Z.mul=function(e){var t,r,n,a,o,i,s,c,l,u=this,f=u.constructor,p=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=p.length,l=m.length,c<l&&(o=p,p=m,m=o,i=c,c=l,l=i),o=[],i=c+l,n=i;n--;)o.push(0);for(n=l;--n>=0;){for(t=0,a=c+n;a>n;)s=o[a]+m[n]*p[a-n-1]+t,o[a--]=s%ze|0,t=s/ze|0;o[a]=(o[a]+t)%ze|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Ee?je(e,f.precision):e},Z.toDecimalPlaces=Z.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(It(e,0,gn),t===void 0?t=n.rounding:It(t,0,8),je(r,e+Me(r)+1,t))},Z.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Rr(n,!0):(It(e,0,gn),t===void 0?t=a.rounding:It(t,0,8),n=je(new a(n),e+1,t),r=Rr(n,!0,e+1)),r},Z.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Rr(a):(It(e,0,gn),t===void 0?t=o.rounding:It(t,0,8),n=je(new o(a),e+Me(a)+1,t),r=Rr(n.abs(),!1,e+Me(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},Z.toInteger=Z.toint=function(){var e=this,t=e.constructor;return je(new t(e),Me(e)+1,t.rounding)},Z.toNumber=function(){return+this},Z.toPower=Z.pow=function(e){var t,r,n,a,o,i,s=this,c=s.constructor,l=12,u=+(e=new c(e));if(!e.s)return new c(ft);if(s=new c(s),!s.s){if(e.s<1)throw Error(wt+"Infinity");return s}if(s.eq(ft))return s;if(n=c.precision,e.eq(ft))return je(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=Yv){for(a=new c(ft),t=Math.ceil(n/Se+4),Ee=!1;r%2&&(a=a.times(s),tg(a.d,t)),r=bn(r/2),r!==0;)s=s.times(s),tg(s.d,t);return Ee=!0,e.s<0?new c(ft).div(a):je(a,n)}}else if(o<0)throw Error(wt+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ee=!1,a=e.times(ja(s,n+l)),Ee=!0,a=Zv(a),a.s=o,a},Z.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Me(a),n=Rr(a,r<=o.toExpNeg||r>=o.toExpPos)):(It(e,1,gn),t===void 0?t=o.rounding:It(t,0,8),a=je(new o(a),e,t),r=Me(a),n=Rr(a,e<=r||r<=o.toExpNeg,e)),n},Z.toSignificantDigits=Z.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(It(e,1,gn),t===void 0?t=n.rounding:It(t,0,8)),je(new n(r),e,t)},Z.toString=Z.valueOf=Z.val=Z.toJSON=Z[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Me(e),r=e.constructor;return Rr(e,t<=r.toExpNeg||t>=r.toExpPos)};function Jv(e,t){var r,n,a,o,i,s,c,l,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ee?je(t,f):t;if(c=e.d,l=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a,o){for(o<0?(n=c,o=-o,s=l.length):(n=l,a=i,s=c.length),i=Math.ceil(f/Se),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=c.length,o=l.length,s-o<0&&(o=s,n=l,l=c,c=n),r=0;o;)r=(c[--o]=c[o]+l[o]+r)/ze|0,c[o]%=ze;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Ee?je(t,f):t}function It(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Dr+e)}function Rt(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Se-n.length,r&&(o+=pr(r)),o+=n;i=e[t],n=i+"",r=Se-n.length,r&&(o+=pr(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Qt=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%ze|0,i=o/ze|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,c;if(o!=i)c=o>i?1:-1;else for(s=c=0;s<o;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*ze+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,c,l,u,f,p,m,y,h,g,b,w,S,x,j,_,O,P,M=n.constructor,C=n.s==a.s?1:-1,N=n.d,T=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(wt+"Division by zero");for(c=n.e-a.e,O=T.length,j=N.length,m=new M(C),y=m.d=[],l=0;T[l]==(N[l]||0);)++l;if(T[l]>(N[l]||0)&&--c,o==null?w=o=M.precision:i?w=o+(Me(n)-Me(a))+1:w=o,w<0)return new M(0);if(w=w/Se+2|0,l=0,O==1)for(u=0,T=T[0],w++;(l<j||u)&&w--;l++)S=u*ze+(N[l]||0),y[l]=S/T|0,u=S%T|0;else{for(u=ze/(T[0]+1)|0,u>1&&(T=e(T,u),N=e(N,u),O=T.length,j=N.length),x=O,h=N.slice(0,O),g=h.length;g<O;)h[g++]=0;P=T.slice(),P.unshift(0),_=T[0],T[1]>=ze/2&&++_;do u=0,s=t(T,h,O,g),s<0?(b=h[0],O!=g&&(b=b*ze+(h[1]||0)),u=b/_|0,u>1?(u>=ze&&(u=ze-1),f=e(T,u),p=f.length,g=h.length,s=t(f,h,p,g),s==1&&(u--,r(f,O<p?P:T,p))):(u==0&&(s=u=1),f=T.slice()),p=f.length,p<g&&f.unshift(0),r(h,f,g),s==-1&&(g=h.length,s=t(T,h,O,g),s<1&&(u++,r(h,O<g?P:T,g))),g=h.length):s===0&&(u++,h=[0]),y[l++]=u,s&&h[0]?h[g++]=N[x]||0:(h=[N[x]],g=1);while((x++<j||h[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=c,je(m,i?o+Me(m)+1:o)}}();function Zv(e,t){var r,n,a,o,i,s,c=0,l=0,u=e.constructor,f=u.precision;if(Me(e)>16)throw Error(Hl+Me(e));if(!e.s)return new u(ft);for(t==null?(Ee=!1,s=f):s=t,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(n=Math.log(Ir(2,l))/Math.LN10*2+5|0,s+=n,r=a=o=new u(ft),u.precision=s;;){if(a=je(a.times(e),s),r=r.times(++c),i=o.plus(Qt(a,r,s)),Rt(i.d).slice(0,s)===Rt(o.d).slice(0,s)){for(;l--;)o=je(o.times(o),s);return u.precision=f,t==null?(Ee=!0,je(o,f)):o}o=i}}function Me(e){for(var t=e.e*Se,r=e.d[0];r>=10;r/=10)t++;return t}function ql(e,t,r){if(t>e.LN10.sd())throw Ee=!0,r&&(e.precision=r),Error(wt+"LN10 precision limit exceeded");return je(new e(e.LN10),t)}function pr(e){for(var t="";e--;)t+="0";return t}function ja(e,t){var r,n,a,o,i,s,c,l,u,f=1,p=10,m=e,y=m.d,h=m.constructor,g=h.precision;if(m.s<1)throw Error(wt+(m.s?"NaN":"-Infinity"));if(m.eq(ft))return new h(0);if(t==null?(Ee=!1,l=g):l=t,m.eq(10))return t==null&&(Ee=!0),ql(h,l);if(l+=p,h.precision=l,r=Rt(y),n=r.charAt(0),o=Me(m),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Rt(m.d),n=r.charAt(0),f++;o=Me(m),n>1?(m=new h("0."+r),o++):m=new h(n+"."+r.slice(1))}else return c=ql(h,l+2,g).times(o+""),m=ja(new h(n+"."+r.slice(1)),l-p).plus(c),h.precision=g,t==null?(Ee=!0,je(m,g)):m;for(s=i=m=Qt(m.minus(ft),m.plus(ft),l),u=je(m.times(m),l),a=3;;){if(i=je(i.times(u),l),c=s.plus(Qt(i,new h(a),l)),Rt(c.d).slice(0,l)===Rt(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(ql(h,l+2,g).times(o+""))),s=Qt(s,new h(f),l),h.precision=g,t==null?(Ee=!0,je(s,g)):s;s=c,a+=2}}function Qv(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bn(r/Se),e.d=[],n=(r+1)%Se,r<0&&(n+=Se),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Se;n<a;)e.d.push(+t.slice(n,n+=Se));t=t.slice(n),n=Se-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ee&&(e.e>yi||e.e<-yi))throw Error(Hl+r)}else e.s=0,e.e=0,e.d=[0];return e}function je(e,t,r){var n,a,o,i,s,c,l,u,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Se,a=t,l=f[u=0];else{if(u=Math.ceil((n+1)/Se),o=f.length,u>=o)return e;for(l=o=f[u],i=1;o>=10;o/=10)i++;n%=Se,a=n-Se+i}if(r!==void 0&&(o=Ir(10,i-a-1),s=l/o%10|0,c=t<0||f[u+1]!==void 0||l%o,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?l/Ir(10,i-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(o=Me(e),f.length=1,t=t-o-1,f[0]=Ir(10,(Se-t%Se)%Se),e.e=bn(-t/Se)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,o=1,u--):(f.length=u+1,o=Ir(10,Se-n),f[u]=a>0?(l/Ir(10,i-a)%Ir(10,a)|0)*o:0),c)for(;;)if(u==0){(f[0]+=o)==ze&&(f[0]=1,++e.e);break}else{if(f[u]+=o,f[u]!=ze)break;f[u--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(Ee&&(e.e>yi||e.e<-yi))throw Error(Hl+Me(e));return e}function eg(e,t){var r,n,a,o,i,s,c,l,u,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ee?je(t,m):t;if(c=e.d,f=t.d,n=t.e,l=e.e,c=c.slice(),i=l-n,i){for(u=i<0,u?(r=c,i=-i,s=f.length):(r=f,n=l,s=c.length),a=Math.max(Math.ceil(m/Se),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}i=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(o=a;o&&c[--o]===0;)c[o]=ze-1;--c[o],c[a]+=ze}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ee?je(t,m):t):new p(0)}function Rr(e,t,r){var n,a=Me(e),o=Rt(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+pr(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+pr(-a-1)+o,r&&(n=r-i)>0&&(o+=pr(n))):a>=i?(o+=pr(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+pr(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=pr(n))),e.s<0?"-"+o:o}function tg(e,t){if(e.length>t)return e.length=t,!0}function rg(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Dr+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return Qv(i,o.toString())}else if(typeof o!="string")throw Error(Dr+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,c2.test(o))Qv(i,o);else throw Error(Dr+o)}if(a.prototype=Z,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rg,a.config=a.set=l2,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function l2(e){if(!e||typeof e!="object")throw Error(wt+"Object expected");var t,r,n,a=["precision",1,gn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bn(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Dr+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Dr+r+": "+n);return this}var Wl=rg(s2);ft=new Wl(1);const we=Wl;function u2(e){return h2(e)||p2(e)||f2(e)||d2()}function d2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f2(e,t){if(e){if(typeof e=="string")return Xl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xl(e,t)}}function p2(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function h2(e){if(Array.isArray(e))return Xl(e)}function Xl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m2=function(e){return e},ng={"@@functional/placeholder":!0},ag=function(e){return e===ng},og=function(e){return function t(){return arguments.length===0||arguments.length===1&&ag(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},y2=function e(t,r){return t===1?r:og(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==ng}).length;return i>=t?r.apply(void 0,a):e(t-i,og(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=a.map(function(f){return ag(f)?c.shift():f});return r.apply(void 0,u2(u).concat(c))}))})},vi=function(e){return y2(e.length,e)},Kl=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},v2=vi(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),g2=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return m2;var n=t.reverse(),a=n[0],o=n.slice(1);return function(){return o.reduce(function(i,s){return s(i)},a.apply(void 0,arguments))}},Gl=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ig=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t&&a.every(function(i,s){return i===t[s]})||(t=a,r=e.apply(void 0,a)),r}};function b2(e){var t;return e===0?t=1:t=Math.floor(new we(e).abs().log(10).toNumber())+1,t}function x2(e,t,r){for(var n=new we(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var w2=vi(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),j2=vi(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),_2=vi(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const gi={rangeStep:x2,getDigitCount:b2,interpolateNumber:w2,uninterpolateNumber:j2,uninterpolateTruncation:_2};function Yl(e){return N2(e)||S2(e)||sg(e)||O2()}function O2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S2(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function N2(e){if(Array.isArray(e))return Jl(e)}function _a(e,t){return C2(e)||P2(e,t)||sg(e,t)||E2()}function E2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sg(e,t){if(e){if(typeof e=="string")return Jl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jl(e,t)}}function Jl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P2(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,o=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function C2(e){if(Array.isArray(e))return e}function cg(e){var t=_a(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function lg(e,t,r){if(e.lte(0))return new we(0);var n=gi.getDigitCount(e.toNumber()),a=new we(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new we(Math.ceil(o.div(i).toNumber())).add(r).mul(i),c=s.mul(a);return t?c:new we(Math.ceil(c))}function k2(e,t,r){var n=1,a=new we(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new we(10).pow(gi.getDigitCount(e)-1),a=new we(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new we(Math.floor(e)))}else e===0?a=new we(Math.floor((t-1)/2)):r||(a=new we(Math.floor(e)));var i=Math.floor((t-1)/2),s=g2(v2(function(c){return a.add(new we(c-i).mul(n)).toNumber()}),Kl);return s(0,t)}function ug(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new we(0),tickMin:new we(0),tickMax:new we(0)};var o=lg(new we(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new we(0):(i=new we(e).add(t).div(2),i=i.sub(new we(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),c=Math.ceil(new we(t).sub(i).div(o).toNumber()),l=s+c+1;return l>r?ug(e,t,r,n,a+1):(l<r&&(c=t>0?c+(r-l):c,s=t>0?s:s+(r-l)),{step:o,tickMin:i.sub(new we(s).mul(o)),tickMax:i.add(new we(c).mul(o))})}function M2(e){var t=_a(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=cg([r,n]),c=_a(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var f=u===1/0?[l].concat(Yl(Kl(0,a-1).map(function(){return 1/0}))):[].concat(Yl(Kl(0,a-1).map(function(){return-1/0})),[u]);return r>n?Gl(f):f}if(l===u)return k2(l,a,o);var p=ug(l,u,i,o),m=p.step,y=p.tickMin,h=p.tickMax,g=gi.rangeStep(y,h.add(new we(.1).mul(m)),m);return r>n?Gl(g):g}function A2(e,t){var r=_a(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=cg([n,a]),s=_a(i,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,a];if(c===l)return[c];var u=Math.max(t,2),f=lg(new we(l).sub(c).div(u-1),o,0),p=[].concat(Yl(gi.rangeStep(new we(c),new we(l).sub(new we(.99).mul(f)),f)),[l]);return n>a?Gl(p):p}var T2=ig(M2),D2=ig(A2),I2="Invariant failed";function Lr(e,t){throw new Error(I2)}var R2=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xn(e){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}function L2(e,t){return $2(e)||z2(e,t)||F2(e,t)||B2()}function B2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F2(e,t){if(e){if(typeof e=="string")return dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dg(e,t)}}function dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z2(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function $2(e){if(Array.isArray(e))return e}function U2(e,t){if(e==null)return{};var r=V2(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V2(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hg(n.key),n)}}function W2(e,t,r){return t&&q2(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X2(e,t,r){return t=xi(t),K2(e,fg()?Reflect.construct(t,r||[],xi(e).constructor):t.apply(e,r))}function K2(e,t){if(t&&(xn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G2(e)}function G2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fg=function(){return!!e})()}function xi(e){return xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xi(e)}function Y2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zl(e,t)}function Zl(e,t){return Zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zl(e,t)}function pg(e,t,r){return t=hg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hg(e){var t=J2(e,"string");return xn(t)=="symbol"?t:t+""}function J2(e,t){if(xn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wi=function(e){function t(){return H2(this,t),X2(this,t,arguments)}return Y2(t,e),W2(t,[{key:"render",value:function(){var r=this.props,n=r.offset,a=r.layout,o=r.width,i=r.dataKey,s=r.data,c=r.dataPointFormatter,l=r.xAxis,u=r.yAxis,f=U2(r,R2),p=ye(f,!1);this.props.direction==="x"&&l.type!=="number"&&Lr();var m=s.map(function(y){var h=c(y,i),g=h.x,b=h.y,w=h.value,S=h.errorVal;if(!S)return null;var x=[],j,_;if(Array.isArray(S)){var O=L2(S,2);j=O[0],_=O[1]}else j=_=S;if(a==="vertical"){var P=l.scale,M=b+n,C=M+o,N=M-o,T=P(w-j),A=P(w+_);x.push({x1:A,y1:C,x2:A,y2:N}),x.push({x1:T,y1:M,x2:A,y2:M}),x.push({x1:T,y1:C,x2:T,y2:N})}else if(a==="horizontal"){var D=u.scale,k=g+n,R=k-o,F=k+o,U=D(w-j),V=D(w+_);x.push({x1:R,y1:V,x2:F,y2:V}),x.push({x1:k,y1:U,x2:k,y2:V}),x.push({x1:R,y1:U,x2:F,y2:U})}return E.createElement(Be,bi({className:"recharts-errorBar",key:"bar-".concat(x.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),x.map(function(Q){return E.createElement("line",bi({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return E.createElement(Be,{className:"recharts-errorBars"},m)}}])}(E.Component);pg(wi,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),pg(wi,"displayName","ErrorBar");function Oa(e){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(e)}function mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mg(Object(r),!0).forEach(function(n){Z2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z2(e,t,r){return t=Q2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q2(e){var t=eA(e,"string");return Oa(t)=="symbol"?t:t+""}function eA(e,t){if(Oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yg=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,o=dt(t,ln);if(!o)return null;var i=ln.defaultProps,s=i!==void 0?Br(Br({},i),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(l,u){var f=u.item,p=u.props,m=p.sectors||p.data||[];return l.concat(m.map(function(y){return{type:o.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(l){var u=l.item,f=u.type.defaultProps,p=f!==void 0?Br(Br({},f),u.props):{},m=p.dataKey,y=p.name,h=p.legendType,g=p.hide;return{inactive:g,dataKey:m,type:s.iconType||h||"square",color:eu(u),value:y||m,payload:p}}),Br(Br(Br({},s),ln.getWithHeight(o,n)),{},{payload:c,item:o})};function Sa(e){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(e)}function vg(e){return aA(e)||nA(e)||rA(e)||tA()}function tA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rA(e,t){if(e){if(typeof e=="string")return Ql(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ql(e,t)}}function nA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aA(e){if(Array.isArray(e))return Ql(e)}function Ql(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gg(Object(r),!0).forEach(function(n){wn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wn(e,t,r){return t=oA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oA(e){var t=iA(e,"string");return Sa(t)=="symbol"?t:t+""}function iA(e,t){if(Sa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lt(e,t,r){return ve(e)||ve(t)?r:Ie(t)?_t(e,t,r):de(t)?t(e):r}function ji(e,t,r,n){var a=n2(e,function(s){return Lt(s,t)});if(r==="number"){var o=a.filter(function(s){return K(s)||parseFloat(s)});return o.length?[mi(o),hi(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!ve(s)}):a;return i.map(function(s){return Ie(s)||s instanceof Date?s:""})}var sA=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,i=(t=r==null?void 0:r.length)!==null&&t!==void 0?t:0;if(i<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,c=0;c<i;c++){var l=c>0?n[c-1].coordinate:n[i-1].coordinate,u=n[c].coordinate,f=c>=i-1?n[0].coordinate:n[c+1].coordinate,p=void 0;if(Nt(u-l)!==Nt(f-u)){var m=[];if(Nt(f-u)===Nt(s[1]-s[0])){p=f;var y=u+s[1]-s[0];m[0]=Math.min(y,(y+l)/2),m[1]=Math.max(y,(y+l)/2)}else{p=l;var h=f+s[1]-s[0];m[0]=Math.min(u,(h+u)/2),m[1]=Math.max(u,(h+u)/2)}var g=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){o=n[c].index;break}}else{var b=Math.min(l,f),w=Math.max(l,f);if(e>(b+u)/2&&e<=(w+u)/2){o=n[c].index;break}}}else for(var S=0;S<i;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<i-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===i-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){o=r[S].index;break}return o},eu=function(e){var t,r=e,n=r.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?ke(ke({},e.type.defaultProps),e.props):e.props,o=a.stroke,i=a.fill,s;switch(n){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:i;break;default:s=i;break}return s},cA=function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=n===void 0?{}:n;if(!a)return{};for(var o={},i=Object.keys(a),s=0,c=i.length;s<c;s++)for(var l=a[i[s]].stackGroups,u=Object.keys(l),f=0,p=u.length;f<p;f++){var m=l[u[f]],y=m.items,h=m.cateAxisId,g=y.filter(function(_){return Ht(_.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,w=b!==void 0?ke(ke({},b),g[0].props):g[0].props,S=w.barSize,x=w[h];o[x]||(o[x]=[]);var j=ve(S)?t:S;o[x].push({item:g[0],stackList:g.slice(1),barSize:ve(j)?void 0:Cr(j,r,0)})}}return o},lA=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,i=e.maxBarSize,s=o.length;if(s<1)return null;var c=Cr(t,n,0,!0),l,u=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=n/s,m=o.reduce(function(S,x){return S+x.barSize||0},0);m+=(s-1)*c,m>=n&&(m-=(s-1)*c,c=0),m>=n&&p>0&&(f=!0,p*=.9,m=s*p);var y=(n-m)/2>>0,h={offset:y-c,size:0};l=o.reduce(function(S,x){var j={item:x.item,position:{offset:h.offset+h.size+c,size:f?p:x.barSize}},_=[].concat(vg(S),[j]);return h=_[_.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(O){_.push({item:O,position:h})}),_},u)}else{var g=Cr(r,n,0,!0);n-2*g-(s-1)*c<=0&&(c=0);var b=(n-2*g-(s-1)*c)/s;b>1&&(b>>=0);var w=i===+i?Math.min(b,i):b;l=o.reduce(function(S,x,j){var _=[].concat(vg(S),[{item:x.item,position:{offset:g+(b+c)*j+(b-w)/2,size:w}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(O){_.push({item:O,position:_[_.length-1].position})}),_},u)}return l},uA=function(e,t,r,n){var a=r.children,o=r.width,i=r.margin,s=o-(i.left||0)-(i.right||0),c=yg({children:a,legendWidth:s});if(c){var l=n||{},u=l.width,f=l.height,p=c.align,m=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&K(e[p]))return ke(ke({},e),{},wn({},p,e[p]+(u||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&K(e[m]))return ke(ke({},e),{},wn({},m,e[m]+(f||0)))}return e},dA=function(e,t,r){return ve(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},bg=function(e,t,r,n,a){var o=t.props.children,i=Et(o,wi).filter(function(c){return dA(n,a,c.props.direction)});if(i&&i.length){var s=i.map(function(c){return c.props.dataKey});return e.reduce(function(c,l){var u=Lt(l,r);if(ve(u))return c;var f=Array.isArray(u)?[mi(u),hi(u)]:[u,u],p=s.reduce(function(m,y){var h=Lt(l,y,0),g=f[0]-Math.abs(Array.isArray(h)?h[0]:h),b=f[1]+Math.abs(Array.isArray(h)?h[1]:h);return[Math.min(g,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},fA=function(e,t,r,n,a){var o=t.map(function(i){return bg(e,i,r,a,n)}).filter(function(i){return!ve(i)});return o&&o.length?o.reduce(function(i,s){return[Math.min(i[0],s[0]),Math.max(i[1],s[1])]},[1/0,-1/0]):null},xg=function(e,t,r,n,a){var o=t.map(function(s){var c=s.props.dataKey;return r==="number"&&c&&bg(e,s,c,n)||ji(e,c,r,a)});if(r==="number")return o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]);var i={};return o.reduce(function(s,c){for(var l=0,u=c.length;l<u;l++)i[c[l]]||(i[c[l]]=!0,s.push(c[l]));return s},[])},wg=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},jg=function(e,t,r,n){if(n)return e.map(function(s){return s.coordinate});var a,o,i=e.map(function(s){return s.coordinate===t&&(a=!0),s.coordinate===r&&(o=!0),s.coordinate});return a||i.push(t),o||i.push(r),i},er=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,o=e.type,i=e.range,s=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,c=(t||r)&&o==="category"&&n.bandwidth?n.bandwidth()/s:0;if(c=e.axisType==="angleAxis"&&(i==null?void 0:i.length)>=2?Nt(i[0]-i[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var l=(e.ticks||e.niceTicks).map(function(u){var f=a?a.indexOf(u):u;return{coordinate:n(f)+c,value:u,offset:c}});return l.filter(function(u){return!ra(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,f){return{coordinate:n(u)+c,value:u,index:f,offset:c}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(u){return{coordinate:n(u)+c,value:u,offset:c}}):n.domain().map(function(u,f){return{coordinate:n(u)+c,value:a?a[u]:u,index:f,offset:c}})},tu=new WeakMap,_i=function(e,t){if(typeof t!="function")return e;tu.has(e)||tu.set(e,new WeakMap);var r=tu.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},pA=function(e,t,r){var n=e.scale,a=e.type,o=e.layout,i=e.axisType;if(n==="auto")return o==="radial"&&i==="radiusAxis"?{scale:ha(),realScaleType:"band"}:o==="radial"&&i==="angleAxis"?{scale:oi(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:ma(),realScaleType:"point"}:a==="category"?{scale:ha(),realScaleType:"band"}:{scale:oi(),realScaleType:"linear"};if(ta(n)){var s="scale".concat(Do(n));return{scale:(Xv[s]||ma)(),realScaleType:Xv[s]?s:"point"}}return de(n)?{scale:n}:{scale:ma(),realScaleType:"point"}},_g=1e-4,hA=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-_g,o=Math.max(n[0],n[1])+_g,i=e(t[0]),s=e(t[r-1]);(i<a||i>o||s<a||s>o)&&e.domain([t[0],t[r-1]])}},mA=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null},yA=function(e,t){if(!t||t.length!==2||!K(t[0])||!K(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!K(e[0])||e[0]<r)&&(a[0]=r),(!K(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},vA=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0,i=0;i<t;++i){var s=ra(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1])}},gA=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0;o<t;++o){var i=ra(e[o][r][1])?e[o][r][0]:e[o][r][1];i>=0?(e[o][r][0]=a,e[o][r][1]=a+i,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},bA={sign:vA,expand:SS,none:on,silhouette:NS,wiggle:ES,positive:gA},xA=function(e,t,r){var n=t.map(function(i){return i.props.dataKey}),a=bA[r],o=OS().keys(n).value(function(i,s){return+Lt(i,s,0)}).order(qc).offset(a);return o(e)},wA=function(e,t,r,n,a,o){if(!e)return null;var i=o?t.reverse():t,s={},c=i.reduce(function(u,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?ke(ke({},f.type.defaultProps),f.props):f.props,y=m.stackId,h=m.hide;if(h)return u;var g=m[r],b=u[g]||{hasStack:!1,stackGroups:{}};if(Ie(y)){var w=b.stackGroups[y]||{numericAxisId:r,cateAxisId:n,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[y]=w}else b.stackGroups[Mo("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[f]};return ke(ke({},u),{},wn({},g,b))},s),l={};return Object.keys(c).reduce(function(u,f){var p=c[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,h){var g=p.stackGroups[h];return ke(ke({},y),{},wn({},h,{numericAxisId:r,cateAxisId:n,items:g.items,stackedData:xA(e,g.items,a)}))},m)}return ke(ke({},u),{},wn({},f,p))},l)},jA=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,o=t.originalDomain,i=t.allowDecimals,s=r||t.scale;if(s!=="auto"&&s!=="linear")return null;if(a&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var l=T2(c,a,i);return e.domain([mi(l),hi(l)]),{niceTicks:l}}if(a&&n==="number"){var u=e.domain(),f=D2(u,a,i);return{niceTicks:f}}return null},Og=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,o=e.entry,i=e.index;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var s=Lt(o,t.dataKey,t.domain[i]);return ve(s)?null:t.scale(s)-a/2+n},_A=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},OA=function(e,t){var r,n=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ke(ke({},e.type.defaultProps),e.props):e.props,a=n.stackId;if(Ie(a)){var o=t[a];if(o){var i=o.items.indexOf(e);return i>=0?o.stackedData[i]:null}}return null},SA=function(e){return e.reduce(function(t,r){return[mi(r.concat([t[0]]).filter(K)),hi(r.concat([t[1]]).filter(K))]},[1/0,-1/0])},Sg=function(e,t,r){return Object.keys(e).reduce(function(n,a){var o=e[a],i=o.stackedData,s=i.reduce(function(c,l){var u=SA(l.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},Ng=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Eg=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ru=function(e,t,r){if(de(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(K(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Ng.test(e[0])){var a=+Ng.exec(e[0])[1];n[0]=t[0]-a}else de(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(K(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Eg.test(e[1])){var o=+Eg.exec(e[1])[1];n[1]=t[1]+o}else de(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Oi=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=nl(t,function(u){return u.coordinate}),o=1/0,i=1,s=a.length;i<s;i++){var c=a[i],l=a[i-1];o=Math.min((c.coordinate||0)-(l.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Pg=function(e,t,r){return!e||!e.length||Vl(e,_t(r,"type.defaultProps.domain"))?t:e},Cg=function(e,t){var r=e.type.defaultProps?ke(ke({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,o=r.unit,i=r.formatter,s=r.tooltipType,c=r.chartType,l=r.hide;return ke(ke({},ye(e,!1)),{},{dataKey:n,unit:o,formatter:i,name:a||n,color:eu(e),value:Lt(t,n),type:s,payload:t,chartType:c,hide:l})};function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kg(Object(r),!0).forEach(function(n){NA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NA(e,t,r){return t=EA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EA(e){var t=PA(e,"string");return Na(t)=="symbol"?t:t+""}function PA(e,t){if(Na(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Si=Math.PI/180,CA=function(e){return e*180/Math.PI},$e=function(e,t,r,n){return{x:e+Math.cos(-Si*n)*r,y:t+Math.sin(-Si*n)*r}},kA=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-o,2))},MA=function(e,t){var r=e.x,n=e.y,a=t.cx,o=t.cy,i=kA({x:r,y:n},{x:a,y:o});if(i<=0)return{radius:i};var s=(r-a)/i,c=Math.acos(s);return n>o&&(c=2*Math.PI-c),{radius:i,angle:CA(c),angleInRadian:c}},AA=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-o*360,endAngle:r-o*360}},TA=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return e+i*360},Ag=function(e,t){var r=e.x,n=e.y,a=MA({x:r,y:n},t),o=a.radius,i=a.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(o===0)return!0;var l=AA(t),u=l.startAngle,f=l.endAngle,p=i,m;if(u<=f){for(;p>f;)p-=360;for(;p<u;)p+=360;m=p>=u&&p<=f}else{for(;p>u;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=u}return m?Mg(Mg({},t),{},{radius:o,angle:TA(p,t)}):null};function Ea(e){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(e)}var DA=["offset"];function IA(e){return FA(e)||BA(e)||LA(e)||RA()}function RA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LA(e,t){if(e){if(typeof e=="string")return nu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nu(e,t)}}function BA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FA(e){if(Array.isArray(e))return nu(e)}function nu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zA(e,t){if(e==null)return{};var r=$A(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $A(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tg(Object(r),!0).forEach(function(n){UA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UA(e,t,r){return t=VA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VA(e){var t=HA(e,"string");return Ea(t)=="symbol"?t:t+""}function HA(e,t){if(Ea(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ea(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pa.apply(this,arguments)}var qA=function(e){var t=e.value,r=e.formatter,n=ve(e.children)?t:e.children;return de(r)?r(n):n},WA=function(e,t){var r=Nt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},XA=function(e,t,r){var n=e.position,a=e.viewBox,o=e.offset,i=e.className,s=a,c=s.cx,l=s.cy,u=s.innerRadius,f=s.outerRadius,p=s.startAngle,m=s.endAngle,y=s.clockWise,h=(u+f)/2,g=WA(p,m),b=g>=0?1:-1,w,S;n==="insideStart"?(w=p+b*o,S=y):n==="insideEnd"?(w=m-b*o,S=!y):n==="end"&&(w=m+b*o,S=y),S=g<=0?S:!S;var x=$e(c,l,h,w),j=$e(c,l,h,w+(S?1:-1)*359),_="M".concat(x.x,",").concat(x.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),O=ve(e.id)?Mo("recharts-radial-line-"):e.id;return E.createElement("text",Pa({},r,{dominantBaseline:"central",className:ge("recharts-radial-bar-label",i)}),E.createElement("defs",null,E.createElement("path",{id:O,d:_})),E.createElement("textPath",{xlinkHref:"#".concat(O)},t))},KA=function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,o=a.cx,i=a.cy,s=a.innerRadius,c=a.outerRadius,l=a.startAngle,u=a.endAngle,f=(l+u)/2;if(n==="outside"){var p=$e(o,i,c+r,f),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+c)/2,g=$e(o,i,h,f),b=g.x,w=g.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},GA=function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,o=t,i=o.x,s=o.y,c=o.width,l=o.height,u=l>=0?1:-1,f=u*n,p=u>0?"end":"start",m=u>0?"start":"end",y=c>=0?1:-1,h=y*n,g=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var w={x:i+c/2,y:s-u*n,textAnchor:"middle",verticalAnchor:p};return Le(Le({},w),r?{height:Math.max(s-r.y,0),width:c}:{})}if(a==="bottom"){var S={x:i+c/2,y:s+l+f,textAnchor:"middle",verticalAnchor:m};return Le(Le({},S),r?{height:Math.max(r.y+r.height-(s+l),0),width:c}:{})}if(a==="left"){var x={x:i-h,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return Le(Le({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if(a==="right"){var j={x:i+c+h,y:s+l/2,textAnchor:b,verticalAnchor:"middle"};return Le(Le({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:l}:{})}var _=r?{width:c,height:l}:{};return a==="insideLeft"?Le({x:i+h,y:s+l/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?Le({x:i+c-h,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},_):a==="insideTop"?Le({x:i+c/2,y:s+f,textAnchor:"middle",verticalAnchor:m},_):a==="insideBottom"?Le({x:i+c/2,y:s+l-f,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?Le({x:i+h,y:s+f,textAnchor:b,verticalAnchor:m},_):a==="insideTopRight"?Le({x:i+c-h,y:s+f,textAnchor:g,verticalAnchor:m},_):a==="insideBottomLeft"?Le({x:i+h,y:s+l-f,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?Le({x:i+c-h,y:s+l-f,textAnchor:g,verticalAnchor:p},_):qn(a)&&(K(a.x)||Pr(a.x))&&(K(a.y)||Pr(a.y))?Le({x:i+Cr(a.x,c),y:s+Cr(a.y,l),textAnchor:"end",verticalAnchor:"end"},_):Le({x:i+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},_)},YA=function(e){return"cx"in e&&K(e.cx)};function He(e){var t=e.offset,r=t===void 0?5:t,n=zA(e,DA),a=Le({offset:r},n),o=a.viewBox,i=a.position,s=a.value,c=a.children,l=a.content,u=a.className,f=u===void 0?"":u,p=a.textBreakAll;if(!o||ve(s)&&ve(c)&&!v.isValidElement(l)&&!de(l))return null;if(v.isValidElement(l))return v.cloneElement(l,a);var m;if(de(l)){if(m=v.createElement(l,a),v.isValidElement(m))return m}else m=qA(a);var y=YA(o),h=ye(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return XA(a,m,h);var g=y?KA(a):GA(a);return E.createElement(Qo,Pa({className:ge("recharts-label",f)},h,g,{breakAll:p}),m)}He.displayName="Label";var Dg=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,o=e.endAngle,i=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,f=e.y,p=e.top,m=e.left,y=e.width,h=e.height,g=e.clockWise,b=e.labelViewBox;if(b)return b;if(K(y)&&K(h)){if(K(u)&&K(f))return{x:u,y:f,width:y,height:h};if(K(p)&&K(m))return{x:p,y:m,width:y,height:h}}return K(u)&&K(f)?{x:u,y:f,width:0,height:0}:K(t)&&K(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:o||n||0,innerRadius:c||0,outerRadius:l||s||i||0,clockWise:g}:e.viewBox?e.viewBox:{}},JA=function(e,t){return e?e===!0?E.createElement(He,{key:"label-implicit",viewBox:t}):Ie(e)?E.createElement(He,{key:"label-implicit",viewBox:t,value:e}):v.isValidElement(e)?e.type===He?v.cloneElement(e,{key:"label-implicit",viewBox:t}):E.createElement(He,{key:"label-implicit",content:e,viewBox:t}):de(e)?E.createElement(He,{key:"label-implicit",content:e,viewBox:t}):qn(e)?E.createElement(He,Pa({viewBox:t},e,{key:"label-implicit"})):null:null},ZA=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Dg(e),o=Et(n,He).map(function(s,c){return v.cloneElement(s,{viewBox:t||a,key:"label-".concat(c)})});if(!r)return o;var i=JA(e.label,t||a);return[i].concat(IA(o))};He.parseViewBox=Dg,He.renderCallByParent=ZA;function QA(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}Ud=QA,Fd=Ne(Ud);function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}var eT=["valueAccessor"],tT=["data","dataKey","clockWise","id","textBreakAll"];function rT(e){return iT(e)||oT(e)||aT(e)||nT()}function nT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aT(e,t){if(e){if(typeof e=="string")return au(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return au(e,t)}}function oT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iT(e){if(Array.isArray(e))return au(e)}function au(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function Ig(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ig(Object(r),!0).forEach(function(n){sT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ig(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sT(e,t,r){return t=cT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cT(e){var t=lT(e,"string");return Ca(t)=="symbol"?t:t+""}function lT(e,t){if(Ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lg(e,t){if(e==null)return{};var r=uT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dT=function(e){return Array.isArray(e.value)?Fd(e.value):e.value};function Fr(e){var t=e.valueAccessor,r=t===void 0?dT:t,n=Lg(e,eT),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,c=n.textBreakAll,l=Lg(n,tT);return!a||!a.length?null:E.createElement(Be,{className:"recharts-label-list"},a.map(function(u,f){var p=ve(o)?r(u,f):Lt(u&&u.payload,o),m=ve(s)?{}:{id:"".concat(s,"-").concat(f)};return E.createElement(He,Ni({},ye(u,!0),l,m,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:He.parseViewBox(ve(i)?u:Rg(Rg({},u),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Fr.displayName="LabelList";function fT(e,t){return e?e===!0?E.createElement(Fr,{key:"labelList-implicit",data:t}):E.isValidElement(e)||de(e)?E.createElement(Fr,{key:"labelList-implicit",data:t,content:e}):qn(e)?E.createElement(Fr,Ni({data:t},e,{key:"labelList-implicit"})):null:null}function pT(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Et(n,Fr).map(function(i,s){return v.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=fT(e.label,t);return[o].concat(rT(a))}Fr.renderCallByParent=pT;function ka(e){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(e)}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(this,arguments)}function Bg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bg(Object(r),!0).forEach(function(n){hT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hT(e,t,r){return t=mT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mT(e){var t=yT(e,"string");return ka(t)=="symbol"?t:t+""}function yT(e,t){if(ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vT=function(e,t){var r=Nt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ei=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,o=e.sign,i=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(i?1:-1)+n,u=Math.asin(s/l)/Si,f=c?a:a+o*u,p=$e(t,r,l,f),m=$e(t,r,n,f),y=c?a-o*u:a,h=$e(t,r,l*Math.cos(u*Si),y);return{center:p,circleTangency:m,lineTangency:h,theta:u}},zg=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.startAngle,i=e.endAngle,s=vT(o,i),c=o+s,l=$e(t,r,a,o),u=$e(t,r,a,c),f="M ".concat(l.x,",").concat(l.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=$e(t,r,n,o),m=$e(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},gT=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=Nt(l-c),f=Ei({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:o,cornerIsExternal:s}),p=f.circleTangency,m=f.lineTangency,y=f.theta,h=Ei({cx:t,cy:r,radius:a,angle:l,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=h.circleTangency,b=h.lineTangency,w=h.theta,S=s?Math.abs(c-l):Math.abs(c-l)-y-w;if(S<0)return i?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):zg({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:l});var x="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var j=Ei({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),_=j.circleTangency,O=j.lineTangency,P=j.theta,M=Ei({cx:t,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),C=M.circleTangency,N=M.lineTangency,T=M.theta,A=s?Math.abs(c-l):Math.abs(c-l)-P-T;if(A<0&&o===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},bT={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$g=function(e){var t=Fg(Fg({},bT),e),r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,f=t.className;if(o<a||l===u)return null;var p=ge("recharts-sector",f),m=o-a,y=Cr(i,m,0,!0),h;return y>0&&Math.abs(l-u)<360?h=gT({cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):h=zg({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}),E.createElement("path",ou({},ye(t,!0),{className:p,d:h,role:"img"}))};function Ma(e){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(e)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}function Ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(r),!0).forEach(function(n){xT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xT(e,t,r){return t=wT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wT(e){var t=jT(e,"string");return Ma(t)=="symbol"?t:t+""}function jT(e,t){if(Ma(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ma(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hg={curveBasisClosed:pS,curveBasisOpen:hS,curveBasis:fS,curveBumpX:ZO,curveBumpY:QO,curveLinearClosed:mS,curveLinear:Bo,curveMonotoneX:yS,curveMonotoneY:vS,curveNatural:gS,curveStep:bS,curveStepAfter:wS,curveStepBefore:xS},Pi=function(e){return e.x===+e.x&&e.y===+e.y},Aa=function(e){return e.x},Ta=function(e){return e.y},_T=function(e,t){if(de(e))return e;var r="curve".concat(Do(e));return(r==="curveMonotone"||r==="curveBump")&&t?Hg["".concat(r).concat(t==="vertical"?"Y":"X")]:Hg[r]||Bo},OT=function(e){var t=e.type,r=t===void 0?"linear":t,n=e.points,a=n===void 0?[]:n,o=e.baseLine,i=e.layout,s=e.connectNulls,c=s===void 0?!1:s,l=_T(r,i),u=c?a.filter(function(y){return Pi(y)}):a,f;if(Array.isArray(o)){var p=c?o.filter(function(y){return Pi(y)}):o,m=u.map(function(y,h){return Vg(Vg({},y),{},{base:p[h]})});return i==="vertical"?f=Fo().y(Ta).x1(Aa).x0(function(y){return y.base.x}):f=Fo().x(Aa).y1(Ta).y0(function(y){return y.base.y}),f.defined(Pi).curve(l),f(m)}return i==="vertical"&&K(o)?f=Fo().y(Ta).x1(Aa).x0(o):K(o)?f=Fo().x(Aa).y1(Ta).y0(o):f=nm().x(Aa).y(Ta),f.defined(Pi).curve(l),f(u)},qg=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if((!r||!r.length)&&!n)return null;var o=r&&r.length?OT(e):n;return E.createElement("path",iu({},ye(e,!1),Ao(e),{className:ge("recharts-curve",t),d:o,ref:a}))},Wg={exports:{}},ST="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NT=ST,ET=NT;function Xg(){}function Kg(){}Kg.resetWarningCache=Xg;var PT=function(){function e(n,a,o,i,s,c){if(c!==ET){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Kg,resetWarningCache:Xg};return r.PropTypes=r,r};Wg.exports=PT();var CT=Wg.exports;const ce=Ne(CT);var kT=Object.getOwnPropertyNames,MT=Object.getOwnPropertySymbols,AT=Object.prototype.hasOwnProperty;function Gg(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function Ci(e){return function(t,r,n){if(!t||!r||typeof t!="object"||typeof r!="object")return e(t,r,n);var a=n.cache,o=a.get(t),i=a.get(r);if(o&&i)return o===r&&i===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function Yg(e){return kT(e).concat(MT(e))}var Jg=Object.hasOwn||function(e,t){return AT.call(e,t)};function jn(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Zg="_owner",Qg=Object.getOwnPropertyDescriptor,eb=Object.keys;function TT(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function DT(e,t){return jn(e.getTime(),t.getTime())}function tb(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),o=0,i,s;(i=a.next())&&!i.done;){for(var c=t.entries(),l=!1,u=0;(s=c.next())&&!s.done;){var f=i.value,p=f[0],m=f[1],y=s.value,h=y[0],g=y[1];!l&&!n[u]&&(l=r.equals(p,h,o,u,e,t,r)&&r.equals(m,g,p,h,e,t,r))&&(n[u]=!0),u++}if(!l)return!1;o++}return!0}function IT(e,t,r){var n=eb(e),a=n.length;if(eb(t).length!==a)return!1;for(var o;a-- >0;)if(o=n[a],o===Zg&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Jg(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function Da(e,t,r){var n=Yg(e),a=n.length;if(Yg(t).length!==a)return!1;for(var o,i,s;a-- >0;)if(o=n[a],o===Zg&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Jg(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(i=Qg(e,o),s=Qg(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function RT(e,t){return jn(e.valueOf(),t.valueOf())}function LT(e,t){return e.source===t.source&&e.flags===t.flags}function rb(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),o,i;(o=a.next())&&!o.done;){for(var s=t.values(),c=!1,l=0;(i=s.next())&&!i.done;)!c&&!n[l]&&(c=r.equals(o.value,i.value,o.value,i.value,e,t,r))&&(n[l]=!0),l++;if(!c)return!1}return!0}function BT(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var FT="[object Arguments]",zT="[object Boolean]",$T="[object Date]",UT="[object Map]",VT="[object Number]",HT="[object Object]",qT="[object RegExp]",WT="[object Set]",XT="[object String]",KT=Array.isArray,nb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ab=Object.assign,GT=Object.prototype.toString.call.bind(Object.prototype.toString);function YT(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(l,u,f){if(l===u)return!0;if(l==null||u==null||typeof l!="object"||typeof u!="object")return l!==l&&u!==u;var p=l.constructor;if(p!==u.constructor)return!1;if(p===Object)return a(l,u,f);if(KT(l))return t(l,u,f);if(nb!=null&&nb(l))return c(l,u,f);if(p===Date)return r(l,u,f);if(p===RegExp)return i(l,u,f);if(p===Map)return n(l,u,f);if(p===Set)return s(l,u,f);var m=GT(l);return m===$T?r(l,u,f):m===qT?i(l,u,f):m===UT?n(l,u,f):m===WT?s(l,u,f):m===HT?typeof l.then!="function"&&typeof u.then!="function"&&a(l,u,f):m===FT?a(l,u,f):m===zT||m===VT||m===XT?o(l,u,f):!1}}function JT(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Da:TT,areDatesEqual:DT,areMapsEqual:n?Gg(tb,Da):tb,areObjectsEqual:n?Da:IT,arePrimitiveWrappersEqual:RT,areRegExpsEqual:LT,areSetsEqual:n?Gg(rb,Da):rb,areTypedArraysEqual:n?Da:BT};if(r&&(a=ab({},a,r(a))),t){var o=Ci(a.areArraysEqual),i=Ci(a.areMapsEqual),s=Ci(a.areObjectsEqual),c=Ci(a.areSetsEqual);a=ab({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return a}function ZT(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function QT(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(s,c){var l=n(),u=l.cache,f=u===void 0?t?new WeakMap:void 0:u,p=l.meta;return r(s,c,{cache:f,equals:a,meta:p,strict:o})};if(t)return function(s,c){return r(s,c,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(s,c){return r(s,c,i)}}var eD=hr();hr({strict:!0}),hr({circular:!0}),hr({circular:!0,strict:!0}),hr({createInternalComparator:function(){return jn}}),hr({strict:!0,createInternalComparator:function(){return jn}}),hr({circular:!0,createInternalComparator:function(){return jn}}),hr({circular:!0,createInternalComparator:function(){return jn},strict:!0});function hr(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,i=o===void 0?!1:o,s=JT(e),c=YT(s),l=n?n(c):ZT(c);return QT({circular:r,comparator:c,createState:a,equals:l,strict:i})}function tD(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ob(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):tD(a)};requestAnimationFrame(n)}function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function rD(e){return iD(e)||oD(e)||aD(e)||nD()}function nD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aD(e,t){if(e){if(typeof e=="string")return ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ib(e,t)}}function ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iD(e){if(Array.isArray(e))return e}function sD(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=rD(i),c=s[0],l=s.slice(1);if(typeof c=="number"){ob(a.bind(null,l),c);return}a(c),ob(a.bind(null,l));return}su(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ia(e){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(r),!0).forEach(function(n){lb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lb(e,t,r){return t=cD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cD(e){var t=lD(e,"string");return Ia(t)==="symbol"?t:String(t)}function lD(e,t){if(Ia(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ia(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uD=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,n){return r.filter(function(a){return n.includes(a)})})},dD=function(e){return e},fD=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},Ra=function(e,t){return Object.keys(t).reduce(function(r,n){return cb(cb({},r),{},lb({},n,e(n,t[n])))},{})},ub=function(e,t,r){return e.map(function(n){return"".concat(fD(n)," ").concat(t,"ms ").concat(r)}).join(",")};function pD(e,t){return yD(e)||mD(e,t)||db(e,t)||hD()}function hD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function yD(e){if(Array.isArray(e))return e}function vD(e){return xD(e)||bD(e)||db(e)||gD()}function gD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function db(e,t){if(e){if(typeof e=="string")return cu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cu(e,t)}}function bD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xD(e){if(Array.isArray(e))return cu(e)}function cu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ki=1e-4,fb=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},pb=function(e,t){return e.map(function(r,n){return r*Math.pow(t,n)}).reduce(function(r,n){return r+n})},hb=function(e,t){return function(r){var n=fb(e,t);return pb(n,r)}},wD=function(e,t){return function(r){var n=fb(e,t),a=[].concat(vD(n.map(function(o,i){return o*i}).slice(1)),[0]);return pb(a,r)}},mb=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],o=t[2],i=t[3];if(t.length===1)switch(t[0]){case"linear":n=0,a=0,o=1,i=1;break;case"ease":n=.25,a=.1,o=.25,i=1;break;case"ease-in":n=.42,a=0,o=1,i=1;break;case"ease-out":n=.42,a=0,o=.58,i=1;break;case"ease-in-out":n=0,a=0,o=.58,i=1;break;default:{var s=t[0].split("(");if(s[0]==="cubic-bezier"&&s[1].split(")")[0].split(",").length===4){var c=s[1].split(")")[0].split(",").map(function(h){return parseFloat(h)}),l=pD(c,4);n=l[0],a=l[1],o=l[2],i=l[3]}}}var u=hb(n,o),f=hb(a,i),p=wD(n,o),m=function(h){return h>1?1:h<0?0:h},y=function(h){for(var g=h>1?1:h,b=g,w=0;w<8;++w){var S=u(b)-g,x=p(b);if(Math.abs(S-g)<ki||x<ki)return f(b);b=m(b-S/x)}return f(b)};return y.isStepper=!1,y},jD=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,n=e.damping,a=n===void 0?8:n,o=e.dt,i=o===void 0?17:o,s=function(c,l,u){var f=-(c-l)*r,p=u*a,m=u+(f-p)*i/1e3,y=u*i/1e3+c;return Math.abs(y-l)<ki&&Math.abs(m)<ki?[l,0]:[y,m]};return s.isStepper=!0,s.dt=i,s},_D=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mb(n);case"spring":return jD();default:if(n.split("(")[0]==="cubic-bezier")return mb(n)}return typeof n=="function"?n:null};function La(e){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}function yb(e){return ND(e)||SD(e)||gb(e)||OD()}function OD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ND(e){if(Array.isArray(e))return uu(e)}function vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vb(Object(r),!0).forEach(function(n){lu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lu(e,t,r){return t=ED(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ED(e){var t=PD(e,"string");return La(t)==="symbol"?t:String(t)}function PD(e,t){if(La(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(La(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CD(e,t){return AD(e)||MD(e,t)||gb(e,t)||kD()}function kD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gb(e,t){if(e){if(typeof e=="string")return uu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uu(e,t)}}function uu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function AD(e){if(Array.isArray(e))return e}var Mi=function(e,t,r){return e+(t-e)*r},du=function(e){var t=e.from,r=e.to;return t!==r},TD=function e(t,r,n){var a=Ra(function(o,i){if(du(i)){var s=t(i.from,i.to,i.velocity),c=CD(s,2),l=c[0],u=c[1];return Ue(Ue({},i),{},{from:l,velocity:u})}return i},r);return n<1?Ra(function(o,i){return du(i)?Ue(Ue({},i),{},{velocity:Mi(i.velocity,a[o].velocity,n),from:Mi(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const DD=function(e,t,r,n,a){var o=uD(e,t),i=o.reduce(function(g,b){return Ue(Ue({},g),{},lu({},b,[e[b],t[b]]))},{}),s=o.reduce(function(g,b){return Ue(Ue({},g),{},lu({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,l,u,f=function(){return null},p=function(){return Ra(function(g,b){return b.from},s)},m=function(){return!Object.values(s).filter(du).length},y=function(g){l||(l=g);var b=g-l,w=b/r.dt;s=TD(r,s,w),a(Ue(Ue(Ue({},e),t),p())),l=g,m()||(c=requestAnimationFrame(f))},h=function(g){u||(u=g);var b=(g-u)/n,w=Ra(function(x,j){return Mi.apply(void 0,yb(j).concat([r(b)]))},i);if(a(Ue(Ue(Ue({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var S=Ra(function(x,j){return Mi.apply(void 0,yb(j).concat([r(1)]))},i);a(Ue(Ue(Ue({},e),t),S))}};return f=r.isStepper?y:h,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}var ID=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function RD(e,t){if(e==null)return{};var r=LD(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function fu(e){return $D(e)||zD(e)||FD(e)||BD()}function BD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FD(e,t){if(e){if(typeof e=="string")return pu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pu(e,t)}}function zD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $D(e){if(Array.isArray(e))return pu(e)}function pu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ba(e,t,r){return t=xb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xb(n.key),n)}}function HD(e,t,r){return t&&VD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xb(e){var t=qD(e,"string");return _n(t)==="symbol"?t:String(t)}function qD(e,t){if(_n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_n(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hu(e,t)}function hu(e,t){return hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},hu(e,t)}function XD(e){var t=KD();return function(){var r=Ai(e),n;if(t){var a=Ai(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return mu(this,n)}}function mu(e,t){if(t&&(_n(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yu(e)}function yu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ai(e){return Ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ai(e)}var mr=function(e){WD(r,e);var t=XD(r);function r(n,a){var o;UD(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,c=i.attributeName,l=i.from,u=i.to,f=i.steps,p=i.children,m=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(yu(o)),o.changeStyle=o.changeStyle.bind(yu(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:u}),mu(o);if(f&&f.length)o.state={style:f[0].style};else if(l){if(typeof p=="function")return o.state={style:l},mu(o);o.state={style:c?Ba({},c,l):l}}else o.state={style:{}};return o}return HD(r,[{key:"componentDidMount",value:function(){var n=this.props,a=n.isActive,o=n.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var a=this.props,o=a.isActive,i=a.canBegin,s=a.attributeName,c=a.shouldReAnimate,l=a.to,u=a.from,f=this.state.style;if(i){if(!o){var p={style:s?Ba({},s,l):l};this.state&&f&&(s&&f[s]!==l||!s&&f!==l)&&this.setState(p);return}if(!(eD(n.to,l)&&n.canBegin&&n.isActive)){var m=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||c?u:n.to;if(this.state&&f){var h={style:s?Ba({},s,y):y};(s&&f[s]!==y||!s&&f!==y)&&this.setState(h)}this.runAnimation(Ct(Ct({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var a=this,o=n.from,i=n.to,s=n.duration,c=n.easing,l=n.begin,u=n.onAnimationEnd,f=n.onAnimationStart,p=DD(o,i,_D(c),s,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([f,l,m,s,u])}},{key:"runStepAnimation",value:function(n){var a=this,o=n.steps,i=n.begin,s=n.onAnimationStart,c=o[0],l=c.style,u=c.duration,f=u===void 0?0:u,p=function(m,y,h){if(h===0)return m;var g=y.duration,b=y.easing,w=b===void 0?"ease":b,S=y.style,x=y.properties,j=y.onAnimationEnd,_=h>0?o[h-1]:y,O=x||Object.keys(S);if(typeof w=="function"||w==="spring")return[].concat(fu(m),[a.runJSAnimation.bind(a,{from:_.style,to:S,duration:g,easing:w}),g]);var P=ub(O,g,w),M=Ct(Ct(Ct({},_.style),S),{},{transition:P});return[].concat(fu(m),[M,g,j]).filter(dD)};return this.manager.start([s].concat(fu(o.reduce(p,[l,Math.max(f,i)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=sD());var a=n.begin,o=n.duration,i=n.attributeName,s=n.to,c=n.easing,l=n.onAnimationStart,u=n.onAnimationEnd,f=n.steps,p=n.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(n);return}if(f.length>1){this.runStepAnimation(n);return}var y=i?Ba({},i,s):s,h=ub(Object.keys(y),o,c);m.start([l,a,Ct(Ct({},y),{},{transition:h}),o,u])}},{key:"render",value:function(){var n=this.props,a=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var i=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var s=RD(n,ID),c=v.Children.count(a),l=this.state.style;if(typeof a=="function")return a(l);if(!i||c===0||o<=0)return a;var u=function(f){var p=f.props,m=p.style,y=m===void 0?{}:m,h=p.className,g=v.cloneElement(f,Ct(Ct({},s),{},{style:Ct(Ct({},y),l),className:h}));return g};return c===1?u(v.Children.only(a)):E.createElement("div",null,v.Children.map(a,function(f){return u(f)}))}}]),r}(v.PureComponent);mr.displayName="Animate",mr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},mr.propTypes={from:ce.oneOfType([ce.object,ce.string]),to:ce.oneOfType([ce.object,ce.string]),attributeName:ce.string,duration:ce.number,begin:ce.number,easing:ce.oneOfType([ce.string,ce.func]),steps:ce.arrayOf(ce.shape({duration:ce.number.isRequired,style:ce.object.isRequired,easing:ce.oneOfType([ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ce.func]),properties:ce.arrayOf("string"),onAnimationEnd:ce.func})),children:ce.oneOfType([ce.node,ce.func]),isActive:ce.bool,canBegin:ce.bool,onAnimationEnd:ce.func,shouldReAnimate:ce.bool,onAnimationStart:ce.func,onAnimationReStart:ce.func},ce.object,ce.object,ce.object,ce.element,ce.object,ce.object,ce.object,ce.oneOfType([ce.array,ce.element]),ce.any;function Fa(e){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ti.apply(this,arguments)}function GD(e,t){return QD(e)||ZD(e,t)||JD(e,t)||YD()}function YD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JD(e,t){if(e){if(typeof e=="string")return wb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wb(e,t)}}function wb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function QD(e){if(Array.isArray(e))return e}function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(r),!0).forEach(function(n){eI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eI(e,t,r){return t=tI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tI(e){var t=rI(e,"string");return Fa(t)=="symbol"?t:t+""}function rI(e,t){if(Fa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ob=function(e,t,r,n,a){var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,l;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,p=4;f<p;f++)u[f]=a[f]>o?o:a[f];l="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+s*u[0],",").concat(t)),l+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*u[1])),l+="L ".concat(e+r,",").concat(t+n-i*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-s*u[2],",").concat(t+n)),l+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*u[3])),l+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);l="M ".concat(e,",").concat(t+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*m,`
            L `).concat(e+r,",").concat(t+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*m," Z")}else l="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},nI=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,o=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var c=Math.min(a,a+i),l=Math.max(a,a+i),u=Math.min(o,o+s),f=Math.max(o,o+s);return r>=c&&r<=l&&n>=u&&n<=f}return!1},aI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vu=function(e){var t=_b(_b({},aI),e),r=v.useRef(),n=v.useState(-1),a=GD(n,2),o=a[0],i=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&i(S)}catch{}},[]);var s=t.x,c=t.y,l=t.width,u=t.height,f=t.radius,p=t.className,m=t.animationEasing,y=t.animationDuration,h=t.animationBegin,g=t.isAnimationActive,b=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||l===0||u===0)return null;var w=ge("recharts-rectangle",p);return b?E.createElement(mr,{canBegin:o>0,from:{width:l,height:u,x:s,y:c},to:{width:l,height:u,x:s,y:c},duration:y,animationEasing:m,isActive:b},function(S){var x=S.width,j=S.height,_=S.x,O=S.y;return E.createElement(mr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,isActive:g,easing:m},E.createElement("path",Ti({},ye(t,!0),{className:w,d:Ob(_,O,x,j,f),ref:r})))}):E.createElement("path",Ti({},ye(t,!0),{className:w,d:Ob(s,c,l,u,f)}))};function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(this,arguments)}var Sb=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,o=ge("recharts-dot",a);return t===+t&&r===+r&&n===+n?E.createElement("circle",gu({},ye(e,!1),Ao(e),{className:o,cx:t,cy:r,r:n})):null};function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}var oI=["x","y","top","left","width","height","className"];function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(this,arguments)}function Nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(r),!0).forEach(function(n){sI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sI(e,t,r){return t=cI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cI(e){var t=lI(e,"string");return za(t)=="symbol"?t:t+""}function lI(e,t){if(za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uI(e,t){if(e==null)return{};var r=dI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fI=function(e,t,r,n,a,o){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r)},pI=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.top,i=o===void 0?0:o,s=e.left,c=s===void 0?0:s,l=e.width,u=l===void 0?0:l,f=e.height,p=f===void 0?0:f,m=e.className,y=uI(e,oI),h=iI({x:r,y:a,top:i,left:c,width:u,height:p},y);return!K(r)||!K(a)||!K(u)||!K(p)||!K(i)||!K(c)?null:E.createElement("path",bu({},ye(h,!0),{className:ge("recharts-cross",m),d:fI(r,a,u,p,i,c)}))},hI=xs,mI=XF,yI=ws,vI="[object Object]",gI=Function.prototype,bI=Object.prototype,Eb=gI.toString,xI=bI.hasOwnProperty,wI=Eb.call(Object);function jI(e){if(!yI(e)||hI(e)!=vI)return!1;var t=mI(e);if(t===null)return!0;var r=xI.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Eb.call(r)==wI}zd=jI;const _I=Ne(zd);var OI=xs,SI=ws,NI="[object Boolean]";function EI(e){return e===!0||e===!1||SI(e)&&OI(e)==NI}var PI=EI;const CI=Ne(PI);function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}function kI(e,t){return DI(e)||TI(e,t)||AI(e,t)||MI()}function MI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AI(e,t){if(e){if(typeof e=="string")return Pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pb(e,t)}}function Pb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function DI(e){if(Array.isArray(e))return e}function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){II(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function II(e,t,r){return t=RI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RI(e){var t=LI(e,"string");return $a(t)=="symbol"?t:t+""}function LI(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mb=function(e,t,r,n,a){var o=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},BI={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FI=function(e){var t=kb(kb({},BI),e),r=v.useRef(),n=v.useState(-1),a=kI(n,2),o=a[0],i=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var s=t.x,c=t.y,l=t.upperWidth,u=t.lowerWidth,f=t.height,p=t.className,m=t.animationEasing,y=t.animationDuration,h=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||f!==+f||l===0&&u===0||f===0)return null;var b=ge("recharts-trapezoid",p);return g?E.createElement(mr,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:s,y:c},to:{upperWidth:l,lowerWidth:u,height:f,x:s,y:c},duration:y,animationEasing:m,isActive:g},function(w){var S=w.upperWidth,x=w.lowerWidth,j=w.height,_=w.x,O=w.y;return E.createElement(mr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,easing:m},E.createElement("path",Di({},ye(t,!0),{className:b,d:Mb(_,O,S,x,j),ref:r})))}):E.createElement("g",null,E.createElement("path",Di({},ye(t,!0),{className:b,d:Mb(s,c,l,u,f)})))},zI=["option","shapeType","propTransformer","activeClassName","isActive"];function Ua(e){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(e)}function $I(e,t){if(e==null)return{};var r=UI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){VI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VI(e,t,r){return t=HI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HI(e){var t=qI(e,"string");return Ua(t)=="symbol"?t:t+""}function qI(e,t){if(Ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WI(e,t){return Ii(Ii({},t),e)}function XI(e,t){return e==="symbols"}function Tb(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return E.createElement(vu,r);case"trapezoid":return E.createElement(FI,r);case"sector":return E.createElement($g,r);case"symbols":if(XI(t))return E.createElement(Xc,r);break;default:return null}}function KI(e){return v.isValidElement(e)?e.props:e}function GI(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?WI:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,c=$I(e,zI),l;if(v.isValidElement(t))l=v.cloneElement(t,Ii(Ii({},c),KI(t)));else if(de(t))l=t(c);else if(_I(t)&&!CI(t)){var u=a(t,c);l=E.createElement(Tb,{shapeType:r,elementProps:u})}else{var f=c;l=E.createElement(Tb,{shapeType:r,elementProps:f})}return s?E.createElement(Be,{className:i},l):l}function Ri(e,t){return t!=null&&"trapezoids"in e.props}function Li(e,t){return t!=null&&"sectors"in e.props}function Va(e,t){return t!=null&&"points"in e.props}function YI(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function JI(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ZI(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function QI(e,t){var r;return Ri(e,t)?r=YI:Li(e,t)?r=JI:Va(e,t)&&(r=ZI),r}function e3(e,t){var r;return Ri(e,t)?r="trapezoids":Li(e,t)?r="sectors":Va(e,t)&&(r="points"),r}function t3(e,t){if(Ri(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Li(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Va(e,t)?t.payload:{}}function r3(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=e3(r,t),o=t3(r,t),i=n.filter(function(c,l){var u=Vl(o,c),f=r.props[a].filter(function(y){var h=QI(r,t);return h(y,t)}),p=r.props[a].indexOf(f[f.length-1]),m=l===p;return u&&m}),s=n.indexOf(i[i.length-1]);return s}var n3=Math.ceil,a3=Math.max;function o3(e,t,r,n){for(var a=-1,o=a3(n3((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var i3=o3,s3=wy,Db=1/0,c3=17976931348623157e292;function l3(e){if(!e)return e===0?e:0;if(e=s3(e),e===Db||e===-Db){var t=e<0?-1:1;return t*c3}return e===e?e:0}var Ib=l3,u3=i3,d3=Yr,xu=Ib;function f3(e){return function(t,r,n){return n&&typeof n!="number"&&d3(t,r,n)&&(r=n=void 0),t=xu(t),r===void 0?(r=t,t=0):r=xu(r),n=n===void 0?t<r?1:-1:xu(n),u3(t,r,n,e)}}var p3=f3,h3=p3,m3=h3(),y3=m3;const Bi=Ne(y3);function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){Bb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bb(e,t,r){return t=v3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v3(e){var t=g3(e,"string");return Ha(t)=="symbol"?t:t+""}function g3(e,t){if(Ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b3=["Webkit","Moz","O","ms"],x3=function(e,t){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),n=b3.reduce(function(a,o){return Lb(Lb({},a),{},Bb({},o+r,t))},{});return n[e]=t,n};function On(e){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(e)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(this,arguments)}function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){pt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ub(n.key),n)}}function j3(e,t,r){return t&&zb(e.prototype,t),r&&zb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _3(e,t,r){return t=zi(t),O3(e,$b()?Reflect.construct(t,r||[],zi(e).constructor):t.apply(e,r))}function O3(e,t){if(t&&(On(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S3(e)}function S3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($b=function(){return!!e})()}function zi(e){return zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zi(e)}function N3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ju(e,t)}function ju(e,t){return ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ju(e,t)}function pt(e,t,r){return t=Ub(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ub(e){var t=E3(e,"string");return On(t)=="symbol"?t:t+""}function E3(e,t){if(On(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(On(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P3=function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,o=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=ma().domain(Bi(0,s)).range([a,a+o-i]),l=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(n),scale:c,scaleValues:l}},Vb=function(e){return e.changedTouches&&!!e.changedTouches.length},Sn=function(e){function t(r){var n;return w3(this,t),n=_3(this,t,[r]),pt(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),pt(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),pt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),pt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),pt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),pt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),pt(n,"handleSlideDragStart",function(a){var o=Vb(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return N3(t,e),j3(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,a=r.endX,o=this.state.scaleValues,i=this.props,s=i.gap,c=i.data,l=c.length-1,u=Math.min(n,a),f=Math.max(n,a),p=t.getIndexInRange(o,u),m=t.getIndexInRange(o,f);return{startIndex:p-p%s,endIndex:m===l?l:m-m%s}}},{key:"getTextOfTick",value:function(r){var n=this.props,a=n.data,o=n.tickFormatter,i=n.dataKey,s=Lt(a[r],i,r);return de(o)?o(s,r):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,a=n.slideMoveStartX,o=n.startX,i=n.endX,s=this.props,c=s.x,l=s.width,u=s.travellerWidth,f=s.startIndex,p=s.endIndex,m=s.onChange,y=r.pageX-a;y>0?y=Math.min(y,c+l-u-i,c+l-u-o):y<0&&(y=Math.max(y,c-o,c-i));var h=this.getIndex({startX:o+y,endX:i+y});(h.startIndex!==f||h.endIndex!==p)&&m&&m(h),this.setState({startX:o+y,endX:i+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var a=Vb(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,a=n.brushMoveStartX,o=n.movingTravellerId,i=n.endX,s=n.startX,c=this.state[o],l=this.props,u=l.x,f=l.width,p=l.travellerWidth,m=l.onChange,y=l.gap,h=l.data,g={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,u+f-p-c):b<0&&(b=Math.max(b,u-c)),g[o]=c+b;var w=this.getIndex(g),S=w.startIndex,x=w.endIndex,j=function(){var _=h.length-1;return o==="startX"&&(i>s?S%y===0:x%y===0)||i<s&&x===_||o==="endX"&&(i>s?x%y===0:S%y===0)||i>s&&x===_};this.setState(pt(pt({},o,c+b),"brushMoveStartX",r.pageX),function(){m&&j()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var a=this,o=this.state,i=o.scaleValues,s=o.startX,c=o.endX,l=this.state[n],u=i.indexOf(l);if(u!==-1){var f=u+r;if(!(f===-1||f>=i.length)){var p=i[f];n==="startX"&&p>=c||n==="endX"&&p<=s||this.setState(pt({},n,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.fill,c=r.stroke;return E.createElement("rect",{stroke:c,fill:s,x:n,y:a,width:o,height:i})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.data,c=r.children,l=r.padding,u=v.Children.only(c);return u?E.cloneElement(u,{x:n,y:a,width:o,height:i,margin:l,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(r,n){var a,o,i=this,s=this.props,c=s.y,l=s.travellerWidth,u=s.height,f=s.traveller,p=s.ariaLabel,m=s.data,y=s.startIndex,h=s.endIndex,g=Math.max(r,this.props.x),b=wu(wu({},ye(this.props,!1)),{},{x:g,y:c,width:l,height:u}),w=p||"Min value: ".concat((a=m[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[h])===null||o===void 0?void 0:o.name);return E.createElement(Be,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),i.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,n){var a=this.props,o=a.y,i=a.height,s=a.stroke,c=a.travellerWidth,l=Math.min(r,n)+c,u=Math.max(Math.abs(n-r)-c,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:l,y:o,width:u,height:i})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,a=r.endIndex,o=r.y,i=r.height,s=r.travellerWidth,c=r.stroke,l=this.state,u=l.startX,f=l.endX,p=5,m={pointerEvents:"none",fill:c};return E.createElement(Be,{className:"recharts-brush-texts"},E.createElement(Qo,Fi({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,f)-p,y:o+i/2},m),this.getTextOfTick(n)),E.createElement(Qo,Fi({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,f)+s+p,y:o+i/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,n=r.data,a=r.className,o=r.children,i=r.x,s=r.y,c=r.width,l=r.height,u=r.alwaysShowText,f=this.state,p=f.startX,m=f.endX,y=f.isTextActive,h=f.isSlideMoving,g=f.isTravellerMoving,b=f.isTravellerFocused;if(!n||!n.length||!K(i)||!K(s)||!K(c)||!K(l)||c<=0||l<=0)return null;var w=ge("recharts-brush",a),S=E.Children.count(o)===1,x=x3("userSelect","none");return E.createElement(Be,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||h||g||b||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,a=r.y,o=r.width,i=r.height,s=r.stroke,c=Math.floor(a+i/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:n,y:a,width:o,height:i,fill:s,stroke:"none"}),E.createElement("line",{x1:n+1,y1:c,x2:n+o-1,y2:c,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:n+1,y1:c+2,x2:n+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var a;return E.isValidElement(r)?a=E.cloneElement(r,n):de(r)?a=r(n):a=t.renderDefaultTraveller(n),a}},{key:"getDerivedStateFromProps",value:function(r,n){var a=r.data,o=r.width,i=r.x,s=r.travellerWidth,c=r.updateId,l=r.startIndex,u=r.endIndex;if(a!==n.prevData||c!==n.prevUpdateId)return wu({prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o},a&&a.length?P3({data:a,width:o,x:i,travellerWidth:s,startIndex:l,endIndex:u}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||i!==n.prevX||s!==n.prevTravellerWidth)){n.scale.range([i,i+o-s]);var f=n.scale.domain().map(function(p){return n.scale(p)});return{prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,n){for(var a=r.length,o=0,i=a-1;i-o>1;){var s=Math.floor((o+i)/2);r[s]>n?i=s:o=s}return n>=r[i]?i:o}}])}(v.PureComponent);pt(Sn,"displayName","Brush"),pt(Sn,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var C3=Qc;function k3(e,t){var r;return C3(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var M3=k3,A3=KF,T3=wr,D3=M3,I3=Hn,R3=Yr;function L3(e,t,r){var n=I3(e)?A3:D3;return r&&R3(e,t,r)&&(t=void 0),n(e,T3(t))}var B3=L3;const F3=Ne(B3);var Bt=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},z3=GF,$3=zm,U3=wr;function V3(e,t){var r={};return t=U3(t),$3(e,function(n,a,o){z3(r,a,t(n,a,o))}),r}var H3=V3;const q3=Ne(H3);function W3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var X3=W3,K3=Qc;function G3(e,t){var r=!0;return K3(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var Y3=G3,J3=X3,Z3=Y3,Q3=wr,eR=Hn,tR=Yr;function rR(e,t,r){var n=eR(e)?J3:Z3;return r&&tR(e,t,r)&&(t=void 0),n(e,Q3(t))}var nR=rR;const Hb=Ne(nR);var aR=["x","y"];function qa(e){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(this,arguments)}function qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qb(Object(r),!0).forEach(function(n){oR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oR(e,t,r){return t=iR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iR(e){var t=sR(e,"string");return qa(t)=="symbol"?t:t+""}function sR(e,t){if(qa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cR(e,t){if(e==null)return{};var r=lR(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uR(e,t){var r=e.x,n=e.y,a=cR(e,aR),o="".concat(r),i=parseInt(o,10),s="".concat(n),c=parseInt(s,10),l="".concat(t.height||a.height),u=parseInt(l,10),f="".concat(t.width||a.width),p=parseInt(f,10);return Wa(Wa(Wa(Wa(Wa({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function Wb(e){return E.createElement(GI,_u({shapeType:"rectangle",propTransformer:uR,activeClassName:"recharts-active-bar"},e))}var dR=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,n):(a||Lr(),t)}},fR=["value","background"],Xb;function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}function pR(e,t){if(e==null)return{};var r=hR(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(this,arguments)}function Kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(r),!0).forEach(function(n){yr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jb(n.key),n)}}function yR(e,t,r){return t&&Gb(e.prototype,t),r&&Gb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vR(e,t,r){return t=Ui(t),gR(e,Yb()?Reflect.construct(t,r||[],Ui(e).constructor):t.apply(e,r))}function gR(e,t){if(t&&(Nn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bR(e)}function bR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yb=function(){return!!e})()}function Ui(e){return Ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ui(e)}function xR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ou(e,t)}function Ou(e,t){return Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ou(e,t)}function yr(e,t,r){return t=Jb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jb(e){var t=wR(e,"string");return Nn(t)=="symbol"?t:t+""}function wR(e,t){if(Nn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zr=function(e){function t(){var r;mR(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=vR(this,t,[].concat(a)),yr(r,"state",{isAnimationFinished:!1}),yr(r,"id",Mo("recharts-bar-")),yr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),yr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return xR(t,e),yR(t,[{key:"renderRectanglesStatically",value:function(r){var n=this,a=this.props,o=a.shape,i=a.dataKey,s=a.activeIndex,c=a.activeBar,l=ye(this.props,!1);return r&&r.map(function(u,f){var p=f===s,m=p?c:o,y=Ae(Ae(Ae({},l),u),{},{isActive:p,option:m,index:f,dataKey:i,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return E.createElement(Be,$i({className:"recharts-bar-rectangle"},To(n.props,u,f),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value)}),E.createElement(Wb,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,a=n.data,o=n.layout,i=n.isAnimationActive,s=n.animationBegin,c=n.animationDuration,l=n.animationEasing,u=n.animationId,f=this.state.prevData;return E.createElement(mr,{begin:s,duration:c,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=a.map(function(h,g){var b=f&&f[g];if(b){var w=nn(b.x,h.x),S=nn(b.y,h.y),x=nn(b.width,h.width),j=nn(b.height,h.height);return Ae(Ae({},h),{},{x:w(m),y:S(m),width:x(m),height:j(m)})}if(o==="horizontal"){var _=nn(0,h.height),O=_(m);return Ae(Ae({},h),{},{y:h.y+h.height-O,height:O})}var P=nn(0,h.width),M=P(m);return Ae(Ae({},h),{},{width:M})});return E.createElement(Be,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&n&&n.length&&(!o||!Vl(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,a=n.data,o=n.dataKey,i=n.activeIndex,s=ye(this.props.background,!1);return a.map(function(c,l){c.value;var u=c.background,f=pR(c,fR);if(!u)return null;var p=Ae(Ae(Ae(Ae(Ae({},f),{},{fill:"#eee"},u),s),To(r.props,c,l)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:l,className:"recharts-bar-background-rectangle"});return E.createElement(Wb,$i({key:"background-bar-".concat(l),option:r.props.background,isActive:l===i},p))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,i=a.xAxis,s=a.yAxis,c=a.layout,l=a.children,u=Et(l,wi);if(!u)return null;var f=c==="vertical"?o[0].height/2:o[0].width/2,p=function(y,h){var g=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:g,errorVal:Lt(y,h)}},m={clipPath:r?"url(#clipPath-".concat(n,")"):null};return E.createElement(Be,m,u.map(function(y){return E.cloneElement(y,{key:"error-bar-".concat(n,"-").concat(y.props.dataKey),data:o,xAxis:i,yAxis:s,layout:c,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.data,o=r.className,i=r.xAxis,s=r.yAxis,c=r.left,l=r.top,u=r.width,f=r.height,p=r.isAnimationActive,m=r.background,y=r.id;if(n||!a||!a.length)return null;var h=this.state.isAnimationFinished,g=ge("recharts-bar",o),b=i&&i.allowDataOverflow,w=s&&s.allowDataOverflow,S=b||w,x=ve(y)?this.id:y;return E.createElement(Be,{className:g},b||w?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(x)},E.createElement("rect",{x:b?c:c-u/2,y:w?l:l-f/2,width:b?u:u*2,height:w?f:f*2}))):null,E.createElement(Be,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!p||h)&&Fr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(v.PureComponent);Xb=zr,yr(zr,"displayName","Bar"),yr(zr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!lr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),yr(zr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,m=mA(n,r);if(!m)return null;var y=t.layout,h=r.type.defaultProps,g=h!==void 0?Ae(Ae({},h),r.props):r.props,b=g.dataKey,w=g.children,S=g.minPointSize,x=y==="horizontal"?i:o,j=l?x.scale.domain():null,_=_A({numericAxis:x}),O=Et(w,Ny),P=f.map(function(M,C){var N,T,A,D,k,R;l?N=yA(l[u+C],j):(N=Lt(M,b),Array.isArray(N)||(N=[_,N]));var F=dR(S,Xb.defaultProps.minPointSize)(N[1],C);if(y==="horizontal"){var U,V=[i.scale(N[0]),i.scale(N[1])],Q=V[0],q=V[1];T=Og({axis:o,ticks:s,bandSize:a,offset:m.offset,entry:M,index:C}),A=(U=q??Q)!==null&&U!==void 0?U:void 0,D=m.size;var I=Q-q;if(k=Number.isNaN(I)?0:I,R={x:T,y:i.y,width:D,height:i.height},Math.abs(F)>0&&Math.abs(k)<Math.abs(F)){var Y=Nt(k||F)*(Math.abs(F)-Math.abs(k));A-=Y,k+=Y}}else{var H=[o.scale(N[0]),o.scale(N[1])],J=H[0],ie=H[1];if(T=J,A=Og({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:M,index:C}),D=ie-J,k=m.size,R={x:o.x,y:A,width:o.width,height:k},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var W=Nt(D||F)*(Math.abs(F)-Math.abs(D));D+=W}}return Ae(Ae(Ae({},M),{},{x:T,y:A,width:D,height:k,value:l?N:N[1],payload:M,background:R},O&&O[C]&&O[C].props),{},{tooltipPayload:[Cg(r,M)],tooltipPosition:{x:T+D/2,y:A+k/2}})});return Ae({data:P,layout:y},p)});function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function jR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e0(n.key),n)}}function _R(e,t,r){return t&&Zb(e.prototype,t),r&&Zb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){Vi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vi(e,t,r){return t=e0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e0(e){var t=OR(e,"string");return Xa(t)=="symbol"?t:t+""}function OR(e,t){if(Xa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SR=function(e,t,r,n,a){var o=e.width,i=e.height,s=e.layout,c=e.children,l=Object.keys(t),u={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},f=!!dt(c,zr);return l.reduce(function(p,m){var y=t[m],h=y.orientation,g=y.domain,b=y.padding,w=b===void 0?{}:b,S=y.mirror,x=y.reversed,j="".concat(h).concat(S?"Mirror":""),_,O,P,M,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var N=g[1]-g[0],T=1/0,A=y.categoricalDomain.sort();if(A.forEach(function(Y,H){H>0&&(T=Math.min((Y||0)-(A[H-1]||0),T))}),Number.isFinite(T)){var D=T/N,k=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(_=D*k/2),y.padding==="no-gap"){var R=Cr(e.barCategoryGap,D*k),F=D*k/2;_=F-R-(F-R)/k*R}}}n==="xAxis"?O=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:n==="yAxis"?O=s==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:O=y.range,x&&(O=[O[1],O[0]]);var U=pA(y,a,f),V=U.scale,Q=U.realScaleType;V.domain(g).range(O),hA(V);var q=jA(V,kt(kt({},y),{},{realScaleType:Q}));n==="xAxis"?(C=h==="top"&&!S||h==="bottom"&&S,P=r.left,M=u[j]-C*y.height):n==="yAxis"&&(C=h==="left"&&!S||h==="right"&&S,P=u[j]-C*y.width,M=r.top);var I=kt(kt(kt({},y),q),{},{realScaleType:Q,x:P,y:M,scale:V,width:n==="xAxis"?r.width:y.width,height:n==="yAxis"?r.height:y.height});return I.bandSize=Oi(I,q),!y.hide&&n==="xAxis"?u[j]+=(C?-1:1)*I.height:y.hide||(u[j]+=(C?-1:1)*I.width),kt(kt({},p),{},Vi({},m,I))},{})},t0=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return{x:Math.min(r,a),y:Math.min(n,o),width:Math.abs(a-r),height:Math.abs(o-n)}},NR=function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return t0({x:t,y:r},{x:n,y:a})},r0=function(){function e(t){jR(this,e),this.scale=t}return _R(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,a=r.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}],[{key:"create",value:function(t){return new e(t)}}])}();Vi(r0,"EPS",1e-4);var Su=function(e){var t=Object.keys(e).reduce(function(r,n){return kt(kt({},r),{},Vi({},n,r0.create(e[n])))},{});return kt(kt({},t),{},{apply:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;return q3(r,function(i,s){return t[s].apply(i,{bandAware:a,position:o})})},isInRange:function(r){return Hb(r,function(n,a){return t[a].isInRange(n)})}})};function ER(e){return(e%180+180)%180}var PR=function(e){var t=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ER(n),o=a*Math.PI/180,i=Math.atan(r/t),s=o>i&&o<Math.PI-i?r/Math.sin(o):t/Math.cos(o);return Math.abs(s)},CR=wr,kR=js,MR=yw;function AR(e){return function(t,r,n){var a=Object(t);if(!kR(t)){var o=CR(r);t=MR(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var TR=AR,DR=Ib;function IR(e){var t=DR(e),r=t%1;return t===t?r?t-r:t:0}var n0=IR,RR=Om,LR=wr,BR=n0,FR=Math.max;function zR(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:BR(r);return a<0&&(a=FR(n+a,0)),RR(e,LR(t),a)}var $R=zR,UR=TR,VR=$R,HR=UR(VR),qR=HR;const WR=Ne(qR);var XR=YF(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Nu=v.createContext(void 0),Eu=v.createContext(void 0),a0=v.createContext(void 0),o0=v.createContext({}),i0=v.createContext(void 0),s0=v.createContext(0),c0=v.createContext(0),l0=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,o=e.clipPathId,i=e.children,s=e.width,c=e.height,l=XR(a);return E.createElement(Nu.Provider,{value:r},E.createElement(Eu.Provider,{value:n},E.createElement(o0.Provider,{value:a},E.createElement(a0.Provider,{value:l},E.createElement(i0.Provider,{value:o},E.createElement(s0.Provider,{value:c},E.createElement(c0.Provider,{value:s},i)))))))},KR=function(){return v.useContext(i0)},u0=function(e){var t=v.useContext(Nu);t==null&&Lr();var r=t[e];return r==null&&Lr(),r},GR=function(){var e=v.useContext(Nu);return cr(e)},YR=function(){var e=v.useContext(Eu),t=WR(e,function(r){return Hb(r.domain,Number.isFinite)});return t||cr(e)},d0=function(e){var t=v.useContext(Eu);t==null&&Lr();var r=t[e];return r==null&&Lr(),r},JR=function(){var e=v.useContext(a0);return e},ZR=function(){return v.useContext(o0)},Pu=function(){return v.useContext(c0)},Cu=function(){return v.useContext(s0)};function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}function QR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m0(n.key),n)}}function tL(e,t,r){return t&&eL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rL(e,t,r){return t=Hi(t),nL(e,f0()?Reflect.construct(t,r||[],Hi(e).constructor):t.apply(e,r))}function nL(e,t){if(t&&(En(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aL(e)}function aL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f0=function(){return!!e})()}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hi(e)}function oL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ku(e,t)}function ku(e,t){return ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ku(e,t)}function p0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p0(Object(r),!0).forEach(function(n){Mu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mu(e,t,r){return t=m0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m0(e){var t=iL(e,"string");return En(t)=="symbol"?t:t+""}function iL(e,t){if(En(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(En(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sL(e,t){return dL(e)||uL(e,t)||lL(e,t)||cL()}function cL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lL(e,t){if(e){if(typeof e=="string")return y0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y0(e,t)}}function y0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function dL(e){if(Array.isArray(e))return e}function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Au.apply(this,arguments)}var fL=function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):de(e)?r=e(t):r=E.createElement("line",Au({},t,{className:"recharts-reference-line-line"})),r},pL=function(e,t,r,n,a,o,i,s,c){var l=a.x,u=a.y,f=a.width,p=a.height;if(r){var m=c.y,y=e.y.apply(m,{position:o});if(Bt(c,"discard")&&!e.y.isInRange(y))return null;var h=[{x:l+f,y},{x:l,y}];return s==="left"?h.reverse():h}if(t){var g=c.x,b=e.x.apply(g,{position:o});if(Bt(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:u+p},{x:b,y:u}];return i==="top"?w.reverse():w}if(n){var S=c.segment,x=S.map(function(j){return e.apply(j,{position:o})});return Bt(c,"discard")&&F3(x,function(j){return!e.isInRange(j)})?null:x}return null};function hL(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,c=e.alwaysShow,l=KR(),u=u0(a),f=d0(o),p=JR();if(!l||!p)return null;qt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Su({x:u.scale,y:f.scale}),y=Ie(t),h=Ie(r),g=n&&n.length===2,b=pL(m,y,h,g,p,e.position,u.orientation,f.orientation,e);if(!b)return null;var w=sL(b,2),S=w[0],x=S.x,j=S.y,_=w[1],O=_.x,P=_.y,M=Bt(e,"hidden")?"url(#".concat(l,")"):void 0,C=h0(h0({clipPath:M},ye(e,!0)),{},{x1:x,y1:j,x2:O,y2:P});return E.createElement(Be,{className:ge("recharts-reference-line",s)},fL(i,C),He.renderCallByParent(e,NR({x1:x,y1:j,x2:O,y2:P})))}var Tu=function(e){function t(){return QR(this,t),rL(this,t,arguments)}return oL(t,e),tL(t,[{key:"render",value:function(){return E.createElement(hL,this.props)}}])}(E.Component);Mu(Tu,"displayName","ReferenceLine"),Mu(Tu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(this,arguments)}function Pn(e){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(e)}function v0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v0(Object(r),!0).forEach(function(n){Wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x0(n.key),n)}}function vL(e,t,r){return t&&yL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gL(e,t,r){return t=qi(t),bL(e,b0()?Reflect.construct(t,r||[],qi(e).constructor):t.apply(e,r))}function bL(e,t){if(t&&(Pn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xL(e)}function xL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b0=function(){return!!e})()}function qi(e){return qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qi(e)}function wL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iu(e,t)}function Iu(e,t){return Iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Iu(e,t)}function Wi(e,t,r){return t=x0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x0(e){var t=jL(e,"string");return Pn(t)=="symbol"?t:t+""}function jL(e,t){if(Pn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _L=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,o=Su({x:n.scale,y:a.scale}),i=o.apply({x:t,y:r},{bandAware:!0});return Bt(e,"discard")&&!o.isInRange(i)?null:i},Xi=function(e){function t(){return mL(this,t),gL(this,t,arguments)}return wL(t,e),vL(t,[{key:"render",value:function(){var r=this.props,n=r.x,a=r.y,o=r.r,i=r.alwaysShow,s=r.clipPathId,c=Ie(n),l=Ie(a);if(qt(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!l)return null;var u=_L(this.props);if(!u)return null;var f=u.x,p=u.y,m=this.props,y=m.shape,h=m.className,g=Bt(this.props,"hidden")?"url(#".concat(s,")"):void 0,b=g0(g0({clipPath:g},ye(this.props,!0)),{},{cx:f,cy:p});return E.createElement(Be,{className:ge("recharts-reference-dot",h)},t.renderDot(y,b),He.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(E.Component);Wi(Xi,"displayName","ReferenceDot"),Wi(Xi,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Wi(Xi,"renderDot",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):de(e)?r=e(t):r=E.createElement(Sb,Du({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ru.apply(this,arguments)}function Cn(e){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(e)}function w0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w0(Object(r),!0).forEach(function(n){Gi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O0(n.key),n)}}function NL(e,t,r){return t&&SL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EL(e,t,r){return t=Ki(t),PL(e,_0()?Reflect.construct(t,r||[],Ki(e).constructor):t.apply(e,r))}function PL(e,t){if(t&&(Cn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CL(e)}function CL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_0=function(){return!!e})()}function Ki(e){return Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ki(e)}function kL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lu(e,t)}function Lu(e,t){return Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lu(e,t)}function Gi(e,t,r){return t=O0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O0(e){var t=ML(e,"string");return Cn(t)=="symbol"?t:t+""}function ML(e,t){if(Cn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AL=function(e,t,r,n,a){var o=a.x1,i=a.x2,s=a.y1,c=a.y2,l=a.xAxis,u=a.yAxis;if(!l||!u)return null;var f=Su({x:l.scale,y:u.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(s,{position:"start"}):f.y.rangeMin},m={x:t?f.x.apply(i,{position:"end"}):f.x.rangeMax,y:n?f.y.apply(c,{position:"end"}):f.y.rangeMax};return Bt(a,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:t0(p,m)},Yi=function(e){function t(){return OL(this,t),EL(this,t,arguments)}return kL(t,e),NL(t,[{key:"render",value:function(){var r=this.props,n=r.x1,a=r.x2,o=r.y1,i=r.y2,s=r.className,c=r.alwaysShow,l=r.clipPathId;qt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Ie(n),f=Ie(a),p=Ie(o),m=Ie(i),y=this.props.shape;if(!u&&!f&&!p&&!m&&!y)return null;var h=AL(u,f,p,m,this.props);if(!h&&!y)return null;var g=Bt(this.props,"hidden")?"url(#".concat(l,")"):void 0;return E.createElement(Be,{className:ge("recharts-reference-area",s)},t.renderRect(y,j0(j0({clipPath:g},ye(this.props,!0)),h)),He.renderCallByParent(this.props,h))}}])}(E.Component);Gi(Yi,"displayName","ReferenceArea"),Gi(Yi,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Gi(Yi,"renderRect",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):de(e)?r=e(t):r=E.createElement(vu,Ru({},t,{className:"recharts-reference-area-rect"})),r});function S0(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function TL(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return PR(n,r)}function DL(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function Ji(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function IL(e,t){return S0(e,t+1)}function RL(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,c=0,l=1,u=i,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:S0(n,l)};var y=c,h,g=function(){return h===void 0&&(h=r(m,y)),h},b=m.coordinate,w=c===0||Ji(e,b,g,u,s);w||(c=0,u=i,l+=1),w&&(u=b+e*(g()/2+a),c+=l)},p;l<=o.length;)if(p=f(),p)return p.v;return[]}function Ka(e){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}function N0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N0(Object(r),!0).forEach(function(n){LL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LL(e,t,r){return t=BL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BL(e){var t=FL(e,"string");return Ka(t)=="symbol"?t:t+""}function FL(e,t){if(Ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zL(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,c=t.end,l=function(f){var p=o[f],m,y=function(){return m===void 0&&(m=r(p,f)),m};if(f===i-1){var h=e*(p.coordinate+e*y()/2-c);o[f]=p=qe(qe({},p),{},{tickCoord:h>0?p.coordinate-h*e:p.coordinate})}else o[f]=p=qe(qe({},p),{},{tickCoord:p.coordinate});var g=Ji(e,p.tickCoord,y,s,c);g&&(c=p.tickCoord-e*(y()/2+a),o[f]=qe(qe({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)l(u);return o}function $L(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,c=t.start,l=t.end;if(o){var u=n[s-1],f=r(u,s-1),p=e*(u.coordinate+e*f/2-l);i[s-1]=u=qe(qe({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var m=Ji(e,u.tickCoord,function(){return f},c,l);m&&(l=u.tickCoord-e*(f/2+a),i[s-1]=qe(qe({},u),{},{isShow:!0}))}for(var y=o?s-1:s,h=function(b){var w=i[b],S,x=function(){return S===void 0&&(S=r(w,b)),S};if(b===0){var j=e*(w.coordinate-e*x()/2-c);i[b]=w=qe(qe({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else i[b]=w=qe(qe({},w),{},{tickCoord:w.coordinate});var _=Ji(e,w.tickCoord,x,c,l);_&&(c=w.tickCoord+e*(x()/2+a),i[b]=qe(qe({},w),{},{isShow:!0}))},g=0;g<y;g++)h(g);return i}function Bu(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(K(c)||lr.isSsr)return IL(a,typeof c=="number"&&K(c)?c:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",y=u&&m==="width"?ua(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=function(w,S){var x=de(l)?l(w.value,S):w.value;return m==="width"?TL(ua(x,{fontSize:t,letterSpacing:r}),y,f):ua(x,{fontSize:t,letterSpacing:r})[m]},g=a.length>=2?Nt(a[1].coordinate-a[0].coordinate):1,b=DL(o,g,m);return c==="equidistantPreserveStart"?RL(g,b,h,a,i):(c==="preserveStart"||c==="preserveStartEnd"?p=$L(g,b,h,a,i,c==="preserveStartEnd"):p=zL(g,b,h,a,i),p.filter(function(w){return w.isShow}))}var UL=["viewBox"],VL=["viewBox"],HL=["ticks"];function kn(e){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(e)}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mn.apply(this,arguments)}function E0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E0(Object(r),!0).forEach(function(n){$u(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fu(e,t){if(e==null)return{};var r=qL(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k0(n.key),n)}}function XL(e,t,r){return t&&P0(e.prototype,t),r&&P0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KL(e,t,r){return t=Zi(t),GL(e,C0()?Reflect.construct(t,r||[],Zi(e).constructor):t.apply(e,r))}function GL(e,t){if(t&&(kn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YL(e)}function YL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C0=function(){return!!e})()}function Zi(e){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zi(e)}function JL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zu(e,t)}function zu(e,t){return zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zu(e,t)}function $u(e,t,r){return t=k0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k0(e){var t=ZL(e,"string");return kn(t)=="symbol"?t:t+""}function ZL(e,t){if(kn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var An=function(e){function t(r){var n;return WL(this,t),n=KL(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return JL(t,e),XL(t,[{key:"shouldComponentUpdate",value:function(r,n){var a=r.viewBox,o=Fu(r,UL),i=this.props,s=i.viewBox,c=Fu(i,VL);return!an(a,s)||!an(o,c)||!an(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,c=n.orientation,l=n.tickSize,u=n.mirror,f=n.tickMargin,p,m,y,h,g,b,w=u?-1:1,S=r.tickSize||l,x=K(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,h=o+ +!u*s,y=h-w*S,b=y-w*f,g=x;break;case"left":y=h=r.coordinate,m=a+ +!u*i,p=m-w*S,g=p-w*f,b=x;break;case"right":y=h=r.coordinate,m=a+ +u*i,p=m+w*S,g=p+w*f,b=x;break;default:p=m=r.coordinate,h=o+ +u*s,y=h+w*S,b=y+w*f,g=x;break}return{line:{x1:p,y1:y,x2:m,y2:h},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o;switch(n){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.orientation,c=r.mirror,l=r.axisLine,u=Ze(Ze(Ze({},ye(this.props,!1)),ye(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!c||s==="bottom"&&c);u=Ze(Ze({},u),{},{x1:n,y1:a+f*i,x2:n+o,y2:a+f*i})}else{var p=+(s==="left"&&!c||s==="right"&&c);u=Ze(Ze({},u),{},{x1:n+p*o,y1:a,x2:n+p*o,y2:a+i})}return E.createElement("line",Mn({},u,{className:ge("recharts-cartesian-axis-line",_t(l,"className"))}))}},{key:"renderTicks",value:function(r,n,a){var o=this,i=this.props,s=i.tickLine,c=i.stroke,l=i.tick,u=i.tickFormatter,f=i.unit,p=Bu(Ze(Ze({},this.props),{},{ticks:r}),n,a),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),h=ye(this.props,!1),g=ye(l,!1),b=Ze(Ze({},h),{},{fill:"none"},ye(s,!1)),w=p.map(function(S,x){var j=o.getTickLineCoord(S),_=j.line,O=j.tick,P=Ze(Ze(Ze(Ze({textAnchor:m,verticalAnchor:y},h),{},{stroke:"none",fill:c},g),O),{},{index:x,payload:S,visibleTicksCount:p.length,tickFormatter:u});return E.createElement(Be,Mn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},To(o.props,S,x)),s&&E.createElement("line",Mn({},b,_,{className:ge("recharts-cartesian-axis-tick-line",_t(s,"className"))})),l&&t.renderTickItem(l,P,"".concat(de(u)?u(S.value,x):S.value).concat(f||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,n=this.props,a=n.axisLine,o=n.width,i=n.height,s=n.ticksGenerator,c=n.className,l=n.hide;if(l)return null;var u=this.props,f=u.ticks,p=Fu(u,HL),m=f;return de(s)&&(m=f&&f.length>0?s(this.props):s(p)),o<=0||i<=0||!m||!m.length?null:E.createElement(Be,{className:ge("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),He.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,a){var o;return E.isValidElement(r)?o=E.cloneElement(r,n):de(r)?o=r(n):o=E.createElement(Qo,Mn({},n,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(v.Component);$u(An,"displayName","CartesianAxis"),$u(An,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var QL=["x1","y1","x2","y2","key"],e4=["offset"];function $r(e){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(e)}function M0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M0(Object(r),!0).forEach(function(n){t4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t4(e,t,r){return t=r4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r4(e){var t=n4(e,"string");return $r(t)=="symbol"?t:t+""}function n4(e,t){if($r(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($r(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ur.apply(this,arguments)}function A0(e,t){if(e==null)return{};var r=a4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var o4=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.ry;return E.createElement("rect",{x:n,y:a,ry:s,width:o,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function T0(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(de(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,c=A0(t,QL),l=ye(c,!1);l.offset;var u=A0(l,e4);r=E.createElement("line",Ur({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function i4(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=We(We({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return T0(a,l)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function s4(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=We(We({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return T0(a,l)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function c4(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,c=e.horizontal,l=c===void 0?!0:c;if(!l||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==u[0]&&u.unshift(0);var f=u.map(function(p,m){var y=!u[m+1],h=y?a+i-p:u[m+1]-p;if(h<=0)return null;var g=m%t.length;return E.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:h,width:o,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function l4(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,c=e.height,l=e.verticalPoints;if(!r||!n||!n.length)return null;var u=l.map(function(p){return Math.round(p+o-o)}).sort(function(p,m){return p-m});o!==u[0]&&u.unshift(0);var f=u.map(function(p,m){var y=!u[m+1],h=y?o+s-p:u[m+1]-p;if(h<=0)return null;var g=m%n.length;return E.createElement("rect",{key:"react-".concat(m),x:p,y:i,width:h,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var u4=function(e,t){var r=e.xAxis,n=e.width,a=e.height,o=e.offset;return jg(Bu(We(We(We({},An.defaultProps),r),{},{ticks:er(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.left,o.left+o.width,t)},d4=function(e,t){var r=e.yAxis,n=e.width,a=e.height,o=e.offset;return jg(Bu(We(We(We({},An.defaultProps),r),{},{ticks:er(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.top,o.top+o.height,t)},Tn={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function D0(e){var t,r,n,a,o,i,s=Pu(),c=Cu(),l=ZR(),u=We(We({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Tn.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Tn.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Tn.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Tn.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Tn.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Tn.verticalFill,x:K(e.x)?e.x:l.left,y:K(e.y)?e.y:l.top,width:K(e.width)?e.width:l.width,height:K(e.height)?e.height:l.height}),f=u.x,p=u.y,m=u.width,y=u.height,h=u.syncWithTicks,g=u.horizontalValues,b=u.verticalValues,w=GR(),S=YR();if(!K(m)||m<=0||!K(y)||y<=0||!K(f)||f!==+f||!K(p)||p!==+p)return null;var x=u.verticalCoordinatesGenerator||u4,j=u.horizontalCoordinatesGenerator||d4,_=u.horizontalPoints,O=u.verticalPoints;if((!_||!_.length)&&de(j)){var P=g&&g.length,M=j({yAxis:S?We(We({},S),{},{ticks:P?g:S.ticks}):void 0,width:s,height:c,offset:l},P?!0:h);qt(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($r(M),"]")),Array.isArray(M)&&(_=M)}if((!O||!O.length)&&de(x)){var C=b&&b.length,N=x({xAxis:w?We(We({},w),{},{ticks:C?b:w.ticks}):void 0,width:s,height:c,offset:l},C?!0:h);qt(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($r(N),"]")),Array.isArray(N)&&(O=N)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(o4,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),E.createElement(i4,Ur({},u,{offset:l,horizontalPoints:_,xAxis:w,yAxis:S})),E.createElement(s4,Ur({},u,{offset:l,verticalPoints:O,xAxis:w,yAxis:S})),E.createElement(c4,Ur({},u,{horizontalPoints:_})),E.createElement(l4,Ur({},u,{verticalPoints:O})))}D0.displayName="CartesianGrid";function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}function f4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L0(n.key),n)}}function h4(e,t,r){return t&&p4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m4(e,t,r){return t=Qi(t),y4(e,I0()?Reflect.construct(t,r||[],Qi(e).constructor):t.apply(e,r))}function y4(e,t){if(t&&(Dn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v4(e)}function v4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I0=function(){return!!e})()}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qi(e)}function g4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uu(e,t)}function Uu(e,t){return Uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Uu(e,t)}function R0(e,t,r){return t=L0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0(e){var t=b4(e,"string");return Dn(t)=="symbol"?t:t+""}function b4(e,t){if(Dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vu.apply(this,arguments)}function x4(e){var t=e.xAxisId,r=Pu(),n=Cu(),a=u0(t);return a==null?null:E.createElement(An,Vu({},a,{className:ge("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return er(o,!0)}}))}var es=function(e){function t(){return f4(this,t),m4(this,t,arguments)}return g4(t,e),h4(t,[{key:"render",value:function(){return E.createElement(x4,this.props)}}])}(E.Component);R0(es,"displayName","XAxis"),R0(es,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}function w4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z0(n.key),n)}}function _4(e,t,r){return t&&j4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O4(e,t,r){return t=ts(t),S4(e,B0()?Reflect.construct(t,r||[],ts(e).constructor):t.apply(e,r))}function S4(e,t){if(t&&(In(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N4(e)}function N4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B0=function(){return!!e})()}function ts(e){return ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(e)}function E4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hu(e,t)}function Hu(e,t){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Hu(e,t)}function F0(e,t,r){return t=z0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z0(e){var t=P4(e,"string");return In(t)=="symbol"?t:t+""}function P4(e,t){if(In(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(In(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(this,arguments)}var C4=function(e){var t=e.yAxisId,r=Pu(),n=Cu(),a=d0(t);return a==null?null:E.createElement(An,qu({},a,{className:ge("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return er(o,!0)}}))},Wu=function(e){function t(){return w4(this,t),O4(this,t,arguments)}return E4(t,e),_4(t,[{key:"render",value:function(){return E.createElement(C4,this.props)}}])}(E.Component);F0(Wu,"displayName","YAxis"),F0(Wu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $0(e){return T4(e)||A4(e)||M4(e)||k4()}function k4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4(e,t){if(e){if(typeof e=="string")return Xu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xu(e,t)}}function A4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T4(e){if(Array.isArray(e))return Xu(e)}function Xu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ku=function(e,t,r,n,a){var o=Et(e,Tu),i=Et(e,Xi),s=[].concat($0(o),$0(i)),c=Et(e,Yi),l="".concat(n,"Id"),u=n[0],f=t;if(s.length&&(f=s.reduce(function(y,h){if(h.props[l]===r&&Bt(h.props,"extendDomain")&&K(h.props[u])){var g=h.props[u];return[Math.min(y[0],g),Math.max(y[1],g)]}return y},f)),c.length){var p="".concat(u,"1"),m="".concat(u,"2");f=c.reduce(function(y,h){if(h.props[l]===r&&Bt(h.props,"extendDomain")&&K(h.props[p])&&K(h.props[m])){var g=h.props[p],b=h.props[m];return[Math.min(y[0],g,b),Math.max(y[1],g,b)]}return y},f)}return a&&a.length&&(f=a.reduce(function(y,h){return K(h)?[Math.min(y[0],h),Math.max(y[1],h)]:y},f)),f},U0={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,f||c,p),y=r?r+l:l;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function i(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],l,u;if(this._eventsCount===0)return c;for(u in l=this._events)t.call(l,u)&&c.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},s.prototype.listeners=function(c){var l=r?r+c:c,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,p=u.length,m=new Array(p);f<p;f++)m[f]=u[f].fn;return m},s.prototype.listenerCount=function(c){var l=r?r+c:c,u=this._events[l];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,l,u,f,p,m){var y=r?r+c:c;if(!this._events[y])return!1;var h=this._events[y],g=arguments.length,b,w;if(h.fn){switch(h.once&&this.removeListener(c,h.fn,void 0,!0),g){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,l),!0;case 3:return h.fn.call(h.context,l,u),!0;case 4:return h.fn.call(h.context,l,u,f),!0;case 5:return h.fn.call(h.context,l,u,f,p),!0;case 6:return h.fn.call(h.context,l,u,f,p,m),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];h.fn.apply(h.context,b)}else{var S=h.length,x;for(w=0;w<S;w++)switch(h[w].once&&this.removeListener(c,h[w].fn,void 0,!0),g){case 1:h[w].fn.call(h[w].context);break;case 2:h[w].fn.call(h[w].context,l);break;case 3:h[w].fn.call(h[w].context,l,u);break;case 4:h[w].fn.call(h[w].context,l,u,f);break;default:if(!b)for(x=1,b=new Array(g-1);x<g;x++)b[x-1]=arguments[x];h[w].fn.apply(h[w].context,b)}}return!0},s.prototype.on=function(c,l,u){return o(this,c,l,u,!1)},s.prototype.once=function(c,l,u){return o(this,c,l,u,!0)},s.prototype.removeListener=function(c,l,u,f){var p=r?r+c:c;if(!this._events[p])return this;if(!l)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===l&&(!f||m.once)&&(!u||m.context===u)&&i(this,p);else{for(var y=0,h=[],g=m.length;y<g;y++)(m[y].fn!==l||f&&!m[y].once||u&&m[y].context!==u)&&h.push(m[y]);h.length?this._events[p]=h.length===1?h[0]:h:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var l;return c?(l=r?r+c:c,this._events[l]&&i(this,l)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(U0);var D4=U0.exports;const I4=Ne(D4);var Gu=new I4,Yu="recharts.syncMouseEvents";function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function R4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V0(n.key),n)}}function B4(e,t,r){return t&&L4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ju(e,t,r){return t=V0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V0(e){var t=F4(e,"string");return Ga(t)=="symbol"?t:t+""}function F4(e,t){if(Ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z4=function(){function e(){R4(this,e),Ju(this,"activeIndex",0),Ju(this,"coordinateList",[]),Ju(this,"layout","horizontal")}return B4(e,[{key:"setDetails",value:function(t){var r,n=t.coordinateList,a=n===void 0?null:n,o=t.container,i=o===void 0?null:o,s=t.layout,c=s===void 0?null:s,l=t.offset,u=l===void 0?null:l,f=t.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=i??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),a=n.x,o=n.y,i=n.height,s=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,l=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=a+s+c,f=o+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:u,pageY:f})}}}])}();function $4(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&K(n)&&K(a))return!0}return!1}function U4(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function H0(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=$e(t,r,n,a),s=$e(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function V4(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,f=t.angle,p=$e(s,c,l,f),m=$e(s,c,u,f);n=p.x,a=p.y,o=m.x,i=m.y}else return H0(t);return[{x:n,y:a},{x:o,y:i}]}function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(r),!0).forEach(function(n){H4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H4(e,t,r){return t=q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q4(e){var t=W4(e,"string");return Ya(t)=="symbol"?t:t+""}function W4(e,t){if(Ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X4(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,c=e.offset,l=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!o||!i||p!=="ScatterChart"&&a!=="axis")return null;var y,h=qg;if(p==="ScatterChart")y=i,h=pI;else if(p==="BarChart")y=U4(f,i,c,u),h=vu;else if(f==="radial"){var g=H0(i),b=g.cx,w=g.cy,S=g.radius,x=g.startAngle,j=g.endAngle;y={cx:b,cy:w,startAngle:x,endAngle:j,innerRadius:S,outerRadius:S},h=$g}else y={points:V4(f,i,c)},h=qg;var _=rs(rs(rs(rs({stroke:"#ccc",pointerEvents:"none"},c),y),ye(m,!1)),{},{payload:s,payloadIndex:l,className:ge("recharts-tooltip-cursor",m.className)});return v.isValidElement(m)?v.cloneElement(m,_):v.createElement(h,_)}var K4=["item"],G4=["children","className","width","height","style","compact","title","desc"];function Rn(e){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(e)}function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ln.apply(this,arguments)}function W0(e,t){return Z4(e)||J4(e,t)||G0(e,t)||Y4()}function Y4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J4(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function Z4(e){if(Array.isArray(e))return e}function X0(e,t){if(e==null)return{};var r=Q4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J0(n.key),n)}}function r5(e,t,r){return t&&t5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n5(e,t,r){return t=ns(t),a5(e,K0()?Reflect.construct(t,r||[],ns(e).constructor):t.apply(e,r))}function a5(e,t){if(t&&(Rn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o5(e)}function o5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K0=function(){return!!e})()}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}function i5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zu(e,t)}function Zu(e,t){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zu(e,t)}function Bn(e){return l5(e)||c5(e)||G0(e)||s5()}function s5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G0(e,t){if(e){if(typeof e=="string")return Qu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qu(e,t)}}function c5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l5(e){if(Array.isArray(e))return Qu(e)}function Qu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(r),!0).forEach(function(n){ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ae(e,t,r){return t=J0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J0(e){var t=u5(e,"string");return Rn(t)=="symbol"?t:t+""}function u5(e,t){if(Rn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d5={xAxis:["bottom","top"],yAxis:["left","right"]},f5={width:"100%",height:"100%"},Z0={x:0,y:0};function as(e){return e}var p5=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},h5=function(e,t,r,n){var a=t.find(function(l){return l&&l.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,i=n.radius;return L(L(L({},n),$e(n.cx,n.cy,i,o)),{},{angle:o,radius:i})}var s=a.coordinate,c=n.angle;return L(L(L({},n),$e(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return Z0},os=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,o=(r??[]).reduce(function(i,s){var c=s.props.data;return c&&c.length?[].concat(Bn(i),Bn(c)):i},[]);return o.length>0?o:e&&e.length&&K(n)&&K(a)?e.slice(n,a+1):[]};function Q0(e){return e==="number"?[0,"auto"]:void 0}var ed=function(e,t,r,n){var a=e.graphicalItems,o=e.tooltipAxis,i=os(t,e);return r<0||!a||!a.length||r>=i.length?null:a.reduce(function(s,c){var l,u=(l=c.props.data)!==null&&l!==void 0?l:t;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=u===void 0?i:u;f=Sc(p,o.dataKey,n)}else f=u&&u[r]||i[r];return f?[].concat(Bn(s),[Cg(c,f)]):s},[])},ex=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},o=p5(a,r),i=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=sA(o,i,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,f=ed(e,t,l,u),p=h5(r,i,l,a);return{activeTooltipIndex:l,activeLabel:u,activePayload:f,activeCoordinate:p}}return null},m5=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,f=e.stackOffset,p=wg(l,a);return r.reduce(function(m,y){var h,g=y.type.defaultProps!==void 0?L(L({},y.type.defaultProps),y.props):y.props,b=g.type,w=g.dataKey,S=g.allowDataOverflow,x=g.allowDuplicatedCategory,j=g.scale,_=g.ticks,O=g.includeHidden,P=g[o];if(m[P])return m;var M=os(e.data,{graphicalItems:n.filter(function(q){var I,Y=o in q.props?q.props[o]:(I=q.type.defaultProps)===null||I===void 0?void 0:I[o];return Y===P}),dataStartIndex:s,dataEndIndex:c}),C=M.length,N,T,A;$4(g.domain,S,b)&&(N=ru(g.domain,null,S),p&&(b==="number"||j!=="auto")&&(A=ji(M,w,"category")));var D=Q0(b);if(!N||N.length===0){var k,R=(k=g.domain)!==null&&k!==void 0?k:D;if(w){if(N=ji(M,w,b),b==="category"&&p){var F=V_(N);x&&F?(T=N,N=Bi(0,C)):x||(N=Pg(R,N,y).reduce(function(q,I){return q.indexOf(I)>=0?q:[].concat(Bn(q),[I])},[]))}else if(b==="category")x?N=N.filter(function(q){return q!==""&&!ve(q)}):N=Pg(R,N,y).reduce(function(q,I){return q.indexOf(I)>=0||I===""||ve(I)?q:[].concat(Bn(q),[I])},[]);else if(b==="number"){var U=fA(M,n.filter(function(q){var I,Y,H=o in q.props?q.props[o]:(I=q.type.defaultProps)===null||I===void 0?void 0:I[o],J="hide"in q.props?q.props.hide:(Y=q.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return H===P&&(O||!J)}),w,a,l);U&&(N=U)}p&&(b==="number"||j!=="auto")&&(A=ji(M,w,"category"))}else p?N=Bi(0,C):i&&i[P]&&i[P].hasStack&&b==="number"?N=f==="expand"?[0,1]:Sg(i[P].stackGroups,s,c):N=xg(M,n.filter(function(q){var I=o in q.props?q.props[o]:q.type.defaultProps[o],Y="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return I===P&&(O||!Y)}),b,l,!0);if(b==="number")N=Ku(u,N,P,a,_),R&&(N=ru(R,N,S));else if(b==="category"&&R){var V=R,Q=N.every(function(q){return V.indexOf(q)>=0});Q&&(N=V)}}return L(L({},m),{},ae({},P,L(L({},g),{},{axisType:a,domain:N,categoricalDomain:A,duplicateDomain:T,originalDomain:(h=g.domain)!==null&&h!==void 0?h:D,isCategorical:p,layout:l})))},{})},y5=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,f=os(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:c}),p=f.length,m=wg(l,a),y=-1;return r.reduce(function(h,g){var b=g.type.defaultProps!==void 0?L(L({},g.type.defaultProps),g.props):g.props,w=b[o],S=Q0("number");if(!h[w]){y++;var x;return m?x=Bi(0,p):i&&i[w]&&i[w].hasStack?(x=Sg(i[w].stackGroups,s,c),x=Ku(u,x,w,a)):(x=ru(S,xg(f,r.filter(function(j){var _,O,P=o in j.props?j.props[o]:(_=j.type.defaultProps)===null||_===void 0?void 0:_[o],M="hide"in j.props?j.props.hide:(O=j.type.defaultProps)===null||O===void 0?void 0:O.hide;return P===w&&!M}),"number",l),n.defaultProps.allowDataOverflow),x=Ku(u,x,w,a)),L(L({},h),{},ae({},w,L(L({axisType:a},n.defaultProps),{},{hide:!0,orientation:_t(d5,"".concat(a,".").concat(y%2),null),domain:x,originalDomain:S,isCategorical:m,layout:l})))}return h},{})},v5=function(e,t){var r=t.axisType,n=r===void 0?"xAxis":r,a=t.AxisComp,o=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(n,"Id"),f=Et(l,a),p={};return f&&f.length?p=m5(e,{axes:f,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(p=y5(e,{Axis:a,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c})),p},g5=function(e){var t=cr(e),r=er(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:nl(r,function(n){return n.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Oi(t,r)}},tx=function(e){var t=e.children,r=e.defaultShowTooltip,n=dt(t,Sn),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},b5=function(e){return!e||!e.length?!1:e.some(function(t){var r=Ht(t&&t.type);return r&&r.indexOf("Bar")>=0})},rx=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},x5=function(e,t){var r=e.props,n=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,i=e.yAxisMap,s=i===void 0?{}:i,c=r.width,l=r.height,u=r.children,f=r.margin||{},p=dt(u,Sn),m=dt(u,ln),y=Object.keys(s).reduce(function(x,j){var _=s[j],O=_.orientation;return!_.mirror&&!_.hide?L(L({},x),{},ae({},O,x[O]+_.width)):x},{left:f.left||0,right:f.right||0}),h=Object.keys(o).reduce(function(x,j){var _=o[j],O=_.orientation;return!_.mirror&&!_.hide?L(L({},x),{},ae({},O,_t(x,"".concat(O))+_.height)):x},{top:f.top||0,bottom:f.bottom||0}),g=L(L({},h),y),b=g.bottom;p&&(g.bottom+=p.props.height||Sn.defaultProps.height),m&&t&&(g=uA(g,n,r,t));var w=c-g.left-g.right,S=l-g.top-g.bottom;return L(L({brushBottom:b},g),{},{width:Math.max(w,0),height:Math.max(S,0)})},w5=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},j5=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=n===void 0?"axis":n,o=e.validateTooltipEventTypes,i=o===void 0?["axis"]:o,s=e.axisComponents,c=e.legendContent,l=e.formatAxisMap,u=e.defaultProps,f=function(h,g){var b=g.graphicalItems,w=g.stackGroups,S=g.offset,x=g.updateId,j=g.dataStartIndex,_=g.dataEndIndex,O=h.barSize,P=h.layout,M=h.barGap,C=h.barCategoryGap,N=h.maxBarSize,T=rx(P),A=T.numericAxisName,D=T.cateAxisName,k=b5(b),R=[];return b.forEach(function(F,U){var V=os(h.data,{graphicalItems:[F],dataStartIndex:j,dataEndIndex:_}),Q=F.type.defaultProps!==void 0?L(L({},F.type.defaultProps),F.props):F.props,q=Q.dataKey,I=Q.maxBarSize,Y=Q["".concat(A,"Id")],H=Q["".concat(D,"Id")],J={},ie=s.reduce(function(qr,Wr){var Za=g["".concat(Wr.axisType,"Map")],qx=Q["".concat(Wr.axisType,"Id")];Za&&Za[qx]||Wr.axisType==="zAxis"||Lr();var Wx=Za[qx];return L(L({},qr),{},ae(ae({},Wr.axisType,Wx),"".concat(Wr.axisType,"Ticks"),er(Wx)))},J),W=ie[D],oe=ie["".concat(D,"Ticks")],$=w&&w[Y]&&w[Y].hasStack&&OA(F,w[Y].stackGroups),G=Ht(F.type).indexOf("Bar")>=0,ee=Oi(W,oe),B=[],_e=k&&cA({barSize:O,stackGroups:w,totalSize:w5(ie,D)});if(G){var le,Pe,Ce=ve(I)?N:I,Qe=(le=(Pe=Oi(W,oe,!0))!==null&&Pe!==void 0?Pe:Ce)!==null&&le!==void 0?le:0;B=lA({barGap:M,barCategoryGap:C,bandSize:Qe!==ee?Qe:ee,sizeList:_e[H],maxBarSize:Ce}),Qe!==ee&&(B=B.map(function(qr){return L(L({},qr),{},{position:L(L({},qr.position),{},{offset:qr.position.offset-Qe/2})})}))}var Hr=F&&F.type&&F.type.getComposedData;Hr&&R.push({props:L(L({},Hr(L(L({},ie),{},{displayedData:V,props:h,dataKey:q,item:F,bandSize:ee,barPosition:B,offset:S,stackedData:$,layout:P,dataStartIndex:j,dataEndIndex:_}))),{},ae(ae(ae({key:F.key||"item-".concat(U)},A,ie[A]),D,ie[D]),"animationId",x)),childIndex:eO(F,h.children),item:F})}),R},p=function(h,g){var b=h.props,w=h.dataStartIndex,S=h.dataEndIndex,x=h.updateId;if(!$h({props:b}))return null;var j=b.children,_=b.layout,O=b.stackOffset,P=b.data,M=b.reverseStackOrder,C=rx(_),N=C.numericAxisName,T=C.cateAxisName,A=Et(j,r),D=wA(P,A,"".concat(N,"Id"),"".concat(T,"Id"),O,M),k=s.reduce(function(Q,q){var I="".concat(q.axisType,"Map");return L(L({},Q),{},ae({},I,v5(b,L(L({},q),{},{graphicalItems:A,stackGroups:q.axisType===N&&D,dataStartIndex:w,dataEndIndex:S}))))},{}),R=x5(L(L({},k),{},{props:b,graphicalItems:A}),g==null?void 0:g.legendBBox);Object.keys(k).forEach(function(Q){k[Q]=l(b,k[Q],R,Q.replace("Map",""),t)});var F=k["".concat(T,"Map")],U=g5(F),V=f(b,L(L({},k),{},{dataStartIndex:w,dataEndIndex:S,updateId:x,graphicalItems:A,stackGroups:D,offset:R}));return L(L({formattedGraphicalItems:V,graphicalItems:A,offset:R,stackGroups:D},U),k)},m=function(h){function g(b){var w,S,x;return e5(this,g),x=n5(this,g,[b]),ae(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ae(x,"accessibilityManager",new z4),ae(x,"handleLegendBBoxUpdate",function(j){if(j){var _=x.state,O=_.dataStartIndex,P=_.dataEndIndex,M=_.updateId;x.setState(L({legendBBox:j},p({props:x.props,dataStartIndex:O,dataEndIndex:P,updateId:M},L(L({},x.state),{},{legendBBox:j}))))}}),ae(x,"handleReceiveSyncEvent",function(j,_,O){if(x.props.syncId===j){if(O===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(_)}}),ae(x,"handleBrushChange",function(j){var _=j.startIndex,O=j.endIndex;if(_!==x.state.dataStartIndex||O!==x.state.dataEndIndex){var P=x.state.updateId;x.setState(function(){return L({dataStartIndex:_,dataEndIndex:O},p({props:x.props,dataStartIndex:_,dataEndIndex:O,updateId:P},x.state))}),x.triggerSyncEvent({dataStartIndex:_,dataEndIndex:O})}}),ae(x,"handleMouseEnter",function(j){var _=x.getMouseInfo(j);if(_){var O=L(L({},_),{},{isTooltipActive:!0});x.setState(O),x.triggerSyncEvent(O);var P=x.props.onMouseEnter;de(P)&&P(O,j)}}),ae(x,"triggeredAfterMouseMove",function(j){var _=x.getMouseInfo(j),O=_?L(L({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(O),x.triggerSyncEvent(O);var P=x.props.onMouseMove;de(P)&&P(O,j)}),ae(x,"handleItemMouseEnter",function(j){x.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ae(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ae(x,"handleMouseMove",function(j){j.persist(),x.throttleTriggeredAfterMouseMove(j)}),ae(x,"handleMouseLeave",function(j){x.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};x.setState(_),x.triggerSyncEvent(_);var O=x.props.onMouseLeave;de(O)&&O(_,j)}),ae(x,"handleOuterEvent",function(j){var _=Q_(j),O=_t(x.props,"".concat(_));if(_&&de(O)){var P,M;/.*touch.*/i.test(_)?M=x.getMouseInfo(j.changedTouches[0]):M=x.getMouseInfo(j),O((P=M)!==null&&P!==void 0?P:{},j)}}),ae(x,"handleClick",function(j){var _=x.getMouseInfo(j);if(_){var O=L(L({},_),{},{isTooltipActive:!0});x.setState(O),x.triggerSyncEvent(O);var P=x.props.onClick;de(P)&&P(O,j)}}),ae(x,"handleMouseDown",function(j){var _=x.props.onMouseDown;if(de(_)){var O=x.getMouseInfo(j);_(O,j)}}),ae(x,"handleMouseUp",function(j){var _=x.props.onMouseUp;if(de(_)){var O=x.getMouseInfo(j);_(O,j)}}),ae(x,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ae(x,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.handleMouseDown(j.changedTouches[0])}),ae(x,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.handleMouseUp(j.changedTouches[0])}),ae(x,"triggerSyncEvent",function(j){x.props.syncId!==void 0&&Gu.emit(Yu,x.props.syncId,j,x.eventEmitterSymbol)}),ae(x,"applySyncEvent",function(j){var _=x.props,O=_.layout,P=_.syncMethod,M=x.state.updateId,C=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)x.setState(L({dataStartIndex:C,dataEndIndex:N},p({props:x.props,dataStartIndex:C,dataEndIndex:N,updateId:M},x.state)));else if(j.activeTooltipIndex!==void 0){var T=j.chartX,A=j.chartY,D=j.activeTooltipIndex,k=x.state,R=k.offset,F=k.tooltipTicks;if(!R)return;if(typeof P=="function")D=P(F,j);else if(P==="value"){D=-1;for(var U=0;U<F.length;U++)if(F[U].value===j.activeLabel){D=U;break}}var V=L(L({},R),{},{x:R.left,y:R.top}),Q=Math.min(T,V.x+V.width),q=Math.min(A,V.y+V.height),I=F[D]&&F[D].value,Y=ed(x.state,x.props.data,D),H=F[D]?{x:O==="horizontal"?F[D].coordinate:Q,y:O==="horizontal"?q:F[D].coordinate}:Z0;x.setState(L(L({},j),{},{activeLabel:I,activeCoordinate:H,activePayload:Y,activeTooltipIndex:D}))}else x.setState(j)}),ae(x,"renderCursor",function(j){var _,O=x.state,P=O.isTooltipActive,M=O.activeCoordinate,C=O.activePayload,N=O.offset,T=O.activeTooltipIndex,A=O.tooltipAxisBandSize,D=x.getTooltipEventType(),k=(_=j.props.active)!==null&&_!==void 0?_:P,R=x.props.layout,F=j.key||"_recharts-cursor";return E.createElement(X4,{key:F,activeCoordinate:M,activePayload:C,activeTooltipIndex:T,chartName:t,element:j,isActive:k,layout:R,offset:N,tooltipAxisBandSize:A,tooltipEventType:D})}),ae(x,"renderPolarAxis",function(j,_,O){var P=_t(j,"type.axisType"),M=_t(x.state,"".concat(P,"Map")),C=j.type.defaultProps,N=C!==void 0?L(L({},C),j.props):j.props,T=M&&M[N["".concat(P,"Id")]];return v.cloneElement(j,L(L({},T),{},{className:ge(P,T.className),key:j.key||"".concat(_,"-").concat(O),ticks:er(T,!0)}))}),ae(x,"renderPolarGrid",function(j){var _=j.props,O=_.radialLines,P=_.polarAngles,M=_.polarRadius,C=x.state,N=C.radiusAxisMap,T=C.angleAxisMap,A=cr(N),D=cr(T),k=D.cx,R=D.cy,F=D.innerRadius,U=D.outerRadius;return v.cloneElement(j,{polarAngles:Array.isArray(P)?P:er(D,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(M)?M:er(A,!0).map(function(V){return V.coordinate}),cx:k,cy:R,innerRadius:F,outerRadius:U,key:j.key||"polar-grid",radialLines:O})}),ae(x,"renderLegend",function(){var j=x.state.formattedGraphicalItems,_=x.props,O=_.children,P=_.width,M=_.height,C=x.props.margin||{},N=P-(C.left||0)-(C.right||0),T=yg({children:O,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!T)return null;var A=T.item,D=X0(T,K4);return v.cloneElement(A,L(L({},D),{},{chartWidth:P,chartHeight:M,margin:C,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ae(x,"renderTooltip",function(){var j,_=x.props,O=_.children,P=_.accessibilityLayer,M=dt(O,Dt);if(!M)return null;var C=x.state,N=C.isTooltipActive,T=C.activeCoordinate,A=C.activePayload,D=C.activeLabel,k=C.offset,R=(j=M.props.active)!==null&&j!==void 0?j:N;return v.cloneElement(M,{viewBox:L(L({},k),{},{x:k.left,y:k.top}),active:R,label:D,payload:R?A:[],coordinate:T,accessibilityLayer:P})}),ae(x,"renderBrush",function(j){var _=x.props,O=_.margin,P=_.data,M=x.state,C=M.offset,N=M.dataStartIndex,T=M.dataEndIndex,A=M.updateId;return v.cloneElement(j,{key:j.key||"_recharts-brush",onChange:_i(x.handleBrushChange,j.props.onChange),data:P,x:K(j.props.x)?j.props.x:C.left,y:K(j.props.y)?j.props.y:C.top+C.height+C.brushBottom-(O.bottom||0),width:K(j.props.width)?j.props.width:C.width,startIndex:N,endIndex:T,updateId:"brush-".concat(A)})}),ae(x,"renderReferenceElement",function(j,_,O){if(!j)return null;var P=x,M=P.clipPathId,C=x.state,N=C.xAxisMap,T=C.yAxisMap,A=C.offset,D=j.type.defaultProps||{},k=j.props,R=k.xAxisId,F=R===void 0?D.xAxisId:R,U=k.yAxisId,V=U===void 0?D.yAxisId:U;return v.cloneElement(j,{key:j.key||"".concat(_,"-").concat(O),xAxis:N[F],yAxis:T[V],viewBox:{x:A.left,y:A.top,width:A.width,height:A.height},clipPathId:M})}),ae(x,"renderActivePoints",function(j){var _=j.item,O=j.activePoint,P=j.basePoint,M=j.childIndex,C=j.isRange,N=[],T=_.props.key,A=_.item.type.defaultProps!==void 0?L(L({},_.item.type.defaultProps),_.item.props):_.item.props,D=A.activeDot,k=A.dataKey,R=L(L({index:M,dataKey:k,cx:O.x,cy:O.y,r:4,fill:eu(_.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},ye(D,!1)),Ao(D));return N.push(g.renderActiveDot(D,R,"".concat(T,"-activePoint-").concat(M))),P?N.push(g.renderActiveDot(D,L(L({},R),{},{cx:P.x,cy:P.y}),"".concat(T,"-basePoint-").concat(M))):C&&N.push(null),N}),ae(x,"renderGraphicChild",function(j,_,O){var P=x.filterFormatItem(j,_,O);if(!P)return null;var M=x.getTooltipEventType(),C=x.state,N=C.isTooltipActive,T=C.tooltipAxis,A=C.activeTooltipIndex,D=C.activeLabel,k=x.props.children,R=dt(k,Dt),F=P.props,U=F.points,V=F.isRange,Q=F.baseLine,q=P.item.type.defaultProps!==void 0?L(L({},P.item.type.defaultProps),P.item.props):P.item.props,I=q.activeDot,Y=q.hide,H=q.activeBar,J=q.activeShape,ie=!!(!Y&&N&&R&&(I||H||J)),W={};M!=="axis"&&R&&R.props.trigger==="click"?W={onClick:_i(x.handleItemMouseEnter,j.props.onClick)}:M!=="axis"&&(W={onMouseLeave:_i(x.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:_i(x.handleItemMouseEnter,j.props.onMouseEnter)});var oe=v.cloneElement(j,L(L({},P.props),W));function $(Za){return typeof T.dataKey=="function"?T.dataKey(Za.payload):null}if(ie)if(A>=0){var G,ee;if(T.dataKey&&!T.allowDuplicatedCategory){var B=typeof T.dataKey=="function"?$:"payload.".concat(T.dataKey.toString());G=Sc(U,B,D),ee=V&&Q&&Sc(Q,B,D)}else G=U==null?void 0:U[A],ee=V&&Q&&Q[A];if(J||H){var _e=j.props.activeIndex!==void 0?j.props.activeIndex:A;return[v.cloneElement(j,L(L(L({},P.props),W),{},{activeIndex:_e})),null,null]}if(!ve(G))return[oe].concat(Bn(x.renderActivePoints({item:P,activePoint:G,basePoint:ee,childIndex:A,isRange:V})))}else{var le,Pe=(le=x.getItemByXY(x.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:oe},Ce=Pe.graphicalItem,Qe=Ce.item,Hr=Qe===void 0?j:Qe,qr=Ce.childIndex,Wr=L(L(L({},P.props),W),{},{activeIndex:qr});return[v.cloneElement(Hr,Wr),null,null]}return V?[oe,null,null]:[oe,null]}),ae(x,"renderCustomized",function(j,_,O){return v.cloneElement(j,L(L({key:"recharts-customized-".concat(O)},x.props),x.state))}),ae(x,"renderMap",{CartesianGrid:{handler:as,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:as},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:as},YAxis:{handler:as},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Mo("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=Rs(x.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return i5(g,h),r5(g,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,S=b.data,x=b.height,j=b.layout,_=dt(w,Dt);if(_){var O=_.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,M=ed(this.state,S,O,P),C=this.state.tooltipTicks[O].coordinate,N=(this.state.offset.top+x)/2,T=j==="horizontal",A=T?{x:C,y:N}:{y:C,x:N},D=this.state.formattedGraphicalItems.find(function(R){var F=R.item;return F.type.name==="Scatter"});D&&(A=L(L({},A),D.props.points[O].tooltipPosition),M=D.props.points[O].tooltipPayload);var k={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:P,activePayload:M,activeCoordinate:A};this.setState(k),this.renderCursor(_),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,x;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(b){Mc([dt(b.children,Dt)],[dt(this.props.children,Dt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=dt(this.props.children,Dt);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return i.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,S=w.getBoundingClientRect(),x=aC(S),j={chartX:Math.round(b.pageX-x.left),chartY:Math.round(b.pageY-x.top)},_=S.width/w.offsetWidth||1,O=this.inRange(j.chartX,j.chartY,_);if(!O)return null;var P=this.state,M=P.xAxisMap,C=P.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&M&&C){var T=cr(M).scale,A=cr(C).scale,D=T&&T.invert?T.invert(j.chartX):null,k=A&&A.invert?A.invert(j.chartY):null;return L(L({},j),{},{xValue:D,yValue:k})}var R=ex(this.state,this.props.data,this.props.layout,O);return R?L(L({},j),R):null}},{key:"inRange",value:function(b,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,j=b/S,_=w/S;if(x==="horizontal"||x==="vertical"){var O=this.state.offset,P=j>=O.left&&j<=O.left+O.width&&_>=O.top&&_<=O.top+O.height;return P?{x:j,y:_}:null}var M=this.state,C=M.angleAxisMap,N=M.radiusAxisMap;if(C&&N){var T=cr(C);return Ag({x:j,y:_},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),S=dt(b,Dt),x={};S&&w==="axis"&&(S.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var j=Ao(this.props,this.handleOuterEvent);return L(L({},j),x)}},{key:"addListener",value:function(){Gu.on(Yu,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gu.removeListener(Yu,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,S){for(var x=this.state.formattedGraphicalItems,j=0,_=x.length;j<_;j++){var O=x[j];if(O.item===b||O.props.key===b.key||w===Ht(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,S=w.left,x=w.top,j=w.height,_=w.width;return E.createElement("defs",null,E.createElement("clipPath",{id:b},E.createElement("rect",{x:S,y:x,height:j,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,S){var x=W0(S,2),j=x[0],_=x[1];return L(L({},w),{},ae({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,S){var x=W0(S,2),j=x[0],_=x[1];return L(L({},w),{},ae({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,S=w.formattedGraphicalItems,x=w.activeItem;if(S&&S.length)for(var j=0,_=S.length;j<_;j++){var O=S[j],P=O.props,M=O.item,C=M.type.defaultProps!==void 0?L(L({},M.type.defaultProps),M.props):M.props,N=Ht(M.type);if(N==="Bar"){var T=(P.data||[]).find(function(R){return nI(b,R)});if(T)return{graphicalItem:O,payload:T}}else if(N==="RadialBar"){var A=(P.data||[]).find(function(R){return Ag(b,R)});if(A)return{graphicalItem:O,payload:A}}else if(Ri(O,x)||Li(O,x)||Va(O,x)){var D=r3({graphicalItem:O,activeTooltipItem:x,itemData:C.data}),k=C.activeIndex===void 0?D:C.activeIndex;return{graphicalItem:L(L({},O),{},{childIndex:k}),payload:Va(O,x)?C.data[D]:O.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!$h(this))return null;var w=this.props,S=w.children,x=w.className,j=w.width,_=w.height,O=w.style,P=w.compact,M=w.title,C=w.desc,N=X0(w,G4),T=ye(N,!1);if(P)return E.createElement(l0,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(Tc,Ln({},T,{width:j,height:_,title:M,desc:C}),this.renderClipPath(),Vh(S,this.renderMap)));if(this.props.accessibilityLayer){var A,D;T.tabIndex=(A=this.props.tabIndex)!==null&&A!==void 0?A:0,T.role=(D=this.props.role)!==null&&D!==void 0?D:"application",T.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},T.onFocus=function(){b.accessibilityManager.focus()}}var k=this.parseEventsOfWrapper();return E.createElement(l0,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",Ln({className:ge("recharts-wrapper",x),style:L({position:"relative",cursor:"default",width:j,height:_},O)},k,{ref:function(R){b.container=R}}),E.createElement(Tc,Ln({},T,{width:j,height:_,title:M,desc:C,style:f5}),this.renderClipPath(),Vh(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);ae(m,"displayName",t),ae(m,"defaultProps",L({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),ae(m,"getDerivedStateFromProps",function(h,g){var b=h.dataKey,w=h.data,S=h.children,x=h.width,j=h.height,_=h.layout,O=h.stackOffset,P=h.margin,M=g.dataStartIndex,C=g.dataEndIndex;if(g.updateId===void 0){var N=tx(h);return L(L(L({},N),{},{updateId:0},p(L(L({props:h},N),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:j,prevLayout:_,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(b!==g.prevDataKey||w!==g.prevData||x!==g.prevWidth||j!==g.prevHeight||_!==g.prevLayout||O!==g.prevStackOffset||!an(P,g.prevMargin)){var T=tx(h),A={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},D=L(L({},ex(g,w,_)),{},{updateId:g.updateId+1}),k=L(L(L({},T),A),D);return L(L(L({},k),p(L({props:h},k),g)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:j,prevLayout:_,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(!Mc(S,g.prevChildren)){var R,F,U,V,Q=dt(S,Sn),q=Q&&(R=(F=Q.props)===null||F===void 0?void 0:F.startIndex)!==null&&R!==void 0?R:M,I=Q&&(U=(V=Q.props)===null||V===void 0?void 0:V.endIndex)!==null&&U!==void 0?U:C,Y=q!==M||I!==C,H=!ve(w),J=H&&!Y?g.updateId:g.updateId+1;return L(L({updateId:J},p(L(L({props:h},g),{},{updateId:J,dataStartIndex:q,dataEndIndex:I}),g)),{},{prevChildren:S,dataStartIndex:q,dataEndIndex:I})}return null}),ae(m,"renderActiveDot",function(h,g,b){var w;return v.isValidElement(h)?w=v.cloneElement(h,g):de(h)?w=h(g):w=E.createElement(Sb,g),E.createElement(Be,{className:"recharts-active-dot",key:b},w)});var y=v.forwardRef(function(h,g){return E.createElement(m,Ln({},h,{ref:g}))});return y.displayName=m.displayName,y},_5=j5({chartName:"BarChart",GraphicalChild:zr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:es},{axisType:"yAxis",AxisComp:Wu}],formatAxisMap:SR});const O5={light:"",dark:".dark"},nx=v.createContext(null);function ax(){const e=v.useContext(nx);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const ox=v.forwardRef(({id:e,className:t,children:r,config:n,...a},o)=>{const i=v.useId(),s=`chart-${e||i.replace(/:/g,"")}`;return d.jsx(nx.Provider,{value:{config:n},children:d.jsxs("div",{"data-chart":s,ref:o,className:X("flex aspect-video justify-center text-xs",t),...a,children:[d.jsx(S5,{id:s,config:n}),d.jsx(JP,{children:r})]})})});ox.displayName="Chart";const S5=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?d.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(O5).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([o,i])=>{var c;const s=((c=i.theme)==null?void 0:c[n])||i.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},N5=Dt,ix=v.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:o=!1,label:i,labelFormatter:s,labelClassName:c,formatter:l,color:u,nameKey:f,labelKey:p},m)=>{const{config:y}=ax(),h=v.useMemo(()=>{var j;if(a||!(t!=null&&t.length))return null;const[b]=t,w=`${p||b.dataKey||b.name||"value"}`,S=td(y,b,w),x=!p&&typeof i=="string"?((j=y[i])==null?void 0:j.label)||i:S==null?void 0:S.label;return s?d.jsx("div",{className:X("font-medium",c),children:s(x,t)}):x?d.jsx("div",{className:X("font-medium",c),children:x}):null},[i,s,t,a,c,y,p]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&n!=="dot";return d.jsxs("div",{ref:m,className:X("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:h,d.jsx("div",{className:"grid gap-1.5",children:t.map((b,w)=>{const S=`${f||b.name||b.dataKey||"value"}`,x=td(y,b,S),j=u||b.payload.fill||b.color;return d.jsx("div",{className:X("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:l&&(b==null?void 0:b.value)!==void 0&&b.name?l(b.value,b.name,b,w,b.payload):d.jsxs(d.Fragment,{children:[x!=null&&x.icon?d.jsx(x.icon,{}):!o&&d.jsx("div",{className:X("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":g&&n==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),d.jsxs("div",{className:X("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[d.jsxs("div",{className:"grid gap-1.5",children:[g?h:null,d.jsx("span",{className:"text-muted-foreground",children:(x==null?void 0:x.label)||b.name})]}),b.value&&d.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});ix.displayName="ChartTooltip";const E5=v.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},o)=>{const{config:i}=ax();return r!=null&&r.length?d.jsx("div",{ref:o,className:X("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(s=>{const c=`${a||s.dataKey||"value"}`,l=td(i,s,c);return d.jsxs("div",{className:X("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[l!=null&&l.icon&&!t?d.jsx(l.icon,{}):d.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),l==null?void 0:l.label]},s.value)})}):null});E5.displayName="ChartLegend";function td(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const sx=e=>{const t=["Bytes","KB","MB","GB","TB"];if(e===void 0)return"Unknown size";if(e===0)return"0 Byte";const r=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,r))} ${t[r]}`},P5=v.memo(()=>{const{t:e}=se("flows"),[t,r]=v.useState(),n=gr(y=>y.cachedLLMURLs),a=st(y=>y.currentSession),[o,i]=v.useState(),[s,c]=v.useState(""),[l,u]=v.useState(),f=v.useMemo(()=>({nodes:{label:e("session_info_node.entities.nodes"),color:"#2563eb"},edges:{label:e("session_info_node.entities.edges"),color:"#34d399"},threads:{label:e("session_info_node.entities.threads"),color:"#fbbf24"},llms:{label:e("session_info_node.entities.llms"),color:"#f87171"},prompts:{label:e("session_info_node.entities.prompts"),color:"#a78bfa"},tools:{label:e("session_info_node.entities.tools"),color:"#ffcccb"},schemas:{label:e("session_info_node.entities.schemas"),color:"#ffb6c1"},vectorDatabases:{label:e("session_info_node.entities.vector_databases"),color:"#ff69b4"},jsonlDatas:{label:e("session_info_node.entities.jsonl_data"),color:"#ff1493"},csvDatas:{label:e("session_info_node.entities.csv_data"),color:"#db7093"}}),[e]);v.useEffect(()=>{tt(async()=>{const{functionCallingModelIds:y,prebuiltAppConfig:h}=await import("./index-BfwsW2Zg.js").then(async g=>(await g.__tla,g));return{functionCallingModelIds:y,prebuiltAppConfig:h}},__vite__mapDeps([0,1,2,3,4])).then(({functionCallingModelIds:y,prebuiltAppConfig:h})=>{r(n==null?void 0:n.map(g=>{const b=h.model_list.find(w=>g.includes(w.model));if(b)return{model_id:(b==null?void 0:b.model_id)||"",info:b,isFunctionCalling:y.includes((b==null?void 0:b.model_id)||"")}}))})},[n,a==null?void 0:a.id]);const p=v.useCallback(async()=>{navigator.storage.estimate().then(y=>{y&&c(e("session_info_node.used_bytes",{used:sx(y.usage),total:sx(y==null?void 0:y.quota)}))}),a!=null&&a.id&&(Promise.all([ne("FlowNode").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("FlowEdge").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("Thread").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("Prompt").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("LLM").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("Schema").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("ToolDefinition").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("VectorDatabase").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("JSONLData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("CSVData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}})]).then(y=>{const h=y.reduce((g,b)=>b!=null&&b.updated_at&&(!g||new Date(b.updated_at)>g)?new Date(b.updated_at):g,a.updated_at?new Date(a.updated_at):void 0);i(h)}),Promise.all([ne("FlowNode").count({where:{session_id:a==null?void 0:a.id}}),ne("FlowEdge").count({where:{session_id:a==null?void 0:a.id}}),ne("Thread").count({where:{session_id:a==null?void 0:a.id}}),ne("Prompt").count({where:{session_id:a==null?void 0:a.id}}),ne("LLM").count({where:{session_id:a==null?void 0:a.id}}),ne("ToolDefinition").count({where:{session_id:a==null?void 0:a.id}}),ne("Schema").count({where:{session_id:a==null?void 0:a.id}}),ne("VectorDatabase").count({where:{session_id:a==null?void 0:a.id}}),ne("JSONLData").count({where:{session_id:a==null?void 0:a.id}}),ne("CSVData").count({where:{session_id:a==null?void 0:a.id}})]).then(([y,h,g,b,w,S,x,j,_,O])=>{u([{name:e("session_info_node.count_info.title"),nodes:y||0,edges:h||0,threads:g||0,prompts:b||0,llms:w||0,tools:S||0,schemas:x||0,vectorDatabases:j||0,jsonlDatas:_||0,csvDatas:O||0}])}))},[a==null?void 0:a.id,a==null?void 0:a.updated_at,e]),m=v.useCallback(()=>{p()},[p]);return v.useEffect(()=>{p()},[p]),d.jsxs(De,{className:"w-96",children:[d.jsxs(Ge,{children:[d.jsx(at,{children:e("session_info_node.title")}),d.jsx(Cf,{children:o||a!=null&&a.updated_at?bF(o||(a==null?void 0:a.updated_at)).fromNow():""})]}),d.jsxs(Ye,{className:"grid gap-4",children:[d.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:d.jsxs("div",{className:"flex-1 space-y-1",children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:e("session_info_node.disk_size")}),d.jsx("p",{className:"text-sm text-muted-foreground",children:s})]})}),d.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:d.jsxs("div",{className:"flex-1 space-y-1",children:[d.jsxs("div",{className:"text-sm font-medium leading-none",children:[e("session_info_node.cached_llms"),d.jsx(Kr,{className:"ml-2",children:(t==null?void 0:t.length)||0})]}),t==null?void 0:t.map(y=>d.jsxs("div",{className:"text-sm text-muted-foreground gap-1",children:[y==null?void 0:y.model_id,d.jsx("div",{className:"max-w-full gap-1 flex flex-wrap mt-1",children:d.jsx(vs,{model:y==null?void 0:y.info,isFunctionCalling:(y==null?void 0:y.isFunctionCalling)||!1,isCached:!0})})]},y==null?void 0:y.model_id))]})}),d.jsx("div",{children:d.jsx(ox,{config:f,className:"min-h-28 w-full",children:d.jsxs(_5,{accessibilityLayer:!0,data:l,children:[d.jsx(D0,{vertical:!1}),d.jsx(es,{dataKey:"name",tickLine:!1,tickMargin:10,axisLine:!1}),d.jsx(N5,{content:d.jsx(ix,{})}),Object.entries(f).map(([y,h])=>d.jsx(zr,{dataKey:y,fill:h.color,radius:4},y))]})})})]}),d.jsx(nr,{children:d.jsxs(Te,{className:"w-full",onClick:m,children:[d.jsx(te,{size:24,name:"refresh-ccw"}),e("session_info_node.reload")]})})]})}),C5=e=>{const t=(r,n=null)=>{let a=`{
`;return r.filter(o=>o.parent_id===n).forEach(o=>{if(o.type==="object"){const i=e.filter(c=>c.parent_id===o.id),s=t(i,o.id);a+=`  ${o.name}${o.required?"":"?"}: ${s}
`}else a+=`  // ${o.description||""}
  ${o.name}${o.required?"":"?"}: ${o.type};
`}),a+="}",a};return t(e)},k5=e=>{const t=(n,a=null)=>{let o="";return n.filter(i=>i.parent_id===a).forEach(i=>{if(i.type==="object"){const s=t(n,i.id);o+=`    ${i.name}: z.object({
${s}    })${i.required?"":".optional()"}.describe('${i.description||""}'),
`}else o+=`    ${i.name}: z.${i.type}()${i.required?"":".optional()"}.describe('${i.description||""}'),
`}),o};let r=`const schema = z.object({
`;return r+=t(e),r+="});",r};var rd="Tabs",[M5,Kz]=Un(rd,[Wn]),cx=Wn(),[A5,nd]=M5(rd),lx=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:s,activationMode:c="automatic",...l}=e,u=no(s),[f,p]=Mt({prop:n,onChange:a,defaultProp:o});return d.jsx(A5,{scope:r,baseId:rt(),value:f,onValueChange:p,orientation:i,dir:u,activationMode:c,children:d.jsx(fe.div,{dir:u,"data-orientation":i,...l,ref:t})})});lx.displayName=rd;var ux="TabsList",dx=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=nd(ux,r),i=cx(r);return d.jsx(jd,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:d.jsx(fe.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});dx.displayName=ux;var fx="TabsTrigger",px=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,i=nd(fx,r),s=cx(r),c=yx(i.baseId,n),l=vx(i.baseId,n),u=n===i.value;return d.jsx(_d,{asChild:!0,...s,focusable:!a,active:u,children:d.jsx(fe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ue(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:ue(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:ue(e.onFocus,()=>{const f=i.activationMode!=="manual";!u&&!a&&f&&i.onValueChange(n)})})})});px.displayName=fx;var hx="TabsContent",mx=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=e,s=nd(hx,r),c=yx(s.baseId,n),l=vx(s.baseId,n),u=n===s.value,f=v.useRef(u);return v.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(us,{present:a||u,children:({present:p})=>d.jsx(fe.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:l,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});mx.displayName=hx;function yx(e,t){return`${e}-trigger-${t}`}function vx(e,t){return`${e}-content-${t}`}var T5=lx,gx=dx,bx=px,xx=mx;const wx=T5,ad=v.forwardRef(({className:e,...t},r)=>d.jsx(gx,{ref:r,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ad.displayName=gx.displayName;const Fn=v.forwardRef(({className:e,...t},r)=>d.jsx(bx,{ref:r,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Fn.displayName=bx.displayName;const zn=v.forwardRef(({className:e,...t},r)=>d.jsx(xx,{ref:r,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));zn.displayName=xx.displayName;const D5=e=>{const t=v.useCallback(async({edgeId:r})=>{try{return{deleteEdgeId:r}}catch{return{deleteEdgeId:r}}},[]);nt(e,t)},I5=v.memo(e=>{var c,l;const{t}=se("flows"),{id:r,data:n,isConnectable:a}=e,o=v.useRef(!1),i=Xe(r),s=re(u=>u.updateNodes);return D5(r),v.useEffect(()=>{var f;const u=n==null?void 0:n.entity;!u||!i||o.current||(f=u==null?void 0:u.schema_items)!=null&&f.length||n.loaded||(o.current=!0,ne("SchemaItem").find({where:{schema_id:u.id}}).then(p=>{s([{id:i.id,type:"replace",item:{...i,data:{...(i==null?void 0:i.data)||{},loaded:!0,entity:{...n.entity,schema_items:p}}}}])}).finally(()=>{o.current=!1}))},[n.entity,n.loaded,i,s]),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx(Ve,{id:r}),d.jsxs(wx,{defaultValue:"account",className:"w-[400px]",children:[d.jsxs(ad,{className:"grid w-full grid-cols-2",children:[d.jsx(Fn,{value:"account",children:t("schema_node.typescript")}),d.jsx(Fn,{value:"password",children:t("schema_node.zod")})]}),d.jsx(zn,{value:"account",children:d.jsx(De,{className:"p-4",children:d.jsx("pre",{children:C5(((c=n==null?void 0:n.entity)==null?void 0:c.schema_items)||[])})})}),d.jsx(zn,{value:"password",children:d.jsx(De,{className:"p-4",children:d.jsx("pre",{children:k5(((l=n==null?void 0:n.entity)==null?void 0:l.schema_items)||[])})})})]})]}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:a})]})}),jx=({className:e,...t})=>d.jsx("nav",{role:"navigation","aria-label":"pagination",className:X("mx-auto flex w-full justify-center",e),...t});jx.displayName="Pagination";const _x=v.forwardRef(({className:e,...t},r)=>d.jsx("ul",{ref:r,className:X("flex flex-row items-center gap-1",e),...t}));_x.displayName="PaginationContent";const $n=v.forwardRef(({className:e,...t},r)=>d.jsx("li",{ref:r,className:X("",e),...t}));$n.displayName="PaginationItem";const is=({className:e,isActive:t,size:r="icon",...n})=>d.jsx("a",{"aria-current":t?"page":void 0,className:X(Fz({variant:t?"outline":"ghost",size:r}),e),...n});is.displayName="PaginationLink";const Ox=({className:e,...t})=>{const{t:r}=se("atoms");return d.jsxs(is,{"aria-label":"Go to previous page",size:"default",className:X("gap-1 pl-2.5",e),...t,children:[d.jsx(te,{name:"chevron-left",className:"h-4 w-4"}),d.jsx("span",{children:r("pagination.previous")})]})};Ox.displayName="PaginationPrevious";const Sx=({className:e,...t})=>{const{t:r}=se("atoms");return d.jsxs(is,{"aria-label":"Go to next page",size:"default",className:X("gap-1 pr-2.5",e),...t,children:[d.jsx("span",{children:r("pagination.next")}),d.jsx(te,{name:"chevron-right",className:"h-4 w-4"})]})};Sx.displayName="PaginationNext";const od=({className:e,...t})=>{const{t:r}=se("atoms");return d.jsxs("span",{"aria-hidden":!0,className:X("flex h-9 w-9 items-center justify-center",e),...t,children:[d.jsx(te,{name:"ellipsis",className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:r("pagination.more_pages")})]})};od.displayName="PaginationEllipsis";const Nx=v.memo(e=>{const{data:t,headers:r,limitLengthByColumns:n,showPerPage:a=7,paginationShowLimit:o=1,contentLengthLimit:i=64}=e,[s,c]=v.useState({page:1,maxPage:1}),l=tr(Th);v.useEffect(()=>{c(m=>({...m,maxPage:Math.ceil(t.length/a)}))},[t.length,a]);const u=v.useMemo(()=>t.slice((s.page-1)*a,s.page*a),[t,s.page,a]),f=v.useMemo(()=>{let m=!1,y=!1;return d.jsx(jx,{className:"mt-4 mb-4 ml-4 mr-4 w-full",children:d.jsxs(_x,{children:[s.page>1?d.jsx($n,{onClick:()=>c(h=>({...h,page:h.page-1})),children:d.jsx(Ox,{})}):null,Array.from({length:s.maxPage},(h,g)=>{const b=g+1,w=g===0||g===s.maxPage-1;return!w&&b>s.page+o&&y?null:!w&&b>s.page+o?(y=!0,d.jsx($n,{children:d.jsx(od,{})},g)):!w&&b<s.page-o&&m?null:!w&&b<s.page-o?(m=!0,d.jsx($n,{children:d.jsx(od,{})},g)):d.jsx($n,{onClick:()=>c(S=>({...S,page:b})),children:d.jsx(is,{isActive:g+1===s.page,children:g+1})},g)}),s.page<s.maxPage?d.jsx($n,{onClick:()=>c(h=>({...h,page:h.page+1})),children:d.jsx(Sx,{})}):null]})})},[s.maxPage,s.page,o]),p=(m,y)=>{if(!m)return;const h=Array.isArray(m)?m:r.map(g=>m[g]);return d.jsxs(Er,{children:[d.jsx(rn,{children:d.jsx("div",{className:"font-bold",children:y+1})}),h.map((g,b)=>{const w=typeof g=="string"?g:JSON.stringify(g),S=r[b],x=(n==null?void 0:n[S])||i,j=w.length>x;return d.jsx(rn,{className:"p-4",children:d.jsxs("div",{onClick:j?()=>l.show({title:S,content:w}):void 0,className:"flex gap-4",children:[j?`${w.substring(0,x)}...`:w,j?d.jsx(te,{className:"w-6 mt-[-2px]",name:"chevron-right"}):null]})},`${b}`)})]},`${y}`)};return d.jsxs(d.Fragment,{children:[d.jsxs(mo,{className:"w-full",children:[d.jsx(yo,{children:d.jsxs(Er,{children:[d.jsx(tn,{},"index"),r?r.map(m=>d.jsx(tn,{children:d.jsx("div",{className:"font-bold",children:m})},m)):void 0]})}),d.jsx(vo,{children:u!=null&&u.length?u==null?void 0:u.map(p):void 0})]}),f]})}),R5=v.memo(e=>{var o,i;const{id:t,data:r,isConnectable:n}=e,a=v.useMemo(()=>{if(!(r!=null&&r.entity))return{headers:[],rows:[]};const s=sw(r.entity.csv);return{headers:yd(r.entity.headers),rows:s.map(c=>yd(c))}},[r==null?void 0:r.entity]);return d.jsxs("div",{children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),d.jsxs("div",{children:[d.jsx(Ve,{id:t}),d.jsxs(De,{className:"min-w-32 min-h-16 p-4",children:[d.jsx(Ge,{className:"!p-0",children:d.jsxs("div",{className:"pt-2 flex !flex-row",children:[d.jsx(te,{name:"file-spreadsheet",className:"mr-2"}),d.jsxs(be,{className:"!font-medium leading-none tracking-tight pr-8",children:[z.CSVData," ",(o=a==null?void 0:a.rows)!=null&&o.length?`(${((i=a==null?void 0:a.rows)==null?void 0:i.length)||0})`:""]})]})}),d.jsx(Ye,{className:"pb-0",children:d.jsx(Nx,{data:a.rows,headers:a.headers})})]})]}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),L5=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===z.Schema&&(o==null?void 0:o.type)===z.ToolDefinition){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},B5=v.memo(({id:e,data:t,isConnectable:r})=>{var n,a;return L5(e),d.jsxs("div",{children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:r}),d.jsx("div",{children:d.jsxs(br,{className:"flex justify-center",children:[d.jsx(te,{size:24,name:"wrench"}),d.jsxs("div",{className:"ml-2",children:[d.jsx(xr,{children:`${((n=t.entity)==null?void 0:n.name)||""}`}),d.jsx(to,{children:`${((a=t.entity)==null?void 0:a.description)||""}`})]})]})}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:r})]})}),F5=e=>{const t=v.useCallback(async({edgeId:r})=>({deleteEdgeId:r}),[]);nt(e,t)},z5=v.memo(e=>{const{id:t,data:r,isConnectable:n}=e;return F5(t),d.jsxs("div",{children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),d.jsx("div",{children:d.jsxs(br,{className:"flex justify-center max-w-80",variant:"default",children:[d.jsx(Qa,{name:r.model||"brain",className:"w-7 h-7"}),d.jsx("div",{className:"ml-2 pr-4 flex items-center",children:d.jsx(xr,{children:`${r.model||""}`})})]})}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})});class $5{async loadAndSplit(t){if(t===void 0)throw new Error("You must pass a text splitter to use this method.");const r=await this.load();return t.invoke(r)}}class U5 extends $5{constructor(t,{splitPages:r=!0,pdfjs:n=V5,parsedItemSeparator:a=""}={}){super(),Object.defineProperty(this,"blob",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"splitPages",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"pdfjs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parsedItemSeparator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.blob=t,this.splitPages=r??this.splitPages,this.pdfjs=n,this.parsedItemSeparator=a}async load(){const{getDocument:t,version:r}=await this.pdfjs(),n=await t({data:new Uint8Array(await this.blob.arrayBuffer()),useWorkerFetch:!1,isEvalSupported:!1,useSystemFonts:!0}).promise,a=await n.getMetadata().catch(()=>null),o=[];for(let i=1;i<=n.numPages;i+=1){const s=await(await n.getPage(i)).getTextContent();if(s.items.length===0)continue;let c;const l=[];for(const f of s.items)"str"in f&&(c===f.transform[5]||!c?l.push(f.str):l.push(`
${f.str}`),c=f.transform[5]);const u=l.join(this.parsedItemSeparator);o.push(new ms({pageContent:u,metadata:{pdf:{version:r,info:a==null?void 0:a.info,metadata:a==null?void 0:a.metadata,totalPages:n.numPages},loc:{pageNumber:i}}}))}return this.splitPages?o:o.length===0?[]:[new ms({pageContent:o.map(i=>i.pageContent).join(`

`),metadata:{pdf:{version:r,info:a==null?void 0:a.info,metadata:a==null?void 0:a.metadata,totalPages:n.numPages}}})]}}async function V5(){try{const{default:e}=await tt(async()=>{const{default:n}=await import("./pdf-BhBJw3HU.js").then(async a=>(await a.__tla,a)).then(a=>a.p);return{default:n}},__vite__mapDeps([10,2,3])),{getDocument:t,version:r}=e;return{getDocument:t,version:r}}catch(e){throw console.error(e),new Error("Failed to load pdf-parse. Please install it with eg. `npm install pdf-parse`.")}}const H5=`Use the following pieces of context to answer the question at the end.
If you don't know the answer, just say that you don't know, don't try to make up an answer.
Use three sentences maximum and keep the answer as concise as possible.

{context}
`,q5=fs(e=>{const{source:t,documents:r}=e,n=tr(),{toast:a}=ct(),{t:o}=se("dialogs"),{loading:i,createPrompt:s}=$p(),c=async l=>{try{if(!l.content||!l.content.includes("{context}")){a({title:o("create_vector_database_prompt.errors.fill_context"),variant:"destructive"});return}const u=l.content.replace("{context}",r.map(f=>`<document>${f.pageContent}</document>`).join(`
`));return await s(t,{...l,content:u}),n.hide(),!0}catch{a({title:o("create_vector_database_prompt.errors.create_failed"),variant:"destructive"})}};return d.jsx(Ss,{open:n.visible,onOpenChange:n.hide,children:d.jsxs(Ns,{className:"sm:max-w-[425px]",children:[d.jsx(Es,{children:d.jsxs("div",{className:"flex",children:[d.jsx(te,{name:"file",className:"mr-2 h-4 w-4"}),d.jsx(Ps,{children:o("create_vector_database_prompt.title")})]})}),d.jsxs("div",{className:"flex gap-4 py-4 flex-col",children:[d.jsx(fc,{onSubmit:c,loading:i,hidePromptType:!0,defaultPromptRole:"system",defaultPromptContent:H5}),d.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm items-center",children:[d.jsx(te,{name:"info",className:"mr-2",size:14}),o("create_vector_database_prompt.fill_content_note")]})]})]})})}),W5=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async({prompt:i,source:s,metadata:c})=>{var l,u,f,p;try{const m=(l=s==null?void 0:s.data)==null?void 0:l.entity;if(!m||!e)throw new Error("Source or Session not found");r(!0);const y=((u=s.position)==null?void 0:u.x)||0,h=(((f=s.position)==null?void 0:f.y)||0)+(((p=s.measured)==null?void 0:p.height)||0),g=await ne("Prompt").save({...i,status:(i==null?void 0:i.status)||Ft.Started,role:(i==null?void 0:i.role)||lt.System,type:(i==null?void 0:i.type)||ut.Chat,content:(i==null?void 0:i.content)||"{context}",session_id:e});if(!g)throw new Error("Failed to save prompt");const b=await n({source_id:g.id,source_type:"Prompt",node_type:z.Prompt,x:y,y:h+20});if(!b)throw new Error("Failed to save prompt node");const w=await ne("FlowNodePlaceholder").save({placeholder:`Retriever for ${m.name}`,placeholder_type:bs.VECTOR_DATABASE_RETREIVER,session_id:e,metadata:c});if(!w)throw new Error("Failed to save node placeholder");const S=await n({source_id:w.id,source_type:"FlowNodePlaceholder",node_type:z.PlaceHolder,x:y,y:h+40});if(!S)throw new Error("Failed to save node placeholder node");await a({source:b.id,target:S.id}),await a({source:s.id,target:S.id})}finally{r(!1)}},[e,n,a]);return{loading:t,createVectorDatabaseRetriever:o}},X5=`Use the following pieces of context to answer the question at the end.
If you don't know the answer, just say that you don't know, don't try to make up an answer.
----------------
{context}
`,K5=fs(e=>{const{source:t}=e,r=tr(),{toast:n}=ct(),{t:a}=se("dialogs"),[o,i]=v.useState(1),[s,c]=v.useState(void 0),{loading:l,createVectorDatabaseRetriever:u}=W5(),f=async y=>{try{const h=y.content;if(!h||!h.includes("{context}")){n({title:a("create_vector_database_retriever.errors.fill_context"),variant:"destructive"});return}return await u({source:t,prompt:{content:h},metadata:{k:o,minimalScore:s}}),r.hide(),!0}catch{n({title:a("create_vector_database_retriever.errors.create_failed"),variant:"destructive"})}},p=y=>{i(y.target.value?Number(y.target.value):void 0)},m=y=>{c(y.target.value?Number(y.target.value):void 0)};return d.jsx(Ss,{open:r.visible,onOpenChange:r.hide,children:d.jsxs(Ns,{className:"sm:max-w-[425px]",children:[d.jsx(Es,{children:d.jsxs("div",{className:"flex",children:[d.jsx(te,{name:"file",className:"mr-2 h-4 w-4"}),d.jsx(Ps,{children:a("create_vector_database_retriever.title")})]})}),d.jsxs("div",{className:"flex gap-4 py-4 flex-col",children:[d.jsx(fc,{onSubmit:f,loading:l,hidePromptType:!0,defaultPromptRole:"system",defaultPromptContent:X5}),d.jsxs(De,{children:[d.jsx(Ge,{children:d.jsx(at,{children:a("create_vector_database_retriever.retriever_settings")})}),d.jsxs(Ye,{children:[d.jsx(be,{children:a("create_vector_database_retriever.retriever_k")}),d.jsx(Ot,{value:o||"",type:"number",onChange:p,placeholder:a("create_vector_database_retriever.retriever_k_placeholder")}),d.jsx(be,{children:a("create_vector_database_retriever.retriever_minimum_score")}),d.jsx(Ot,{value:s||"",type:"number",onChange:m,placeholder:a("create_vector_database_retriever.retriever_minimum_score_placeholder")})]})]}),d.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm items-center",children:[d.jsx(te,{name:"info",className:"mr-2",size:14}),a("create_vector_database_retriever.fill_content_note")]})]})]})})}),G5=e=>{const t=re(a=>a.createOrUpdateFlowEdge),r=hs(a=>a.index),n=v.useCallback(async({edgeId:a,target:o,source:i})=>{var s,c;try{const l=(s=o==null?void 0:o.data)==null?void 0:s.entity;if((i==null?void 0:i.type)===z.CSVData&&(o==null?void 0:o.type)===z.VectorDatabase){const u=(c=i==null?void 0:i.data)==null?void 0:c.entity;if(!u||!l)return{deleteEdgeId:a};const{rows:f}=ow(u.headers,u.csv),p=f.map(m=>new ms({pageContent:`${m.text}`}));await r({databaseId:l.id,dataSourceId:u.id,dataSourceType:"CSVData"},p),await t({source:i.id,target:o.id});return}return{deleteEdgeId:a}}catch{return{deleteEdgeId:a}}},[t,r]);nt(e,n)};var Y5=As,J5=Yr,Z5=n0,Q5=Math.ceil,eB=Math.max;function tB(e,t,r){(r?J5(e,t,r):t===void 0)?t=1:t=eB(Z5(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,o=0,i=Array(Q5(n/t));a<n;)i[o++]=Y5(e,a,a+=t);return i}var rB=tB;const nB=Ne(rB),aB=e=>{var m,y;const[t,r]=v.useState(!1),{t:n}=se("flows"),{toast:a}=ct(),o=Xe(e),{getNode:i,getHandleConnections:s}=rr(),c=re(h=>h.updateNodes),l=hs(h=>h.index),u=hs(h=>h.similaritySearchWithScore),f=v.useCallback(async(h,g)=>{var b,w,S;try{const x=(b=o==null?void 0:o.data)==null?void 0:b.entity;if(!x){a({variant:"destructive",title:n("vector_database_node.errors.vector_database_not_found")});return}const j=(S=(w=s({nodeId:e,type:"target"}).map(_=>i(_.source)).find(_=>(_==null?void 0:_.type)&&[z.JSONLData,z.CSVData].includes(_==null?void 0:_.type)))==null?void 0:w.data)==null?void 0:S.entity;if(!j&&x.storage==="DataNode"){a({variant:"destructive",title:n("vector_database_node.errors.data_node_not_found")});return}return r(!0),await u({databaseId:x.id,dataSourceId:j.id,dataSourceType:md(j)},h,g==null?void 0:g.k)}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[(m=o==null?void 0:o.data)==null?void 0:m.entity,s,e,u,a,n,i]),p=v.useCallback(async(h,g)=>{var b,w,S;try{const x=h.content?[new ms({pageContent:h.content,id:h.id,metadata:{id:h.id}})]:h.documents;if(!(x!=null&&x.length)){a({variant:"destructive",title:n("vector_database_node.errors.content_not_found")});return}const j=(b=o==null?void 0:o.data)==null?void 0:b.entity;if(!j){a({variant:"destructive",title:n("vector_database_node.errors.vector_database_not_found")});return}const _=s({nodeId:e,type:"target"}).map(N=>i(N.source)).find(N=>(N==null?void 0:N.type)&&[z.JSONLData,z.CSVData].includes(N==null?void 0:N.type)),O=(w=_==null?void 0:_.data)==null?void 0:w.entity;if(!O&&j.storage==="DataNode"){a({variant:"destructive",title:n("vector_database_node.errors.data_node_not_found")});return}r(!0);const P=md(O),M=nB(x,10);let C=0;for(const N of M){if((S=g==null?void 0:g.onProgressReport)==null||S.call(g,{handling:N.length,handled:C,total:x.length}),await l({databaseId:j.id,dataSourceId:O.id,dataSourceType:P},N),P&&_){const T=await ne(P).findOne({where:{id:O.id}});c([{type:"replace",id:_.id,item:{..._,data:{..._.data,entity:T}}}])}C+=N.length}}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[(y=o==null?void 0:o.data)==null?void 0:y.entity,s,e,l,a,n,i,c]);return{loading:t,indexData:p,similaritySearchWithScore:f}},oB=[1,2,3,4,5,6,7,8,9,10],iB=v.memo(e=>{const{t}=se("flows"),[r,n]=v.useState(""),[a,o]=v.useState([]),[i,s]=v.useState("1"),{loading:c,onSimilaritySearch:l,onCreatePrompt:u,onCreateRetriever:f}=e,p=async()=>{o(await l(r,+i)),n("")},m=async y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),p())};return d.jsxs("div",{className:"mt-4 max-w-full",children:[d.jsx("div",{className:"bg-black/5 dark:bg-white/5 rounded-xl relative",children:d.jsxs("div",{className:"relative px-2 py-1 pb-2",children:[d.jsxs(zt,{value:`${i}`,onValueChange:y=>s(y),children:[d.jsx(At,{className:"absolute left-0 !w-14 top-[2px] rounded-xl bg-transparent border-none focus:outline-none focus:ring-0 focus:border-opacity-0 focus:ring-transparent",children:d.jsx($t,{placeholder:t("vector_database_node.k_select_placeholder")})}),d.jsx(Tt,{children:oB.map(y=>d.jsx(it,{value:`${y}`,children:y},`${y}`))})]}),d.jsx(Xr,{value:r,disabled:c,placeholder:t("vector_database_node.similarity_search_placeholder"),className:X("w-full rounded-xl px-2 pl-11 border-none resize-none bg-transparent","min-h-8 max-h-8"),onKeyDown:m,onChange:y=>{n(y.target.value)}}),d.jsx("button",{type:"button",disabled:c,onClick:p,className:"absolute right-3 top-5 -translate-y-1/2 rounded-xl bg-black/5 dark:bg-white/5 p-1",children:d.jsx(te,{name:c?"loader-circle":"arrow-right",className:X("w-4 h-4 dark:text-white",r?"opacity-100":"opacity-30",c?"animate-spin":"")})})]})}),d.jsx(eh,{type:"single",collapsible:!0,children:a==null?void 0:a.map(([y,h],g)=>d.jsxs(gc,{value:`${g}`,children:[d.jsxs(bc,{children:[`[${h.toFixed(2)}] ${y.pageContent}`.substring(0,32),"..."]}),d.jsx(xc,{children:y.pageContent})]},`${g}`))}),d.jsxs("div",{className:"w-full mt-4 flex flex-col gap-1",children:[d.jsx(Te,{disabled:c,onClick:f,className:"w-full",children:t("vector_database_node.to_retriever")}),a!=null&&a.length&&u?d.jsx(Te,{disabled:c,onClick:()=>u(a),className:"w-full",children:t("vector_database_node.create_prompt")}):void 0]})]})}),sB=v.memo(({loading:e,onCreateData:t})=>{const{t:r}=se("flows"),[n,a]=v.useState(""),[o,i]=v.useState(""),s=async()=>{o&&(await t({id:n,content:o}),a(""),i(""))};return d.jsxs("div",{className:"min-w-80",children:[d.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[d.jsx(be,{htmlFor:"name",children:r("vector_database_node.add_text.id")}),d.jsx(Ot,{value:n,disabled:e,onChange:c=>a(c.target.value||""),placeholder:r("vector_database_node.add_text.id_placeholder"),className:"mb-4"}),d.jsxs(be,{htmlFor:"name",children:[r("vector_database_node.add_text.content")," ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsx(Xr,{value:o,disabled:e,onChange:c=>i(c.target.value||""),placeholder:r("vector_database_node.add_text.content_placeholder")})]}),d.jsx("div",{className:"flex justify-between mt-6",children:d.jsx(ht,{loading:e,disabled:!(o!=null&&o.length),onClick:s,className:"w-full",children:r("vector_database_node.add_text.add")})})]})});function cB({accept:e,maxSize:t}){const{t:r}=se("atoms"),[n,a]=v.useState(""),[o,i]=v.useState(""),s=v.useRef(null),[c,l]=v.useState(0),u=p=>{var y;const m=(y=p.target.files)==null?void 0:y[0];f(m)},f=p=>{if(i(""),p){if(t&&p.size>t*1024*1024){i(r("file_upload_input.errors.max_size",{maxSize:t,fileSize:(p.size/1024/1024).toFixed(2)}));return}const m=e==null?void 0:e.split(",").map(y=>y.replace(".","").trim());if(e&&!p.type.match(e.replace("/*",""))&&!(m!=null&&m.some(y=>p.type.includes(y)))){i(r("file_upload_input.errors.accept",{accept:e}));return}return l(p.size),a(p.name),p}};return{fileName:n,error:o,fileInputRef:s,handleFileSelect:u,validateAndSetFile:f,clearFile:()=>{a(""),i(""),l(0),s.current&&(s.current.value="")},fileSize:c}}function lB({file:e,setFile:t,loading:r,progress:n,fileOptions:a}){const{toast:o}=ct(),{t:i}=se("atoms"),[s,c]=v.useState(!1),{fileName:l,fileInputRef:u,clearFile:f,error:p,validateAndSetFile:m,fileSize:y}=cB({accept:(a==null?void 0:a.accept)||"image/*",maxSize:(a==null?void 0:a.maxSize)||3});v.useEffect(()=>{e||f()},[f,e]),v.useEffect(()=>{p&&o({title:p,variant:"destructive"})},[p,o]);function h(x){const j=m(x);j&&t(j)}function g(x){x.preventDefault(),c(!1);const j=x.dataTransfer.files[0];j&&h(j)}function b(x){var _;const j=(_=x.target.files)==null?void 0:_[0];j&&h(j)}function w(){f(),t(void 0)}const S=v.useMemo(()=>{if(!e)return d.jsx("div",{className:"w-16 h-16 rounded-lg bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center",children:d.jsx(te,{name:"file-text",className:"w-8 h-8 text-zinc-400"})});const x=e.type.startsWith("image/");return d.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden",children:x?d.jsx("img",{src:URL.createObjectURL(e),alt:"Preview",className:"w-full h-full object-cover"}):d.jsx(te,{className:"w-14 h-14",name:"file-text"})})},[e]);return d.jsx(d.Fragment,{children:d.jsxs("div",{className:X("relative group cursor-pointer","rounded-lg border-2 border-dashed","transition-colors duration-200",s?"border-indigo-500 bg-indigo-50/50 dark:bg-indigo-500/10":"border-zinc-200 dark:border-zinc-800"),onDragOver:x=>{x.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onDrop:g,onClick:()=>{var x;return(x=u.current)==null?void 0:x.click()},onKeyDown:x=>{var j;(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),(j=u.current)==null||j.click())},"aria-label":"Upload file",children:[d.jsx("input",{ref:u,type:"file",disabled:r||!!(n&&n<1),accept:(a==null?void 0:a.accept)||"image/*",onChange:b,className:"hidden"}),d.jsx("div",{className:"p-8 space-y-4",children:l?d.jsxs("div",{className:"flex items-center gap-4",children:[S,d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:"text-sm font-medium truncate",children:[l||"No file selected"," ",d.jsx("span",{className:"text-xs text-zinc-500 leading-5",children:y?`(${(y/1024/1024).toFixed(2)} MB)`:""})]}),n&&n<1?d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsxs("p",{children:[(n*100).toFixed(2)," %"]}),d.jsx("div",{className:"h-1 flex-1 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden items-center flex",children:d.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-200",style:{width:`${n*100}%`}})})]}):void 0]}),d.jsx("button",{type:"button",disabled:r||!!(n&&n<1),onClick:x=>{x.stopPropagation(),w()},className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded",children:d.jsx(te,{name:"x",className:"w-5 h-5 text-zinc-400"})}),n&&n<1?d.jsx(go,{className:"rounded-lg"}):void 0]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(te,{name:"upload",className:"w-8 h-8 text-zinc-400 dark:text-zinc-500"}),d.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:i("file_upload_input.drop_file")})]})})]})})}function uB({onFileSubmit:e,fileOptions:t,progress:r,loading:n}){const{t:a}=se("flows"),[o,i]=v.useState(),s=async()=>{o&&(await e(o),i(void 0))};return d.jsxs("div",{className:"w-full max-w-md space-y-2 mt-4",children:[d.jsx("div",{className:"mb-6",children:d.jsx(lB,{progress:r,loading:n,fileOptions:t,setFile:i,file:o})}),d.jsx(ht,{loading:n,disabled:!o,onClick:s,className:"w-full mt-4",children:a("vector_database_node.add_file.index")})]})}const dB=v.memo(e=>{var j;const{t}=se("flows"),[r,n]=v.useState(0),[a,o]=v.useState("search"),i=Xe(e.id),{id:s,data:c,isConnectable:l}=e,{loading:u,similaritySearchWithScore:f,indexData:p}=aB(s),m=tr(q5),y=tr(K5);G5(s);const h=v.useCallback(async(..._)=>{i&&await p(..._)},[p,i]),g=v.useCallback(async(_,O)=>{const P=_.trim(),M=await f(P,{k:O});if(M!=null&&M.length)return M},[f]),b=v.useCallback(_=>{m.show({source:i,documents:_.map(([O])=>O)})},[m,i]),w=v.useCallback(async()=>{y.show({source:i})},[y,i]),S=v.useCallback(async _=>{if(_.type.includes("text")||_.type.includes("txt")){const O=new FileReader;O.onload=async P=>{var C;const M=(C=P.target)==null?void 0:C.result;await h({content:M})},O.readAsText(_)}else if(_.type.endsWith("pdf")){const O=new Blob([_],{type:"application/pdf"}),P=await new U5(O,{pdfjs:async()=>{const M=await tt(()=>import("./pdf.min-BE6IsQ0T.js").then(async C=>(await C.__tla,C)),__vite__mapDeps([11,2,3,1,4]));return await tt(()=>import("./pdf.worker.min-C59CwJvh.js").then(async C=>(await C.__tla,C)),__vite__mapDeps([12,1,2,3,4])),M.GlobalWorkerOptions.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString(),M},parsedItemSeparator:" "}).load();await h({documents:P},{onProgressReport:M=>{n((M.handled+M.handling)/M.total)}})}},[h]),x=v.useMemo(()=>{switch(a){case"search":return d.jsx(zn,{value:"search",children:d.jsx(iB,{loading:u,onSimilaritySearch:g,onCreatePrompt:b,onCreateRetriever:w})});case"new":return d.jsx(zn,{className:"min-w-80",value:"new",children:d.jsx(sB,{loading:u,onCreateData:h})});case"file":return d.jsx(zn,{value:"file",children:d.jsx(uB,{loading:u,progress:r,onFileSubmit:S,fileOptions:{accept:".pdf,.txt,.text",maxSize:1}})})}},[h,b,w,S,g,u,a,r]);return d.jsxs("div",{className:"min-w-72 max-w-md",children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:l}),d.jsxs("div",{className:"max-w-full",children:[d.jsx(Ve,{id:s}),d.jsxs(br,{className:"flex justify-center",variant:"default",children:[d.jsx(te,{size:24,name:"database-zap"}),d.jsxs("div",{className:"ml-2 max-w-full",children:[d.jsx(xr,{children:`${((j=c.entity)==null?void 0:j.name)||""}`}),d.jsxs(wx,{value:a,onValueChange:o,defaultValue:"search",className:"w-full mt-4",children:[d.jsxs(ad,{className:"grid w-full grid-cols-3",children:[d.jsx(Fn,{value:"search",children:t("vector_database_node.search")}),d.jsx(Fn,{value:"new",children:t("vector_database_node.text")}),d.jsx(Fn,{value:"file",children:t("vector_database_node.file")})]}),x]})]})]})]}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:l})]})}),fB={embedding:32},pB=v.memo(e=>{var o,i,s;const{id:t,data:r,isConnectable:n}=e,a=v.useMemo(()=>{var u;if(!((u=r==null?void 0:r.entity)!=null&&u.jsonl))return{headers:[],rows:[]};const c=yd(r.entity.headers||""),l=sw(r.entity.jsonl);return{headers:c,rows:l.map(f=>{try{return JSON.parse(f)}catch{return[]}})}},[(o=r==null?void 0:r.entity)==null?void 0:o.jsonl,r.entity.headers]);return d.jsxs("div",{className:"min-w-80",children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),d.jsxs("div",{children:[d.jsx(Ve,{id:t}),d.jsxs(De,{className:"min-w-32 min-h-16 p-4",children:[d.jsx(Ge,{className:"!p-0",children:d.jsxs("div",{className:"pt-2 flex !flex-row",children:[d.jsx(te,{name:"file-json",className:"mr-2"}),d.jsxs(be,{className:"!font-medium leading-none tracking-tight pr-8",children:[z.JSONLData," ",(i=a==null?void 0:a.rows)!=null&&i.length?`(${((s=a==null?void 0:a.rows)==null?void 0:s.length)||0})`:""]})]})}),d.jsx(Ye,{className:"pb-0",children:d.jsx(Nx,{data:a.rows,headers:a.headers,limitLengthByColumns:fB})})]})]}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),Ex=60,Px=140,hB=lw("supports-backdrop-blur:bg-white/10 supports-backdrop-blur:dark:bg-black/10 mx-auto flex h-[58px] w-max gap-2 rounded-lg border p-2 backdrop-blur-md"),Cx=E.forwardRef(({className:e,children:t,magnification:r=Ex,distance:n=Px,direction:a="bottom",...o},i)=>{const s=zs(1/0),c=()=>E.Children.map(t,l=>E.isValidElement(l)&&l.type===Ja?E.cloneElement(l,{...l.props,mouseX:s,magnification:r,distance:n}):l);return d.jsx(cw.div,{ref:i,onMouseMove:l=>s.set(l.pageX),onMouseLeave:()=>s.set(1/0),...o,className:X(hB({className:e}),{"items-start":a==="top","items-center":a==="middle","items-end":a==="bottom"}),children:c()})});Cx.displayName="Dock";const Ja=({magnification:e=Ex,distance:t=Px,mouseX:r,className:n,children:a,...o})=>{const i=v.useRef(null),s=Gd(r||new xF,u=>{var p;const f=((p=i.current)==null?void 0:p.getBoundingClientRect())??{x:0,width:0};return u-f.x-f.width/2}),c=Gd(s,[-t,0,t],[40,e,40]),l=Lw(c,{mass:.1,stiffness:150,damping:12});return d.jsx(cw.div,{ref:i,style:{width:l},className:X("flex aspect-square cursor-pointer items-center justify-center rounded-full",n),...o,children:a})};Ja.displayName="DockIcon";const mB={[z.Shape]:{width:100,height:100},[z.CircleShape]:{width:100,height:100},[z.TriangleShape]:{width:100,height:100},[z.EditorApp]:{width:1240,height:400}},yB=e=>{const t=Xe(e),r=st(s=>s.currentSession),[n,a]=v.useState(!1),o=re(s=>s.createOrUpdateFlowNode),i=v.useCallback(async s=>{var c,l,u;try{if(a(!0),t&&(r==null?void 0:r.id)){const f=((c=t.position)==null?void 0:c.x)||0,p=(((l=t.position)==null?void 0:l.y)||0)+(((u=t.measured)==null?void 0:u.height)||0),m=await ne("FlowNodeData").save({data:{},session_id:r.id});if(!m)throw new Error("Failed to save node data");if(!await o({node_type:s,data:{},source_id:m.id,source_type:"FlowNodeData",x:f,y:p+20,...mB[s]||{}}))throw new Error("Failed to save node")}}finally{a(!1)}},[o,r==null?void 0:r.id,t]);return{loading:n,createNode:i}},id={applications:[{key:z.EditorApp,icon:"notebook-text",label:"application_bar.note"},{key:z.VSLiteApp,icon:"square-terminal",label:"application_bar.vslite"}],shapes:[{key:z.Shape,icon:"square",label:"application_bar.square"},{key:z.CircleShape,icon:"circle",label:"application_bar.circle"},{key:z.TriangleShape,icon:"triangle",label:"application_bar.triangle"}],old:[{key:z.CodeContainerApp,icon:"file-code-2",label:"application_bar.code_editor"}]},vB=v.memo(e=>{const{t}=se("flows"),{toast:r}=ct(),{loading:n,createNode:a}=yB(e.id),o=async i=>{try{if(n)return;await a(i)}catch{r({description:t("application_bar.errors.add_node_failed"),variant:"destructive"})}};return d.jsx(zz,{children:d.jsxs(Cx,{direction:"middle",children:[id.applications.map(i=>d.jsx(Ja,{children:d.jsxs(Sd,{children:[d.jsx(Nd,{children:d.jsx(te,{onClick:()=>o(i.key),name:i.icon})}),d.jsx(Ed,{children:d.jsx("p",{children:t(i.label)})})]})},i.label)),d.jsx(Nw,{orientation:"vertical",className:"h-full"}),id.shapes.map(i=>d.jsx(Ja,{children:d.jsxs(Sd,{children:[d.jsx(Nd,{children:d.jsx(te,{onClick:()=>o(i.key),name:i.icon})}),d.jsx(Ed,{children:d.jsx("p",{children:t(i.label)})})]})},i.label)),d.jsx(Nw,{orientation:"vertical",className:"h-full"}),id.old.map(i=>d.jsx(Ja,{children:d.jsxs(Sd,{children:[d.jsx(Nd,{children:d.jsx(te,{onClick:()=>o(i.key),name:i.icon})}),d.jsx(Ed,{children:d.jsx("p",{children:t(i.label)})})]})},i.label))]})})}),ss=v.memo(e=>{const{lineClassName:t,handleClassName:r,...n}=e;return d.jsx(JF,{lineClassName:X("!border-1.5",t),handleClassName:X("!w-2 !h-2 !border-2 !rounded-full",r),...n})}),gB=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([z.CircleShape,z.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===z.Shape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},bB=v.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return gB(t),d.jsxs(d.Fragment,{children:[d.jsx(ss,{isVisible:!!r,minWidth:40,minHeight:40}),d.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),d.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border border",children:d.jsx(Ve,{id:t})}),d.jsx(pe,{type:"source",position:he.Bottom,isConnectable:n})]})}),xB=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([z.Shape,z.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===z.CircleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},wB=v.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return xB(t),d.jsxs(d.Fragment,{children:[d.jsx(ss,{isVisible:!!r,minWidth:40,minHeight:40}),d.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),d.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border rounded-full border",children:d.jsx(Ve,{id:t})}),d.jsx(pe,{type:"source",position:he.Bottom,isConnectable:n})]})}),jB=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([z.CircleShape,z.Shape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===z.TriangleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},_B=v.memo(e=>{const{id:t,selected:r,width:n,height:a,isConnectable:o}=e;return jB(t),d.jsxs(d.Fragment,{children:[d.jsx(ss,{isVisible:!!r,minWidth:40,minHeight:40}),d.jsx(pe,{type:"target",position:he.Top,isConnectable:o}),d.jsx("div",{className:"w-0 h-0 border-l-transparent border-r-transparent border-b-border",style:{borderLeftWidth:(n||0)/2,borderRightWidth:(n||0)/2,borderBottomWidth:a||0}}),d.jsx(Ve,{id:t,className:"absolute top-0 right-0"}),d.jsx(pe,{type:"source",position:he.Bottom,isConnectable:o})]})}),OB=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===z.LLM&&(o==null?void 0:o.type)===z.EditorApp){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},SB=e=>{const t=Xe(e),{t:r}=se("flows"),n=v.useRef(null),{toast:a}=ct(),{getNode:o,getHandleConnections:i}=rr(),s=gr(l=>l.stream),c=v.useCallback(async l=>{t&&(clearTimeout(n.current),n.current=setTimeout(async()=>{await ne("FlowNode").update(t.id,{data:l})},150))},[t]);return{createMessage:v.useCallback(async(l,u)=>{if(t){const f=i({nodeId:e,type:"target"}).find(m=>{var y;return((y=o(m.source))==null?void 0:y.type)===z.LLM}),p=f?o(f==null?void 0:f.source):void 0;if(p){if(p.data.status!==jt.Loaded)return a({variant:"destructive",description:r("editor_node.errors.llm_not_loaded_yet")})}else return a({variant:"destructive",description:r("editor_node.errors.llm_not_found")});try{const m=s(l);if(!m)throw new Error("Stream is not supported");const y=[];for await(const h of m)h&&Array.isArray(h)&&(y.push(...h.map(g=>g.content)),h!=null&&h.length&&(u==null||u(h.map(g=>g.content).join(""))));return y.join("")}catch(m){if(m instanceof Error&&m.message.includes("LLM_NOT_LOADED_YET"))return a({title:r("editor_node.errors.llm_not_loaded_yet")});a({variant:"destructive",title:r("editor_node.errors.stream_message_failed")})}}},[t,i,e,o,a,r,s]),updateEditorContent:c}},NB=v.lazy(()=>tt(()=>import("./PlateEditor-ChjMaqt3.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([13,2,3,1,4,8,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105]))),EB=v.memo(e=>{var c;const{id:t,data:r,selected:n,isConnectable:a}=e;OB(t);const{createMessage:o,updateEditorContent:i}=SB(t),s=v.useCallback(l=>{i(l)},[i]);return d.jsxs("div",{className:"w-full min-w-[1240px] h-full",children:[d.jsx(ss,{isVisible:!!n,minWidth:1240,minHeight:400}),d.jsx(pe,{type:"target",position:he.Top,isConnectable:a}),d.jsxs("div",{className:"min-w-10 min-h-10 w-full h-full rounded-lg border bg-background",children:[d.jsx(Ve,{className:"!z-[100]",id:t}),d.jsx(v.Suspense,{fallback:d.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:d.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:d.jsx("div",{className:"h-full w-ful rounded-lg","data-registry":"plate",children:d.jsx(NB,{defaultValue:(c=r==null?void 0:r.flowNode)==null?void 0:c.data,onValueChange:s,copilotStream:o})})})]}),d.jsx(pe,{type:"source",position:he.Bottom,isConnectable:a})]})}),PB=e=>{const t=v.useCallback(async({edgeId:r})=>{try{return{deleteEdgeId:r}}catch{return{deleteEdgeId:r}}},[]);nt(e,t)},CB=v.memo(e=>{var i,s;const{id:t,data:r,isConnectable:n}=e,{t:a}=se("flows");PB(t);let o="";switch((i=r.entity)==null?void 0:i.placeholder_type){case"VECTOR_DATABASE_RETREIVER":o=a("placeholder_node.vector_database_retriever");break}return d.jsxs("div",{children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),d.jsxs(br,{className:"flex justify-center max-w-80",variant:"default",children:[d.jsx(Ve,{id:t}),d.jsx(te,{name:"land-plot",className:"w-7 h-7"}),d.jsxs("div",{className:"ml-2 pr-4",children:[d.jsx(xr,{children:`${((s=r.entity)==null?void 0:s.placeholder)||""}`}),d.jsx(to,{children:o?d.jsx(Kr,{children:o}):void 0})]})]}),d.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),kB=v.lazy(()=>tt(()=>import("./CodeContainerApp-oMMwgTH8.js").then(async e=>(await e.__tla,e)).then(e=>e.C),__vite__mapDeps([106,2,3,1,4,104,107,7,108,15,109,110]))),MB=v.memo(e=>{const{id:t,isConnectable:r}=e;return d.jsxs("div",{className:"w-[1380px] h-[600px]",children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:r}),d.jsxs("div",{className:"w-full h-full rounded-lg border bg-card overflow-hidden",children:[d.jsx(Ve,{id:t}),d.jsx(v.Suspense,{fallback:d.jsx("div",{className:"h-full w-full flex justify-center items-center",children:d.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:d.jsx(kB,{...e})})]}),d.jsx(pe,{type:"source",position:he.Bottom,isConnectable:r})]})});Pd=function(e,t=""){const r=[];for(const[n,a]of Object.entries(e)){const o=wF(),i=[t,n].filter(Boolean).join("/"),s="file"in a&&"contents"in a.file?a.file:void 0,c={id:o,isSelectable:!0,content:typeof(s==null?void 0:s.contents)=="string"?s.contents:void 0,file:i,name:n,children:[]};"directory"in a&&(c.children=Pd(a.directory,i)),r.push(c)}return r},Cd=function(e){const t=e.trim().split(`
`),r={};return t.forEach(n=>{const{file:a,content:o}=JSON.parse(n),i=a.split("/");let s=r;for(let c=0;c<i.length;c++){const l=i[c];c===i.length-1?s[l]={file:{contents:o}}:(s[l]||(s[l]={directory:{}}),s=s[l].directory)}}),r},qd=function(e){const t=[];function r(n,a=[]){for(const[o,i]of Object.entries(n))if("file"in i){const s=[...a,o].join("/");if("contents"in i.file){const c=i.file.contents;t.push(JSON.stringify({file:s,content:c}))}}else"directory"in i&&r(i.directory,[...a,o])}return r(e),t.join(`
`)},kd=function(e,t,r){const n=t.replace(/^\.\//,"").split("/");let a=e;for(let o=0;o<n.length;o++){const i=n[o];if(o===n.length-1)i in a&&"file"in a[i]?a[i].file.contents=r:ds(`Path "${t}" is not a file.`);else if(i in a&&"directory"in a[i])a=a[i].directory;else return ds(`Path "${t}" does not exist.`),e}return e};let kx,Mx,Ax,Tx,Dx,Ix;kx=["vite-vue","shadcn-react-vite"],Mx=async e=>{switch(e){case"vite-vue":return tt(()=>import("./vite-vue-QLmMXcee.js"),[]).then(t=>t.VITE_VUE_BASE);case"shadcn-react-vite":return tt(()=>import("./shadcn-react-vite-eg07VqhU.js"),[]).then(t=>t.SHADCN_REACT_VITE_BASE);default:throw new Error(`Unknown source base: ${e}`)}},Md=v.memo(({className:e,onUpdateSourceBase:t})=>{const{t:r}=se("components"),[n,a]=v.useState();return d.jsxs(De,{className:X("mw-full",e),children:[d.jsx(Ge,{className:"p-4",children:d.jsx(at,{children:r("add_source_base.title")})}),d.jsx(Ye,{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-center w-full h-full flex-col",children:[d.jsxs(zt,{onValueChange:o=>a(o),children:[d.jsx(At,{className:"w-full mb-4",children:d.jsx($t,{placeholder:r("add_source_base.source_base_select_placeholder")})}),d.jsx(Tt,{children:kx.map(o=>d.jsx(it,{value:`${o}`,children:r(`add_source_base.sourcebases.${o.toLowerCase()}`)},`${o}`))})]}),d.jsx(Te,{className:"w-full",onClick:async()=>n&&t(await Mx(n)),children:r("add_source_base.update_source")})]})})]})}),Ax=e=>(Xe(e),{updateCodeContainerData:v.useCallback(async(t,r)=>{await ne("FlowNode").update(t,{raw:qd(r)})},[])}),Tx=v.lazy(()=>tt(()=>import("./index-CarVWsTE.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([111,2,3,104,4,107,1,112]))),Dx=v.memo(e=>{var l,u,f;const{id:t,isConnectable:r,data:n}=e,[a,o]=v.useState((l=n==null?void 0:n.flowNode)!=null&&l.raw?Cd(n.flowNode.raw):void 0),{updateCodeContainerData:i}=Ax(t),s=v.useCallback(async p=>{var m,y;(m=n==null?void 0:n.flowNode)!=null&&m.id&&(await i((y=n==null?void 0:n.flowNode)==null?void 0:y.id,p),o(p))},[(u=n==null?void 0:n.flowNode)==null?void 0:u.id,i]),c=v.useCallback(async(p,m)=>{o(y=>{var g;if(!y)return y;const h=kd(y,p,m);return i((g=n==null?void 0:n.flowNode)==null?void 0:g.id,h),h})},[(f=n==null?void 0:n.flowNode)==null?void 0:f.id,i]);return a?d.jsxs("div",{className:"w-[1380px] h-[600px]",children:[d.jsx(pe,{type:"target",position:he.Top,isConnectable:r}),d.jsxs("div",{className:"w-full h-full rounded-lg border bg-card overflow-hidden",children:[d.jsx(Ve,{id:t,className:"z-50"}),d.jsx(v.Suspense,{fallback:d.jsx("div",{className:"h-full w-full flex justify-center items-center",children:d.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:d.jsx(Tx,{fileSystemTree:a,onUpdateFileContent:c})})]}),d.jsx(pe,{type:"source",position:he.Bottom,isConnectable:r})]}):d.jsx("div",{className:"h-full flex justify-center items-center",children:d.jsx(Md,{className:"w-64",onUpdateSourceBase:s})})}),Ix={[z.LLM]:bh,[z.Toolbox]:fh,[z.Thread]:h_,[z.Message]:x_,[z.Prompt]:j_,[z.SessionInfo]:P5,[z.Schema]:I5,[z.CSVData]:R5,[z.ToolDefinition]:B5,[z.DefaultEmbeddingModel]:z5,[z.VectorDatabase]:dB,[z.JSONLData]:pB,[z.ApplicationBar]:vB,[z.Shape]:bB,[z.CircleShape]:wB,[z.TriangleShape]:_B,[z.EditorApp]:EB,[z.PlaceHolder]:CB,[z.CodeContainerApp]:MB,[z.VSLiteApp]:Dx};function AB(e,t=[]){let r=[];function n(o,i){const s=v.createContext(i),c=r.length;r=[...r,i];function l(f){const{scope:p,children:m,...y}=f,h=(p==null?void 0:p[e][c])||s,g=v.useMemo(()=>y,Object.values(y));return d.jsx(h.Provider,{value:g,children:m})}function u(f,p){const m=(p==null?void 0:p[e][c])||s,y=v.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,u]}const a=()=>{const o=r.map(i=>v.createContext(i));return function(i){const s=(i==null?void 0:i[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...i,[e]:s}}),[i,s])}};return a.scopeName=e,[n,TB(a,...t)]}function TB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const o=n.reduce((i,{useScope:s,scopeName:c})=>{const l=s(a)[`__scope${c}`];return{...i,...l}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var DB="Toggle",sd=v.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:a,...o}=e,[i=!1,s]=Mt({prop:r,onChange:a,defaultProp:n});return d.jsx(fe.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:ue(e.onClick,()=>{e.disabled||s(!i)})})});sd.displayName=DB;let cd,Vr,ld,ud,cs;cd=sd,Vr="ToggleGroup",[ld,Mw]=AB(Vr,[Wn]),ud=Wn(),cs=E.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return d.jsx(IB,{...a,ref:t})}if(r==="multiple"){const a=n;return d.jsx(RB,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Vr}\``)}),cs.displayName=Vr;var[Rx,Lx]=ld(Vr),IB=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i,s]=Mt({prop:r,defaultProp:n,onChange:a});return d.jsx(Rx,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:s,onItemDeactivate:E.useCallback(()=>s(""),[s]),children:d.jsx(Bx,{...o,ref:t})})}),RB=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i=[],s]=Mt({prop:r,defaultProp:n,onChange:a}),c=E.useCallback(u=>s((f=[])=>[...f,u]),[s]),l=E.useCallback(u=>s((f=[])=>f.filter(p=>p!==u)),[s]);return d.jsx(Rx,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:l,children:d.jsx(Bx,{...o,ref:t})})});cs.displayName=Vr;var[LB,BB]=ld(Vr),Bx=E.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:o,dir:i,loop:s=!0,...c}=e,l=ud(r),u=no(i),f={role:"group",dir:u,...c};return d.jsx(LB,{scope:r,rovingFocus:a,disabled:n,children:a?d.jsx(jd,{asChild:!0,...l,orientation:o,dir:u,loop:s,children:d.jsx(fe.div,{...f,ref:t})}):d.jsx(fe.div,{...f,ref:t})})}),ls="ToggleGroupItem",Fx=E.forwardRef((e,t)=>{const r=Lx(ls,e.__scopeToggleGroup),n=BB(ls,e.__scopeToggleGroup),a=ud(e.__scopeToggleGroup),o=r.value.includes(e.value),i=n.disabled||e.disabled,s={...e,pressed:o,disabled:i},c=E.useRef(null);return n.rovingFocus?d.jsx(_d,{asChild:!0,...a,focusable:!i,active:o,ref:c,children:d.jsx(dd,{...s,ref:t})}):d.jsx(dd,{...s,ref:t})});Fx.displayName=ls;let dd;dd=E.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,o=Lx(ls,r),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=o.type==="single"?i:void 0;return d.jsx(sd,{...s,...a,ref:t,onPressedChange:c=>{c?o.onItemActivate(n):o.onItemDeactivate(n)}})}),Ms=cs,ks=Fx;const zx=lw("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),FB=v.forwardRef(({className:e,variant:t,size:r,...n},a)=>d.jsx(cd,{ref:a,className:X(zx({variant:t,size:r,className:e})),...n}));FB.displayName=cd.displayName;const $x=v.createContext({size:"default",variant:"default"}),Ux=v.forwardRef(({className:e,variant:t,size:r,children:n,...a},o)=>d.jsx(Ms,{ref:o,className:X("flex items-center justify-center gap-1",e),...a,children:d.jsx($x.Provider,{value:{variant:t,size:r},children:n})}));Ux.displayName=Ms.displayName;const Vx=v.forwardRef(({className:e,children:t,variant:r,size:n,...a},o)=>{const i=v.useContext($x);return d.jsx(ks,{ref:o,className:X(zx({variant:i.variant||r,size:i.size||n}),e),...a,children:t})});Vx.displayName=ks.displayName;function zB(){const e=ZF(t=>`x: ${t.transform[0].toFixed(2)}, y: ${t.transform[1].toFixed(2)}, zoom: ${t.transform[2].toFixed(2)}`);return d.jsx("div",{children:e})}function $B({change:e}){var n,a,o,i;const t="id"in e?e.id:"-",{type:r}=e;return d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{children:["node id: ",t]}),d.jsxs("div",{children:[r==="add"?JSON.stringify(e.item,null,2):null,r==="dimensions"?`dimensions: ${(n=e.dimensions)==null?void 0:n.width} \xD7 ${(a=e.dimensions)==null?void 0:a.height}`:null,r==="position"?`position: ${(o=e.position)==null?void 0:o.x.toFixed(1)}, ${(i=e.position)==null?void 0:i.y.toFixed(1)}`:null,r==="remove"?"remove":null,r==="select"?e.selected?"select":"unselect":null]})]})}function UB({limit:e=20}){const[t,r]=v.useState([]),n=QF(),a=v.useCallback(i=>{r(s=>[...i,...s].slice(0,e))},[e]);v.useEffect(()=>(n.setState({onNodesChange:a}),()=>n.setState({onNodesChange:void 0})),[a,n]);const o=()=>d.jsx("div",{children:"No Changes Triggered"});return d.jsx(d.Fragment,{children:t.length===0?d.jsx(o,{}):t.map((i,s)=>d.jsx($B,{change:i},s))})}function VB(){const{getInternalNode:e}=rr(),t=ez();return d.jsx(tz,{children:d.jsx("div",{className:"text-secondary-foreground",children:t.map(r=>{var o,i;const n=e(r.id);if(!n)return null;const a=n==null?void 0:n.internals.positionAbsolute;return d.jsx(HB,{id:r.id,selected:!!r.selected,type:r.type||"default",position:r.position,absPosition:a,width:((o=r.measured)==null?void 0:o.width)??0,height:((i=r.measured)==null?void 0:i.height)??0,data:r.data},r.id)})})})}function HB({id:e,type:t,selected:r,position:n,absPosition:a,width:o,height:i,data:s}){if(!o||!i)return null;const c=`translate(${a.x}px, ${a.y+i}px)`,l=`${n.x.toFixed(1)}, ${n.y.toFixed(1)}`,u=`${o} \xD7 ${i}`,f=r?"Selected":"Not Selected";return d.jsxs("div",{style:{position:"absolute",transform:c,width:o*2},className:"text-xs",children:[d.jsxs("div",{children:["id: ",e]}),d.jsxs("div",{children:["type: ",t]}),d.jsxs("div",{children:["selected: ",f]}),d.jsxs("div",{children:["position: ",l]}),d.jsxs("div",{children:["dimensions: ",u]}),d.jsxs("div",{children:["data: ",JSON.stringify(s,null,2)]})]})}function qB({tools:e}){return d.jsx(wd,{position:"top-left",className:"bg-card p-1 border rounded shadow-sm",children:d.jsx(Ux,{type:"multiple",children:e.map(({active:t,setActive:r,label:n,value:a})=>d.jsx(Vx,{value:a,onClick:()=>r(o=>!o),"aria-pressed":t,className:"bg-card text-card-foreground transition-colors duration-300 hover:bg-secondary hover:text-secondary-foreground",children:n},a))})})}function Hx(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[a,o]=v.useState(!1),i=[{active:e,setActive:t,label:"Node Inspector",value:"node-inspector"},{active:r,setActive:n,label:"Change Logger",value:"change-logger"},{active:a,setActive:o,label:"Viewport Logger",value:"viewport-logger"}];return d.jsxs(d.Fragment,{children:[d.jsx(qB,{tools:i}),r&&d.jsx(wd,{className:"text-xs p-5 bg-white rounded shadow-md overflow-y-auto max-h-[50%] mt-20",position:"bottom-right",children:d.jsx(UB,{})}),e&&d.jsx(VB,{}),a&&d.jsx(wd,{position:"bottom-left",className:"text-secondary-foreground",children:d.jsx(zB,{})})]})}Hx.displayName="DevTools";const WB=()=>{const e=v.useRef({}),t=v.useRef({}),r=re(C=>C.flowEdges),n=st(C=>C.currentSession),a=re(C=>C.setNodes),o=re(C=>C.updateNodes),i=re(C=>C.updateEdges),s=re(C=>C.addConnectionToEdges),c=re(C=>C.reset),l=re(C=>C.findFlowEdges),u=re(C=>C.deleteFlowNode),f=re(C=>C.deleteFlowEdge),p=re(C=>C.updateFlowNode),m=re(C=>C.getNodes),y=re(C=>C.findFlowNodesWithSource),h=v.useRef(r),g=v.useRef(),[b,w]=v.useState({loading:!1});h.current=r;const S=v.useCallback(async(C,N)=>{try{g.current=C,c(),await(N==null?void 0:N())}catch{g.current=void 0}},[c]),x=v.useCallback(async C=>{try{if(!(n!=null&&n.id))return;w(A=>({...A,loading:!0}));const N=await y({...C,where:{...C.where,session_id:n.id}}),T=await l({where:[{source:eo(N.map(A=>A.id))},{target:eo(N.map(A=>A.id))}]});return{flowNodes:N,flowEdges:T}}finally{w(N=>({...N,loading:!1}))}},[y,l,n==null?void 0:n.id]),j=v.useCallback(async C=>{var N,T;for(const A of C)if("id"in A&&Object.values(rz).includes(A.id)&&A.type!=="remove")o([A]);else if(A.type==="position"&&A.position&&!isNaN(A.position.x)&&!isNaN(A.position.y)){o([A]);const D=A.position.x,k=A.position.y;clearTimeout(e.current[A.id]),e.current[A.id]=setTimeout(async()=>{e.current[A.id]=void 0,await p({id:A.id,x:D,y:k},{silent:!0})},200)}else if(A.type==="remove"){const D=(N=m([A.id]))==null?void 0:N[0];if(!(D!=null&&D.type)||nz.includes(D.type))return;await u({id:A.id})}else if(A.type==="dimensions"&&A.dimensions&&!isNaN(A.dimensions.width)&&!isNaN(A.dimensions.height)){const D=(T=m([A.id]))==null?void 0:T[0];if(!(D!=null&&D.width)&&!(D!=null&&D.height))return;o([A]),clearTimeout(t.current[A.id]);const k=A.dimensions.width,R=A.dimensions.height;t.current[A.id]=setTimeout(async()=>{await p({id:A.id,width:k,height:R},{silent:!0})},200)}else A.type==="select"&&o([A])},[o,p,m,u]),_=v.useCallback(C=>{Promise.all(C.map(async N=>{if(N.type==="remove")return f({id:N.id})})),i(C)},[f,i]),O=v.useCallback(C=>{s(C)},[s]),P=v.useCallback(()=>{var C;(C=h.current)==null||C.length},[]),M=v.useCallback(C=>{a(N=>{var k,R;let T;if(typeof C=="function"?T=C(N):T=C,!T)return N;const A=N==null?void 0:N.find(F=>F.id===T.id),D={id:T.id,item:A?az(A,T):{...T,position:{x:((k=T.position)==null?void 0:k.x)||0,y:((R=T.position)==null?void 0:R.y)||0}},type:A?"replace":"add"};return oz([D],N)})},[a]);return{syncEdges:P,initialFlow:S,loadingState:b,prepareFlowInfo:x,updateNodeChanges:j,updateEdgeChanges:_,updateOrCreateNode:M,currentSessionIdRef:g,updateEdgeConnection:O}},XB=e=>{const t=st(u=>{var f;return(f=u.currentSession)==null?void 0:f.id}),{loadingState:r,prepareFlowInfo:n,syncEdges:a,initialFlow:o,currentSessionIdRef:i}=e,s=re(u=>u.ready),c=re(u=>u.removeSyncNodeQueue),l=re(u=>u.removeSyncEdgeQueue);v.useLayoutEffect(()=>{},[t]),v.useEffect(()=>{r.loading||!s||!t||i.current===t||o(t,async()=>{await n({where:{session_id:t}})})},[o,n,r.loading,i,s,t]),v.useEffect(()=>{const u=re.subscribe(p=>p.syncNodeQueue,async(p,m)=>{var g;const y=m.map(b=>b.timestamp),h=p.filter(b=>!y.includes(b.timestamp));if(h.length){c(h.map(b=>b.timestamp));for(const b of h){const w=await n(b.query);switch(b.syncType){case"Thread":{const S=(g=w==null?void 0:w.flowNodes)==null?void 0:g.map(x=>{if(x.source_id&&x.source_type==="Thread")return x.source_id}).filter(Boolean);if(S!=null&&S.length){const x=await ne("Message").find({where:{thread_id:eo(S)}});await n({where:{source_type:"Message",source_id:eo(x.map(j=>j.id))}})}}break}}}}),f=re.subscribe(p=>p.syncEdgeQueue,async(p,m)=>{const y=m.map(g=>g.timestamp),h=p.filter(g=>!y.includes(g.timestamp));h.length&&(l(h.map(g=>g.timestamp)),a())});return()=>{u(),f()}},[n,l,c,a])},KB=()=>{const[e,t]=v.useState(!0),r=WB(),n=gr(u=>u.selectedModel),a=v.useRef(n),o=gr(u=>u.setInitProgressCallback),{updateOrCreateNode:i,updateNodeChanges:s,updateEdgeChanges:c,updateEdgeConnection:l}=r;return XB(r),a.current=n,v.useEffect(()=>{const u=o==null?void 0:o(f=>{if(!a.current)return;const p=`${a.current}`;i(m=>{const y=m==null?void 0:m.find(h=>{var g;return(g=h.data)!=null&&g.entity&&typeof h.data.entity=="object"&&"name"in h.data.entity?h.data.entity.name===p:!1});if(y)return y.data.label=f.text,y.data.status=jt.Loading,f.progress===100&&(y.data.label="",y.data.status=jt.Loaded),y})});return()=>{u==null||u()}},[o,i]),v.useMemo(()=>({updateNodeChanges:s,updateEdgeChanges:c,initializing:e,setInitializing:t,updateEdgeConnection:l}),[s,c,e,t,l])},GB=()=>{const e=aw(l=>l.theme),t=re(l=>l.nodes),r=re(l=>l.edges),{updateNodeChanges:n,updateEdgeChanges:a,updateEdgeConnection:o}=KB(),i=v.useCallback(l=>{n(l)},[n]),s=v.useCallback(l=>{a(l)},[a]),c=v.useCallback(l=>{o(l)},[o]);return d.jsxs(iz,{nodes:t,edges:r,nodeTypes:Ix,onNodesChange:i,onEdgesChange:s,onConnect:c,panOnScroll:!0,panOnScrollMode:sz.Free,colorMode:e,fitView:!0,children:[d.jsx(cz,{variant:lz.Dots,gap:24,size:1}),d.jsx(uz,{}),d.jsx(dz,{}),jF?d.jsx(Hx,{}):void 0]})},YB=v.memo(GB);function JB(){return d.jsx(YB,{})}Pw=Object.freeze(Object.defineProperty({__proto__:null,default:JB},Symbol.toStringTag,{value:"Module"}))});export{Ew as A,Pd as B,Cs as C,Cd as D,kd as E,Md as F,Ad as G,Td as H,ks as I,Gr as J,jr as K,ht as L,Pw as M,Dd as P,Ms as R,Cw as T,As as _,Uz as __tla,Ts as a,Id as b,Rd as c,Ld as d,Bd as e,Yr as f,Fd as g,kw as h,zd as i,$d as j,Mw as k,Ud as l,Aw as m,Vd as n,Ds as o,Hd as p,Is as q,nt as r,qd as s,Rs as t,re as u,Ls as v,Wd as w,Xd as x,Bs as y,Fs as z};
