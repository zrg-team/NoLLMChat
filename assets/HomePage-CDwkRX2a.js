const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-0PuXI_Dv.js","assets/build-message-history-Dxr5bVnZ.js","assets/index-DQfoDVCK.js","assets/index-sZ3hiXm2.css","assets/routes-C5PhwoUX.js","assets/few_shot-BLP444lC.js","assets/index-DN5Sxtf9.js","assets/objectWithoutPropertiesLoose-BjXSgPXB.js","assets/index-yo8sdyKX.js","assets/index-Ux8lesU9.css","assets/pdf-i4NHOKU3.js","assets/pdf.min-CmnrTo1c.js","assets/pdf.worker.min-qB_pyut6.js","assets/PlateEditor-vaCXP46w.js","assets/chevron-down-CwJ-UXs5.js","assets/createLucideIcon-CNZWHefm.js","assets/chevron-right-BXBzsI8V.js","assets/check-DxWcaK9W.js","assets/ellipsis-DDIHONq7.js","assets/highlighter-Dl1ZaUjg.js","assets/keyboard-CSmrQ7bX.js","assets/superscript-TvQj8MS-.js","assets/subscript-DIgEiz31.js","assets/align-left-D1b4pJsj.js","assets/align-center-Cp8cRgfU.js","assets/align-right-BLqckMW7.js","assets/align-justify-DLYY8RQZ.js","assets/plus-BITUx7d6.js","assets/eraser-BG0jy0JU.js","assets/star-BcYXwWbg.js","assets/flag-B7CE6Q32.js","assets/apple-WReoaK8j.js","assets/clock-BXDuQzHm.js","assets/leaf-KtD6lgnd.js","assets/lightbulb-DUq6espW.js","assets/smile-CBVjePmx.js","assets/compass-Cj22Lb0G.js","assets/music-By_Deu7x.js","assets/x-CzzPsSRW.js","assets/search-BITQwAtG.js","assets/external-link-BOnvxolo.js","assets/redo-2-DrQDGYFP.js","assets/undo-2-RlggxE5N.js","assets/list-Bl6586oT.js","assets/list-ordered-B0W-wCS2.js","assets/list-todo-DvO3cU7R.js","assets/indent-increase-DWg1onev.js","assets/pilcrow-CCkegsrY.js","assets/heading-1-B1Db6lYP.js","assets/heading-2-BzA99Lac.js","assets/heading-3-Jf5xG6hY.js","assets/table-CKitA8SR.js","assets/file-code-BLRsPOQG.js","assets/quote-CoWI_tVW.js","assets/minus-up28nlQK.js","assets/square-CCf-4m05.js","assets/image-DS1yzinQ.js","assets/table-of-contents-LZT_6_Z4.js","assets/columns-3-B4-KXwDk.js","assets/link-2-BllMMuvx.js","assets/calendar-6Q7xXEyN.js","assets/wrap-text-BP6xV_mb.js","assets/link-DHZSm_jO.js","assets/pen-DO6MaPzl.js","assets/eye-GooIsp_Z.js","assets/indent-decrease-DHCPtkgD.js","assets/trash-CMgpJjqG.js","assets/rectangle-vertical-CD5V44UK.js","assets/rectangle-horizontal-bwsBZ9db.js","assets/list-collapse-BuWTdNIq.js","assets/pointer-C5TIfUAr.js","assets/wand-sparkles-C0DlCFpd.js","assets/bold-By4pvZGt.js","assets/italic-Bd8LUCnE.js","assets/underline-DZWPahz8.js","assets/strikethrough-LkC-toLQ.js","assets/code-xml-CFVSYlJm.js","assets/baseline-CMMuKEDf.js","assets/paint-bucket-Dj8h5qCa.js","assets/arrow-up-to-line-D2E8R2my.js","assets/circle-D4p_HzuH.js","assets/text-AJ-6J2d5.js","assets/unlink-BfrtwCo8.js","assets/arrow-left-CzcFxoNt.js","assets/arrow-right-_EPFHFLk.js","assets/download-yxkA3m2a.js","assets/chevrons-up-down-DpBg_JPI.js","assets/trash-2-Bxd3G9Tf.js","assets/chevron-left-Du0jtYrg.js","assets/sparkles-CTiK9lZu.js","assets/combine-BClS4Lqb.js","assets/ungroup-Ca0THOO0.js","assets/grip-vertical-NrXhsCFL.js","assets/index-BZBIgGUy.js","assets/pen-line-ypWxfCET.js","assets/badge-help-3UYEWgjz.js","assets/wand-fUAX0NmG.js","assets/list-end-BMPl6yQW.js","assets/list-plus-ConT0k1x.js","assets/list-minus-B5-uZRwm.js","assets/feather-D-POVWcd.js","assets/album-CyFCkwT8.js","assets/corner-up-left-BuOJqXI8.js","assets/loader-circle-Dsadnm-n.js","assets/use-prevent-pitch-zoom-ijQxs8qt.js","assets/PlateEditor-D7XtzYg9.css","assets/CodeContainerApp-CgrUHC6y.js","assets/index-hYj8ELf0.js","assets/folder-open-DnDKJz6-.js","assets/folder-f0qzYSdb.js","assets/file-JUdNAIPi.js","assets/index-hynPtjPr.js","assets/index-DVhmL1wB.css"])))=>i.map(i=>d[i]);
import{E as ow,r as v,M as iw,F as bF,G as sw,H as xF,I as cw,J as wF,K as bd,N as lw,O as jF,Q as _F,z as xd,c as Zn,b as Dt,j as f,P as pe,f as nt,d as de,g as X,L as te,T as OF,U as SF,V as EF,s as dt,y as ne,W as z,e as js,S as uw,D as dw,l as fw,u as Or,m as pw,X as PF,i as NF,p as le,x as yt,Y as Sr,_ as at,Z as CF,$ as N,a0 as Qn,a1 as kF,a2 as lo,a3 as MF,a4 as AF,a5 as hw,a6 as mw,t as yw,a7 as TF,a8 as DF,a9 as IF,aa as RF,ab as LF,ac as vw,ad as BF,ae as _s,af as wd,ag as FF,v as jd,w as tn,ah as Pe,ai as be,aj as zF,ak as gw,al as _d,am as Os,an as $F,q as bw,h as xw,ao as VF,ap as UF,aq as HF,__tla as qF}from"./index-DQfoDVCK.js";import{c as WF,i as Od,a as ww,b as jw,d as XF,e as KF,g as GF,L as Et,f as Sd,h as Ss,s as YF,u as Ye,R as _w,j as uo,k as Es,P as It,T as rn,l as sr,H as JF,m as me,I as fo,n as Ps,o as ZF,A as Er,p as Pr,q as po,r as QF,t as Ed,v as ez,F as Ns,w as tz,x as Ow,y as Sw,_ as Cs,z as ea,B as ks,C as Pt,D as ta,E as fe,G as rz,J as nz,K as Ew,M as az,N as oz,O as Nr,Q as iz,S as sz,U as cz,V as Pw,W as Ms,X as Pd,Y as Nw,Z as lz,$ as uz,a0 as ho,a1 as dz,a2 as fz,a3 as pz,a4 as As,a5 as hz,a6 as mz,a7 as yz,a8 as vz,a9 as gz,aa as bz,ab as xz,ac as Nd,ad as wz,ae as jz,af as _z,ag as Oz,ah as Sz,ai as Ez,aj as Pz,ak as Nz,al as Cz,am as kz,an as Mz,ao as Az,ap as Tz,aq as Dz,__tla as Iz}from"./build-message-history-Dxr5bVnZ.js";import{c as Rz,a as ra,u as mo,R as Cd,I as kd,A as Lz,C as Bz,G as Fz,L as zz,b as $z,d as Vz,e as Uz,f as Hz,g as qz,S as Wz,h as Xz,i as Kz,j as Gz,k as ot,l as Yz,P as Jz,m as Ts,n as Md,o as Cw,p as kw,q as Mw,F as Aw,r as Tw,s as Dw,t as Iw,v as Zz,w as Qz,O as e$,x as t$,B as ze,y as we,z as Rw,D as r$,T as n$,E as a$,H as o$,J as Rt,K as nn,M as Ad,N as Td,Q as Dd,U as Id,V as i$,W as s$,X as Rd,Y as Ld,Z as Bd,_ as Lw,__tla as c$}from"./routes-C5PhwoUX.js";let Bw,Fd,Ds,zd,$d,Vd,Ud,Hd,Is,an,Cr,vt,Fw,qd,Rs,zw,Ls,Bs,Wd,Xd,Kd,Gd,on,Yd,$w,Jd,Zd,Vw,Qd,Uw,ef,Fs,tf,zs,it,rf,$s,re,Vs,nf,af,Us,Hs,l$=Promise.all([(()=>{try{return qF}catch{}})(),(()=>{try{return Iz}catch{}})(),(()=>{try{return c$}catch{}})()]).then(async()=>{var Ht=(e=>(e.Started="started",e.Inprogress="inprogress",e.Success="success",e.Failed="failed",e))(Ht||{}),ft=(e=>(e.Human="human",e.User="user",e.AI="ai",e.System="system",e.Assistant="assistant",e.Tool="tool",e.FewShotExample="few_shot_example",e))(ft||{}),yo=(e=>(e.Started="started",e.Inprogress="inprogress",e.Done="done",e))(yo||{});function qs(e){const t=ow(()=>bF(e)),{isStatic:r}=v.useContext(iw);if(r){const[,n]=v.useState(e);v.useEffect(()=>t.on("change",n),[])}return t}function of(e,t){const r=qs(t()),n=()=>r.set(t());return n(),sw(()=>{const a=()=>cw.preRender(n,!1,!0),o=e.map(i=>i.on("change",a));return()=>{o.forEach(i=>i()),xF(n)}}),r}const Hw=e=>e&&typeof e=="object"&&e.mix,qw=e=>Hw(e)?e.mix:void 0;function Ww(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],o=e[2+r],i=e[3+r],s=wF(a,o,{mixer:qw(o[0]),...i});return t?s(n):s}function Xw(e){bd.current=[],e();const t=of(bd.current,e);return bd.current=void 0,t}function sf(e,t,r,n){if(typeof e=="function")return Xw(e);const a=typeof t=="function"?t:Ww(t,r,n);return Array.isArray(e)?cf(e,a):cf([e],([o])=>a(o))}function cf(e,t){const r=ow(()=>[]);return of(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function lf(e){return typeof e=="number"?e:parseFloat(e)}function Kw(e,t={}){const{isStatic:r}=v.useContext(iw),n=v.useRef(null),a=qs(lw(e)?lf(e.get()):e),o=v.useRef(a.get()),i=v.useRef(()=>{}),s=()=>{const l=n.current;l&&l.time===0&&l.sample(jF.delta),c(),n.current=_F({keyframes:[a.get(),o.current],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:i.current})},c=()=>{n.current&&n.current.stop()};return v.useInsertionEffect(()=>a.attach((l,u)=>r?u(l):(o.current=l,i.current=u,cw.update(s),a.get()),c),[JSON.stringify(t)]),sw(()=>{if(lw(e))return e.on("change",l=>a.set(lf(l)))},[a]),a}function Gw(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function Yw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jw(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=sn(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function Zw(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Qw(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=sn(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}function sn(e,t){var r=typeof t,n;return t==null||r==="boolean"?WF(t):(r==="number"?Od:r==="string"?(n=ww(t))?(t=n,jw):XF:t instanceof ww?jw:t instanceof Date?Zw:Yw(t)?Gw:Array.isArray(t)?Jw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qw:Od)(e,t)}function Ws(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function e1(e,t){t===void 0&&(t=e,e=sn);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}var vo="Menubar",[Xs,t1,r1]=xd(vo),[uf,u$]=Zn(vo,[r1,ra]),Je=Rz(),df=ra(),[n1,Ks]=uf(vo),ff=v.forwardRef((e,t)=>{const{__scopeMenubar:r,value:n,onValueChange:a,defaultValue:o,loop:i=!0,dir:s,...c}=e,l=mo(s),u=df(r),[d="",p]=Dt({prop:n,onChange:a,defaultProp:o}),[m,y]=v.useState(null);return f.jsx(n1,{scope:r,value:d,onMenuOpen:v.useCallback(h=>{p(h),y(h)},[p]),onMenuClose:v.useCallback(()=>p(""),[p]),onMenuToggle:v.useCallback(h=>{p(g=>g?"":h),y(h)},[p]),dir:l,loop:i,children:f.jsx(Xs.Provider,{scope:r,children:f.jsx(Xs.Slot,{scope:r,children:f.jsx(Cd,{asChild:!0,...u,orientation:"horizontal",loop:i,dir:l,currentTabStopId:m,onCurrentTabStopIdChange:y,children:f.jsx(pe.div,{role:"menubar",...c,ref:t})})})})})});ff.displayName=vo;var Gs="MenubarMenu",[a1,pf]=uf(Gs),hf=e=>{const{__scopeMenubar:t,value:r,...n}=e,a=ot(),o=r||a||"LEGACY_REACT_AUTO_VALUE",i=Ks(Gs,t),s=Je(t),c=v.useRef(null),l=v.useRef(!1),u=i.value===o;return v.useEffect(()=>{u||(l.current=!1)},[u]),f.jsx(a1,{scope:t,value:o,triggerId:ot(),triggerRef:c,contentId:ot(),wasKeyboardTriggerOpenRef:l,children:f.jsx(Yz,{...s,open:u,onOpenChange:d=>{d||i.onMenuClose()},modal:!1,dir:i.dir,...n})})};hf.displayName=Gs;var Ys="MenubarTrigger",mf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,disabled:n=!1,...a}=e,o=df(r),i=Je(r),s=Ks(Ys,r),c=pf(Ys,r),l=v.useRef(null),u=nt(t,l,c.triggerRef),[d,p]=v.useState(!1),m=s.value===c.value;return f.jsx(Xs.ItemSlot,{scope:r,value:c.value,disabled:n,children:f.jsx(kd,{asChild:!0,...o,focusable:!n,tabStopId:c.value,children:f.jsx(Lz,{asChild:!0,...i,children:f.jsx(pe.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":m,"aria-controls":m?c.contentId:void 0,"data-highlighted":d?"":void 0,"data-state":m?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:u,onPointerDown:de(e.onPointerDown,y=>{!n&&y.button===0&&y.ctrlKey===!1&&(s.onMenuOpen(c.value),m||y.preventDefault())}),onPointerEnter:de(e.onPointerEnter,()=>{var y;s.value&&!m&&(s.onMenuOpen(c.value),(y=l.current)==null||y.focus())}),onKeyDown:de(e.onKeyDown,y=>{n||(["Enter"," "].includes(y.key)&&s.onMenuToggle(c.value),y.key==="ArrowDown"&&s.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(y.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,y.preventDefault()))}),onFocus:de(e.onFocus,()=>p(!0)),onBlur:de(e.onBlur,()=>p(!1))})})})})});mf.displayName=Ys;var o1="MenubarPortal",yf=e=>{const{__scopeMenubar:t,...r}=e,n=Je(t);return f.jsx(Jz,{...n,...r})};yf.displayName=o1;var Js="MenubarContent",vf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,align:n="start",...a}=e,o=Je(r),i=Ks(Js,r),s=pf(Js,r),c=t1(r),l=v.useRef(!1);return f.jsx(Bz,{id:s.contentId,"aria-labelledby":s.triggerId,"data-radix-menubar-content":"",...o,...a,ref:t,align:n,onCloseAutoFocus:de(e.onCloseAutoFocus,u=>{var d;!i.value&&!l.current&&((d=s.triggerRef.current)==null||d.focus()),l.current=!1,u.preventDefault()}),onFocusOutside:de(e.onFocusOutside,u=>{const d=u.target;c().some(p=>{var m;return(m=p.ref.current)==null?void 0:m.contains(d)})&&u.preventDefault()}),onInteractOutside:de(e.onInteractOutside,()=>{l.current=!0}),onEntryFocus:u=>{s.wasKeyboardTriggerOpenRef.current||u.preventDefault()},onKeyDown:de(e.onKeyDown,u=>{if(["ArrowRight","ArrowLeft"].includes(u.key)){const d=u.target,p=d.hasAttribute("data-radix-menubar-subtrigger"),m=d.closest("[data-radix-menubar-content]")!==u.currentTarget,y=(i.dir==="rtl"?"ArrowRight":"ArrowLeft")===u.key;if(!y&&p||m&&y)return;let h=c().filter(w=>!w.disabled).map(w=>w.value);y&&h.reverse();const g=h.indexOf(s.value);h=i.loop?x1(h,g+1):h.slice(g+1);const[b]=h;b&&i.onMenuOpen(b)}},{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});vf.displayName=Js;var i1="MenubarGroup",s1=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(Fz,{...a,...n,ref:t})});s1.displayName=i1;var c1="MenubarLabel",gf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(zz,{...a,...n,ref:t})});gf.displayName=c1;var l1="MenubarItem",bf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx($z,{...a,...n,ref:t})});bf.displayName=l1;var u1="MenubarCheckboxItem",xf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(Vz,{...a,...n,ref:t})});xf.displayName=u1;var d1="MenubarRadioGroup",f1=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(Uz,{...a,...n,ref:t})});f1.displayName=d1;var p1="MenubarRadioItem",wf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(Hz,{...a,...n,ref:t})});wf.displayName=p1;var h1="MenubarItemIndicator",jf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(qz,{...a,...n,ref:t})});jf.displayName=h1;var m1="MenubarSeparator",_f=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(Wz,{...a,...n,ref:t})});_f.displayName=m1;var y1="MenubarArrow",v1=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(Xz,{...a,...n,ref:t})});v1.displayName=y1;var g1="MenubarSubTrigger",Of=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(Kz,{"data-radix-menubar-subtrigger":"",...a,...n,ref:t})});Of.displayName=g1;var b1="MenubarSubContent",Sf=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Je(r);return f.jsx(Gz,{...a,"data-radix-menubar-content":"",...n,ref:t,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});Sf.displayName=b1;function x1(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ef=ff,w1=hf,Pf=mf,j1=yf,Nf=vf,Cf=gf,kf=bf,Mf=xf,Af=wf,Tf=jf,Df=_f,If=Of,Rf=Sf;const Zs=w1,Lf=v.forwardRef(({className:e,...t},r)=>f.jsx(Ef,{ref:r,className:X("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",e),...t}));Lf.displayName=Ef.displayName;const Qs=v.forwardRef(({className:e,...t},r)=>f.jsx(Pf,{ref:r,className:X("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e),...t}));Qs.displayName=Pf.displayName;const _1=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>f.jsxs(If,{ref:a,className:X("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,f.jsx(te,{name:"chevron-right",className:"ml-auto h-4 w-4"})]}));_1.displayName=If.displayName;const O1=v.forwardRef(({className:e,...t},r)=>f.jsx(Rf,{ref:r,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));O1.displayName=Rf.displayName;const Bf=v.forwardRef(({className:e,align:t="start",alignOffset:r=-4,sideOffset:n=8,...a},o)=>f.jsx(j1,{children:f.jsx(Nf,{ref:o,align:t,alignOffset:r,sideOffset:n,className:X("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));Bf.displayName=Nf.displayName;const Ff=v.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(kf,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Ff.displayName=kf.displayName;const S1=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>f.jsxs(Mf,{ref:a,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Tf,{children:f.jsx(te,{name:"check",className:"h-4 w-4"})})}),t]}));S1.displayName=Mf.displayName;const E1=v.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(Af,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Tf,{children:f.jsx(te,{name:"circle",className:"h-2 w-2 fill-current"})})}),t]}));E1.displayName=Af.displayName;const P1=v.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(Cf,{ref:n,className:X("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));P1.displayName=Cf.displayName;const N1=v.forwardRef(({className:e,...t},r)=>f.jsx(Df,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));N1.displayName=Df.displayName;const Re=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Re.displayName="Card";const Ze=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:X("flex flex-col space-y-1.5 p-6",e),...t}));Ze.displayName="CardHeader";const st=v.forwardRef(({className:e,...t},r)=>f.jsx("h3",{ref:r,className:X("text-2xl font-semibold leading-none tracking-tight",e),...t}));st.displayName="CardTitle";const zf=v.forwardRef(({className:e,...t},r)=>f.jsx("p",{ref:r,className:X("text-sm text-muted-foreground",e),...t}));zf.displayName="CardDescription";const Qe=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:X("p-6 pt-0",e),...t}));Qe.displayName="CardContent";const cr=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:X("flex items-center p-6 pt-0",e),...t}));cr.displayName="CardFooter";let $f;re=OF()(SF(EF((e,t)=>({...KF,...GF(e,t)})))),$f=()=>{const e=dt(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.pushSyncNodeQueue),a=re(i=>i.createOrUpdateFlowNode),o=v.useCallback(async(i,s)=>{try{if(!e)throw new Error("Session not found");r(!0);const c=await ne("LLM").findOne({where:{name:s.name,session_id:e}});return c?(n("LLM",{where:{source_type:"LLM",source_id:c.id}}),c):ne("LLM").save({name:`${s.name}`,status:Et.Started,session_id:e,provider:Sd.WebLLM,metadata:JSON.stringify({}),model_type:s.model_type||Ss.LLM,...s}).then(async l=>{var u,d,p;return await a({source_id:l.id,source_type:"LLM",node_type:z.LLM,x:(u=i.position)==null?void 0:u.x,y:((d=i.position)==null?void 0:d.y)+(((p=i.measured)==null?void 0:p.height)||0)+30}),l})}finally{r(!1)}},[a,n,e]);return{loading:t,createDatabaseLLM:o}};var ec="Popover",[Vf,d$]=Zn(ec,[Ts]),na=Ts(),[C1,lr]=Vf(ec),Uf=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,s=na(t),c=v.useRef(null),[l,u]=v.useState(!1),[d=!1,p]=Dt({prop:n,defaultProp:a,onChange:o});return f.jsx(Iw,{...s,children:f.jsx(C1,{scope:t,contentId:ot(),triggerRef:c,open:d,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:l,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:i,children:r})})};Uf.displayName=ec;let tc;tc="PopoverAnchor",zs=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=lr(tc,r),o=na(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:s}=a;return v.useEffect(()=>(i(),()=>s()),[i,s]),f.jsx(Md,{...o,...n,ref:t})}),zs.displayName=tc;var Hf="PopoverTrigger",rc=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=lr(Hf,r),o=na(r),i=nt(t,a.triggerRef),s=f.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Gf(a.open),...n,ref:i,onClick:de(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:f.jsx(Md,{asChild:!0,...o,children:s})});rc.displayName=Hf;var nc="PopoverPortal",[k1,M1]=Vf(nc,{forceMount:void 0}),qf=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=lr(nc,t);return f.jsx(k1,{scope:t,forceMount:r,children:f.jsx(js,{present:r||o.open,children:f.jsx(fw,{asChild:!0,container:a,children:n})})})};qf.displayName=nc;var cn="PopoverContent",Wf=v.forwardRef((e,t)=>{const r=M1(cn,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=lr(cn,e.__scopePopover);return f.jsx(js,{present:n||o.open,children:o.modal?f.jsx(A1,{...a,ref:t}):f.jsx(T1,{...a,ref:t})})});Wf.displayName=cn;var A1=v.forwardRef((e,t)=>{const r=lr(cn,e.__scopePopover),n=v.useRef(null),a=nt(t,n),o=v.useRef(!1);return v.useEffect(()=>{const i=n.current;if(i)return Cw(i)},[]),f.jsx(kw,{as:uw,allowPinchZoom:!0,children:f.jsx(Xf,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),o.current||((s=r.triggerRef.current)==null||s.focus())}),onPointerDownOutside:de(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,l=s.button===2||c;o.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:de(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),T1=v.forwardRef((e,t)=>{const r=lr(cn,e.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return f.jsx(Xf,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,s;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||((s=r.triggerRef.current)==null||s.focus()),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var s,c;(s=e.onInteractOutside)==null||s.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;(c=r.triggerRef.current)!=null&&c.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Xf=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,...d}=e,p=lr(cn,r),m=na(r);return Mw(),f.jsx(Aw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:f.jsx(dw,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>p.onOpenChange(!1),children:f.jsx(Tw,{"data-state":Gf(p.open),role:"dialog",id:p.contentId,...m,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Kf="PopoverClose",D1=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=lr(Kf,r);return f.jsx(pe.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>a.onOpenChange(!1))})});D1.displayName=Kf;var I1="PopoverArrow",R1=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=na(r);return f.jsx(Dw,{...a,...n,ref:t})});R1.displayName=I1;function Gf(e){return e?"open":"closed"}ef=Uf,Bw=zs,zw=rc,qd=qf,Ds=Wf;const L1=ef,Yf=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>f.jsx(qd,{children:f.jsx(Ds,{ref:a,align:t,sideOffset:r,className:X("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Yf.displayName=Ds.displayName;var Jf=1,B1=.9,F1=.8,z1=.17,ac=.1,oc=.999,$1=.9999,V1=.99,U1=/[\\\/_+.#"@\[\(\{&]/,H1=/[\\\/_+.#"@\[\(\{&]/g,q1=/[\s-]/,Zf=/[\s-]/g;function ic(e,t,r,n,a,o,i){if(o===t.length)return a===e.length?Jf:V1;var s=`${a},${o}`;if(i[s]!==void 0)return i[s];for(var c=n.charAt(o),l=r.indexOf(c,a),u=0,d,p,m,y;l>=0;)d=ic(e,t,r,n,l+1,o+1,i),d>u&&(l===a?d*=Jf:U1.test(e.charAt(l-1))?(d*=F1,m=e.slice(a,l-1).match(H1),m&&a>0&&(d*=Math.pow(oc,m.length))):q1.test(e.charAt(l-1))?(d*=B1,y=e.slice(a,l-1).match(Zf),y&&a>0&&(d*=Math.pow(oc,y.length))):(d*=z1,a>0&&(d*=Math.pow(oc,l-a))),e.charAt(l)!==t.charAt(o)&&(d*=$1)),(d<ac&&r.charAt(l-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(l-1)!==n.charAt(o))&&(p=ic(e,t,r,n,l+1,o+2,i),p*ac>d&&(d=p*ac)),d>u&&(u=d),l=r.indexOf(c,l+1);return i[s]=u,u}function Qf(e){return e.toLowerCase().replace(Zf," ")}function W1(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ic(e,t,Qf(e),Qf(t),0,0,{})}var aa='[cmdk-group=""]',sc='[cmdk-group-items=""]',X1='[cmdk-group-heading=""]',cc='[cmdk-item=""]',ep=`${cc}:not([aria-disabled="true"])`,lc="cmdk-item-select",kr="data-value",K1=(e,t,r)=>W1(e,t,r),tp=v.createContext(void 0),oa=()=>v.useContext(tp),rp=v.createContext(void 0),uc=()=>v.useContext(rp),np=v.createContext(void 0),ap=v.forwardRef((e,t)=>{let r=ln(()=>{var T,Y;return{search:"",value:(Y=(T=e.value)!=null?T:e.defaultValue)!=null?Y:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=ln(()=>new Set),a=ln(()=>new Map),o=ln(()=>new Map),i=ln(()=>new Set),s=op(e),{label:c,children:l,value:u,onValueChange:d,filter:p,shouldFilter:m,loop:y,disablePointerSelection:h=!1,vimBindings:g=!0,...b}=e,w=ot(),S=ot(),x=ot(),j=v.useRef(null),_=oj();Mr(()=>{if(u!==void 0){let T=u.trim();r.current.value=T,O.emit()}},[u]),Mr(()=>{_(6,R)},[]);let O=v.useMemo(()=>({subscribe:T=>(i.current.add(T),()=>i.current.delete(T)),snapshot:()=>r.current,setState:(T,Y,H)=>{var J,ie,W;if(!Object.is(r.current[T],Y)){if(r.current[T]=Y,T==="search")M(),A(),_(1,P);else if(T==="value"&&(H||_(5,R),((J=s.current)==null?void 0:J.value)!==void 0)){let oe=Y??"";(W=(ie=s.current).onValueChange)==null||W.call(ie,oe);return}O.emit()}},emit:()=>{i.current.forEach(T=>T())}}),[]),E=v.useMemo(()=>({value:(T,Y,H)=>{var J;Y!==((J=o.current.get(T))==null?void 0:J.value)&&(o.current.set(T,{value:Y,keywords:H}),r.current.filtered.items.set(T,C(Y,H)),_(2,()=>{A(),O.emit()}))},item:(T,Y)=>(n.current.add(T),Y&&(a.current.has(Y)?a.current.get(Y).add(T):a.current.set(Y,new Set([T]))),_(3,()=>{M(),A(),r.current.value||P(),O.emit()}),()=>{o.current.delete(T),n.current.delete(T),r.current.filtered.items.delete(T);let H=D();_(4,()=>{M(),(H==null?void 0:H.getAttribute("id"))===T&&P(),O.emit()})}),group:T=>(a.current.has(T)||a.current.set(T,new Set),()=>{o.current.delete(T),a.current.delete(T)}),filter:()=>s.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:w,inputId:x,labelId:S,listInnerRef:j}),[]);function C(T,Y){var H,J;let ie=(J=(H=s.current)==null?void 0:H.filter)!=null?J:K1;return T?ie(T,r.current.search,Y):0}function A(){if(!r.current.search||s.current.shouldFilter===!1)return;let T=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(J=>{let ie=a.current.get(J),W=0;ie.forEach(oe=>{let $=T.get(oe);W=Math.max($,W)}),Y.push([J,W])});let H=j.current;k().sort((J,ie)=>{var W,oe;let $=J.getAttribute("id"),G=ie.getAttribute("id");return((W=T.get(G))!=null?W:0)-((oe=T.get($))!=null?oe:0)}).forEach(J=>{let ie=J.closest(sc);ie?ie.appendChild(J.parentElement===ie?J:J.closest(`${sc} > *`)):H.appendChild(J.parentElement===H?J:J.closest(`${sc} > *`))}),Y.sort((J,ie)=>ie[1]-J[1]).forEach(J=>{var ie;let W=(ie=j.current)==null?void 0:ie.querySelector(`${aa}[${kr}="${encodeURIComponent(J[0])}"]`);W==null||W.parentElement.appendChild(W)})}function P(){let T=k().find(H=>H.getAttribute("aria-disabled")!=="true"),Y=T==null?void 0:T.getAttribute(kr);O.setState("value",Y||void 0)}function M(){var T,Y,H,J;if(!r.current.search||s.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ie=0;for(let W of n.current){let oe=(Y=(T=o.current.get(W))==null?void 0:T.value)!=null?Y:"",$=(J=(H=o.current.get(W))==null?void 0:H.keywords)!=null?J:[],G=C(oe,$);r.current.filtered.items.set(W,G),G>0&&ie++}for(let[W,oe]of a.current)for(let $ of oe)if(r.current.filtered.items.get($)>0){r.current.filtered.groups.add(W);break}r.current.filtered.count=ie}function R(){var T,Y,H;let J=D();J&&(((T=J.parentElement)==null?void 0:T.firstChild)===J&&((H=(Y=J.closest(aa))==null?void 0:Y.querySelector(X1))==null||H.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function D(){var T;return(T=j.current)==null?void 0:T.querySelector(`${cc}[aria-selected="true"]`)}function k(){var T;return Array.from(((T=j.current)==null?void 0:T.querySelectorAll(ep))||[])}function I(T){let Y=k()[T];Y&&O.setState("value",Y.getAttribute(kr))}function F(T){var Y;let H=D(),J=k(),ie=J.findIndex(oe=>oe===H),W=J[ie+T];(Y=s.current)!=null&&Y.loop&&(W=ie+T<0?J[J.length-1]:ie+T===J.length?J[0]:J[ie+T]),W&&O.setState("value",W.getAttribute(kr))}function V(T){let Y=D(),H=Y==null?void 0:Y.closest(aa),J;for(;H&&!J;)H=T>0?nj(H,aa):aj(H,aa),J=H==null?void 0:H.querySelector(ep);J?O.setState("value",J.getAttribute(kr)):F(T)}let U=()=>I(k().length-1),Q=T=>{T.preventDefault(),T.metaKey?U():T.altKey?V(1):F(1)},q=T=>{T.preventDefault(),T.metaKey?I(0):T.altKey?V(-1):F(-1)};return v.createElement(pe.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:T=>{var Y;if((Y=b.onKeyDown)==null||Y.call(b,T),!T.defaultPrevented)switch(T.key){case"n":case"j":{g&&T.ctrlKey&&Q(T);break}case"ArrowDown":{Q(T);break}case"p":case"k":{g&&T.ctrlKey&&q(T);break}case"ArrowUp":{q(T);break}case"Home":{T.preventDefault(),I(0);break}case"End":{T.preventDefault(),U();break}case"Enter":if(!T.nativeEvent.isComposing&&T.keyCode!==229){T.preventDefault();let H=D();if(H){let J=new Event(lc);H.dispatchEvent(J)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:sj},c),go(e,T=>v.createElement(rp.Provider,{value:O},v.createElement(tp.Provider,{value:E},T))))}),G1=v.forwardRef((e,t)=>{var r,n;let a=ot(),o=v.useRef(null),i=v.useContext(np),s=oa(),c=op(e),l=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;Mr(()=>{if(!l)return s.item(a,i==null?void 0:i.id)},[l]);let u=ip(a,o,[e.value,e.children,o],e.keywords),d=uc(),p=Ar(_=>_.value&&_.value===u.current),m=Ar(_=>l||s.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);v.useEffect(()=>{let _=o.current;if(!(!_||e.disabled))return _.addEventListener(lc,y),()=>_.removeEventListener(lc,y)},[m,e.onSelect,e.disabled]);function y(){var _,O;h(),(O=(_=c.current).onSelect)==null||O.call(_,u.current)}function h(){d.setState("value",u.current,!0)}if(!m)return null;let{disabled:g,value:b,onSelect:w,forceMount:S,keywords:x,...j}=e;return v.createElement(pe.div,{ref:ia([o,t]),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!p,"data-disabled":!!g,"data-selected":!!p,onPointerMove:g||s.getDisablePointerSelection()?void 0:h,onClick:g?void 0:y},e.children)}),Y1=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...o}=e,i=ot(),s=v.useRef(null),c=v.useRef(null),l=ot(),u=oa(),d=Ar(m=>a||u.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);Mr(()=>u.group(i),[]),ip(i,s,[e.value,e.heading,c]);let p=v.useMemo(()=>({id:i,forceMount:a}),[a]);return v.createElement(pe.div,{ref:ia([s,t]),...o,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:l},r),go(e,m=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?l:void 0},v.createElement(np.Provider,{value:p},m))))}),J1=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=v.useRef(null),o=Ar(i=>!i.search);return!r&&!o?null:v.createElement(pe.div,{ref:ia([a,t]),...n,"cmdk-separator":"",role:"separator"})}),Z1=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,o=uc(),i=Ar(u=>u.search),s=Ar(u=>u.value),c=oa(),l=v.useMemo(()=>{var u;let d=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${cc}[${kr}="${encodeURIComponent(s)}"]`);return d==null?void 0:d.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),v.createElement(pe.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),Q1=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=v.useRef(null),i=v.useRef(null),s=oa();return v.useEffect(()=>{if(i.current&&o.current){let c=i.current,l=o.current,u,d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let p=c.offsetHeight;l.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return d.observe(c),()=>{cancelAnimationFrame(u),d.unobserve(c)}}},[]),v.createElement(pe.div,{ref:ia([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":n,id:s.listId},go(e,c=>v.createElement("div",{ref:ia([i,s.listInnerRef]),"cmdk-list-sizer":""},c)))}),ej=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:o,container:i,...s}=e;return v.createElement(Zz,{open:r,onOpenChange:n},v.createElement(Qz,{container:i},v.createElement(e$,{"cmdk-overlay":"",className:a}),v.createElement(t$,{"aria-label":e.label,"cmdk-dialog":"",className:o},v.createElement(ap,{ref:t,...s}))))}),tj=v.forwardRef((e,t)=>Ar(r=>r.filtered.count===0)?v.createElement(pe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),rj=v.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return v.createElement(pe.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},go(e,i=>v.createElement("div",{"aria-hidden":!0},i)))}),ct=Object.assign(ap,{List:Q1,Item:G1,Input:Z1,Group:Y1,Separator:J1,Dialog:ej,Empty:tj,Loading:rj});function nj(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function aj(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function op(e){let t=v.useRef(e);return Mr(()=>{t.current=e}),t}var Mr=typeof window>"u"?v.useEffect:v.useLayoutEffect;function ln(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function ia(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Ar(e){let t=uc(),r=()=>e(t.snapshot());return YF.useSyncExternalStore(t.subscribe,r,r)}function ip(e,t,r,n=[]){let a=v.useRef(),o=oa();return Mr(()=>{var i;let s=(()=>{var l;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(l=u.current.textContent)==null?void 0:l.trim():a.current}})(),c=n.map(l=>l.trim());o.value(e,s,c),(i=t.current)==null||i.setAttribute(kr,s),a.current=s}),a}var oj=()=>{let[e,t]=v.useState(),r=ln(()=>new Map);return Mr(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function ij(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function go({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(ij(t),{ref:t.ref},r(t.props.children)):r(t)}var sj={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const sp=v.forwardRef(({className:e,...t},r)=>f.jsx(ct,{ref:r,className:X("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));sp.displayName=ct.displayName;const cp=v.forwardRef(({className:e,...t},r)=>f.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[f.jsx(te,{name:"search",className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx(ct.Input,{ref:r,className:X("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));cp.displayName=ct.Input.displayName;const lp=v.forwardRef(({className:e,...t},r)=>f.jsx(ct.List,{ref:r,className:X("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));lp.displayName=ct.List.displayName;const up=v.forwardRef((e,t)=>f.jsx(ct.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));up.displayName=ct.Empty.displayName;const dp=v.forwardRef(({className:e,...t},r)=>f.jsx(ct.Group,{ref:r,className:X("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));dp.displayName=ct.Group.displayName;const cj=v.forwardRef(({className:e,...t},r)=>f.jsx(ct.Separator,{ref:r,className:X("-mx-1 h-px bg-border",e),...t}));cj.displayName=ct.Separator.displayName;const fp=v.forwardRef(({className:e,...t},r)=>f.jsx(ct.Item,{ref:r,className:X("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));fp.displayName=ct.Item.displayName,Vs=function(e,[t,r]){return Math.min(r,Math.max(t,e))};function pp(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lj=[" ","Enter","ArrowUp","ArrowDown"],uj=[" ","Enter"],sa="Select",[bo,xo,dj]=xd(sa),[un,f$]=Zn(sa,[dj,Ts]),wo=Ts(),[fj,ur]=un(sa),[pj,hj]=un(sa),hp=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:s,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:p,required:m,form:y}=e,h=wo(t),[g,b]=v.useState(null),[w,S]=v.useState(null),[x,j]=v.useState(!1),_=mo(l),[O=!1,E]=Dt({prop:n,defaultProp:a,onChange:o}),[C,A]=Dt({prop:i,defaultProp:s,onChange:c}),P=v.useRef(null),M=g?y||!!g.closest("form"):!0,[R,D]=v.useState(new Set),k=Array.from(R).map(I=>I.props.value).join(";");return f.jsx(Iw,{...h,children:f.jsxs(fj,{required:m,scope:t,trigger:g,onTriggerChange:b,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:x,onValueNodeHasChildrenChange:j,contentId:ot(),value:C,onValueChange:A,open:O,onOpenChange:E,dir:_,triggerPointerDownPosRef:P,disabled:p,children:[f.jsx(bo.Provider,{scope:t,children:f.jsx(pj,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(I=>{D(F=>new Set(F).add(I))},[]),onNativeOptionRemove:v.useCallback(I=>{D(F=>{const V=new Set(F);return V.delete(I),V})},[]),children:r})}),M?f.jsxs(Fp,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:C,onChange:I=>A(I.target.value),disabled:p,form:y,children:[C===void 0?f.jsx("option",{value:""}):null,Array.from(R)]},k):null]})})};hp.displayName=sa;var mp="SelectTrigger",yp=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=wo(r),i=ur(mp,r),s=i.disabled||n,c=nt(t,i.onTriggerChange),l=xo(r),u=v.useRef("touch"),[d,p,m]=zp(h=>{const g=l().filter(S=>!S.disabled),b=g.find(S=>S.value===i.value),w=$p(g,h,b);w!==void 0&&i.onValueChange(w.value)}),y=h=>{s||(i.onOpenChange(!0),m()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return f.jsx(Md,{asChild:!0,...o,children:f.jsx(pe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Bp(i.value)?"":void 0,...a,ref:c,onClick:de(a.onClick,h=>{h.currentTarget.focus(),u.current!=="mouse"&&y(h)}),onPointerDown:de(a.onPointerDown,h=>{u.current=h.pointerType;const g=h.target;g.hasPointerCapture(h.pointerId)&&g.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(y(h),h.preventDefault())}),onKeyDown:de(a.onKeyDown,h=>{const g=d.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(g&&h.key===" ")&&lj.includes(h.key)&&(y(),h.preventDefault())})})})});yp.displayName=mp;var vp="SelectValue",gp=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...s}=e,c=ur(vp,r),{onValueNodeHasChildrenChange:l}=c,u=o!==void 0,d=nt(t,c.onValueNodeChange);return Or(()=>{l(u)},[l,u]),f.jsx(pe.span,{...s,ref:d,style:{pointerEvents:"none"},children:Bp(c.value)?f.jsx(f.Fragment,{children:i}):o})});gp.displayName=vp;var mj="SelectIcon",bp=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return f.jsx(pe.span,{"aria-hidden":!0,...a,ref:t,children:n||"\u25BC"})});bp.displayName=mj;var yj="SelectPortal",xp=e=>f.jsx(fw,{asChild:!0,...e});xp.displayName=yj;var Tr="SelectContent",wp=v.forwardRef((e,t)=>{const r=ur(Tr,e.__scopeSelect),[n,a]=v.useState();if(Or(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?pw.createPortal(f.jsx(jp,{scope:e.__scopeSelect,children:f.jsx(bo.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),o):null}return f.jsx(_p,{...e,ref:t})});wp.displayName=Tr;var Nt=10,[jp,dr]=un(Tr),vj="SelectContentImpl",_p=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:h,avoidCollisions:g,...b}=e,w=ur(Tr,r),[S,x]=v.useState(null),[j,_]=v.useState(null),O=nt(t,W=>x(W)),[E,C]=v.useState(null),[A,P]=v.useState(null),M=xo(r),[R,D]=v.useState(!1),k=v.useRef(!1);v.useEffect(()=>{if(S)return Cw(S)},[S]),Mw();const I=v.useCallback(W=>{const[oe,...$]=M().map(B=>B.ref.current),[G]=$.slice(-1),ee=document.activeElement;for(const B of W)if(B===ee||(B==null||B.scrollIntoView({block:"nearest"}),B===oe&&j&&(j.scrollTop=0),B===G&&j&&(j.scrollTop=j.scrollHeight),B==null||B.focus(),document.activeElement!==ee))return},[M,j]),F=v.useCallback(()=>I([E,S]),[I,E,S]);v.useEffect(()=>{R&&F()},[R,F]);const{onOpenChange:V,triggerPointerDownPosRef:U}=w;v.useEffect(()=>{if(S){let W={x:0,y:0};const oe=G=>{var ee,B;W={x:Math.abs(Math.round(G.pageX)-(((ee=U.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(G.pageY)-(((B=U.current)==null?void 0:B.y)??0))}},$=G=>{W.x<=10&&W.y<=10?G.preventDefault():S.contains(G.target)||V(!1),document.removeEventListener("pointermove",oe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",$,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",$,{capture:!0})}}},[S,V,U]),v.useEffect(()=>{const W=()=>V(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[V]);const[Q,q]=zp(W=>{const oe=M().filter(ee=>!ee.disabled),$=oe.find(ee=>ee.ref.current===document.activeElement),G=$p(oe,W,$);G&&setTimeout(()=>G.ref.current.focus())}),T=v.useCallback((W,oe,$)=>{const G=!k.current&&!$;(w.value!==void 0&&w.value===oe||G)&&(C(W),G&&(k.current=!0))},[w.value]),Y=v.useCallback(()=>S==null?void 0:S.focus(),[S]),H=v.useCallback((W,oe,$)=>{const G=!k.current&&!$;(w.value!==void 0&&w.value===oe||G)&&P(W)},[w.value]),J=n==="popper"?dc:Op,ie=J===dc?{side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:h,avoidCollisions:g}:{};return f.jsx(jp,{scope:r,content:S,viewport:j,onViewportChange:_,itemRefCallback:T,selectedItem:E,onItemLeave:Y,itemTextRefCallback:H,focusSelectedItem:F,selectedItemText:A,position:n,isPositioned:R,searchRef:Q,children:f.jsx(kw,{as:uw,allowPinchZoom:!0,children:f.jsx(Aw,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:de(a,W=>{var oe;(oe=w.trigger)==null||oe.focus({preventScroll:!0}),W.preventDefault()}),children:f.jsx(dw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:f.jsx(J,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...b,...ie,onPlaced:()=>D(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:de(b.onKeyDown,W=>{const oe=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!oe&&W.key.length===1&&q(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let $=M().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(W.key)&&($=$.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const G=W.target,ee=$.indexOf(G);$=$.slice(ee+1)}setTimeout(()=>I($)),W.preventDefault()}})})})})})})});_p.displayName=vj;var gj="SelectItemAlignedPosition",Op=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=ur(Tr,r),i=dr(Tr,r),[s,c]=v.useState(null),[l,u]=v.useState(null),d=nt(t,O=>u(O)),p=xo(r),m=v.useRef(!1),y=v.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:b,focusSelectedItem:w}=i,S=v.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&l&&h&&g&&b){const O=o.trigger.getBoundingClientRect(),E=l.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(o.dir!=="rtl"){const G=A.left-E.left,ee=C.left-G,B=O.left-ee,Oe=O.width+B,ue=Math.max(Oe,E.width),ke=window.innerWidth-Nt,Me=Vs(ee,[Nt,Math.max(Nt,ke-ue)]);s.style.minWidth=Oe+"px",s.style.left=Me+"px"}else{const G=E.right-A.right,ee=window.innerWidth-C.right-G,B=window.innerWidth-O.right-ee,Oe=O.width+B,ue=Math.max(Oe,E.width),ke=window.innerWidth-Nt,Me=Vs(ee,[Nt,Math.max(Nt,ke-ue)]);s.style.minWidth=Oe+"px",s.style.right=Me+"px"}const P=p(),M=window.innerHeight-Nt*2,R=h.scrollHeight,D=window.getComputedStyle(l),k=parseInt(D.borderTopWidth,10),I=parseInt(D.paddingTop,10),F=parseInt(D.borderBottomWidth,10),V=parseInt(D.paddingBottom,10),U=k+I+R+V+F,Q=Math.min(g.offsetHeight*5,U),q=window.getComputedStyle(h),T=parseInt(q.paddingTop,10),Y=parseInt(q.paddingBottom,10),H=O.top+O.height/2-Nt,J=M-H,ie=g.offsetHeight/2,W=g.offsetTop+ie,oe=k+I+W,$=U-oe;if(oe<=H){const G=P.length>0&&g===P[P.length-1].ref.current;s.style.bottom="0px";const ee=l.clientHeight-h.offsetTop-h.offsetHeight,B=Math.max(J,ie+(G?Y:0)+ee+F),Oe=oe+B;s.style.height=Oe+"px"}else{const G=P.length>0&&g===P[0].ref.current;s.style.top="0px";const ee=Math.max(H,k+h.offsetTop+(G?T:0)+ie)+$;s.style.height=ee+"px",h.scrollTop=oe-H+h.offsetTop}s.style.margin=`${Nt}px 0`,s.style.minHeight=Q+"px",s.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,s,l,h,g,b,o.dir,n]);Or(()=>S(),[S]);const[x,j]=v.useState();Or(()=>{l&&j(window.getComputedStyle(l).zIndex)},[l]);const _=v.useCallback(O=>{O&&y.current===!0&&(S(),w==null||w(),y.current=!1)},[S,w]);return f.jsx(xj,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:f.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:f.jsx(pe.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Op.displayName=gj;var bj="SelectPopperPosition",dc=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Nt,...o}=e,i=wo(r);return f.jsx(Tw,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dc.displayName=bj;var[xj,fc]=un(Tr,{}),pc="SelectViewport",Sp=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=dr(pc,r),i=fc(pc,r),s=nt(t,o.onViewportChange),c=v.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(bo.Slot,{scope:r,children:f.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:de(a.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&d){const m=Math.abs(c.current-u.scrollTop);if(m>0){const y=window.innerHeight-Nt*2,h=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),b=Math.max(h,g);if(b<y){const w=b+m,S=Math.min(y,w),x=w-S;d.style.height=S+"px",d.style.bottom==="0px"&&(u.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Sp.displayName=pc;var Ep="SelectGroup",[wj,jj]=un(Ep),_j=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ot();return f.jsx(wj,{scope:r,id:a,children:f.jsx(pe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});_j.displayName=Ep;var Pp="SelectLabel",Np=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=jj(Pp,r);return f.jsx(pe.div,{id:a.id,...n,ref:t})});Np.displayName=Pp;var jo="SelectItem",[Oj,Cp]=un(jo),kp=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,s=ur(jo,r),c=dr(jo,r),l=s.value===n,[u,d]=v.useState(o??""),[p,m]=v.useState(!1),y=nt(t,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,n,a)}),h=ot(),g=v.useRef("touch"),b=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Oj,{scope:r,value:n,disabled:a,textId:h,isSelected:l,onItemTextChange:v.useCallback(w=>{d(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:f.jsx(bo.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:f.jsx(pe.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":l&&p,"data-state":l?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:y,onFocus:de(i.onFocus,()=>m(!0)),onBlur:de(i.onBlur,()=>m(!1)),onClick:de(i.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:de(i.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:de(i.onPointerDown,w=>{g.current=w.pointerType}),onPointerMove:de(i.onPointerMove,w=>{var S;g.current=w.pointerType,a?(S=c.onItemLeave)==null||S.call(c):g.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(i.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:de(i.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(uj.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});kp.displayName=jo;var ca="SelectItemText",Mp=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=ur(ca,r),s=dr(ca,r),c=Cp(ca,r),l=hj(ca,r),[u,d]=v.useState(null),p=nt(t,b=>d(b),c.onItemTextChange,b=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,b,c.value,c.disabled)}),m=u==null?void 0:u.textContent,y=v.useMemo(()=>f.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:h,onNativeOptionRemove:g}=l;return Or(()=>(h(y),()=>g(y)),[h,g,y]),f.jsxs(f.Fragment,{children:[f.jsx(pe.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?pw.createPortal(o.children,i.valueNode):null]})});Mp.displayName=ca;var Ap="SelectItemIndicator",Tp=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Cp(Ap,r).isSelected?f.jsx(pe.span,{"aria-hidden":!0,...n,ref:t}):null});Tp.displayName=Ap;var hc="SelectScrollUpButton",Dp=v.forwardRef((e,t)=>{const r=dr(hc,e.__scopeSelect),n=fc(hc,e.__scopeSelect),[a,o]=v.useState(!1),i=nt(t,n.onScrollButtonChange);return Or(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollTop>0;o(l)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?f.jsx(Rp,{...e,ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});Dp.displayName=hc;var mc="SelectScrollDownButton",Ip=v.forwardRef((e,t)=>{const r=dr(mc,e.__scopeSelect),n=fc(mc,e.__scopeSelect),[a,o]=v.useState(!1),i=nt(t,n.onScrollButtonChange);return Or(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;o(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?f.jsx(Rp,{...e,ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});Ip.displayName=mc;var Rp=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=dr("SelectScrollButton",r),i=v.useRef(null),s=xo(r),c=v.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Or(()=>{var l,u;(u=(l=s().find(d=>d.ref.current===document.activeElement))==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),f.jsx(pe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:de(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:de(a.onPointerMove,()=>{var l;(l=o.onItemLeave)==null||l.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:de(a.onPointerLeave,()=>{c()})})}),Sj="SelectSeparator",Lp=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(pe.div,{"aria-hidden":!0,...n,ref:t})});Lp.displayName=Sj;var yc="SelectArrow",Ej=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=wo(r),o=ur(yc,r),i=dr(yc,r);return o.open&&i.position==="popper"?f.jsx(Dw,{...a,...n,ref:t}):null});Ej.displayName=yc;function Bp(e){return e===""||e===void 0}var Fp=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=v.useRef(null),o=nt(t,a),i=pp(r);return v.useEffect(()=>{const s=a.current,c=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&l){const u=new Event("change",{bubbles:!0});l.call(s,r),s.dispatchEvent(u)}},[i,r]),f.jsx(PF,{asChild:!0,children:f.jsx("select",{...n,ref:o,defaultValue:r})})});Fp.displayName="BubbleSelect";function zp(e){const t=NF(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(i=>{const s=r.current+i;t(s),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(s)},[t]),o=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function $p(e,t,r){const n=t.length>1&&Array.from(t).every(s=>s===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=Pj(e,Math.max(a,0));n.length===1&&(o=o.filter(s=>s!==r));const i=o.find(s=>s.textValue.toLowerCase().startsWith(n.toLowerCase()));return i!==r?i:void 0}function Pj(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Nj=hp,Vp=yp,Cj=gp,kj=bp,Mj=xp,Up=wp,Aj=Sp,Hp=Np,qp=kp,Tj=Mp,Dj=Tp,Wp=Dp,Xp=Ip,Kp=Lp;const qt=Nj,Wt=Cj,Lt=v.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(Vp,{ref:n,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,f.jsx(kj,{asChild:!0,children:f.jsx(te,{name:"chevron-down",className:"h-4 w-4 opacity-50"})})]}));Lt.displayName=Vp.displayName;const Gp=v.forwardRef(({className:e,...t},r)=>f.jsx(Wp,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(te,{name:"chevron-up",className:"h-4 w-4"})}));Gp.displayName=Wp.displayName;const Yp=v.forwardRef(({className:e,...t},r)=>f.jsx(Xp,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(te,{name:"chevron-down",className:"h-4 w-4"})}));Yp.displayName=Xp.displayName;const Bt=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>f.jsx(Mj,{children:f.jsxs(Up,{ref:a,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(Gp,{}),f.jsx(Aj,{className:X("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(Yp,{})]})}));Bt.displayName=Up.displayName;const Ij=v.forwardRef(({className:e,...t},r)=>f.jsx(Hp,{ref:r,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ij.displayName=Hp.displayName;const lt=v.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(qp,{ref:n,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Dj,{children:f.jsx(te,{name:"check",className:"h-4 w-4"})})}),f.jsx(Tj,{children:t})]}));lt.displayName=qp.displayName;const Rj=v.forwardRef(({className:e,...t},r)=>f.jsx(Kp,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));Rj.displayName=Kp.displayName;let Jp;vt=v.memo(e=>{const{loading:t,...r}=e;return f.jsx(ze,{...r,disabled:e.disabled||t,children:t?f.jsx(te,{name:"loader-circle",className:"animate-spin"}):e.children})}),Jp=[Sd.WebLLM];function Lj(e){var D;const{id:t,setDialog:r}=e,{t:n}=le("components"),{toast:a}=yt(),o=Ye(t),[i,s]=v.useState(""),[c,l]=v.useState(!1),[u,d]=v.useState(""),[p,m]=v.useState(Sd.WebLLM),[y,h]=v.useState(!1),[g,b]=v.useState(),w=Sr(k=>k.syncCachedLLMURLs),S=Sr(k=>k.cachedLLMURLs),{loading:x,createDatabaseLLM:j}=$f();v.useEffect(()=>{at(()=>import("./index-0PuXI_Dv.js").then(async k=>(await k.__tla,k)),__vite__mapDeps([0,1,2,3,4])).then(async({functionCallingModelIds:k,prebuiltAppConfig:I})=>{const F=I.model_list;b({modelList:F,functionCallingModelIds:k})})},[]),v.useEffect(()=>{w()},[w]);const _=v.useMemo(()=>!(g!=null&&g.functionCallingModelIds)||!(g!=null&&g.modelList)?[]:((u?g==null?void 0:g.modelList.filter(k=>k.model_id.toLowerCase().includes(u.toLowerCase())):g==null?void 0:g.modelList)||[]).sort((k,I)=>{const F=S.some(Y=>Y.includes(k.model_id)),V=S.some(Y=>Y.includes(I.model_id));if(F&&!V)return-1;if(!F&&V)return 1;const U=_w.includes(k.model_id),Q=_w.includes(I.model_id);if(U&&!Q)return-1;if(!U&&Q)return 1;const q=g==null?void 0:g.functionCallingModelIds.includes(k.model_id),T=g==null?void 0:g.functionCallingModelIds.includes(I.model_id);return q&&!T?-1:!q&&T?1:k.vram_required_MB&&I.vram_required_MB&&k.vram_required_MB!==I.vram_required_MB?k.vram_required_MB-I.vram_required_MB:k.model_id.localeCompare(I.model_id)}),[g==null?void 0:g.modelList,g==null?void 0:g.functionCallingModelIds,u,S]),O=v.useMemo(()=>{if(!(!i||!(g!=null&&g.modelList)))return g==null?void 0:g.modelList.find(k=>k.model_id===i)},[i,g==null?void 0:g.modelList]);v.useEffect(()=>{!(O!=null&&O.model_id)||!S||h(S.some(k=>k.includes(O.model_id)))},[S,O==null?void 0:O.model_id]);const E=v.useCallback(k=>k===1?Ss.embedding:k===2?Ss.VLM:Ss.LLM,[]),C=v.useCallback(k=>{s(k),l(!1)},[]),A=v.useCallback(k=>{d(k)},[]),P=v.useCallback(k=>{m(k)},[]),M=async()=>{var k;if(o)try{await j(o,{name:i,model_type:E(O==null?void 0:O.model_type),function_calling:O!=null&&O.model_id?(k=g==null?void 0:g.functionCallingModelIds)==null?void 0:k.includes(O==null?void 0:O.model_id):!1}),r==null||r(!1)}catch{a({variant:"destructive",description:n("add_llm_card.errors.failed_to_create")})}finally{s("")}},R=v.useMemo(()=>_.map(k=>{var I;return f.jsxs(fp,{value:k.model_id,onSelect:C,children:[i===k.model_id?f.jsx(te,{name:"check",className:"mr-2 h-4 w-4"}):f.jsx("div",{className:"mr-2 h-4 w-4"}),f.jsxs("span",{className:"max-w-md",children:[f.jsxs("div",{className:"flex gap-2 mb-2",children:[f.jsx(uo,{name:k.model_id}),k.model_id]}),f.jsx("div",{className:"flex max-w-full flex-wrap gap-1",children:f.jsx(Es,{model:k,isFunctionCalling:((I=g==null?void 0:g.functionCallingModelIds)==null?void 0:I.includes(k.model_id))||!1,name:k.model_id,isCached:S.some(F=>F.includes(k.model_id))||!1})})]})]},k.model_id)}),[S,C,i,g==null?void 0:g.functionCallingModelIds,_]);return f.jsxs(Re,{className:"max-w-lg",children:[f.jsx(Ze,{children:f.jsx(st,{children:n("add_llm_card.title")})}),f.jsxs(Qe,{children:[f.jsxs("div",{className:"grid w-full gap-1.5",children:[f.jsx(we,{children:n("add_llm_card.provider")}),f.jsxs(qt,{value:p,onValueChange:P,children:[f.jsx(Lt,{className:"w-full mb-4",children:f.jsx(Wt,{placeholder:n("add_llm_card.provider_select_placeholder")})}),f.jsx(Bt,{children:Object.values(Jp).map(k=>f.jsx(lt,{value:k,children:n(`add_llm_card.providers.${k.toLowerCase()}`)},k))})]}),f.jsx(we,{children:n("add_llm_card.model_name")}),f.jsxs(L1,{open:c,onOpenChange:l,children:[f.jsx(rc,{asChild:!0,children:f.jsxs(ze,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[i?O==null?void 0:O.model_id:n("add_llm_card.select_model_placeholder"),f.jsx(te,{name:"chevrons-up-down",className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),f.jsx(Yf,{className:"w-full p-0",children:f.jsxs(sp,{children:[f.jsx(cp,{onValueChange:A,placeholder:n("add_llm_card.search_placeholder")}),f.jsxs(lp,{children:[f.jsx(up,{children:n("add_llm_card.no_model")}),f.jsx(dp,{children:R})]})]})})]})]}),O?f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{className:"mt-4 text-sm text-muted-foreground center flex max-w-full flex-wrap gap-1",children:[f.jsx(uo,{name:O.model_id,className:"mr-2"}),f.jsx(Es,{model:O,isFunctionCalling:((D=g==null?void 0:g.functionCallingModelIds)==null?void 0:D.includes(O.model_id))||!1,name:O.model_id,isCached:S.some(k=>k.includes(O.model_id))||!1})]}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_url")}),O.model]}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground center flex",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_lib_url")}),O.model_lib]}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground center flex",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.metadata")}),JSON.stringify(O.overrides)]})]}):null]}),f.jsx(cr,{className:"flex justify-between",children:f.jsx(vt,{loading:x,disabled:!(i!=null&&i.length),onClick:M,className:"w-full",children:n(y?"add_llm_card.button_add":"add_llm_card.button_download_and_add")})})]})}const Zp=()=>{const e=dt(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=v.useState(!1),n=re(o=>o.createOrUpdateFlowNode),a=v.useCallback(async(o,i)=>{var s,c,l;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const u=((s=o.position)==null?void 0:s.x)||0,d=(((c=o.position)==null?void 0:c.y)||0)+(((l=o.measured)==null?void 0:l.height)||0),p=await ne("Prompt").save({content:i.content,prefix:i.prefix,role:i.role||ft.System,status:Ht.Started,session_id:e,type:i.type||It.Chat});if(!p)throw new Error("Failed to save prompt");if(!await n({source_id:p.id,source_type:"Prompt",node_type:z.Prompt,x:u,y:d+20}))throw new Error("Failed to save prompt node")}finally{r(!1)}},[e,n]);return{loading:t,createPrompt:a}},Bj={[It.Chat]:{label:"add_prompt_card.prompt_types.chat",value:It.Chat},[It.FewShotExample]:{label:"add_prompt_card.prompt_types.few_shot_example",value:It.FewShotExample}},Fj={[ft.System]:{label:"add_prompt_card.prompt_roles.system",value:ft.System},[ft.Human]:{label:"add_prompt_card.prompt_roles.human",value:ft.Human},[ft.AI]:{label:"add_prompt_card.prompt_roles.ai",value:ft.AI}},vc=v.memo(({defaultPromptContent:e,defaultPromptRole:t,defaultPromptType:r,hidePromptRole:n,hidePromptType:a,loading:o,onSubmit:i})=>{const[s,c]=v.useState(e||""),[l,u]=v.useState(r||It.Chat),[d,p]=v.useState(t),[m,y]=v.useState(""),{t:h}=le("components"),g=v.useCallback(j=>{c(j.target.value)},[]),b=v.useCallback(j=>{y(j.target.value)},[]),w=v.useCallback(j=>{j===It.FewShotExample&&c(`Question: {input}
Answer: {output}`),u(j)},[]),S=v.useCallback(j=>{p(j)},[]),x=async()=>{await i({content:s,role:d,prefix:m,type:l})&&(c(""),p(void 0),u("chat"),y(""))};return f.jsxs("div",{children:[f.jsxs("div",{className:"grid w-full gap-1.5",children:[a?void 0:f.jsxs(f.Fragment,{children:[f.jsx(we,{children:h("add_prompt_card.prompt_type")}),f.jsxs(qt,{value:l,onValueChange:w,children:[f.jsx(Lt,{className:"w-full mb-4",children:f.jsx(Wt,{placeholder:h("add_prompt_card.type_select_placeholder")})}),f.jsx(Bt,{children:Object.values(Bj).map(j=>f.jsx(lt,{value:j.value,children:h(j.label)},j.value))})]})]}),n?void 0:f.jsxs(f.Fragment,{children:[f.jsx(we,{children:h("add_prompt_card.prompt_role")}),f.jsxs(qt,{value:d,onValueChange:S,children:[f.jsx(Lt,{className:"w-full mb-4",children:f.jsx(Wt,{placeholder:h("add_prompt_card.role_select_placeholder")})}),f.jsx(Bt,{children:Object.values(Fj).map(j=>f.jsx(lt,{value:j.value,children:h(j.label)},j.value))})]})]}),l===It.FewShotExample&&f.jsxs(f.Fragment,{children:[f.jsx(we,{children:h("add_prompt_card.prompt_prefix")}),f.jsx(rn,{value:m,onChange:b,disabled:!1,className:"h-20",placeholder:h("add_prompt_card.placeholder"),id:"message"}),f.jsx(we,{children:h("add_prompt_card.prompt_content")}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm justify-end items-center",children:[f.jsx(te,{name:"info",className:"mr-2",size:14}),h("add_prompt_card.few_shot_example_note")]})]}),f.jsx(rn,{value:s,onChange:g,disabled:!1,placeholder:h("add_prompt_card.placeholder"),id:"message"})]}),f.jsx("div",{children:f.jsx(vt,{loading:o,disabled:!(s!=null&&s.length),onClick:x,className:"w-full mt-4",children:h("add_prompt_card.button")})})]})}),zj=v.memo(e=>{const{id:t,thread:r,setDialog:n}=e,{t:a}=le("components"),{toast:o}=yt(),i=Ye(t),{createPrompt:s,loading:c}=Zp(),l=async u=>{if(i)try{if(!(u!=null&&u.content))throw new Error("Prompt data is missing");await s(i,{...u,content:u.content,thread:r}),n==null||n(!1)}catch(d){o({variant:"destructive",title:`${d}`})}};return f.jsxs(Re,{className:"mw-full",children:[f.jsx(Ze,{children:f.jsx(st,{children:a("add_prompt_card.title")})}),f.jsx(Qe,{children:f.jsx(vc,{onSubmit:l,loading:c,defaultPromptRole:"system",defaultPromptType:"chat"})})]})}),$j="0123456789abcdef",Vj=[8,4,4,4,12];function gc(){return Vj.map(e=>CF($j,e)()).join("-")}const Uj=()=>{const e=dt(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=v.useCallback((i,s,c,l)=>{var u;if(e){for(const d of s)(u=d.data)!=null&&u.length?a(i,d.data,c,d.id):c.push({name:d.name,type:d.type,enum:d.enum?JSON.stringify(d.enum):"",required:d.required,description:d.description,id:d.id||gc(),parent_id:l,schema_id:i,session_id:e});return c}},[e]),o=v.useCallback(async(i,s)=>{var c,l,u;try{if(!i||!e)throw new Error("Source or Session not found");r(!0);const d=((c=i.position)==null?void 0:c.x)||0,p=(((l=i.position)==null?void 0:l.y)||0)+(((u=i.measured)==null?void 0:u.height)||0),m=await ne("Schema").save({name:"Untitled Schema",session_id:e});if(!m)throw new Error("Failed to save schema");const y=a(m.id,s,[],void 0);if(!(y!=null&&y.length))throw new Error("Failed to convert schema items");if(await ne("SchemaItem").save(y),!await n({source_id:m.id,source_type:"Schema",node_type:z.Schema,x:d,y:p+20}))throw new Error("Failed to save schema node")}finally{r(!1)}},[e,a,n]);return{loading:t,createSchema:o}};var Xt="Accordion",Hj=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[bc,qj,Wj]=xd(Xt),[_o,p$]=Zn(Xt,[Wj,Rw]),xc=Rw(),Qp=N.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,o=n;return f.jsx(bc.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?f.jsx(Yj,{...o,ref:t}):f.jsx(Gj,{...a,ref:t})})});Qp.displayName=Xt;var[eh,Xj]=_o(Xt),[th,Kj]=_o(Xt,{collapsible:!1}),Gj=N.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:o=!1,...i}=e,[s,c]=Dt({prop:r,defaultProp:n,onChange:a});return f.jsx(eh,{scope:e.__scopeAccordion,value:s?[s]:[],onItemOpen:c,onItemClose:N.useCallback(()=>o&&c(""),[o,c]),children:f.jsx(th,{scope:e.__scopeAccordion,collapsible:o,children:f.jsx(rh,{...i,ref:t})})})}),Yj=N.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i=[],s]=Dt({prop:r,defaultProp:n,onChange:a}),c=N.useCallback(u=>s((d=[])=>[...d,u]),[s]),l=N.useCallback(u=>s((d=[])=>d.filter(p=>p!==u)),[s]);return f.jsx(eh,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:l,children:f.jsx(th,{scope:e.__scopeAccordion,collapsible:!0,children:f.jsx(rh,{...o,ref:t})})})}),[Jj,Oo]=_o(Xt),rh=N.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:o="vertical",...i}=e,s=N.useRef(null),c=nt(s,t),l=qj(r),u=mo(a)==="ltr",d=de(e.onKeyDown,p=>{var O;if(!Hj.includes(p.key))return;const m=p.target,y=l().filter(E=>{var C;return!((C=E.ref.current)!=null&&C.disabled)}),h=y.findIndex(E=>E.ref.current===m),g=y.length;if(h===-1)return;p.preventDefault();let b=h;const w=0,S=g-1,x=()=>{b=h+1,b>S&&(b=w)},j=()=>{b=h-1,b<w&&(b=S)};switch(p.key){case"Home":b=w;break;case"End":b=S;break;case"ArrowRight":o==="horizontal"&&(u?x():j());break;case"ArrowDown":o==="vertical"&&x();break;case"ArrowLeft":o==="horizontal"&&(u?j():x());break;case"ArrowUp":o==="vertical"&&j();break}const _=b%g;(O=y[_].ref.current)==null||O.focus()});return f.jsx(Jj,{scope:r,disabled:n,direction:a,orientation:o,children:f.jsx(bc.Slot,{scope:r,children:f.jsx(pe.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:d})})})}),So="AccordionItem",[Zj,wc]=_o(So),nh=N.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,o=Oo(So,r),i=Xj(So,r),s=xc(r),c=ot(),l=n&&i.value.includes(n)||!1,u=o.disabled||e.disabled;return f.jsx(Zj,{scope:r,open:l,disabled:u,triggerId:c,children:f.jsx(r$,{"data-orientation":o.orientation,"data-state":lh(l),...s,...a,ref:t,disabled:u,open:l,onOpenChange:d=>{d?i.onItemOpen(n):i.onItemClose(n)}})})});nh.displayName=So;var ah="AccordionHeader",oh=N.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Oo(Xt,r),o=wc(ah,r);return f.jsx(pe.h3,{"data-orientation":a.orientation,"data-state":lh(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});oh.displayName=ah;var jc="AccordionTrigger",ih=N.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Oo(Xt,r),o=wc(jc,r),i=Kj(jc,r),s=xc(r);return f.jsx(bc.ItemSlot,{scope:r,children:f.jsx(n$,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...s,...n,ref:t})})});ih.displayName=jc;var sh="AccordionContent",ch=N.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Oo(Xt,r),o=wc(sh,r),i=xc(r);return f.jsx(a$,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});ch.displayName=sh;function lh(e){return e?"open":"closed"}let uh;nf=Qp,af=nh,uh=oh,Us=ih,Hs=ch;const dh=nf,_c=v.forwardRef(({className:e,...t},r)=>f.jsx(af,{ref:r,className:X("border-b",e),...t}));_c.displayName="AccordionItem";const Oc=v.forwardRef(({className:e,children:t,...r},n)=>f.jsx(uh,{className:"flex",children:f.jsxs(Us,{ref:n,className:X("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,f.jsx(te,{name:"chevron-down",className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Oc.displayName=Us.displayName;const Sc=v.forwardRef(({className:e,children:t,...r},n)=>f.jsx(Hs,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:f.jsx("div",{className:X("pb-4 pt-0",e),children:t})}));Sc.displayName=Hs.displayName;var Ec="Checkbox",[Qj,h$]=Zn(Ec),[e_,t_]=Qj(Ec),fh=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:s,value:c="on",onCheckedChange:l,form:u,...d}=e,[p,m]=v.useState(null),y=nt(t,x=>m(x)),h=v.useRef(!1),g=p?u||!!p.closest("form"):!0,[b=!1,w]=Dt({prop:a,defaultProp:o,onChange:l}),S=v.useRef(b);return v.useEffect(()=>{const x=p==null?void 0:p.form;if(x){const j=()=>w(S.current);return x.addEventListener("reset",j),()=>x.removeEventListener("reset",j)}},[p,w]),f.jsxs(e_,{scope:r,state:b,disabled:s,children:[f.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":fr(b)?"mixed":b,"aria-required":i,"data-state":mh(b),"data-disabled":s?"":void 0,disabled:s,value:c,...d,ref:y,onKeyDown:de(e.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:de(e.onClick,x=>{w(j=>fr(j)?!0:!j),g&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})}),g&&f.jsx(r_,{control:p,bubbles:!h.current,name:n,value:c,checked:b,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"},defaultChecked:fr(o)?!1:o})]})});fh.displayName=Ec;var ph="CheckboxIndicator",hh=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=t_(ph,r);return f.jsx(js,{present:n||fr(o.state)||o.state===!0,children:f.jsx(pe.span,{"data-state":mh(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});hh.displayName=ph;var r_=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,i=v.useRef(null),s=pp(r),c=o$(t);v.useEffect(()=>{const u=i.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});u.indeterminate=fr(r),p.call(u,fr(r)?!1:r),u.dispatchEvent(m)}},[s,r,n]);const l=v.useRef(fr(r)?!1:r);return f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??l.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fr(e){return e==="indeterminate"}function mh(e){return fr(e)?"indeterminate":e?"checked":"unchecked"}Fs=fh,tf=hh;const yh=v.forwardRef(({className:e,...t},r)=>f.jsx(Fs,{ref:r,className:X("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:f.jsx(tf,{className:X("flex items-center justify-center text-current"),children:f.jsx(te,{name:"check",className:"h-4 w-4"})})}));yh.displayName=Fs.displayName;const vh=v.memo(({setData:e,data:t,id:r})=>{const{t:n}=le("components"),[a,o]=v.useState({name:"",description:"",type:"string",required:!1,data:[]}),i=v.useMemo(()=>r&&t.find(h=>h.id===r)||a,[t,a,r]),s=v.useCallback(h=>{h.target.value&&!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(h.target.value)||(r?e(g=>[...g.map(b=>b.id===r?{...b,name:h.target.value||""}:b)]):o(g=>({...g,name:h.target.value||""})))},[r,e]),c=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,description:h.target.value||""}:b)]):o(g=>({...g,description:h.target.value||""}))},[r,e]),l=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,type:h||""}:b)]):o(g=>({...g,type:h||"string"}))},[r,e]),u=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,required:!!h||!1}:b)]):o(g=>({...g,required:!!h||!1}))},[r,e]),d=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,enum:h.target.value||""}:b)]):o(g=>({...g,enum:h.target.value||""}))},[r,e]),p=v.useCallback(()=>{if(t.find(h=>h.name===a.name))return Qn({variant:"destructive",content:"Name already exists"});a.id=gc(),e(h=>[...h,{...a}]),o({name:"",description:"",type:"string",required:!1,id:gc(),parent:r||void 0,data:[]})},[t,a,e,r]),m=v.useCallback(h=>{e(g=>[...g.map(b=>b.id===r?{...b,data:h(b.data||[])}:b)])},[r,e]),y=["object","array"].includes(i.type);return f.jsxs("div",{className:"w-full p-1",children:[f.jsxs("div",{children:[f.jsx(we,{children:n("add_schema_card.field.name")}),f.jsx(Rt,{id:"name",onChange:s,placeholder:n("add_schema_card.field.name_placeholder"),value:(i==null?void 0:i.name)||""})]}),f.jsxs("div",{children:[f.jsx(we,{children:n("add_schema_card.field.description")}),f.jsx(Rt,{id:"description",placeholder:n("add_schema_card.field.description_placeholder"),onChange:c,value:(i==null?void 0:i.description)||""})]}),f.jsxs("div",{children:[f.jsx(we,{children:n("add_schema_card.field.type")}),f.jsxs(qt,{onValueChange:l,value:(i==null?void 0:i.type)||"",children:[f.jsx(Lt,{children:f.jsx(Wt,{placeholder:n("add_schema_card.field.type_placeholder")})}),f.jsxs(Bt,{children:[f.jsx(lt,{value:"string",children:n("add_schema_card.types.string")}),f.jsx(lt,{value:"boolean",children:n("add_schema_card.types.boolean")}),f.jsx(lt,{value:"number",children:n("add_schema_card.types.number")}),f.jsx(lt,{value:"object",children:n("add_schema_card.types.object")}),f.jsx(lt,{value:"array",children:n("add_schema_card.types.array")})]})]})]}),f.jsxs("div",{className:"flex items-center h-10",children:[f.jsx(we,{children:n("add_schema_card.field.required")}),f.jsx(yh,{className:"ml-2","aria-label":"Select row",onCheckedChange:u,checked:i==null?void 0:i.required})]}),y?f.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[f.jsx(we,{children:n("add_schema_card.children")}),f.jsx(gh,{data:(i==null?void 0:i.data)||[],setData:m})]}):null,(i==null?void 0:i.type)==="enum"?f.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[f.jsx(we,{children:n("add_schema_card.field.enum")}),f.jsx(Rt,{id:"enum",onChange:d,placeholder:"Enum"})]}):null,r?null:f.jsx("div",{className:"w-full flex justify-end mt-2",children:f.jsx(ze,{variant:"secondary",disabled:!i.name||!i.description||!i.type,onClick:p,className:"w-full",children:n("add_schema_card.field.add_field")})})]})}),n_=v.memo(({data:e,setData:t})=>f.jsxs(dh,{type:"single",collapsible:!0,children:[e.map(r=>f.jsxs(_c,{value:`${r.id}`,children:[f.jsx(Oc,{children:r.name}),f.jsx(Sc,{children:f.jsx(vh,{setData:t,data:e,id:r.id})})]},r.id||"new")),f.jsx(Re,{className:"p-2 mt-4",children:f.jsx(vh,{setData:t,data:e})})]})),gh=n_,a_=v.memo(e=>{const{t}=le("components"),{id:r}=e,n=Ye(r),[a,o]=v.useState([]),{createSchema:i,loading:s}=Uj(),c=async()=>{if(n&&(a!=null&&a.length))try{await i(n,a),o([])}catch(l){Qn({variant:"destructive",title:`${l}`})}};return f.jsxs(Re,{className:"max-w-lg",children:[f.jsx(Ze,{children:f.jsx(st,{children:t("add_schema_card.title")})}),f.jsx(Qe,{className:"min-w-96",children:f.jsx(gh,{setData:o,data:a})}),f.jsx(cr,{className:"flex justify-between",children:f.jsx(vt,{loading:s,disabled:!(a!=null&&a.length),onClick:c,className:"w-full",children:t("add_schema_card.create")})})]})}),bh=()=>{const e=dt(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=v.useState(!1),n=re(o=>o.createOrUpdateFlowNode),a=v.useCallback(async(o,i,s)=>{var c,l,u;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const d=((c=o.position)==null?void 0:c.x)||0,p=(((l=o.position)==null?void 0:l.y)||0)+(((u=o.measured)==null?void 0:u.height)||0),m=kF(i,s),y=await ne("CSVData").save({headers:m.headers,csv:m.data,session_id:e});if(!y)throw new Error("Failed to save");if(!await n({source_id:y.id,source_type:"CSVData",node_type:z.CSVData,x:d,y:p+20}))throw new Error("Failed to save node")}finally{r(!1)}},[e,n]);return{loading:t,createCSVData:a}},Eo=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:r,className:X("w-full caption-bottom text-sm",e),...t})}));Eo.displayName="Table";const Po=v.forwardRef(({className:e,...t},r)=>f.jsx("thead",{ref:r,className:X("[&_tr]:border-b",e),...t}));Po.displayName="TableHeader";const No=v.forwardRef(({className:e,...t},r)=>f.jsx("tbody",{ref:r,className:X("[&_tr:last-child]:border-0",e),...t}));No.displayName="TableBody";const o_=v.forwardRef(({className:e,...t},r)=>f.jsx("tfoot",{ref:r,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));o_.displayName="TableFooter";const Dr=v.forwardRef(({className:e,...t},r)=>f.jsx("tr",{ref:r,className:X("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Dr.displayName="TableRow";const dn=v.forwardRef(({className:e,...t},r)=>f.jsx("th",{ref:r,className:X("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));dn.displayName="TableHead";const fn=v.forwardRef(({className:e,...t},r)=>f.jsx("td",{ref:r,className:X("align-middle [&:has([role=checkbox])]:pr-0",e),...t}));fn.displayName="TableCell";const i_=v.forwardRef(({className:e,...t},r)=>f.jsx("caption",{ref:r,className:X("mt-4 text-sm text-muted-foreground",e),...t}));i_.displayName="TableCaption";function s_({data:e}){const{t}=le("components");return f.jsxs(Eo,{className:"w-full",children:[f.jsx(Po,{children:f.jsxs(Dr,{children:[f.jsx(dn,{children:t("add_few_shot_example_card.input")}),f.jsx(dn,{children:t("add_few_shot_example_card.output")})]})}),f.jsx(No,{children:e==null?void 0:e.map((r,n)=>f.jsxs(Dr,{children:[f.jsx(fn,{className:"p-4",children:r.input}),f.jsx(fn,{className:"p-4",children:r.output})]},`${r.input}_${r.output}_${n}`))})]})}const c_=v.memo(e=>{const{id:t}=e,{t:r}=le("components"),[n,a]=v.useState([]),[o,i]=v.useState(""),[s,c]=v.useState(""),l=Ye(t),{createCSVData:u,loading:d}=bh(),p=()=>{a(y=>[...y,{input:o,output:s}]),i(""),c("")},m=async()=>{l&&await u(l,["input","output"],n.map(y=>[y.input,y.output]))};return f.jsxs(Re,{className:"mw-full",children:[f.jsx(Ze,{children:f.jsx(st,{children:r("add_few_shot_example_card.title")})}),f.jsxs(Qe,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(we,{htmlFor:"name",children:r("add_few_shot_example_card.input")}),f.jsx(Rt,{value:o,onChange:y=>i(y.target.value||""),id:"name",placeholder:r("add_few_shot_example_card.input_placeholder")})]}),f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(we,{htmlFor:"name",children:r("add_few_shot_example_card.output")}),f.jsx(rn,{value:s,onChange:y=>c(y.target.value||""),placeholder:r("add_few_shot_example_card.output_placeholder")})]}),f.jsx("div",{className:"w-full flex mt-4 justify-end",children:f.jsx(ze,{disabled:!o||!s,onClick:p,className:"w-40",children:r("add_few_shot_example_card.add")})}),f.jsx(s_,{data:n||[]})]}),f.jsx(cr,{className:"flex justify-between",children:f.jsx(vt,{loading:d,disabled:!(n!=null&&n.length),onClick:m,className:"w-full",children:r("add_few_shot_example_card.create")})})]})}),l_=()=>{const e=dt(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async(i,s,c)=>{var l,u,d;try{if(!i||!e)throw new Error("Source or Session not found");if(!s.name||!s.description)throw new Error("Name is required");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,m=(((u=i.position)==null?void 0:u.y)||0)+(((d=i.measured)==null?void 0:d.height)||0),y=await ne("ToolDefinition").save({...s,name:`${s.name}`,description:`${s.description}`,session_id:e});if(!y)throw new Error("Failed create tool.");const h=await n({source_id:y.id,source_type:"ToolDefinition",node_type:z.ToolDefinition,x:p,y:m+20});if(!h)throw new Error("Failed to save node");c!=null&&c.schemaNode&&await a({source:c.schemaNode.id,target:h.id})}finally{r(!1)}},[e,n,a]);return{loading:t,createTool:o}},u_=v.memo(e=>{const{t}=le("components"),{toast:r}=yt(),{id:n}=e,a=Ye(n),[o,i]=v.useState(""),[s,c]=v.useState(""),{createTool:l,loading:u}=l_(),d=y=>{i(y.target.value)},p=y=>{c(y.target.value)},m=async()=>{if(a&&o&&s)try{await l(a,{name:o,description:s}),i(""),c("")}catch(y){lo(y),r({variant:"destructive",title:t("add_tool_card.errors.create_tool_failed")})}};return f.jsxs(Re,{className:"mw-full",children:[f.jsx(Ze,{children:f.jsx(st,{children:t("add_tool_card.title")})}),f.jsxs(Qe,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(we,{htmlFor:"name",children:t("add_tool_card.tool_name")}),f.jsx(Rt,{onChange:d,id:"name",placeholder:t("add_tool_card.name_placeholder")})]}),f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(we,{htmlFor:"name",children:t("add_tool_card.tool_description")}),f.jsx(rn,{onChange:p,placeholder:t("add_tool_card.description_placeholder")})]})]}),f.jsx(cr,{className:"flex justify-between",children:f.jsx(vt,{loading:u,onClick:m,className:"w-full",children:t("add_tool_card.create")})})]})}),d_=()=>{const e=dt(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async(i,s,c)=>{var l,u,d;try{if(!(s!=null&&s.name)||!i||!e)throw new Error("Source or Session not found");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,m=(((u=i.position)==null?void 0:u.y)||0)+(((d=i.measured)==null?void 0:d.height)||0),y=await ne("JSONLData").save({headers:MF(["content","embedding","metadata"]),jsonl:"",session_id:e});if(!y)throw new Error("Failed to save databaseSource");const h=await n({source_id:y.id,source_type:"JSONLData",node_type:z.JSONLData,x:p+80,y:m+30});if(!h)throw new Error("Failed to save databaseSource node");const g=await ne("VectorDatabase").save({...s,name:`${s.name}`,type:s.type||AF.Local,storage:s.storage||hw.DataNode,provider:s.provider||mw.Memory,session_id:e,metadata:c?JSON.stringify({textSplitter:c}):void 0});if(!g)throw new Error("Failed to save vectorDatabase");const b=await n({source_id:g.id,source_type:"VectorDatabase",node_type:z.VectorDatabase,x:p,y:m+30});if(!b)throw new Error("Failed to save vectorDatabase node");return await a({source:h.id,target:b.id}),{vectorDatabase:g,vectorDatabaseNode:b}}finally{r(!1)}},[e,n,a]);return{loading:t,createVectorDatabase:o}},la=[mw.Memory],ua=[hw.DataNode],f_=["TokenTextSplitter","CharacterTextSplitter","RecursiveCharacterTextSplitter"],p_=v.memo(e=>{const{t}=le("components"),{id:r}=e,n=Ye(r),{toast:a}=yt(),[o,i]=v.useState(""),[s,c]=v.useState(la[0]),[l,u]=v.useState(ua[0]),[d,p]=v.useState({}),{loading:m,createVectorDatabase:y}=d_(),h=v.useCallback(_=>{c(_)},[]),g=v.useCallback(_=>{u(_)},[]),b=v.useCallback(_=>{p(O=>({...O,type:_,chunkSize:500,chunkOverlap:40}))},[]),w=v.useCallback(_=>{i(_.target.value||"")},[]),S=v.useCallback(_=>{p(O=>({...O,chunkSize:Number(_.target.value)}))},[]),x=v.useCallback(_=>{p(O=>({...O,chunkOverlap:Number(_.target.value)}))},[]),j=async()=>{try{if(!n)return;await y(n,{name:o,provider:s,storage:l},d!=null&&d.type?{type:d.type,chunkSize:d.chunkSize||500,chunkOverlap:d.chunkOverlap||0}:void 0),i(""),p({})}catch{a({variant:"destructive",description:t("create_vector_database_card.errors.create_failed")})}};return f.jsxs(Re,{className:"mw-full",children:[f.jsx(Ze,{children:f.jsx(st,{children:t("create_vector_database_card.title")})}),f.jsx(Qe,{children:f.jsxs("div",{className:"grid w-full gap-1.5",children:[f.jsx(we,{children:t("create_vector_database_card.name")}),f.jsx(Rt,{className:"mb-4",value:o,onChange:w}),(ua==null?void 0:ua.length)>1?f.jsxs(f.Fragment,{children:[f.jsx(we,{children:t("create_vector_database_card.storage_type")}),f.jsxs(qt,{value:l,onValueChange:g,children:[f.jsx(Lt,{className:"w-full mb-4",children:f.jsx(Wt,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),f.jsx(Bt,{children:Object.values(ua).map(_=>f.jsx(lt,{value:_,children:t(`create_vector_database_card.storage_types.${_.toLowerCase()}`)},_))})]})]}):void 0,(la==null?void 0:la.length)>1?f.jsxs(f.Fragment,{children:[f.jsx(we,{children:t("create_vector_database_card.provider")}),f.jsxs(qt,{value:s,onValueChange:h,children:[f.jsx(Lt,{className:"w-full mb-4",children:f.jsx(Wt,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),f.jsx(Bt,{children:Object.values(la).map(_=>f.jsx(lt,{value:_,children:t(`create_vector_database_card.providers.${_.toLowerCase()}`)},_))})]})]}):void 0,f.jsx(we,{children:t("create_vector_database_card.text_splitter")}),f.jsxs(qt,{value:d.type,onValueChange:b,children:[f.jsx(Lt,{className:"w-full mb-4",children:f.jsx(Wt,{placeholder:t("create_vector_database_card.text_splitter_select_placeholder")})}),f.jsx(Bt,{children:Object.values(f_).map(_=>f.jsx(lt,{value:_,children:t(`create_vector_database_card.text_splitters.${_.toLowerCase()}`)},_))})]}),d.type?f.jsxs(Re,{children:[f.jsx(Ze,{children:f.jsx(st,{children:t("create_vector_database_card.text_splitter_configuration")})}),f.jsxs(Qe,{children:[f.jsx(we,{children:t("create_vector_database_card.text_splitter_chunksize")}),f.jsx(Rt,{value:d.chunkSize,onChange:S,placeholder:t("create_vector_database_card.text_splitter_chunksize_placeholder")}),f.jsx(we,{children:t("create_vector_database_card.text_splitter_chunkoverlap")}),f.jsx(Rt,{value:d.chunkOverlap,onChange:x,placeholder:t("create_vector_database_card.text_splitter_chunkoverlap_placeholder")})]})]}):void 0]})}),f.jsx(cr,{className:"flex justify-between",children:f.jsx(vt,{disabled:!d.type||!o,loading:m,onClick:j,className:"w-full",children:t("create_vector_database_card.create")})})]})}),h_=e=>v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"64 64 384.000000 384.000000",preserveAspectRatio:"xMidYMid meet",fill:"#000000",...e},v.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",stroke:"none"},v.createElement("path",{d:"M1953 3948 c-13 -21 -16 -289 -4 -369 15 -97 39 -193 62 -247 l18 -42 -69 -133 -69 -132 32 -22 c18 -12 40 -25 49 -28 24 -9 13 -25 -18 -25 -13 0 -24 -4 -24 -9 0 -13 40 -60 61 -71 10 -6 107 -15 215 -21 175 -9 198 -8 214 6 10 9 33 18 51 21 31 4 40 -1 92 -52 64 -63 70 -88 25 -114 -22 -12 -33 -12 -58 -3 -34 13 -41 0 -9 -17 24 -13 73 -5 89 15 10 12 17 11 43 -6 41 -24 59 -24 88 2 l24 20 -28 -17 c-26 -16 -31 -16 -62 -1 -58 27 -55 54 11 120 65 65 90 71 145 34 31 -20 41 -21 114 -15 44 4 129 10 190 14 107 6 110 7 142 39 39 39 42 55 8 55 -37 0 -31 17 14 40 22 11 42 24 46 30 7 11 -13 51 -90 184 -54 95 -54 95 -39 131 8 20 27 84 41 143 24 95 27 126 28 284 0 125 -4 180 -12 189 -30 30 -262 -126 -372 -250 l-62 -70 -42 16 c-67 25 -247 28 -332 6 l-70 -19 -86 86 c-96 96 -180 160 -272 207 -70 37 -73 38 -84 21z m1117 -261 c0 -2 -9 -14 -20 -27 -11 -13 -20 -19 -20 -15 0 5 7 17 17 27 15 17 23 22 23 15z m-830 -97 c6 -11 7 -20 2 -20 -6 0 -12 9 -15 20 -3 11 -3 20 -1 20 2 0 8 -9 14 -20z m744 -15 c-9 -14 -18 -25 -21 -25 -5 0 5 18 20 38 17 22 18 13 1 -13z m-654 -534 c0 -27 4 -61 10 -75 8 -21 7 -26 -6 -26 -38 0 -100 67 -119 128 -6 21 -4 22 54 22 l61 0 0 -49z m700 39 c0 -44 -80 -140 -117 -140 -12 0 -14 7 -9 31 3 17 6 51 6 75 l0 44 60 0 c35 0 60 -4 60 -10z m-587 -35 c15 -14 27 -30 27 -34 0 -18 -42 -60 -69 -69 -29 -10 -30 -10 -20 14 5 14 9 45 9 70 0 51 12 56 53 19z m411 -37 c3 -34 4 -64 1 -66 -15 -15 -85 53 -85 82 0 7 61 46 71 46 3 0 9 -28 13 -62z"}),v.createElement("path",{d:"M1590 3717 c0 -2 15 -16 33 -33 l32 -29 -29 33 c-28 30 -36 37 -36 29z"}),v.createElement("path",{d:"M1723 2863 c26 -2 68 -2 95 0 26 2 4 3 -48 3 -52 0 -74 -1 -47 -3z"}),v.createElement("path",{d:"M3403 2863 c31 -2 83 -2 115 0 31 2 5 3 -58 3 -63 0 -89 -1 -57 -3z"}),v.createElement("path",{d:"M3258 2853 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M2010 2830 c4 -8 20 -26 35 -40 l27 -25 -24 -6 c-16 -4 -7 -7 32 -13 58 -7 245 20 305 44 30 12 30 12 7 21 -23 9 -190 25 -324 32 -57 2 -65 1 -58 -13z"}),v.createElement("path",{d:"M3165 2844 c-148 -9 -306 -28 -293 -35 8 -6 -3 -9 -32 -10 -39 -1 -36 -3 25 -11 39 -5 79 -13 90 -18 33 -15 173 -32 197 -24 13 4 37 7 53 7 29 0 29 0 3 4 -33 5 -35 14 -7 39 29 26 44 55 27 52 -7 -1 -35 -3 -63 -4z"}),v.createElement("path",{d:"M2300 2749 c-63 -10 -130 -19 -147 -20 -37 -3 -40 -7 -17 -24 14 -9 -3 -19 -100 -60 -63 -27 -114 -51 -112 -53 3 -2 57 19 121 47 l117 50 41 -30 c51 -37 105 -61 121 -53 6 3 -11 -14 -39 -38 -172 -148 -266 -262 -325 -392 -16 -35 -36 -66 -45 -70 -9 -3 -55 -6 -102 -6 -94 0 -130 -16 -158 -70 -20 -39 -19 -80 10 -341 32 -287 32 -264 -5 -242 -56 33 -110 97 -139 168 -43 104 -99 136 -175 100 -122 -58 -74 -289 92 -450 65 -63 155 -118 231 -140 l59 -18 6 -56 c4 -31 15 -71 26 -89 39 -64 1 -62 962 -62 848 0 874 1 905 20 61 37 61 34 119 556 58 521 58 539 12 581 -44 40 -62 43 -242 43 l-176 0 -40 82 c-73 146 -155 247 -294 356 l-77 61 43 22 c23 12 60 33 81 47 32 21 41 23 63 13 36 -16 44 -13 12 5 -32 17 -36 31 -10 37 9 3 -2 5 -24 6 -23 0 -77 7 -120 15 -90 16 -164 26 -164 21 0 -2 31 -13 70 -25 63 -20 69 -23 60 -41 -23 -42 -111 -99 -194 -124 -99 -30 -148 -31 -236 -5 -73 22 -182 87 -200 119 -12 23 -15 21 85 60 59 24 54 24 -95 0z m1414 -684 c35 -23 56 -65 56 -112 1 -65 -91 -906 -103 -947 -7 -22 -24 -48 -40 -60 -28 -21 -34 -21 -900 -24 -851 -2 -873 -2 -904 17 -18 11 -39 30 -47 43 -15 23 -39 208 -71 538 -9 85 -22 211 -30 280 -22 184 -21 194 19 238 34 37 35 37 133 43 54 4 494 6 979 4 823 -2 883 -4 908 -20z"}),v.createElement("path",{d:"M1973 2743 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),v.createElement("path",{d:"M3263 2743 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),v.createElement("path",{d:"M1908 2733 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M2435 2730 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0 -8 -4 -11 -10z"}),v.createElement("path",{d:"M3328 2733 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M1848 2723 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3383 2723 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),v.createElement("path",{d:"M1798 2713 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3438 2713 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),v.createElement("path",{d:"M1738 2703 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3488 2703 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),v.createElement("path",{d:"M1688 2693 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3538 2693 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),v.createElement("path",{d:"M3170 2660 c8 -5 20 -10 25 -10 6 0 3 5 -5 10 -8 5 -19 10 -25 10 -5 0 -3 -5 5 -10z"}),v.createElement("path",{d:"M3230 2635 c14 -8 30 -14 35 -14 6 0 -1 6 -15 14 -14 8 -29 14 -35 14 -5 0 1 -6 15 -14z"}),v.createElement("path",{d:"M3349 2584 c41 -19 76 -33 78 -31 4 5 -133 67 -145 66 -4 0 26 -16 67 -35z"}),v.createElement("path",{d:"M1860 2570 c-8 -5 -10 -10 -5 -10 6 0 17 5 25 10 8 5 11 10 5 10 -5 0 -17 -5 -25 -10z"}),v.createElement("path",{d:"M1764 2524 c-18 -14 -18 -14 6 -3 31 14 36 19 24 19 -6 0 -19 -7 -30 -16z"}),v.createElement("path",{d:"M3470 2530 c8 -5 20 -10 25 -10 6 0 3 5 -5 10 -8 5 -19 10 -25 10 -5 0 -3 -5 5 -10z"})));function m_({data:e}){const{t}=le("components");return f.jsxs(Eo,{className:"w-full",children:[f.jsx(Po,{children:f.jsx(Dr,{children:f.jsx(dn,{children:t("add_text_data.text")})})}),f.jsx(No,{children:e==null?void 0:e.map((r,n)=>f.jsx(Dr,{children:f.jsx(fn,{className:"p-4",children:r.text})},`${r.text}_${n}`))})]})}const y_=v.memo(e=>{const{id:t}=e,{t:r}=le("components"),[n,a]=v.useState([]),[o,i]=v.useState(""),s=Ye(t),{createCSVData:c,loading:l}=bh(),u=()=>{a(p=>[...p,{text:o}]),i("")},d=async()=>{s&&await c(s,["text"],n.map(p=>[p.text]))};return f.jsxs(Re,{className:"mw-full",children:[f.jsx(Ze,{children:f.jsx(st,{children:r("add_text_data.title")})}),f.jsxs(Qe,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(we,{htmlFor:"name",children:r("add_text_data.text")}),f.jsx(rn,{value:o,onChange:p=>i(p.target.value||""),placeholder:r("add_text_data.text_placeholder")})]}),f.jsx("div",{className:"w-full flex mt-4 justify-end",children:f.jsx(ze,{disabled:!o,onClick:u,className:"w-40",children:r("add_text_data.add")})}),f.jsx(m_,{data:n||[]})]}),f.jsx(cr,{className:"flex justify-between",children:f.jsx(vt,{loading:l,disabled:!(n!=null&&n.length),onClick:d,className:"w-full",children:r("add_text_data.create")})})]})});var Kt=(e=>(e.ADD_LLM="ADD_LLM",e.ADD_PROMPT="ADD_PROMPT",e.ADD_TOOL_DEFINITION="ADD_TOOL_DEFINITION",e.ADD_SCHEMA="ADD_SCHEMA",e.ADD_FEW_SHOT_EXAMPLE="ADD_FEW_SHOT_EXAMPLE",e.ADD_VECTOR_DATABASE="ADD_VECTOR_DATABASE",e.ADD_TEXT_DATA="ADD_TEXT_DATA",e))(Kt||{});const v_=["ADD_LLM","ADD_PROMPT","ADD_SCHEMA","ADD_VECTOR_DATABASE",{key:"more",label:"more",icon:"ellipsis",children:["ADD_TOOL_DEFINITION","ADD_FEW_SHOT_EXAMPLE"]}],g_=()=>{const e="_coolMode_effect",t=document.getElementById(e);if(t)return t;const r=document.createElement("div");return r.setAttribute("id",e),r.setAttribute("style","overflow:hidden; position:fixed; height:100%; top:0; left:0; right:0; bottom:0; pointer-events:none; z-index:2147483647"),document.body.appendChild(r),r};let xh=0,wh,jh,_h,Oh,Sh,We,Co,he,Eh,Ph,Nh,Ch,ko;wh=(e,t)=>{xh++;const r=(t==null?void 0:t.particle)||"circle",n=[15,20,25,35,45],a=45;let o=[],i=!1,s=0,c=0;const l=g_();function u(){const O=(t==null?void 0:t.size)||n[Math.floor(Math.random()*n.length)],E=(t==null?void 0:t.speedHorz)||Math.random()*10,C=(t==null?void 0:t.speedUp)||Math.random()*25,A=Math.random()*360,P=Math.random()*35*(Math.random()<=.5?-1:1),M=c-O/2,R=s-O/2,D=Math.random()<=.5?-1:1,k=document.createElement("div");if(r==="circle"){const I="http://www.w3.org/2000/svg",F=document.createElementNS(I,"svg"),V=document.createElementNS(I,"circle");V.setAttributeNS(null,"cx",(O/2).toString()),V.setAttributeNS(null,"cy",(O/2).toString()),V.setAttributeNS(null,"r",(O/2).toString()),V.setAttributeNS(null,"fill",`hsl(${Math.random()*360}, 70%, 50%)`),F.appendChild(V),F.setAttribute("width",O.toString()),F.setAttribute("height",O.toString()),k.appendChild(F)}else k.innerHTML=`<img src="${r}" width="${O}" height="${O}" style="border-radius: 50%">`;k.style.position="absolute",k.style.transform=`translate3d(${R}px, ${M}px, 0px) rotate(${A}deg)`,l.appendChild(k),o.push({direction:D,element:k,left:R,size:O,speedHorz:E,speedUp:C,spinSpeed:P,spinVal:A,top:M})}function d(){o.forEach(O=>{O.left=O.left-O.speedHorz*O.direction,O.top=O.top-O.speedUp,O.speedUp=Math.min(O.size,O.speedUp-1),O.spinVal=O.spinVal+O.spinSpeed,O.top>=Math.max(window.innerHeight,document.body.clientHeight)+O.size&&(o=o.filter(E=>E!==O),O.element.remove()),O.element.setAttribute("style",["position:absolute","will-change:transform",`top:${O.top}px`,`left:${O.left}px`,`transform:rotate(${O.spinVal}deg)`].join(";"))})}let p,m=0;const y=30;function h(){const O=performance.now();i&&o.length<a&&O-m>y&&(u(),m=O),d(),p=requestAnimationFrame(h)}h();const g="ontouchstart"in window,b=g?"touchstart":"mousedown",w=g?"touchend":"mouseup",S=g?"touchmove":"mousemove",x=O=>{var E,C;"touches"in O?(s=(E=O.touches)==null?void 0:E[0].clientX,c=(C=O.touches)==null?void 0:C[0].clientY):(s=O.clientX,c=O.clientY)},j=O=>{x(O),i=!0},_=()=>{i=!1};return e.addEventListener(S,x,{passive:!0}),e.addEventListener(b,j,{passive:!0}),e.addEventListener(w,_,{passive:!0}),e.addEventListener("mouseleave",_,{passive:!0}),()=>{e.removeEventListener(S,x),e.removeEventListener(b,j),e.removeEventListener(w,_),e.removeEventListener("mouseleave",_);const O=setInterval(()=>{p&&o.length===0&&(cancelAnimationFrame(p),clearInterval(O),--xh===0&&l.remove())},500)}},jh=({children:e,options:t})=>{const r=v.useRef(null);return v.useEffect(()=>{if(r.current)return wh(r.current,t)},[t]),N.cloneElement(e,{ref:r})},_h=v.memo(e=>{const{t}=le("flows"),r=yw(s=>s.theme),[n,a]=v.useState(`${Kt.ADD_LLM}`),o=v.useMemo(()=>f.jsxs(Lf,{children:[f.jsx(Zs,{children:f.jsx(jh,{children:f.jsx(ze,{variant:"link",className:"!p-0 !pl-3",children:f.jsx(h_,{width:32,height:32,className:X(r==="dark"?"fill-white":"fill-black")})})})}),v_.map(s=>typeof s=="object"?f.jsxs(Zs,{children:[f.jsx(Qs,{children:s.icon?f.jsx(te,{name:s.icon}):t(`supported_nodes.${s.label}`)}),f.jsx(Bf,{children:s.children.map(c=>f.jsx(Ff,{onClick:()=>a(c),children:t(`supported_nodes.${c.toLowerCase()}`)},c))})]},s.key):f.jsx(Zs,{children:f.jsx(Qs,{value:s,onClick:()=>a(s),children:t(`supported_nodes.${s.toLowerCase()}`)})},s))]}),[t,r]),i=v.useMemo(()=>{switch(n){case Kt.ADD_LLM:return f.jsx(Lj,{...e});case Kt.ADD_PROMPT:return f.jsx(zj,{...e});case Kt.ADD_SCHEMA:return f.jsx(a_,{...e});case Kt.ADD_FEW_SHOT_EXAMPLE:return f.jsx(c_,{...e});case Kt.ADD_TOOL_DEFINITION:return f.jsx(u_,{...e});case Kt.ADD_VECTOR_DATABASE:return f.jsx(p_,{...e});case Kt.ADD_TEXT_DATA:return f.jsx(y_,{...e})}},[e,n]);return f.jsxs(f.Fragment,{children:[o,f.jsx("div",{className:"mt-4",children:i})]})}),Oh=()=>{const[e,t]=v.useState(!1),r=dt(i=>i.currentSession),n=dt(i=>i.getLatestApplications),a=v.useCallback(async(i,s,c,l)=>{var p;const u=(p=s.data)==null?void 0:p.entity;let d=s.type?TF[s.type]:void 0;if(d&&u&&s&&typeof u=="object"&&"id"in u&&!c.has(`${u.id}`)){d=d;const m=await ne(d).save({...u,...u&&typeof u=="object"&&"session_id"in u?{session_id:i.id}:{}});c.set(`${u.id}`,m.id);const y=await ne("FlowNode").save({...s.data.flowNode,session_id:i.id,id:void 0,source_type:d,source_id:m.id});return l.set(`${s.id}`,y.id),{entityName:d,entity:m,node:y}}},[]),o=v.useCallback(async(i,s)=>{try{if(!r)throw new Error("No current session");t(!0);const c=await ne("Session").save({type:DF.StandaloneApp,name:r!=null&&r.name?`${r.name}`:"Standalone",status:IF.Started});if(!c)throw new Error("Failed create standalone session");const l=new Map,u=new Map,d=await a(c,i,l,u);if(!d)throw new Error("Failed to clone main node");await ne("Session").update(c.id,{main_node_id:d.node.id,main_source_id:d.entity.id,main_source_type:d.entityName});for(const{node:p,connectedNodes:m}of s.connections)if(await a(c,p,l,u),m)for(const y of m)await a(c,y,l,u);for(const{connections:p}of s.connections)for(const m of p){const y=u.get(`${m.source}`),h=u.get(`${m.target}`);if(!y||!h)throw new Error("Failed to get connected flow node id");await ne("FlowEdge").save({source:y,target:h,sourceHandle:m.sourceHandle,targetHandle:m.targetHandle,session_id:c.id})}return n(),!0}finally{t(!1)}},[a,r,n]);return{loading:e,createStandaloneSession:o}},Sh=()=>{const[e,t]=v.useState(!1),r=re(o=>o.updateNodes),n=re(o=>o.updateEdges),a=v.useCallback(async o=>{try{t(!0),await ne("FlowNode").delete(o);const i=await ne("FlowEdge").find({where:[{source:o},{target:o}]});return await Promise.all(i.map(s=>ne("FlowEdge").delete(s.id))),await r([{id:o,type:"remove"}]),await n(i.map(s=>({id:s.id,type:"remove"}))),!0}catch{return!1}finally{t(!1)}},[n,r]);return{loading:e,deleteNodeFlow:a}},We=v.memo(({id:e,className:t,enableToStandalone:r,getLinkedConnections:n})=>{const{t:a}=le("common"),{getNode:o}=sr(),{loading:i,deleteNodeFlow:s}=Sh(),{createStandaloneSession:c}=Oh(),{toast:l}=yt(),u=v.useCallback(async()=>{try{await s(e),l({description:a("deleted")})}catch{l({description:a("errors.delete_failed"),variant:"destructive"})}},[s,e,l,a]),d=v.useCallback(async()=>{try{const p=o(e);if(!p)throw new Error("No current node");const m=(n==null?void 0:n(e))||[];await c(p,{connections:m}),l({description:a("standalone_session_created")})}catch(p){RF(p),l({description:a("errors.create_standalone_session_failed"),variant:"destructive"})}},[o,e,n,c,l,a]);return f.jsxs("div",{className:X("flex absolute z-[51] right-0 top-0 h-10",t),children:[r?f.jsx(ze,{className:"!rounded-none !px-2",onClick:d,variant:"ghost",children:f.jsx(te,{name:"package-plus",size:16})}):void 0,f.jsx(vt,{loading:i,className:"!rounded-none !px-2",onClick:u,variant:"ghost",children:f.jsx(te,{name:"trash-2",size:16})})]})}),Co=({className:e,size:t=200,duration:r=15,anchor:n=90,borderWidth:a=1.5,colorFrom:o="#ffaa40",colorTo:i="#9c40ff",delay:s=0})=>f.jsx("div",{style:{"--size":t,"--duration":r,"--anchor":n,"--border-width":a,"--color-from":o,"--color-to":i,"--delay":`-${s}s`},className:X("pointer-events-none absolute inset-0 rounded-[inherit] [border:calc(var(--border-width)*1px)_solid_transparent]","![mask-clip:padding-box,border-box] ![mask-composite:intersect] [mask:linear-gradient(transparent,transparent),linear-gradient(white,white)]","after:absolute after:aspect-square after:w-[calc(var(--size)*1px)] after:animate-border-beam after:[animation-delay:var(--delay)] after:[background:linear-gradient(to_left,var(--color-from),var(--color-to),transparent)] after:[offset-anchor:calc(var(--anchor)*1%)_50%] after:[offset-path:rect(0_auto_auto_0_round_calc(var(--size)*1px))]",e)}),he=v.memo(e=>{const{className:t,...r}=e;return f.jsx(JF,{className:X("!w-2 !h-2 !border-none !rounded-full !bg-slate-700",e.position===me.Top?"!top-[-2px]":"",t),...r})}),Eh=()=>{const e=dt(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async(i,s)=>{var c,l,u,d,p;r(!0);try{const m=(c=i.data)==null?void 0:c.entity;if(!m||!e)throw new Error("LLM or Session not found");const y=await((d=(u=(l=s==null?void 0:s.connectedNodes)==null?void 0:l.find(x=>x.type===z.Schema))==null?void 0:u.data)==null?void 0:d.entity),h=i.position.x,g=i.position.y+(((p=i.measured)==null?void 0:p.height)||0),b=await ne("Thread").save({initial_llm_id:m.id,title:`New thread with ${m.name}`,status:yo.Started,messages:[],session_id:e,schema_id:y==null?void 0:y.id}),w=await n({source_id:b.id,source_type:"Thread",node_type:z.Thread,x:h,y:g+60});if(!w)throw new Error("Failed to create thread node");const S=await a({source:i.id,target:w.id});return{thread:b,flowNode:w,flowEdge:S}}finally{r(!1)}},[a,n,e]);return{loading:t,createThread:o}},Ph=(e,t)=>{var x;const{t:r}=le("flows"),{toast:n}=yt(),[a,o]=v.useState(!1),[i,s]=v.useState(!1),c=Ye(e),l=Sr(j=>j.loadModel),{createThread:u,loading:d}=Eh(),p=re(j=>j.updateNodes),m=re(j=>j.pushSyncNodeQueue),{getNode:y,getNodes:h,getHandleConnections:g}=sr(),b=v.useCallback(async()=>{try{if(s(!0),t.entity.id){const j=await ne("Thread").find({where:{initial_llm_id:t.entity.id}});m("Thread",{where:{source_type:"Thread",source_id:fo(j.map(_=>_.id))}})}}finally{s(!1)}},[(x=t==null?void 0:t.entity)==null?void 0:x.id,m]),w=v.useCallback(async()=>{try{if(o(!0),t.entity&&c){await(l==null?void 0:l(`${t.entity.name}`));const j=h().filter(_=>_.type===z.LLM).map(_=>(_.data.status=Et.Started,{id:_.id,type:"replace",item:_}));c.data.status=Et.Loading,j.push({id:e,type:"replace",item:c}),p(j),await b()}}catch(j){lo(j),n({variant:"destructive",description:r("llm_node.errors.loading_model")})}finally{o(!1)}},[t.entity,h,e,l,c,b,r,n,p]),S=v.useCallback(async()=>{if(t.entity&&c){const j=g({type:"target",nodeId:c.id}).map(_=>y(_.source)).filter(Boolean);await(u==null?void 0:u(c,{connectedNodes:j}))}},[t.entity,c,g,u,y]);return{loadingModel:a,creatingThread:d,queringThreads:i,loadModel:w,createThread:S,queryThreads:b}},it=(e,t)=>{const[r,n]=v.useState(!1),[a,o]=v.useState([]),{deleteElements:i,getNode:s}=sr();Ps({type:"target",nodeId:e,onConnect:l=>{l!=null&&l.length&&o(u=>[...u,...ZF(l)])}});const c=v.useCallback(async(l,u,d,p)=>{try{return await t({id:e,edgeId:l,source:u,target:d,connection:p})}catch{return{deleteEdgeId:l}}},[t,e]);v.useEffect(()=>{!(a!=null&&a.length)||r||(async()=>{try{n(!0);const l=[...a];o([]);const u=[],d=s(e);await Promise.all(l.map(async p=>{const m="edgeId"in p?p.edgeId:void 0,y=s(p.source);if(!y||!d)return;const h=await c(`${m}`,y,d,p);h!=null&&h.deleteEdgeId&&u.push(...Array.isArray(h.deleteEdgeId)?h.deleteEdgeId:[h.deleteEdgeId])})),u!=null&&u.length&&await i({edges:u.map(p=>({id:p}))})}finally{n(!1)}})()},[i,s,e,r,c,a])},Nh=e=>{const t=v.useCallback(async()=>{},[]);it(e,t)},Ch=v.memo(e=>{var h,g,b,w;const{id:t,data:r,isConnectable:n}=e,[a,o]=v.useState(),{t:i}=le("flows"),{createThread:s,loadModel:c,queringThreads:l,queryThreads:u,loadingModel:d}=Ph(t,r);Nh(t);const p=[Et.Loading,Et.Downloading].includes(r.status);v.useEffect(()=>{var S;a||!((S=r==null?void 0:r.entity)!=null&&S.name)||at(()=>import("./index-0PuXI_Dv.js").then(async x=>(await x.__tla,x)),__vite__mapDeps([0,1,2,3,4])).then(async({hasModelInCache:x,functionCallingModelIds:j,prebuiltAppConfig:_})=>{var E,C;const O=await x((E=r==null?void 0:r.entity)==null?void 0:E.name);o({hasCache:O,isFunctionCalling:j.includes((C=r==null?void 0:r.entity)==null?void 0:C.name),info:_.model_list.find(A=>{var P;return A.model_id===((P=r==null?void 0:r.entity)==null?void 0:P.name)})})})},[(h=r==null?void 0:r.entity)==null?void 0:h.name,a]);const m=v.useMemo(()=>{var S,x;switch(r.status){case Et.Downloading:return f.jsx(te,{className:"animate-spin w-7 h-7",name:"arrow-big-down-dash"});case Et.Loaded:return f.jsx(uo,{name:((S=r.entity)==null?void 0:S.name)||"brain",className:"w-7 h-7"});case Et.Loading:return f.jsx(te,{className:"animate-spin w-7 h-7",name:"loader-circle"});default:return f.jsx(uo,{name:((x=r.entity)==null?void 0:x.name)||"brain",className:"w-7 h-7"})}},[(g=r.entity)==null?void 0:g.name,r.status]),y=v.useMemo(()=>p?null:d?f.jsx(ze,{disabled:!0,className:"w-full mt-4",children:f.jsx(te,{className:"animate-spin",size:24,name:"loader-circle"})}):r.status===Et.Loaded?f.jsx(ze,{onClick:s,className:"mt-4 w-full",children:i("llm_node.create_thread_button")}):f.jsxs("div",{className:"flex gap-2 mt-4",children:[a!=null&&a.hasCache?f.jsx(vt,{loading:l,onClick:u,children:f.jsx(te,{size:24,name:"message-square-more"})}):null,f.jsx(ze,{disabled:d,onClick:c,className:"w-full",children:i(a!=null&&a.hasCache?"llm_node.load_model_button":"llm_node.download_model_button")})]}),[p,d,r.status,a==null?void 0:a.hasCache,l,u,c,i,s]);return f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsx(We,{id:t}),f.jsxs(Er,{className:"flex justify-center",children:[m,f.jsxs("div",{className:"ml-2 pt-1 max-w-lg",children:[f.jsx(Pr,{className:"flex gap-2 items-center pr-6",children:`${((b=r==null?void 0:r.entity)==null?void 0:b.name)||""}`}),f.jsx(po,{className:"max-w-full",children:`${r.label||""}`}),f.jsx("div",{className:"max-w-full mt-2 flex-wrap flex gap-1",children:f.jsx(Es,{model:a==null?void 0:a.info,isFunctionCalling:(a==null?void 0:a.isFunctionCalling)||!1,name:(w=r==null?void 0:r.entity)==null?void 0:w.name,isCached:(a==null?void 0:a.hasCache)||!1})}),y]})]}),p?f.jsx(Co,{className:"rounded-lg"}):void 0]}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:n})]})}),ko=v.memo(({tags:e,disabled:t,loading:r,onSubmit:n})=>{const{t:a}=le("components"),o=async i=>{try{return await n(i),!0}catch{return!1}};return f.jsxs(Re,{className:"min-w-80",children:[f.jsx(Ze,{children:f.jsx(st,{children:a("add_message_card.title")})}),f.jsxs(Qe,{children:[f.jsx("div",{className:"grid w-full gap-1.5",children:f.jsx(QF,{onSubmit:o,disabled:t||r,placeholder:a("add_message_card.placeholder")})}),e?f.jsx("div",{className:"mt-2 gap-1 flex flex-wrap",children:e}):null]})]})});class b_ extends LF{get lc_attributes(){return{partialVariables:void 0}}constructor(t){super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:r}=t;if(r.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,t)}async mergePartialAndUserVariables(t){const r=this.partialVariables??{},n={};for(const[a,o]of Object.entries(r))typeof o=="string"?n[a]=o:n[a]=await o();return{...n,...t}}async invoke(t,r){return this._callWithConfig(n=>this.formatPromptValue(n),t,{...r,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(t){switch(t._type){case"prompt":{const{PromptTemplate:r}=await at(async()=>{const{PromptTemplate:n}=await Promise.resolve().then(()=>Lh);return{PromptTemplate:n}},void 0);return r.deserialize(t)}case void 0:{const{PromptTemplate:r}=await at(async()=>{const{PromptTemplate:n}=await Promise.resolve().then(()=>Lh);return{PromptTemplate:n}},void 0);return r.deserialize({...t,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:r}=await at(async()=>{const{FewShotPromptTemplate:n}=await import("./few_shot-BLP444lC.js").then(async a=>(await a.__tla,a));return{FewShotPromptTemplate:n}},__vite__mapDeps([5,2,3,1,4]));return r.deserialize(t)}default:throw new Error(`Invalid prompt type in config: ${t._type}`)}}}class x_ extends BF{}class w_ extends x_{static lc_name(){return"StringPromptValue"}constructor(t){super({value:t}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=t}toString(){return this.value}toChatMessages(){return[new vw(this.value)]}}Ud=class extends b_{async formatPromptValue(e){const t=await this.format(e);return new w_(t)}};function kh(){Ed.escape=e=>e}let Pc,Mh,Ah,Th,Dh,Mo,Ih,Rh;Pc=e=>{const t=e.split(""),r=[],n=(o,i)=>{for(let s=i;s<t.length;s+=1)if(o.includes(t[s]))return s;return-1};let a=0;for(;a<t.length;)if(t[a]==="{"&&a+1<t.length&&t[a+1]==="{")r.push({type:"literal",text:"{"}),a+=2;else if(t[a]==="}"&&a+1<t.length&&t[a+1]==="}")r.push({type:"literal",text:"}"}),a+=2;else if(t[a]==="{"){const o=n("}",a);if(o<0)throw new Error("Unclosed '{' in template.");r.push({type:"variable",name:t.slice(a+1,o).join("")}),a=o+1}else{if(t[a]==="}")throw new Error("Single '}' in template.");{const o=n("{}",a),i=(o<0?t.slice(a):t.slice(a,o)).join("");r.push({type:"literal",text:i}),a=o<0?t.length:o}}return r},Mh=e=>e.map(t=>t[0]==="name"?{type:"variable",name:t[1].includes(".")?t[1].split(".")[0]:t[1]}:["#","&","^",">"].includes(t[0])?{type:"variable",name:t[1]}:{type:"literal",text:t[1]}),Ah=e=>{kh();const t=Ed.parse(e);return Mh(t)},Th=(e,t)=>Pc(e).reduce((r,n)=>{if(n.type==="variable"){if(n.name in t)return r+t[n.name];throw new Error(`(f-string) Missing value for input ${n.name}`)}return r+n.text},""),Dh=(e,t)=>(kh(),Ed.render(e,t)),Mo={"f-string":Th,mustache:Dh},Ih={"f-string":Pc,mustache:Ah},an=(e,t,r)=>Mo[t](e,r),Rh=(e,t)=>Ih[t](e),Hd=(e,t,r)=>{if(!(t in Mo)){const n=Object.keys(Mo);throw new Error(`Invalid template format. Got \`${t}\`;
                         should be one of ${n}`)}try{const n=r.reduce((a,o)=>(a[o]="foo",a),{});Array.isArray(e)?e.forEach(a=>{if(a.type==="text")an(a.text,t,n);else if(a.type==="image_url")if(typeof a.image_url=="string")an(a.image_url,t,n);else{const o=a.image_url.url;an(o,t,n)}else throw new Error(`Invalid message template received. ${JSON.stringify(a,null,2)}`)}):an(e,t,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}},Cr=class extends Ud{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),Hd(this.template,this.templateFormat,t)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return an(this.template,this.templateFormat,t)}static fromExamples(e,t,r,n=`

`,a=""){const o=[a,...e,t].join(n);return new Cr({inputVariables:r,template:o})}static fromTemplate(e,t){const{templateFormat:r="f-string",...n}=t??{},a=new Set;return Rh(e,r).forEach(o=>{o.type==="variable"&&a.add(o.name)}),new Cr({inputVariables:[...a],templateFormat:r,template:e,...n})}async partial(e){const t=this.inputVariables.filter(a=>!(a in e)),r={...this.partialVariables??{},...e},n={...this,inputVariables:t,partialVariables:r};return new Cr(n)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new Cr({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}};const Lh=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:Cr},Symbol.toStringTag,{value:"Module"})),Bh=(e,t,r,n=[],a)=>{const o=e.map(i=>a.getNode(i));for(const i of o){if(!i)continue;const s=a.getHandleConnections({type:"target",nodeId:i.id});if(r.push(...s),i.type===z.Thread){n.push(i.id),t.push(i);continue}else if(i.type!==z.Message){n.push(i.id);continue}else if(n.includes(i.id))continue;n.push(i.id),t.push(i),s.length&&Bh(s.map(c=>c.source),t,r,n,a)}return{nodes:t,connections:r}},Fh=(e,t)=>{const r=t.getHandleConnections({nodeId:e.id,type:"target"}),n=r.map(d=>{const p=t.getNode(d.source);return p?{connections:t.getHandleConnections({nodeId:p.id,type:"target"}),node:p}:void 0}),a=n.filter(d=>{var p;return((p=d.node)==null?void 0:p.type)===z.Prompt}),o=[];a!=null&&a.length&&a.forEach(d=>{var m;const p=(m=d.connections)==null?void 0:m.map(y=>t.getNode(y.source)).filter(Boolean);o.push({node:d.node,connections:d.connections,connectedNodes:p})});const i=n.filter(d=>{var p;return((p=d.node)==null?void 0:p.type)===z.ToolDefinition}),s=[];i!=null&&i.length&&i.forEach(d=>{var m;const p=(m=d.connections)==null?void 0:m.map(y=>t.getNode(y.source)).filter(Boolean);p!=null&&p.find(y=>y.type===z.Schema)&&s.push({node:d.node,connections:d.connections,connectedNodes:p})});const c=n.filter(d=>{var p;return((p=d.node)==null?void 0:p.type)===z.PlaceHolder}),l=[];c!=null&&c.length&&c.forEach(d=>{var m;const p=(m=d.connections)==null?void 0:m.map(y=>t.getNode(y.source)).filter(Boolean);p&&l.push({node:d.node,connections:d.connections,connectedNodes:p})});const u=n.find(d=>{var p;return((p=d.node)==null?void 0:p.type)===z.Schema});return{thread:{node:e,connections:r},llm:n.find(d=>{var p;return((p=d.node)==null?void 0:p.type)===z.LLM}),schemas:u?[u]:[],prompts:o,tools:s,placeholders:l}},zh=({getNode:e,getHandleConnections:t})=>{const{t:r}=le("create_new_message"),[n,a]=v.useState(!1),o=re(y=>y.createOrUpdateFlowNode),i=re(y=>y.createOrUpdateFlowEdge),s=_s(y=>y.similaritySearchWithScore),c=Sr(y=>y.getCurrentModelInfo),{stream:l}=ez(),u=v.useCallback(async({content:y,threadId:h,sourceId:g,initialX:b,initialY:w,initialLLMId:S})=>{const x=await ne("Message").save({thread_id:h,content:y,role:ft.Human,status:Ht.Started,llm_id:S});if(!x)throw new Error("Failed to save message");const j=await o({source_id:x.id,source_type:"Message",node_type:z.Message,x:b,y:w+80});if(!j)throw new Error("Failed to save human message node");await i({source:g,target:j.id});const _=await ne("Message").save({thread_id:h,content:r("initial_ai_message"),role:ft.AI,status:Ht.Inprogress,llm_id:S,parent_message_id:x.id});if(!_)throw new Error("Failed to save message");const O=await o({source_id:_.id,source_type:"Message",node_type:z.Message,x:b,y:w+250});if(!O)throw new Error("Failed to save ai message node");return await i({source:j.id,target:O.id}),{aiMessage:_,humanMessage:x,aiMessageNode:O,humanMessageNode:j}},[i,o,r]),d=v.useCallback(async(y,h)=>{const{placeholders:g}=h;if(!(g!=null&&g.length))return[];const b=[];return await Promise.all(g.map(async w=>{var x,j,_,O,E,C,A,P,M,R,D,k;const S=(x=w.node.data)==null?void 0:x.entity;if(S)switch(S.placeholder_type){case Ns.VECTOR_DATABASE_RETREIVER:{const I=(j=w.connectedNodes)==null?void 0:j.find(H=>H.type===z.VectorDatabase),F=(_=I==null?void 0:I.data)==null?void 0:_.entity,V=(C=(E=(O=w.connectedNodes)==null?void 0:O.find(H=>H.type===z.Prompt))==null?void 0:E.data)==null?void 0:C.entity;if(!V||!F||!I)return;const U=(P=(A=t({nodeId:I.id,type:"target"}).map(H=>e(H.source)).find(H=>(H==null?void 0:H.type)&&[z.JSONLData,z.CSVData].includes(H==null?void 0:H.type)))==null?void 0:A.data)==null?void 0:P.entity;if(!U)return;const Q=(M=S.metadata)!=null&&M.k?+((R=S.metadata)==null?void 0:R.k):1;let q=(D=S.metadata)!=null&&D.minimalScore?+((k=S.metadata)==null?void 0:k.minimalScore):void 0;q&&q>1&&(q=q/100);const T=await s({databaseId:F.id,dataSourceId:U.id,dataSourceType:wd(U)},y.humanMessage.content,Q);if(!T)return[];const Y=new Cr({template:V.content,inputVariables:["context"]});b.push(new FF(await Y.format({context:q?T.filter(([,H])=>H>=q).map(([H])=>H.pageContent).join(`
`):T.map(([H])=>H.pageContent).join(`
`)})))}}})),b},[t,e,s]),p=v.useCallback(async(y,h,g,{onMessageUpdate:b})=>{const{prompts:w,tools:S,schemas:x,placeholders:j}=h,_=[];j!=null&&j.length&&_.push(...await d(y,h));const{history:O,systems:E}=tz(g,w),C=[...E,..._,...O,new vw(y.humanMessage.content)],{lastChunk:A,content:P}=await l(C,{tools:S,schemas:x,onMessageUpdate:({content:M})=>{b==null||b({id:y.aiMessageNode.id,nodeData:{loading:!0,content:M}})}});return y.aiMessage.content=P,y.aiMessage.metadata=JSON.stringify({message:A}),b==null||b({id:y.aiMessageNode.id,nodeData:{content:P,loading:!1,entity:y.aiMessage}}),y.aiMessage.id&&await ne("Message").update(y.aiMessage.id,{content:P,metadata:JSON.stringify({message:A})}),P},[d,l]),m=v.useCallback(async(y,h,g)=>{var _,O,E;const{nodes:b}=Bh([y.id],[],[],[],{getNode:e,getHandleConnections:t}),w=b.find(C=>C.type===z.Thread),S=w==null?void 0:w.data.entity;if(!y||!S||!w)throw new Error("Source or thread is not found");if(!await c())throw new Error("Model is not loaded yet");const x=Fh(w,{getNode:e,getHandleConnections:t});if(!(x!=null&&x.thread))throw new Error("Thread node is not found");let j;try{a(!0);const C=((_=y.position)==null?void 0:_.x)||0,A=(((O=y.position)==null?void 0:O.y)||0)+(((E=y.measured)==null?void 0:E.height)||0);return j=await u({content:h,initialX:C,initialY:A,sourceId:y.id,threadId:S.id,initialLLMId:S.initial_llm_id}),await p(j,x,b,g),await ne("Message").update(`${j.aiMessage.id}`,{status:Ht.Success}),j.aiMessage.status=Ht.Success,g.onMessageUpdate({id:j.aiMessageNode.id,nodeData:{entity:j.aiMessage,loading:!1}}),!0}catch{j!=null&&j.aiMessage&&await ne("Message").update(`${j.aiMessage.id}`,{status:Ht.Failed,content:r("errors.ai_message_content_failed")}),j!=null&&j.aiMessageNode.id&&(g==null||g.onMessageUpdate({id:j.aiMessageNode.id,nodeData:{content:r("errors.ai_message_content_failed"),loading:!1}}))}finally{a(!1)}},[c,t,e,u,p,r]);return{loading:n,createMessage:m}},j_=(e,t)=>{const r=Ye(e),{t:n}=le("flows"),{getNode:a,getHandleConnections:o}=sr(),i=re(p=>p.updateNodes),{createMessage:s,loading:c}=zh({getNode:a,getHandleConnections:o}),l=v.useCallback(p=>{if(!p.id)return;const m=a(p.id);!m||!p.nodeData||i([{id:m.id,type:"replace",item:{...m,data:{...m.data,...Ow(p.nodeData,Sw)}}}])},[a,i]),u=v.useCallback(async p=>{if(r&&t.entity)try{await s(r,p,{onMessageUpdate:l})}catch(m){if(m instanceof Error&&m.message.includes("LLM_NOT_LOADED_YET"))return Qn({variant:"destructive",title:n("thread_node.errors.llm_not_loaded_yet")});Qn({variant:"destructive",title:`${m}`})}},[r,t.entity,s,l,n]),d=v.useCallback(p=>{const m=a(p);if(!m)return[];const y=[],h=Fh(m,{getNode:a,getHandleConnections:o});return h.thread&&y.push({node:h.thread.node,connectedNodes:[],connections:h.thread.connections}),h.prompts&&y.push(...h.prompts.map(g=>({node:g.node,connectedNodes:g.connectedNodes,connections:g.connections}))),h.schemas&&y.push(...h.schemas.map(g=>({node:g.node,connectedNodes:[],connections:g.connections}))),h.placeholders&&y.push(...h.placeholders.map(g=>({node:g.node,connectedNodes:[],connections:g.connections}))),h.llm&&y.push(h.llm),y},[o,a]);return{loading:c,createMessage:u,getLinkedConnections:d}},__=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===z.Prompt&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===z.LLM&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===z.Schema&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});const s=o.data.entity,c=o.data.entity;await ne("Thread").update(s.id,{schema_id:c.id});return}else if((a==null?void 0:a.type)===z.ToolDefinition&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===z.VectorDatabase&&(o==null?void 0:o.type)===z.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===z.PlaceHolder&&(o==null?void 0:o.type)===z.Thread&&a.data.entity.placeholder_type===Ns.VECTOR_DATABASE_RETREIVER){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);it(e,r)},O_=v.memo(e=>{const{id:t,data:r,isConnectable:n}=e,{t:a}=le("flows"),[o,i]=v.useState(!1),s=Ps({type:"source"}),c=Ps({type:"target"}),{getNode:l}=sr(),{loading:u,createMessage:d,getLinkedConnections:p}=j_(t,r);__(t);const m=v.useCallback(async(...b)=>(i(!1),await d(...b)),[d]),y=v.useMemo(()=>s.length>0,[s]),h=v.useCallback(()=>{i(b=>!b)},[]),g=v.useMemo(()=>{var w,S;const b=c.map((x,j)=>{var O;const _=l(x.source);if((_==null?void 0:_.type)===z.Schema)return f.jsx(nn,{children:a("thread_node.structured_output")},`${j}`);if((_==null?void 0:_.type)===z.Prompt){const E=_.data.entity;return f.jsx(nn,{children:a(E.type===It.FewShotExample?"thread_node.prompts.few_shot_example":`thread_node.prompts.${E.role.toLowerCase()}`)},`${j}`)}else if((_==null?void 0:_.type)===z.PlaceHolder&&((O=_.data.entity)==null?void 0:O.placeholder_type)===Ns.VECTOR_DATABASE_RETREIVER)return f.jsx(nn,{children:a("thread_node.vector_database_retriever")},`${j}`)}).filter(Boolean);return e.data.entity&&!((S=(w=e.data.entity)==null?void 0:w.messages)!=null&&S.length)&&!y?f.jsx(ko,{disabled:u,loading:u,onSubmit:m,tags:b}):b!=null&&b.length?f.jsxs(Re,{className:"p-4 pt-2",children:[f.jsx(st,{className:"mb-2",children:a("thread_node.title")}),f.jsx("div",{className:"flex gap-1.5",children:b}),f.jsx("div",{className:"mt-4 w-full flex justify-end",children:f.jsxs(ze,{onClick:h,variant:"outline",children:[f.jsx(te,{name:o?"copy-minus":"copy-plus"}),a(o?"thread_node.hide":"thread_node.clone")]})})]}):f.jsx("div",{className:"w-12 h-10"})},[y,l,m,h,u,e.data.entity,o,a,c]);return f.jsxs("div",{children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(We,{id:t,enableToStandalone:!0,getLinkedConnections:p}),g,o?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),f.jsx("div",{className:"absolute mt-[30px] w-full",children:f.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:f.jsx(ko,{disabled:u,loading:u,onSubmit:m})})})]}):void 0]}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:n})]})}),Te={},pr=typeof globalThis>"u"?window:globalThis,se={status:"created"},Ne={};Te.debug=e=>{Gt=typeof e=="function"?e:()=>{}};let Gt=()=>{};Te.detect=()=>$h();const $h=()=>{const e={};["speechSynthesis","speechSynthesisUtterance","speechSynthesisVoice","speechSynthesisEvent","speechSynthesisErrorEvent"].forEach(r=>{e[r]=M_(r)}),e.onvoiceschanged=Ao(e.speechSynthesis,"onvoiceschanged");const t=Ao(e.speechSynthesisUtterance,"prototype");return Cc.forEach(r=>{const n=`on${r}`;e[n]=t&&Ao(e.speechSynthesisUtterance.prototype,n)}),Ne.isAndroid=S_(),Ne.isFirefox=P_()||E_(),Ne.isSafari=N_(),Gt(`is android: ${!!Ne.isAndroid}`),Gt(`is firefox: ${!!Ne.isFirefox}`),Gt(`is safari: ${!!Ne.isSafari}`),e},Ao=(e={},t)=>Object.hasOwnProperty.call(e,t)||t in e||!!e[t],Nc=()=>(pr.navigator||{}).userAgent||"",S_=()=>/android/i.test(Nc()),E_=()=>/kaios/i.test(Nc()),P_=()=>typeof pr.InstallTrigger<"u"?!0:/firefox/i.test(Nc()),N_=()=>typeof pr.GestureEvent<"u",C_=["webKit","moz","ms","o"],k_=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`,M_=e=>{const t=k_(e),r=C_.map(a=>`${a}${t}`),n=[e,t].concat(r).find(A_);return pr[n]},A_=e=>pr[e];Te.status=()=>({...se}),Te.filterVoices=({name:e,language:t,localService:r,voiceURI:n})=>{const a=se.voices||[],o=typeof e<"u",i=typeof n<"u",s=typeof r<"u",c=typeof t<"u",l=c&&t.split(/[-_]+/g)[0].toLocaleLowerCase();return a.filter(u=>{if(o&&u.name.includes(e)||i&&u.voiceURI.includes(n)||s&&u.localService===r)return!0;if(c){const d=u.lang&&u.lang.toLocaleLowerCase();return d&&(d===l||d.indexOf(`${l}-`)>-1||d.indexOf(`${l}_`)>-1)}return!1})};const ut=e=>{Gt(e),se.status=e};Te.init=function({maxTimeout:e=5e3,interval:t=250,quiet:r,maxLengthExceeded:n}={}){return new Promise((a,o)=>{if(se.initialized)return a(!1);Te.reset(),ut("init: start");let i,s,c=!1;se.maxLengthExceeded=n||"warn";const l=h=>(ut(`init: failed (${h})`),clearInterval(i),se.initialized=!1,r?a(!1):o(new Error(`EasySpeech: ${h}`))),u=()=>{if(!c)return ut("init: complete"),c=!0,se.initialized=!0,clearInterval(i),p.onvoiceschanged=null,s&&p.removeEventListener("voiceschanged",s),a(!0)},d=$h();if(!(d.speechSynthesis&&d.speechSynthesisUtterance))return l("browser misses features");Object.keys(d).forEach(h=>{se[h]=d[h]});const{speechSynthesis:p}=se,m=()=>{const h=p.getVoices()||[];if(h.length>0){if(se.voices=h,ut(`voices loaded: ${h.length}`),se.defaultVoice=h.find(g=>g.default),!se.defaultVoice){const g=(pr.navigator||{}).language||"",b=Te.filterVoices({language:g});b.length>0&&(se.defaultVoice=b[0])}return se.defaultVoice||(se.defaultVoice=h[0]),!0}return!1};if(ut("init: voices"),m())return u();const y=()=>{ut("init: voices (timer)");let h=0;i=setInterval(()=>{if(m())return u();if(h>e)return l("browser has no voices (timeout)");h+=t},t)};d.onvoiceschanged?(ut("init: voices (onvoiceschanged)"),p.onvoiceschanged=()=>m()?u():y(),setTimeout(()=>m()?u():l("browser has no voices (timeout)"),e)):(Ao(p,"addEventListener")&&(ut("init: voices (addEventListener)"),s=()=>{if(m())return u()},p.addEventListener("voiceschanged",s)),y())})};const Ir=({force:e}={})=>{if(!e&&!se.initialized)throw new Error("EasySpeech: not initialized. Run EasySpeech.init() first")};Te.voices=()=>(Ir(),se.voices),Te.on=e=>(Ir(),Cc.forEach(t=>{const r=e[t];hr.handler(r)&&(se.handlers[t]=r)}),{...se.handlers});const Cc=["boundary","end","error","mark","pause","resume","start"],hr={isNumber:e=>typeof e=="number"&&!Number.isNaN(e),pitch:e=>hr.isNumber(e)&&e>=0&&e<=2,volume:e=>hr.isNumber(e)&&e>=0&&e<=1,rate:e=>hr.isNumber(e)&&e>=.1&&e<=10,text:e=>typeof e=="string",handler:e=>typeof e=="function",voice:e=>e&&e.lang&&e.name&&e.voiceURI};Te.defaults=e=>(Ir(),e&&(se.defaults=se.defaults||{},["voice","pitch","rate","volume"].forEach(t=>{const r=e[t],n=hr[t];n(r)&&(se.defaults[t]=r)})),{...se.defaults});const T_=e=>{var t,r;return e||((t=se.defaults)==null?void 0:t.voice)||se.defaultVoice||((r=se.voices)==null?void 0:r[0])},D_=e=>{const t=se.speechSynthesisUtterance;return new t(e)};Te.speak=({text:e,voice:t,pitch:r,rate:n,volume:a,force:o,infiniteResume:i,noStop:s,...c})=>{if(Ir({force:o}),!hr.text(e))throw new Error("EasySpeech: at least some valid text is required to speak");if(new TextEncoder().encode(e).length>4096){const u="EasySpeech: text exceeds max length of 4096 bytes, which will not work with some voices.";switch(se.maxLengthExceeded){case"none":break;case"error":throw new Error(u);case"warn":default:console.warn(u)}}const l=u=>{var m;const[d,p]=Object.entries(u)[0];return hr[d](p)?p:(m=se.defaults)==null?void 0:m[d]};return new Promise((u,d)=>{ut("init speak");const p=D_(e),m=T_(t);m&&(p.voice=m,p.lang=m.lang,p.voiceURI=m.voiceURI),p.text=e,p.pitch=l({pitch:r}),p.rate=l({rate:n}),p.volume=l({volume:a});const y=p.voice&&p.voice.name&&p.voice.name.toLocaleLowerCase().includes("(natural)");I_(p,{isMsNatural:y}),Cc.forEach(h=>{var b;const g=c[h];hr.handler(g)&&p.addEventListener(h,g),(b=se.handlers)!=null&&b[h]&&p.addEventListener(h,se.handlers[h])}),p.addEventListener("start",()=>{Ne.paused=!1,Ne.speaking=!0;const h=!y&&!Ne.isFirefox&&!Ne.isSafari&&Ne.isAndroid!==!0;(typeof i=="boolean"?i:h)&&Vh(p)}),p.addEventListener("end",h=>{ut("speak complete"),Ne.paused=!1,Ne.speaking=!1,clearTimeout(pn),u(h)}),p.addEventListener("error",(h={})=>{ut(`speak failed: ${h.message}`),Ne.paused=!1,Ne.speaking=!1,clearTimeout(pn),d(h)}),clearTimeout(pn),s!==!0&&se.speechSynthesis.cancel(),setTimeout(()=>se.speechSynthesis.speak(p),10)})};const I_=({voice:e,pitch:t,rate:r,volume:n},{isMsNatural:a=!1}={})=>{Gt(`utterance: voice=${e==null?void 0:e.name} volume=${n} rate=${r} pitch=${t} isMsNatural=${a}`)};let pn;function Vh(e){if(!e&&pn)return Gt("force-clear timeout"),pr.clearTimeout(pn);const{paused:t,speaking:r}=se.speechSynthesis,n=r||Ne.speaking,a=t||Ne.paused;Gt(`resumeInfinity isSpeaking=${n} isPaused=${a}`),n&&!a&&(se.speechSynthesis.pause(),se.speechSynthesis.resume()),pn=pr.setTimeout(function(){Vh(e)},5e3)}Te.cancel=()=>{Ir(),ut("cancelling"),se.speechSynthesis.cancel(),Ne.paused=!1,Ne.speaking=!1},Te.resume=()=>{Ir(),ut("resuming"),Ne.paused=!1,Ne.speaking=!0,se.speechSynthesis.resume()},Te.pause=()=>{if(Ir(),ut("pausing"),Ne.isAndroid)return Gt("patch pause on Android with cancel"),se.speechSynthesis.cancel();se.speechSynthesis.pause(),Ne.paused=!0,Ne.speaking=!1},Te.reset=()=>{Object.assign(se,{status:"reset",initialized:!1,speechSynthesis:null,speechSynthesisUtterance:null,speechSynthesisVoice:null,speechSynthesisEvent:null,speechSynthesisErrorEvent:null,voices:null,defaultVoice:null,defaults:{pitch:1,rate:1,volume:1,voice:null},handlers:{}})};class gt{constructor(){}static getInstance(){return gt.instance||(gt.instance=new gt),gt.instance}static async init(){try{gt.promise=Te.init({maxTimeout:5e3,interval:100}),await gt.promise}finally{gt.promise=void 0}}async speak(t){gt.promise&&await gt.promise;const r=Te.status();if(!("initialized"in r)||!r.initialized)throw new Error("EasySpeech is not ready");return Te.speak({text:t,pitch:1,rate:1,volume:1,voice:Te.voices()[0]}).catch(n=>{lo("Error during speech synthesis:",n)})}async stop(){return Te.cancel()}}gt.init();const Uh=gt.getInstance();function R_({data:e,onNewThread:t,loading:r,showThread:n}){var o;const{t:a}=le("flows");return f.jsxs(Er,{className:"flex min-w-52",children:[f.jsx(te,{size:24,name:"user"}),f.jsxs("div",{className:"ml-2 max-w-full w-full",children:[f.jsx(Pr,{children:"Human"}),f.jsx(po,{children:`${e.content||((o=e.entity)==null?void 0:o.content)||""}`}),t?f.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:f.jsxs(ze,{onClick:t,disabled:r,variant:"outline",children:[f.jsx(te,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]})]})}const L_=v.lazy(()=>at(()=>import("./index-DN5Sxtf9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([6,7,2,3,8,9])));function B_({data:e,onNewThread:t,loading:r,showThread:n}){var i,s,c,l,u,d,p,m;const{t:a}=le("flows"),o=v.useMemo(()=>{var y;try{return JSON.parse(((y=e==null?void 0:e.entity)==null?void 0:y.metadata)||"{}")}catch{return{}}},[(i=e==null?void 0:e.entity)==null?void 0:i.metadata]);return f.jsxs(Er,{className:"flex min-w-52",children:[f.jsx(te,{className:X(e.loading?"animate-spin":void 0),size:24,name:e.loading?"loader-circle":"bot"}),f.jsx(te,{name:n?"minus":"plus",size:24}),f.jsxs("div",{className:"ml-2 w-full max-w-full",children:[f.jsx(Pr,{children:a(`message_node.message_roles.${(c=(s=e.entity)==null?void 0:s.role)==null?void 0:c.toLowerCase()}`)}),f.jsx(v.Suspense,{fallback:f.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:f.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx(L_,{className:"!text-sm [&_p]:leading-relaxed !max-w-full !bg-transparent !text-inherit !font-sans",source:`${e.content||((l=e.entity)==null?void 0:l.content)||""}`})}),Array.isArray((u=o==null?void 0:o.message)==null?void 0:u.tool_calls)&&((p=(d=o==null?void 0:o.message)==null?void 0:d.tool_calls)!=null&&p.length)?(m=o==null?void 0:o.message)==null?void 0:m.tool_calls.map((y,h)=>f.jsx(nn,{children:a("message_node.tool_call",{name:y.name,args:Object.entries(y.args).map(([g,b])=>`"${g}": "${b}"`).join(", ")})},`${y.name}_${h}`)):null,t?f.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:f.jsxs(ze,{onClick:t,disabled:r,variant:"outline",children:[f.jsx(te,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]}),e.loading?f.jsx(Co,{size:350,duration:10}):void 0]})}const F_=e=>{const{t}=le("flows"),r=Ye(e),n=re(u=>u.updateNodes),{getNode:a,getHandleConnections:o}=sr(),{createMessage:i,loading:s}=zh({getNode:a,getHandleConnections:o}),c=v.useCallback(u=>{if(!u.id)return;const d=a(u.id);!d||!u.nodeData||n([{id:d.id,type:"replace",item:{...d,data:{...d.data,...Ow(u.nodeData,Sw)}}}])},[a,n]),l=v.useCallback(async u=>{if(r)try{await i(r,u,{onMessageUpdate:c})}catch(d){if(d instanceof Error&&d.message.includes("LLM_NOT_LOADED_YET"))return Qn({variant:"destructive",title:t("message_node.errors.llm_not_loaded_yet")});Qn({variant:"destructive",title:t("message_node.errors.create_message")})}},[r,t,i,c]);return{loading:s,createMessage:l}},Hh=()=>{const e=re(r=>r.createOrUpdateFlowNode),t=re(r=>r.createOrUpdateFlowEdge);return{createIdieMessage:v.useCallback(async(r,n,a,o)=>{var m,y,h,g,b;if(!r||!n)return;const i=(y=(m=o==null?void 0:o.promptNode)==null?void 0:m.data)==null?void 0:y.entity,s=((h=r.position)==null?void 0:h.x)||0,c=(((g=r.position)==null?void 0:g.y)||0)+(((b=r.measured)==null?void 0:b.height)||0),l=await ne("Message").save({thread_id:n.id,content:a,role:(i==null?void 0:i.role)||ft.Human,status:Ht.Started,llm_id:n.initial_llm_id});if(!l)throw new Error("Failed to save message");const u=await e({source_id:l.id,source_type:"Message",node_type:z.Message,x:s,y:c});if(!u)throw new Error("Failed to save message node");const d=await t({source:r.id,target:u.id});let p;return o!=null&&o.promptNode&&(p=await t({source:o==null?void 0:o.promptNode.id,target:u.id})),{message:l,edgeToPrompt:p,messageNode:u,messageEdge:d}},[e,t])}},z_=e=>{const{createIdieMessage:t}=Hh(),r=v.useCallback(async({edgeId:n,source:a,target:o})=>{var i,s;try{if((a==null?void 0:a.type)===z.Prompt&&(o==null?void 0:o.type)===z.Message){const c=(i=o==null?void 0:o.data)==null?void 0:i.entity,l=(s=a==null?void 0:a.data)==null?void 0:s.entity;if(!l||!c||!o)return{deleteEdgeId:n};await t(o,{id:c==null?void 0:c.thread_id,title:"",status:yo.Started,initial_llm_id:c.llm_id,session_id:l.session_id},l.content,{promptNode:a});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);it(e,r)},$_=v.memo(e=>{var S,x,j;const{id:t,data:r,isConnectable:n}=e,[a,o]=v.useState(!1),[i,s]=v.useState(!1),{t:c}=le("common"),l=Ps({type:"source"}),{loading:u,createMessage:d}=F_(t),{toast:p}=yt();z_(t);const m=v.useCallback(async(..._)=>{const O=await d(..._);return o(!1),O},[d]),y=v.useMemo(()=>l.length===0,[l]),h=v.useCallback(()=>{var _;(_=r.entity)!=null&&_.content&&(navigator.clipboard.writeText(r.entity.content),p({description:c("copied")}))},[p,r,c]),g=v.useCallback(async()=>{var _;try{if(i)return await Uh.stop(),s(!1);s(!0),await Uh.speak(((_=r.entity)==null?void 0:_.content)||"")}catch{p({variant:"destructive",description:c("errors.speech_is_not_supported")})}finally{s(!1)}},[(S=r.entity)==null?void 0:S.content,i,c,p]),b=v.useCallback(()=>{o(_=>!_)},[]),w=v.useMemo(()=>{var _;if(!(!y&&!a||r.loading||u||((_=r==null?void 0:r.entity)==null?void 0:_.status)==="inprogress"))return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),f.jsx("div",{className:"absolute mt-[30px] w-full",children:f.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:f.jsx(ko,{disabled:u,loading:u,onSubmit:m})})})]})},[(x=r==null?void 0:r.entity)==null?void 0:x.status,r.loading,m,y,u,a]);return f.jsxs("div",{children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:n}),f.jsxs("div",{className:"max-w-sm min-w-64",children:[f.jsxs("div",{className:"w-auto",children:[f.jsx(We,{id:t}),f.jsx("div",{children:((j=r.entity)==null?void 0:j.role)===ft.Human?f.jsx(R_,{data:r,showThread:a,onNewThread:y?void 0:b}):f.jsx(B_,{data:r,showThread:a,loading:u,onNewThread:y?void 0:b})}),f.jsx(ze,{onClick:g,className:"absolute top-0 right-[68px] !px-2 !rounded-none",variant:"ghost",children:f.jsx(te,{name:i?"circle-stop":"speech",size:16})}),f.jsx(ze,{onClick:h,className:"absolute top-0 right-[36px] !px-2 !rounded-none",variant:"ghost",children:f.jsx(te,{name:"copy",size:16})})]}),w]}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:n})]})}),qh=jd(({title:e,content:t})=>{const r=tn();return f.jsx(Ad,{open:r.visible,onOpenChange:r.hide,children:f.jsxs(Td,{className:"sm:max-w-2xl",children:[f.jsx(Dd,{children:f.jsxs("div",{className:"flex",children:[f.jsx(te,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx(Id,{children:e})]})}),f.jsx("div",{className:"mx-auto w-full min-h-96 max-h-96 overflow-hidden",children:f.jsx("div",{className:"relative w-full h-full overflow-hidden rounded-xl p-1 border border-border",children:f.jsx("pre",{className:"break-all h-full overflow-y-auto bg-background font-mono text-xs w-full",children:t})})})]})})}),V_=e=>{const t=re(a=>a.createOrUpdateFlowEdge),{createIdieMessage:r}=Hh(),n=v.useCallback(async({edgeId:a,source:o,target:i})=>{var s,c,l,u;try{const d=(s=i==null?void 0:i.data)==null?void 0:s.entity,p=(c=o==null?void 0:o.data)==null?void 0:c.entity;if((o==null?void 0:o.type)===z.Message&&(i==null?void 0:i.type)===z.Prompt){const m=(l=o==null?void 0:o.data)==null?void 0:l.entity,y=(u=i==null?void 0:i.data)==null?void 0:u.entity;if(!y||!m||!i)return{deleteEdgeId:a};await r(o,{id:m==null?void 0:m.thread_id,title:"",status:yo.Started,initial_llm_id:m.llm_id,session_id:y.session_id},y.content,{promptNode:i});return}else if((o==null?void 0:o.type)===z.CSVData&&(i==null?void 0:i.type)===z.Prompt&&(d==null?void 0:d.type)===It.FewShotExample&&(p!=null&&p.headers.includes("input"))&&(p!=null&&p.headers.includes("output"))){await t({source:o.id,target:i.id});return}return{deleteEdgeId:a}}catch{return{deleteEdgeId:a}}},[r,t]);it(e,n)},U_=v.memo(e=>{var l,u,d;const{id:t,data:r,isConnectable:n}=e;V_(t);const a=tn(qh),o=v.useMemo(()=>{var p,m,y;return`${(p=r.entity)!=null&&p.prefix?`${(m=r.entity)==null?void 0:m.prefix}
`:""}${((y=r.entity)==null?void 0:y.content)||""}`},[(l=r.entity)==null?void 0:l.prefix,(u=r.entity)==null?void 0:u.content]),i=v.useMemo(()=>{var m;const p=/{(.*?)}/g;return((m=o.match(p))==null?void 0:m.map(y=>y.replace("{","").replace("}","")))||[]},[o]),s=o.length>990,c=()=>{a.show({title:"Prompt",content:o})};return f.jsxs("div",{className:"min-w-56",children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(We,{id:t}),f.jsxs(Er,{className:"flex justify-center max-w-72",variant:"default",children:[f.jsx(te,{size:24,name:"notepad-text"}),f.jsxs("div",{className:"ml-2 max-w-full break-words break-all",children:[f.jsx(Pr,{children:`${((d=r.entity)==null?void 0:d.role)||""}`}),f.jsxs(po,{onClick:s?c:void 0,children:[s?`${o.slice(0,990)}...`:o,s?f.jsx("span",{className:"float-right",children:f.jsx(te,{name:"chevron-right"})}):void 0]}),i!=null&&i.length?i.map((p,m)=>f.jsx(nn,{className:"mt-2 mr-1",variant:"default",children:p},m)):void 0]})]})]}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:n})]})});function H_(e){return e==null}var q_=H_;const ge=Pe(q_);var W_=Cs,X_=ea,K_=ks,G_="[object String]";function Y_(e){return typeof e=="string"||!X_(e)&&K_(e)&&W_(e)==G_}var J_=Y_;const da=Pe(J_);var Wh={exports:{}},xe={},kc=Symbol.for("react.element"),Mc=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Do=Symbol.for("react.strict_mode"),Io=Symbol.for("react.profiler"),Ro=Symbol.for("react.provider"),Lo=Symbol.for("react.context"),Z_=Symbol.for("react.server_context"),Bo=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),zo=Symbol.for("react.suspense_list"),$o=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),Q_=Symbol.for("react.offscreen"),Xh;Xh=Symbol.for("react.module.reference");function bt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kc:switch(e=e.type,e){case To:case Io:case Do:case Fo:case zo:return e;default:switch(e=e&&e.$$typeof,e){case Z_:case Lo:case Bo:case Vo:case $o:case Ro:return e;default:return t}}case Mc:return t}}}xe.ContextConsumer=Lo,xe.ContextProvider=Ro,xe.Element=kc,xe.ForwardRef=Bo,xe.Fragment=To,xe.Lazy=Vo,xe.Memo=$o,xe.Portal=Mc,xe.Profiler=Io,xe.StrictMode=Do,xe.Suspense=Fo,xe.SuspenseList=zo,xe.isAsyncMode=function(){return!1},xe.isConcurrentMode=function(){return!1},xe.isContextConsumer=function(e){return bt(e)===Lo},xe.isContextProvider=function(e){return bt(e)===Ro},xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kc},xe.isForwardRef=function(e){return bt(e)===Bo},xe.isFragment=function(e){return bt(e)===To},xe.isLazy=function(e){return bt(e)===Vo},xe.isMemo=function(e){return bt(e)===$o},xe.isPortal=function(e){return bt(e)===Mc},xe.isProfiler=function(e){return bt(e)===Io},xe.isStrictMode=function(e){return bt(e)===Do},xe.isSuspense=function(e){return bt(e)===Fo},xe.isSuspenseList=function(e){return bt(e)===zo},xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===To||e===Io||e===Do||e===Fo||e===zo||e===Q_||typeof e=="object"&&e!==null&&(e.$$typeof===Vo||e.$$typeof===$o||e.$$typeof===Ro||e.$$typeof===Lo||e.$$typeof===Bo||e.$$typeof===Xh||e.getModuleId!==void 0)},xe.typeOf=bt,Wh.exports=xe;var eO=Wh.exports,tO=Cs,rO=ks,nO="[object Number]";function aO(e){return typeof e=="number"||rO(e)&&tO(e)==nO}var Kh=aO;const oO=Pe(Kh);var iO=Kh;function sO(e){return iO(e)&&e!=+e}var cO=sO;const fa=Pe(cO);var Ct=function(e){return e===0?0:e>0?1:-1},Rr=function(e){return da(e)&&e.indexOf("%")===e.length-1},K=function(e){return oO(e)&&!fa(e)},Le=function(e){return K(e)||da(e)},lO=0,Uo=function(e){var t=++lO;return"".concat(e||"").concat(t)},Lr=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!K(e)&&!da(e))return r;var a;if(Rr(e)){var o=e.indexOf("%");a=t*parseFloat(e.slice(0,o))/100}else a=+e;return fa(a)&&(a=r),n&&a>t&&(a=t),a},mr=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},uO=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},hn=function(e,t){return K(e)&&K(t)?function(r){return e+r*(t-e)}:function(){return t}};function Ac(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Pt(n,t))===r})}function mn(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}var dO=["viewBox","children"],fO=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Gh=["points","pathLength"],Dc={svg:dO,polygon:Gh,polyline:Gh},Ic=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ho=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),!ta(r))return null;var n={};return Object.keys(r).forEach(function(a){Ic.includes(a)&&(n[a]=t||function(o){return r[a](r,o)})}),n},pO=function(e,t,r){return function(n){return e(t,r,n),null}},qo=function(e,t,r){if(!ta(e)||Tc(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(a){var o=e[a];Ic.includes(a)&&typeof o=="function"&&(n||(n={}),n[a]=pO(o,t,r))}),n},hO=["children"],mO=["children"];function Yh(e,t){if(e==null)return{};var r=yO(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jh={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Yt=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Zh=null,Rc=null,Lc=function e(t){if(t===Zh&&Array.isArray(Rc))return Rc;var r=[];return v.Children.forEach(t,function(n){ge(n)||(eO.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Rc=r,Zh=t,r};function kt(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Yt(a)}):n=[Yt(t)],Lc(e).forEach(function(a){var o=Pt(a,"type.displayName")||Pt(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function pt(e,t){var r=kt(e,t);return r&&r[0]}var Qh=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!K(r)||r<=0||!K(n)||n<=0)},vO=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gO=function(e){return e&&e.type&&da(e.type)&&vO.indexOf(e.type)>=0},bO=function(e,t,r,n){var a,o=(a=Dc==null?void 0:Dc[n])!==null&&a!==void 0?a:[];return!fe(e)&&(n&&o.includes(t)||fO.includes(t))||r&&Ic.includes(t)},ve=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!ta(n))return null;var a={};return Object.keys(n).forEach(function(o){var i;bO((i=n)===null||i===void 0?void 0:i[o],o,t,r)&&(a[o]=n[o])}),a},Bc=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return em(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!em(o,i))return!1}return!0},em=function(e,t){if(ge(e)&&ge(t))return!0;if(!ge(e)&&!ge(t)){var r=e.props||{},n=r.children,a=Yh(r,hO),o=t.props||{},i=o.children,s=Yh(o,mO);return n&&i?mn(a,s)&&Bc(n,i):!n&&!i?mn(a,s):!1}return!1},tm=function(e,t){var r=[],n={};return Lc(e).forEach(function(a,o){if(gO(a))r.push(a);else if(a){var i=Yt(a.type),s=t[i]||{},c=s.handler,l=s.once;if(c&&(!l||!n[i])){var u=c(a,i,o);r.push(u),n[i]=!0}}}),r},xO=function(e){var t=e&&e.type;return t&&Jh[t]?Jh[t]:null},wO=function(e,t){return Lc(t).indexOf(e)},jO=["children","width","height","viewBox","className","style","title","desc"];function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fc.apply(this,arguments)}function _O(e,t){if(e==null)return{};var r=OO(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zc(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,c=e.desc,l=_O(e,jO),u=a||{width:r,height:n,x:0,y:0},d=be("recharts-surface",o);return N.createElement("svg",Fc({},ve(l,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),N.createElement("title",null,s),N.createElement("desc",null,c),t)}var SO=["children","className"];function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(this,arguments)}function EO(e,t){if(e==null)return{};var r=PO(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $e=N.forwardRef(function(e,t){var r=e.children,n=e.className,a=EO(e,SO),o=be("recharts-layer",n);return N.createElement("g",$c({className:o},ve(a,!0),{ref:t}),r)}),Jt=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function NO(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}let rm;Ls=NO,rm=Ls;function CO(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:rm(e,t,r)}var kO=CO,MO="\uD800-\uDFFF",AO="\\u0300-\\u036f",TO="\\ufe20-\\ufe2f",DO="\\u20d0-\\u20ff",IO=AO+TO+DO,RO="\\ufe0e\\ufe0f",LO="\\u200d",BO=RegExp("["+LO+MO+IO+RO+"]");function FO(e){return BO.test(e)}var nm=FO;function zO(e){return e.split("")}var $O=zO,am="\uD800-\uDFFF",VO="\\u0300-\\u036f",UO="\\ufe20-\\ufe2f",HO="\\u20d0-\\u20ff",qO=VO+UO+HO,WO="\\ufe0e\\ufe0f",XO="["+am+"]",Vc="["+qO+"]",Uc="\uD83C[\uDFFB-\uDFFF]",KO="(?:"+Vc+"|"+Uc+")",om="[^"+am+"]",im="(?:\uD83C[\uDDE6-\uDDFF]){2}",sm="[\uD800-\uDBFF][\uDC00-\uDFFF]",GO="\\u200d",cm=KO+"?",lm="["+WO+"]?",YO="(?:"+GO+"(?:"+[om,im,sm].join("|")+")"+lm+cm+")*",JO=lm+cm+YO,ZO="(?:"+[om+Vc+"?",Vc,im,sm,XO].join("|")+")",QO=RegExp(Uc+"(?="+Uc+")|"+ZO+JO,"g");function eS(e){return e.match(QO)||[]}var tS=eS,rS=$O,nS=nm,aS=tS;function oS(e){return nS(e)?aS(e):rS(e)}var iS=oS,sS=kO,cS=nm,lS=iS,uS=rz;function dS(e){return function(t){t=uS(t);var r=cS(t)?lS(t):void 0,n=r?r[0]:t.charAt(0),a=r?sS(r,1).join(""):t.slice(1);return n[e]()+a}}var fS=dS,pS=fS,hS=pS("toUpperCase"),mS=hS;const Wo=Pe(mS);function Se(e){return function(){return e}}const um=Math.cos,Xo=Math.sin,Mt=Math.sqrt,Ko=Math.PI,Go=2*Ko,Hc=Math.PI,qc=2*Hc,Br=1e-6,yS=qc-Br;function dm(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vS(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dm;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class gS{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dm:vS(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,c=n-t,l=a-r,u=i-t,d=s-r,p=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Br)if(!(Math.abs(d*c-l*u)>Br)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,y=a-s,h=c*c+l*l,g=m*m+y*y,b=Math.sqrt(h),w=Math.sqrt(p),S=o*Math.tan((Hc-Math.acos((h+p-g)/(2*b*w)))/2),x=S/w,j=S/b;Math.abs(x-1)>Br&&this._append`L${t+x*u},${r+x*d}`,this._append`A${o},${o},0,0,${+(d*m>u*y)},${this._x1=t+j*c},${this._y1=r+j*l}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),l=t+s,u=r+c,d=1^i,p=i?a-o:o-a;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Br||Math.abs(this._y1-u)>Br)&&this._append`L${l},${u}`,n&&(p<0&&(p=p%qc+qc),p>yS?this._append`A${n},${n},0,1,${d},${t-s},${r-c}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:p>Br&&this._append`A${n},${n},0,${+(p>=Hc)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Wc(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new gS(t)}function Xc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fm(e){this._context=e}fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yo(e){return new fm(e)}function pm(e){return e[0]}function hm(e){return e[1]}function mm(e,t){var r=Se(!0),n=null,a=Yo,o=null,i=Wc(s);e=typeof e=="function"?e:e===void 0?pm:Se(e),t=typeof t=="function"?t:t===void 0?hm:Se(t);function s(c){var l,u=(c=Xc(c)).length,d,p=!1,m;for(n==null&&(o=a(m=i())),l=0;l<=u;++l)!(l<u&&r(d=c[l],l,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(d,l,c),+t(d,l,c));if(m)return o=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Se(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Se(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Se(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(o=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=o=null:o=a(n=c),s):n},s}function Jo(e,t,r){var n=null,a=Se(!0),o=null,i=Yo,s=null,c=Wc(l);e=typeof e=="function"?e:e===void 0?pm:Se(+e),t=typeof t=="function"?t:Se(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?hm:Se(+r);function l(d){var p,m,y,h=(d=Xc(d)).length,g,b=!1,w,S=new Array(h),x=new Array(h);for(o==null&&(s=i(w=c())),p=0;p<=h;++p){if(!(p<h&&a(g=d[p],p,d))===b)if(b=!b)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=m;--y)s.point(S[y],x[y]);s.lineEnd(),s.areaEnd()}b&&(S[p]=+e(g,p,d),x[p]=+t(g,p,d),s.point(n?+n(g,p,d):S[p],r?+r(g,p,d):x[p]))}if(w)return s=null,w+""||null}function u(){return mm().defined(a).curve(i).context(o)}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Se(+d),n=null,l):e},l.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Se(+d),l):e},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Se(+d),l):n},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Se(+d),r=null,l):t},l.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Se(+d),l):t},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Se(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(n).y(t)},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Se(!!d),l):a},l.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),l):i},l.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),l):o},l}class ym{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function bS(e){return new ym(e,!0)}function xS(e){return new ym(e,!1)}const Kc={draw(e,t){const r=Mt(t/Ko);e.moveTo(r,0),e.arc(0,0,r,0,Go)}},wS={draw(e,t){const r=Mt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},vm=Mt(1/3),jS=vm*2,_S={draw(e,t){const r=Mt(t/jS),n=r*vm;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},OS={draw(e,t){const r=Mt(t),n=-r/2;e.rect(n,n,r,r)}},SS=.8908130915292852,gm=Xo(Ko/10)/Xo(7*Ko/10),ES=Xo(Go/10)*gm,PS=-um(Go/10)*gm,NS={draw(e,t){const r=Mt(t*SS),n=ES*r,a=PS*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Go*o/5,s=um(i),c=Xo(i);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},Gc=Mt(3),CS={draw(e,t){const r=-Mt(t/(Gc*3));e.moveTo(0,r*2),e.lineTo(-Gc*r,-r),e.lineTo(Gc*r,-r),e.closePath()}},xt=-.5,wt=Mt(3)/2,Yc=1/Mt(12),kS=(Yc/2+1)*3,MS={draw(e,t){const r=Mt(t/kS),n=r/2,a=r*Yc,o=n,i=r*Yc+r,s=-o,c=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,c),e.lineTo(xt*n-wt*a,wt*n+xt*a),e.lineTo(xt*o-wt*i,wt*o+xt*i),e.lineTo(xt*s-wt*c,wt*s+xt*c),e.lineTo(xt*n+wt*a,xt*a-wt*n),e.lineTo(xt*o+wt*i,xt*i-wt*o),e.lineTo(xt*s+wt*c,xt*c-wt*s),e.closePath()}};function AS(e,t){let r=null,n=Wc(a);e=typeof e=="function"?e:Se(e||Kc),t=typeof t=="function"?t:Se(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Se(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Se(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Zo(){}function Qo(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function bm(e){this._context=e}bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TS(e){return new bm(e)}function xm(e){this._context=e}xm.prototype={areaStart:Zo,areaEnd:Zo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DS(e){return new xm(e)}function wm(e){this._context=e}wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IS(e){return new wm(e)}function jm(e){this._context=e}jm.prototype={areaStart:Zo,areaEnd:Zo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function RS(e){return new jm(e)}function _m(e){return e<0?-1:1}function Om(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(_m(o)+_m(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Sm(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jc(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function ei(e){this._context=e}ei.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jc(this,this._t0,Sm(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jc(this,Sm(this,r=Om(this,e,t)),r);break;default:Jc(this,this._t0,r=Om(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Em(e){this._context=new Pm(e)}(Em.prototype=Object.create(ei.prototype)).point=function(e,t){ei.prototype.point.call(this,t,e)};function Pm(e){this._context=e}Pm.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function LS(e){return new ei(e)}function BS(e){return new Em(e)}function Nm(e){this._context=e}Nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Cm(e),a=Cm(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Cm(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function FS(e){return new Nm(e)}function ti(e,t){this._context=e,this._t=t}ti.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function zS(e){return new ti(e,.5)}function $S(e){return new ti(e,0)}function VS(e){return new ti(e,1)}function yn(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Zc(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function US(e,t){return e[t]}function HS(e){const t=[];return t.key=e,t}function qS(){var e=Se([]),t=Zc,r=yn,n=US;function a(o){var i=Array.from(e.apply(this,arguments),HS),s,c=i.length,l=-1,u;for(const d of o)for(s=0,++l;s<c;++s)(i[s][l]=[0,+n(d,i[s].key,l,o)]).data=d;for(s=0,u=Xc(t(i));s<c;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Se(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Se(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Zc:typeof o=="function"?o:Se(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??yn,a):r},a}function WS(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}yn(e,t)}}function XS(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}yn(e,t)}}function KS(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],d=u[n][1]||0,p=u[n-1][1]||0,m=(d-p)/2,y=0;y<s;++y){var h=e[t[y]],g=h[n][1]||0,b=h[n-1][1]||0;m+=g-b}c+=d,l+=m*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=l/c)}a[n-1][1]+=a[n-1][0]=r,yn(e,t)}}function pa(e){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(e)}var GS=["type","size","sizeType"];function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qc.apply(this,arguments)}function km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?km(Object(r),!0).forEach(function(n){YS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):km(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YS(e,t,r){return t=JS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JS(e){var t=ZS(e,"string");return pa(t)=="symbol"?t:t+""}function ZS(e,t){if(pa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QS(e,t){if(e==null)return{};var r=eE(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Am={symbolCircle:Kc,symbolCross:wS,symbolDiamond:_S,symbolSquare:OS,symbolStar:NS,symbolTriangle:CS,symbolWye:MS},tE=Math.PI/180,rE=function(e){var t="symbol".concat(Wo(e));return Am[t]||Kc},nE=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*tE;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aE=function(e,t){Am["symbol".concat(Wo(e))]=t},el=function(e){var t=e.type,r=t===void 0?"circle":t,n=e.size,a=n===void 0?64:n,o=e.sizeType,i=o===void 0?"area":o,s=QS(e,GS),c=Mm(Mm({},s),{},{type:r,size:a,sizeType:i}),l=function(){var y=rE(r),h=AS().type(y).size(nE(a,i,r));return h()},u=c.className,d=c.cx,p=c.cy,m=ve(c,!0);return d===+d&&p===+p&&a===+a?N.createElement("path",Qc({},m,{className:be("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(p,")"),d:l()})):null};el.registerSymbol=aE;function vn(e){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(e)}function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(this,arguments)}function Tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tm(Object(r),!0).forEach(function(n){ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Im(n.key),n)}}function cE(e,t,r){return t&&sE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lE(e,t,r){return t=ri(t),uE(e,Dm()?Reflect.construct(t,r||[],ri(e).constructor):t.apply(e,r))}function uE(e,t){if(t&&(vn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dE(e)}function dE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dm=function(){return!!e})()}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ri(e)}function fE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rl(e,t)}function rl(e,t){return rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},rl(e,t)}function ha(e,t,r){return t=Im(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Im(e){var t=pE(e,"string");return vn(t)=="symbol"?t:t+""}function pE(e,t){if(vn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jt=32,nl=function(e){function t(){return iE(this,t),lE(this,t,arguments)}return fE(t,e),cE(t,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,a=jt/2,o=jt/6,i=jt/3,s=r.inactive?n:r.color;if(r.type==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:jt,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(jt,"M").concat(2*i,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return N.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(jt/8,"h").concat(jt,"v").concat(jt*3/4,"h").concat(-jt,"z"),className:"recharts-legend-icon"});if(N.isValidElement(r.legendIcon)){var c=oE({},r);return delete c.legendIcon,N.cloneElement(r.legendIcon,c)}return N.createElement(el,{fill:s,cx:a,cy:a,size:jt,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,a=n.payload,o=n.iconSize,i=n.layout,s=n.formatter,c=n.inactiveColor,l={x:0,y:0,width:jt,height:jt},u={display:i==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var y=p.formatter||s,h=be(ha(ha({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=fe(p.value)?null:p.value;Jt(!fe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return N.createElement("li",tl({className:h,style:u,key:"legend-item-".concat(m)},qo(r.props,p,m)),N.createElement(zc,{width:o,height:o,viewBox:l,style:d},r.renderIcon(p)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(g,p,m):g))})}},{key:"render",value:function(){var r=this.props,n=r.payload,a=r.layout,o=r.align;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}(v.PureComponent);ha(nl,"displayName","Legend"),ha(nl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function hE(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Rm=hE;function mE(e){return e!==e}var yE=mE;function vE(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var gE=vE,bE=Rm,xE=yE,wE=gE;function jE(e,t,r){return t===t?wE(e,t,r):bE(e,xE,r)}var _E=jE,OE=_E;function SE(e,t){var r=e==null?0:e.length;return!!r&&OE(e,t,0)>-1}var EE=SE;function PE(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var NE=PE;function CE(){}var kE=CE,al=nz,ME=kE,AE=Ew,TE=1/0,DE=al&&1/AE(new al([,-0]))[1]==TE?function(e){return new al(e)}:ME,IE=DE,RE=az,LE=EE,BE=NE,FE=oz,zE=IE,$E=Ew,VE=200;function UE(e,t,r){var n=-1,a=LE,o=e.length,i=!0,s=[],c=s;if(r)i=!1,a=BE;else if(o>=VE){var l=t?null:zE(e);if(l)return $E(l);i=!1,a=FE,c=new RE}else c=t?[]:s;e:for(;++n<o;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,i&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),s.push(u)}else a(c,d,r)||(c!==s&&c.push(d),s.push(u))}return s}var HE=UE,qE=Nr,WE=HE;function XE(e,t){return e&&e.length?WE(e,qE(t)):[]}var KE=XE;const Lm=Pe(KE);function Bm(e,t,r){return t===!0?Lm(e,r):fe(t)?Lm(e,t):e}function gn(e){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(e)}var GE=["ref"];function Fm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fm(Object(r),!0).forEach(function(n){ai(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vm(n.key),n)}}function JE(e,t,r){return t&&zm(e.prototype,t),r&&zm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZE(e,t,r){return t=ni(t),QE(e,$m()?Reflect.construct(t,r||[],ni(e).constructor):t.apply(e,r))}function QE(e,t){if(t&&(gn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eP(e)}function eP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($m=function(){return!!e})()}function ni(e){return ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ni(e)}function tP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ol(e,t)}function ol(e,t){return ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ol(e,t)}function ai(e,t,r){return t=Vm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vm(e){var t=rP(e,"string");return gn(t)=="symbol"?t:t+""}function rP(e,t){if(gn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nP(e,t){if(e==null)return{};var r=aP(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aP(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oP(e){return e.value}function iP(e,t){if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return N.createElement(e,t);t.ref;var r=nP(t,GE);return N.createElement(nl,r)}var Um=1,bn=function(e){function t(){var r;YE(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=ZE(this,t,[].concat(a)),ai(r,"lastBoundingBox",{width:-1,height:-1}),r}return tP(t,e),JE(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>Um||Math.abs(n.height-this.lastBoundingBox.height)>Um)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zt({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,a=n.layout,o=n.align,i=n.verticalAlign,s=n.margin,c=n.chartWidth,l=n.chartHeight,u,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();u={left:((c||0)-p.width)/2}}else u=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(i==="middle"){var m=this.getBBoxSnapshot();d={top:((l||0)-m.height)/2}}else d=i==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0};return Zt(Zt({},u),d)}},{key:"render",value:function(){var r=this,n=this.props,a=n.content,o=n.width,i=n.height,s=n.wrapperStyle,c=n.payloadUniqBy,l=n.payload,u=Zt(Zt({position:"absolute",width:o||"auto",height:i||"auto"},this.getDefaultPosition(s)),s);return N.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(d){r.wrapperNode=d}},iP(a,Zt(Zt({},this.props),{},{payload:Bm(l,c,oP)})))}}],[{key:"getWithHeight",value:function(r,n){var a=Zt(Zt({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&K(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||n}:null}}])}(v.PureComponent);ai(bn,"displayName","Legend"),ai(bn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Hm=iz,sP=sz,cP=ea,qm=Hm?Hm.isConcatSpreadable:void 0;function lP(e){return cP(e)||sP(e)||!!(qm&&e&&e[qm])}var uP=lP,dP=cz,fP=uP;function Wm(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=fP),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Wm(s,t-1,r,n,a):dP(a,s):n||(a[a.length]=s)}return a}Bs=Wm;function pP(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(r(o[c],c,o)===!1)break}return t}}let Xm,Km,Gm,Ym,Jm;Xm=pP,Km=Xm,Gm=Km(),Kd=Gm,Ym=Kd,Jm=Pw;function hP(e,t){return e&&Ym(e,t,Jm)}var Zm=hP,mP=Ms;function yP(e,t){return function(r,n){if(r==null)return r;if(!mP(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var vP=yP,gP=Zm,bP=vP,xP=bP(gP),il=xP,wP=il,jP=Ms;function _P(e,t){var r=-1,n=jP(e)?Array(e.length):[];return wP(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var Qm=_P;function OP(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var SP=OP,ey=Pd;function EP(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=ey(e),i=t!==void 0,s=t===null,c=t===t,l=ey(t);if(!s&&!l&&!o&&e>t||o&&i&&c&&!s&&!l||n&&i&&c||!r&&c||!a)return 1;if(!n&&!o&&!l&&e<t||l&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!c)return-1}return 0}var PP=EP,NP=PP;function CP(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var c=NP(a[n],o[n]);if(c){if(n>=s)return c;var l=r[n];return c*(l=="desc"?-1:1)}}return e.index-t.index}var kP=CP,sl=Nw,MP=lz,AP=Nr,TP=Qm,DP=SP,IP=uz,RP=kP,LP=ho,BP=ea;function FP(e,t,r){t.length?t=sl(t,function(o){return BP(o)?function(i){return MP(i,o.length===1?o[0]:o)}:o}):t=[LP];var n=-1;t=sl(t,IP(AP));var a=TP(e,function(o,i,s){var c=sl(t,function(l){return l(o)});return{criteria:c,index:++n,value:o}});return DP(a,function(o,i){return RP(o,i,r)})}var zP=FP;function $P(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}let ty,cl;Zd=$P,ty=Zd,cl=Math.max;function VP(e,t,r){return t=cl(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=cl(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),ty(e,this,s)}}Wd=VP;function UP(e){return function(){return e}}var HP=UP,qP=HP,ry=dz,WP=ho,XP=ry?function(e,t){return ry(e,"toString",{configurable:!0,enumerable:!1,value:qP(t),writable:!0})}:WP,KP=XP,GP=800,YP=16,JP=Date.now;function ZP(e){var t=0,r=0;return function(){var n=JP(),a=YP-(n-r);if(r=n,a>0){if(++t>=GP)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}let ny,ay,oy,iy,sy,cy,ly;ny=ZP,ay=KP,oy=ny,iy=oy(ay),Xd=iy,sy=ho,cy=Wd,ly=Xd;function QP(e,t){return ly(cy(e,t,sy),e+"")}let uy,dy,fy,py;Gd=QP,uy=fz,dy=Ms,fy=pz,py=As;function eN(e,t,r){if(!py(r))return!1;var n=typeof t;return(n=="number"?dy(r)&&fy(t,r.length):n=="string"&&t in r)?uy(r[t],e):!1}let hy,my,yy,ll,vy,gy;on=eN,hy=Bs,my=zP,yy=Gd,ll=on,vy=yy(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ll(e,t[0],t[1])?t=[]:r>2&&ll(t[0],t[1],t[2])&&(t=[t[0]]),my(e,hy(t,1),[])}),gy=vy;const ul=Pe(gy);function ma(e){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(this,arguments)}function tN(e,t){return oN(e)||aN(e,t)||nN(e,t)||rN()}function rN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nN(e,t){if(e){if(typeof e=="string")return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(e,t)}}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aN(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function oN(e){if(Array.isArray(e))return e}function xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xy(Object(r),!0).forEach(function(n){iN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iN(e,t,r){return t=sN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sN(e){var t=cN(e,"string");return ma(t)=="symbol"?t:t+""}function cN(e,t){if(ma(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ma(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lN(e){return Array.isArray(e)&&Le(e[0])&&Le(e[1])?e.join(" ~ "):e}var uN=function(e){var t=e.separator,r=t===void 0?" : ":t,n=e.contentStyle,a=n===void 0?{}:n,o=e.itemStyle,i=o===void 0?{}:o,s=e.labelStyle,c=s===void 0?{}:s,l=e.payload,u=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,h=e.labelFormatter,g=e.accessibilityLayer,b=g===void 0?!1:g,w=function(){if(l&&l.length){var A={padding:0,margin:0},P=(d?ul(l,d):l).map(function(M,R){if(M.type==="none")return null;var D=fl({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},i),k=M.formatter||u||lN,I=M.value,F=M.name,V=I,U=F;if(k&&V!=null&&U!=null){var Q=k(I,F,M,R,l);if(Array.isArray(Q)){var q=tN(Q,2);V=q[0],U=q[1]}else V=Q}return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:D},Le(U)?N.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Le(U)?N.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,N.createElement("span",{className:"recharts-tooltip-item-value"},V),N.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:A},P)}return null},S=fl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=fl({margin:0},c),j=!ge(y),_=j?y:"",O=be("recharts-default-tooltip",p),E=be("recharts-tooltip-label",m);j&&h&&l!==void 0&&l!==null&&(_=h(y,l));var C=b?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",dl({className:O,style:S},C),N.createElement("p",{className:E,style:x},N.isValidElement(_)?_:"".concat(_)),w())};function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function oi(e,t,r){return t=dN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dN(e){var t=fN(e,"string");return ya(t)=="symbol"?t:t+""}function fN(e,t){if(ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var va="recharts-tooltip-wrapper",pN={visibility:"hidden"};function hN(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return be(va,oi(oi(oi(oi({},"".concat(va,"-right"),K(r)&&t&&K(t.x)&&r>=t.x),"".concat(va,"-left"),K(r)&&t&&K(t.x)&&r<t.x),"".concat(va,"-bottom"),K(n)&&t&&K(t.y)&&n>=t.y),"".concat(va,"-top"),K(n)&&t&&K(t.y)&&n<t.y))}function wy(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(o&&K(o[n]))return o[n];var u=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?u:d;if(i[n]){var p=u,m=c[n];return p<m?Math.max(d,c[n]):Math.max(u,c[n])}var y=d+s,h=c[n]+l;return y>h?Math.max(u,c[n]):Math.max(d,c[n])}function mN(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function yN(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,l,u,d;return i.height>0&&i.width>0&&r?(u=wy({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=wy({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),l=mN({translateX:u,translateY:d,useTranslate3d:s})):l=pN,{cssProperties:l,cssClasses:hN({translateX:u,translateY:d,coordinate:r})}}function xn(e){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(e)}function jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jy(Object(r),!0).forEach(function(n){hl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sy(n.key),n)}}function bN(e,t,r){return t&&gN(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xN(e,t,r){return t=ii(t),wN(e,Oy()?Reflect.construct(t,r||[],ii(e).constructor):t.apply(e,r))}function wN(e,t){if(t&&(xn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jN(e)}function jN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oy=function(){return!!e})()}function ii(e){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ii(e)}function _N(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pl(e,t)}function pl(e,t){return pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},pl(e,t)}function hl(e,t,r){return t=Sy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sy(e){var t=ON(e,"string");return xn(t)=="symbol"?t:t+""}function ON(e,t){if(xn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ey=1,SN=function(e){function t(){var r;vN(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=xN(this,t,[].concat(a)),hl(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hl(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,c,l,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),r}return _N(t,e),bN(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Ey||Math.abs(r.height-this.state.lastBoundingBox.height)>Ey)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.children,l=n.coordinate,u=n.hasPayload,d=n.isAnimationActive,p=n.offset,m=n.position,y=n.reverseDirection,h=n.useTranslate3d,g=n.viewBox,b=n.wrapperStyle,w=yN({allowEscapeViewBox:o,coordinate:l,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:g}),S=w.cssClasses,x=w.cssProperties,j=_y(_y({transition:d&&a?"transform ".concat(i,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&u?"visible":"hidden",position:"absolute",top:0,left:0},b);return N.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(_){r.wrapperNode=_}},c)}}])}(v.PureComponent),EN=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yr={isSsr:EN(),get:function(e){return yr[e]},set:function(e,t){if(typeof e=="string")yr[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(n){yr[n]=e[n]})}}};function wn(e){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(e)}function Py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(r),!0).forEach(function(n){yl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Py(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ky(n.key),n)}}function CN(e,t,r){return t&&NN(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kN(e,t,r){return t=si(t),MN(e,Cy()?Reflect.construct(t,r||[],si(e).constructor):t.apply(e,r))}function MN(e,t){if(t&&(wn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AN(e)}function AN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cy=function(){return!!e})()}function si(e){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},si(e)}function TN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ml(e,t)}function ml(e,t){return ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ml(e,t)}function yl(e,t,r){return t=ky(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ky(e){var t=DN(e,"string");return wn(t)=="symbol"?t:t+""}function DN(e,t){if(wn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IN(e){return e.dataKey}function RN(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(uN,t)}var Ft=function(e){function t(){return PN(this,t),kN(this,t,arguments)}return TN(t,e),CN(t,[{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.content,l=n.coordinate,u=n.filterNull,d=n.isAnimationActive,p=n.offset,m=n.payload,y=n.payloadUniqBy,h=n.position,g=n.reverseDirection,b=n.useTranslate3d,w=n.viewBox,S=n.wrapperStyle,x=m??[];u&&x.length&&(x=Bm(m.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),y,IN));var j=x.length>0;return N.createElement(SN,{allowEscapeViewBox:o,animationDuration:i,animationEasing:s,isAnimationActive:d,active:a,coordinate:l,hasPayload:j,offset:p,position:h,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:S},RN(c,Ny(Ny({},this.props),{},{payload:x})))}}])}(v.PureComponent);yl(Ft,"displayName","Tooltip"),yl(Ft,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var LN=hz,BN=function(){return LN.Date.now()},FN=BN,zN=/\s/;function $N(e){for(var t=e.length;t--&&zN.test(e.charAt(t)););return t}var VN=$N,UN=VN,HN=/^\s+/;function qN(e){return e&&e.slice(0,UN(e)+1).replace(HN,"")}var WN=qN,XN=WN,My=As,KN=Pd,Ay=NaN,GN=/^[-+]0x[0-9a-f]+$/i,YN=/^0b[01]+$/i,JN=/^0o[0-7]+$/i,ZN=parseInt;function QN(e){if(typeof e=="number")return e;if(KN(e))return Ay;if(My(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=My(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XN(e);var r=YN.test(e);return r||JN.test(e)?ZN(e.slice(2),r?2:8):GN.test(e)?Ay:+e}var Ty=QN,eC=As,vl=FN,Dy=Ty,tC="Expected a function",rC=Math.max,nC=Math.min;function aC(e,t,r){var n,a,o,i,s,c,l=0,u=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(tC);t=Dy(t)||0,eC(r)&&(u=!!r.leading,d="maxWait"in r,o=d?rC(Dy(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p);function m(_){var O=n,E=a;return n=a=void 0,l=_,i=e.apply(E,O),i}function y(_){return l=_,s=setTimeout(b,t),u?m(_):i}function h(_){var O=_-c,E=_-l,C=t-O;return d?nC(C,o-E):C}function g(_){var O=_-c,E=_-l;return c===void 0||O>=t||O<0||d&&E>=o}function b(){var _=vl();if(g(_))return w(_);s=setTimeout(b,h(_))}function w(_){return s=void 0,p&&n?m(_):(n=a=void 0,i)}function S(){s!==void 0&&clearTimeout(s),l=0,n=c=a=s=void 0}function x(){return s===void 0?i:w(vl())}function j(){var _=vl(),O=g(_);if(n=arguments,a=this,c=_,O){if(s===void 0)return y(c);if(d)return clearTimeout(s),s=setTimeout(b,t),m(c)}return s===void 0&&(s=setTimeout(b,t)),i}return j.cancel=S,j.flush=x,j}var Iy=aC;$w=Pe(Iy);var oC=Iy,iC=As,sC="Expected a function";function cC(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(sC);return iC(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),oC(e,t,{leading:n,maxWait:t,trailing:a})}var lC=cC;$s=Pe(lC);function ga(e){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(e)}function Ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ry(Object(r),!0).forEach(function(n){uC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ry(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uC(e,t,r){return t=dC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dC(e){var t=fC(e,"string");return ga(t)=="symbol"?t:t+""}function fC(e,t){if(ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pC(e,t){return vC(e)||yC(e,t)||mC(e,t)||hC()}function hC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mC(e,t){if(e){if(typeof e=="string")return Ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ly(e,t)}}function Ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function vC(e){if(Array.isArray(e))return e}var gC=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,c=s===void 0?"100%":s,l=e.minWidth,u=l===void 0?0:l,d=e.minHeight,p=e.maxHeight,m=e.children,y=e.debounce,h=y===void 0?0:y,g=e.id,b=e.className,w=e.onResize,S=e.style,x=S===void 0?{}:S,j=v.useRef(null),_=v.useRef();_.current=w,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var O=v.useState({containerWidth:a.width,containerHeight:a.height}),E=pC(O,2),C=E[0],A=E[1],P=v.useCallback(function(R,D){A(function(k){var I=Math.round(R),F=Math.round(D);return k.containerWidth===I&&k.containerHeight===F?k:{containerWidth:I,containerHeight:F}})},[]);v.useEffect(function(){var R=function(V){var U,Q=V[0].contentRect,q=Q.width,T=Q.height;P(q,T),(U=_.current)===null||U===void 0||U.call(_,q,T)};h>0&&(R=$s(R,h,{trailing:!0,leading:!1}));var D=new ResizeObserver(R),k=j.current.getBoundingClientRect(),I=k.width,F=k.height;return P(I,F),D.observe(j.current),function(){D.disconnect()}},[P,h]);var M=v.useMemo(function(){var R=C.containerWidth,D=C.containerHeight;if(R<0||D<0)return null;Jt(Rr(i)||Rr(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Jt(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Rr(i)?R:i,I=Rr(c)?D:c;r&&r>0&&(k?I=k/r:I&&(k=I*r),p&&I>p&&(I=p)),Jt(k>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,I,i,c,u,d,r);var F=!Array.isArray(m)&&Yt(m.type).endsWith("Chart");return N.Children.map(m,function(V){return N.isValidElement(V)?v.cloneElement(V,ci({width:k,height:I},F?{style:ci({height:"100%",width:"100%",maxHeight:I,maxWidth:k},V.props.style)}:{})):V})},[r,m,c,p,d,u,C,i]);return N.createElement("div",{id:g?"".concat(g):void 0,className:be("recharts-responsive-container",b),style:ci(ci({},x),{},{width:i,height:c,minWidth:u,minHeight:d,maxHeight:p}),ref:j},M)}),By=function(e){return null};By.displayName="Cell";function ba(e){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(e)}function Fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(r),!0).forEach(function(n){bC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bC(e,t,r){return t=xC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xC(e){var t=wC(e,"string");return ba(t)=="symbol"?t:t+""}function wC(e,t){if(ba(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ba(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jn={widthCache:{},cacheCount:0},jC=2e3,_C={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zy="recharts_measurement_span";function OC(e){var t=gl({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var xa=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yr.isSsr)return{width:0,height:0};var r=OC(t),n=JSON.stringify({text:e,copyStyle:r});if(jn.widthCache[n])return jn.widthCache[n];try{var a=document.getElementById(zy);a||(a=document.createElement("span"),a.setAttribute("id",zy),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=gl(gl({},_C),r);Object.assign(a.style,o),a.textContent="".concat(e);var i=a.getBoundingClientRect(),s={width:i.width,height:i.height};return jn.widthCache[n]=s,++jn.cacheCount>jC&&(jn.cacheCount=0,jn.widthCache={}),s}catch{return{width:0,height:0}}},SC=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function wa(e){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(e)}function li(e,t){return CC(e)||NC(e,t)||PC(e,t)||EC()}function EC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PC(e,t){if(e){if(typeof e=="string")return $y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(e,t)}}function $y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function CC(e){if(Array.isArray(e))return e}function kC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AC(n.key),n)}}function MC(e,t,r){return t&&Vy(e.prototype,t),r&&Vy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AC(e){var t=TC(e,"string");return wa(t)=="symbol"?t:t+""}function TC(e,t){if(wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uy=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hy=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DC=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IC=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qy={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RC=Object.keys(qy),_n="NaN";function LC(e,t){return e*qy[t]}var ui=function(){function e(t,r){kC(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!DC.test(r)&&(this.num=NaN,this.unit=""),RC.includes(r)&&(this.num=LC(t,r),this.unit="px")}return MC(e,[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,n=(r=IC.exec(t))!==null&&r!==void 0?r:[],a=li(n,3),o=a[1],i=a[2];return new e(parseFloat(o),i??"")}}])}();function Wy(e){if(e.includes(_n))return _n;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Uy.exec(t))!==null&&r!==void 0?r:[],a=li(n,4),o=a[1],i=a[2],s=a[3],c=ui.parse(o??""),l=ui.parse(s??""),u=i==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return _n;t=t.replace(Uy,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=Hy.exec(t))!==null&&d!==void 0?d:[],m=li(p,4),y=m[1],h=m[2],g=m[3],b=ui.parse(y??""),w=ui.parse(g??""),S=h==="+"?b.add(w):b.subtract(w);if(S.isNaN())return _n;t=t.replace(Hy,S.toString())}return t}var Xy=/\(([^()]*)\)/;function BC(e){for(var t=e;t.includes("(");){var r=Xy.exec(t),n=li(r,2),a=n[1];t=t.replace(Xy,Wy(a))}return t}function FC(e){var t=e.replace(/\s+/g,"");return t=BC(t),t=Wy(t),t}function zC(e){try{return FC(e)}catch{return _n}}function bl(e){var t=zC(e.slice(5,-1));return t===_n?"":t}var $C=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],VC=["dx","dy","angle","className","breakAll"];function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(this,arguments)}function Ky(e,t){if(e==null)return{};var r=UC(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gy(e,t){return XC(e)||WC(e,t)||qC(e,t)||HC()}function HC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qC(e,t){if(e){if(typeof e=="string")return Yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yy(e,t)}}function Yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function XC(e){if(Array.isArray(e))return e}var Jy=/[ \f\n\r\t\v\u2028\u2029]+/,Zy=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];ge(t)||(r?a=t.toString().split(""):a=t.toString().split(Jy));var o=a.map(function(s){return{word:s,width:xa(s,n).width}}),i=r?0:xa("\xA0",n).width;return{wordsWithComputedWidth:o,spaceWidth:i}}catch{return null}},KC=function(e,t,r,n,a){var o=e.maxLines,i=e.children,s=e.style,c=e.breakAll,l=K(o),u=i,d=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(D,k){var I=k.word,F=k.width,V=D[D.length-1];if(V&&(n==null||a||V.width+F+r<Number(n)))V.words.push(I),V.width+=F+r;else{var U={words:[I],width:F};D.push(U)}return D},[])},p=d(t),m=function(R){return R.reduce(function(D,k){return D.width>k.width?D:k})};if(!l)return p;for(var y="\u2026",h=function(R){var D=u.slice(0,R),k=Zy({breakAll:c,style:s,children:D+y}).wordsWithComputedWidth,I=d(k),F=I.length>o||m(I).width>Number(n);return[F,I]},g=0,b=u.length-1,w=0,S;g<=b&&w<=u.length-1;){var x=Math.floor((g+b)/2),j=x-1,_=h(j),O=Gy(_,2),E=O[0],C=O[1],A=h(x),P=Gy(A,1),M=P[0];if(!E&&!M&&(g=x+1),E&&M&&(b=x-1),!E&&M){S=C;break}w++}return S||p},Qy=function(e){var t=ge(e)?[]:e.toString().split(Jy);return[{words:t}]},GC=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,o=e.breakAll,i=e.maxLines;if((t||r)&&!yr.isSsr){var s,c,l=Zy({breakAll:o,children:n,style:a});if(l){var u=l.wordsWithComputedWidth,d=l.spaceWidth;s=u,c=d}else return Qy(n);return KC({breakAll:o,children:n,maxLines:i,style:a},s,c,t,r)}return Qy(n)},ev="#808080",di=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.lineHeight,i=o===void 0?"1em":o,s=e.capHeight,c=s===void 0?"0.71em":s,l=e.scaleToFit,u=l===void 0?!1:l,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,y=m===void 0?"end":m,h=e.fill,g=h===void 0?ev:h,b=Ky(e,$C),w=v.useMemo(function(){return GC({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:u,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,u,b.style,b.width]),S=b.dx,x=b.dy,j=b.angle,_=b.className,O=b.breakAll,E=Ky(b,VC);if(!Le(r)||!Le(a))return null;var C=r+(K(S)?S:0),A=a+(K(x)?x:0),P;switch(y){case"start":P=bl("calc(".concat(c,")"));break;case"middle":P=bl("calc(".concat((w.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:P=bl("calc(".concat(w.length-1," * -").concat(i,")"));break}var M=[];if(u){var R=w[0].width,D=b.width;M.push("scale(".concat((K(D)?D/R:1)/R,")"))}return j&&M.push("rotate(".concat(j,", ").concat(C,", ").concat(A,")")),M.length&&(E.transform=M.join(" ")),N.createElement("text",xl({},ve(E,!0),{x:C,y:A,className:be("recharts-text",_),textAnchor:p,fill:g.includes("url")?ev:g}),w.map(function(k,I){var F=k.words.join(O?"":" ");return N.createElement("tspan",{x:C,dy:I===0?P:i,key:"".concat(F,"-").concat(I)},F)}))};function vr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YC(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wl(e){let t,r,n;e.length!==2?(t=vr,r=(s,c)=>vr(e(s),c),n=(s,c)=>e(s)-c):(t=e===vr||e===YC?e:JC,r=e,n=e);function a(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function i(s,c,l=0,u=s.length){const d=a(s,c,l,u-1);return d>l&&n(s[d-1],c)>-n(s[d],c)?d-1:d}return{left:a,center:i,right:o}}function JC(){return 0}function tv(e){return e===null?NaN:+e}function*ZC(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const QC=wl(vr),ja=QC.right;wl(tv).center;class rv extends Map{constructor(t,r=rk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(nv(this,t))}has(t){return super.has(nv(this,t))}set(t,r){return super.set(ek(this,t),r)}delete(t){return super.delete(tk(this,t))}}function nv({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ek({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function tk({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function rk(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nk(e=vr){if(e===vr)return av;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function av(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ak=Math.sqrt(50),ok=Math.sqrt(10),ik=Math.sqrt(2);function fi(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=ak?10:o>=ok?5:o>=ik?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=r&&r<2?fi(e,t,r*2):[s,c,l]}function jl(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?fi(t,e,r):fi(e,t,r);if(!(o>=a))return[];const s=o-a+1,c=new Array(s);if(n)if(i<0)for(let l=0;l<s;++l)c[l]=(o-l)/-i;else for(let l=0;l<s;++l)c[l]=(o-l)*i;else if(i<0)for(let l=0;l<s;++l)c[l]=(a+l)/-i;else for(let l=0;l<s;++l)c[l]=(a+l)*i;return c}function _l(e,t,r){return t=+t,e=+e,r=+r,fi(e,t,r)[2]}function Ol(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?_l(t,e,r):_l(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ov(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function iv(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sv(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?av:nk(a);n>r;){if(n-r>600){const c=n-r+1,l=t-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),m=Math.max(r,Math.floor(t-l*d/c+p)),y=Math.min(n,Math.floor(t+(c-l)*d/c+p));sv(e,t,m,y,a)}const o=e[t];let i=r,s=n;for(_a(e,r,t),a(e[n],o)>0&&_a(e,r,n);i<s;){for(_a(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?_a(e,r,s):(++s,_a(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function _a(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function sk(e,t,r){if(e=Float64Array.from(ZC(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return iv(e);if(t>=1)return ov(e);var n,a=(n-1)*t,o=Math.floor(a),i=ov(sv(e,o).subarray(0,o+1)),s=iv(e.subarray(o+1));return i+(s-i)*(a-o)}}function ck(e,t,r=tv){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function lk(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function _t(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sl=Symbol("implicit");function El(){var e=new rv,t=[],r=[],n=Sl;function a(o){let i=e.get(o);if(i===void 0){if(n!==Sl)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new rv;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return El(t,r).unknown(n)},_t.apply(a,arguments),a}function Oa(){var e=El().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var p=t().length,m=a<n,y=m?a:n,h=m?n:a;o=(h-y)/Math.max(1,p-c+l*2),s&&(o=Math.floor(o)),y+=(h-y-o*(p-c))*u,i=o*(1-c),s&&(y=Math.round(y),i=Math.round(i));var g=lk(p).map(function(b){return y+o*b});return r(m?g.reverse():g)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,l=+p),d()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),d()):c},e.paddingOuter=function(p){return arguments.length?(l=+p,d()):l},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),d()):u},e.copy=function(){return Oa(t(),[n,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},_t.apply(d(),arguments)}function cv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cv(t())},e}function Sa(){return cv(Oa.apply(null,arguments).paddingInner(1))}function uk(e){return function(){return e}}function pi(e){return+e}var lv=[0,1];function et(e){return e}function Pl(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uk(isNaN(t)?NaN:.5)}function dk(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fk(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Pl(a,n),o=r(i,o)):(n=Pl(n,a),o=r(o,i)),function(s){return o(n(s))}}function pk(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Pl(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var c=ja(e,s,1,n)-1;return o[c](a[c](s))}}function Ea(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hi(){var e=lv,t=lv,r=sn,n,a,o,i=et,s,c,l;function u(){var p=Math.min(e.length,t.length);return i!==et&&(i=dk(e[0],e[p-1])),s=p>2?pk:fk,c=l=null,d}function d(p){return p==null||isNaN(p=+p)?o:(c||(c=s(e.map(n),t,r)))(n(i(p)))}return d.invert=function(p){return i(a((l||(l=s(t,e.map(n),Od)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,pi),u()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=Ws,u()},d.clamp=function(p){return arguments.length?(i=p?!0:et,u()):i!==et},d.interpolate=function(p){return arguments.length?(r=p,u()):r},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,m){return n=p,a=m,u()}}function Nl(){return hi()(et,et)}function hk(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mi(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function On(e){return e=mi(Math.abs(e)),e?e[1]:NaN}function mk(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),o.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function yk(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pa(e){if(!(t=vk.exec(e)))throw new Error("invalid format: "+e);var t;return new Cl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pa.prototype=Cl.prototype;function Cl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Cl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gk(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var uv;function bk(e,t){var r=mi(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(uv=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+mi(e,Math.max(0,t+o-1))[0]}function dv(e,t){var r=mi(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const fv={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hk,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dv(e*100,t),r:dv,s:bk,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pv(e){return e}var hv=Array.prototype.map,mv=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function xk(e){var t=e.grouping===void 0||e.thousands===void 0?pv:mk(hv.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?pv:yk(hv.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=Pa(d);var p=d.fill,m=d.align,y=d.sign,h=d.symbol,g=d.zero,b=d.width,w=d.comma,S=d.precision,x=d.trim,j=d.type;j==="n"?(w=!0,j="g"):fv[j]||(S===void 0&&(S=12),x=!0,j="g"),(g||p==="0"&&m==="=")&&(g=!0,p="0",m="=");var _=h==="$"?r:h==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",O=h==="$"?n:/[%p]/.test(j)?i:"",E=fv[j],C=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function A(P){var M=_,R=O,D,k,I;if(j==="c")R=E(P)+R,P="";else{P=+P;var F=P<0||1/P<0;if(P=isNaN(P)?c:E(Math.abs(P),S),x&&(P=gk(P)),F&&+P==0&&y!=="+"&&(F=!1),M=(F?y==="("?y:s:y==="-"||y==="("?"":y)+M,R=(j==="s"?mv[8+uv/3]:"")+R+(F&&y==="("?")":""),C){for(D=-1,k=P.length;++D<k;)if(I=P.charCodeAt(D),48>I||I>57){R=(I===46?a+P.slice(D+1):P.slice(D))+R,P=P.slice(0,D);break}}}w&&!g&&(P=t(P,1/0));var V=M.length+P.length+R.length,U=V<b?new Array(b-V+1).join(p):"";switch(w&&g&&(P=t(U+P,U.length?b-R.length:1/0),U=""),m){case"<":P=M+P+R+U;break;case"=":P=M+U+P+R;break;case"^":P=U.slice(0,V=U.length>>1)+M+P+R+U.slice(V);break;default:P=U+M+P+R;break}return o(P)}return A.toString=function(){return d+""},A}function u(d,p){var m=l((d=Pa(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(On(p)/3)))*3,h=Math.pow(10,-y),g=mv[8+y/3];return function(b){return m(h*b)+g}}return{format:l,formatPrefix:u}}var yi,kl,yv;wk({thousands:",",grouping:[3],currency:["$",""]});function wk(e){return yi=xk(e),kl=yi.format,yv=yi.formatPrefix,yi}function jk(e){return Math.max(0,-On(Math.abs(e)))}function _k(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(On(t)/3)))*3-On(Math.abs(e)))}function Ok(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,On(t)-On(e))+1}function vv(e,t,r,n){var a=Ol(e,t,r),o;switch(n=Pa(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=_k(a,i))&&(n.precision=o),yv(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Ok(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=jk(a))&&(n.precision=o-(n.type==="%")*2);break}}return kl(n)}function gr(e){var t=e.domain;return e.ticks=function(r){var n=t();return jl(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return vv(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],c,l,u=10;for(s<i&&(l=i,i=s,s=l,l=a,a=o,o=l);u-- >0;){if(l=_l(i,s,r),l===c)return n[a]=i,n[o]=s,t(n);if(l>0)i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l;else if(l<0)i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function vi(){var e=Nl();return e.copy=function(){return Ea(e,vi())},_t.apply(e,arguments),gr(e)}function gv(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,pi),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return gv(e).unknown(t)},e=arguments.length?Array.from(e,pi):[0,1],gr(r)}function bv(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function xv(e){return Math.log(e)}function wv(e){return Math.exp(e)}function Sk(e){return-Math.log(-e)}function Ek(e){return-Math.exp(-e)}function Pk(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Nk(e){return e===10?Pk:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ck(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jv(e){return(t,r)=>-e(-t,r)}function Ml(e){const t=e(xv,wv),r=t.domain;let n=10,a,o;function i(){return a=Ck(n),o=Nk(n),r()[0]<0?(a=jv(a),o=jv(o),e(Sk,Ek)):e(xv,wv),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const c=r();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let p=a(l),m=a(u),y,h;const g=s==null?10:+s;let b=[];if(!(n%1)&&m-p<g){if(p=Math.floor(p),m=Math.ceil(m),l>0){for(;p<=m;++p)for(y=1;y<n;++y)if(h=p<0?y/o(-p):y*o(p),!(h<l)){if(h>u)break;b.push(h)}}else for(;p<=m;++p)for(y=n-1;y>=1;--y)if(h=p>0?y/o(-p):y*o(p),!(h<l)){if(h>u)break;b.push(h)}b.length*2<g&&(b=jl(l,u,g))}else b=jl(p,m,Math.min(m-p,g)).map(o);return d?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Pa(c)).precision==null&&(c.trim=!0),c=kl(c)),s===1/0)return c;const l=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/o(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=l?c(u):""}},t.nice=()=>r(bv(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function _v(){const e=Ml(hi()).domain([1,10]);return e.copy=()=>Ea(e,_v()).base(e.base()),_t.apply(e,arguments),e}function Ov(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Sv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Al(e){var t=1,r=e(Ov(t),Sv(t));return r.constant=function(n){return arguments.length?e(Ov(t=+n),Sv(t)):t},gr(r)}function Ev(){var e=Al(hi());return e.copy=function(){return Ea(e,Ev()).constant(e.constant())},_t.apply(e,arguments)}function Pv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kk(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Mk(e){return e<0?-e*e:e*e}function Tl(e){var t=e(et,et),r=1;function n(){return r===1?e(et,et):r===.5?e(kk,Mk):e(Pv(r),Pv(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},gr(t)}function Dl(){var e=Tl(hi());return e.copy=function(){return Ea(e,Dl()).exponent(e.exponent())},_t.apply(e,arguments),e}function Ak(){return Dl.apply(null,arguments).exponent(.5)}function Nv(e){return Math.sign(e)*e*e}function Tk(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Cv(){var e=Nl(),t=[0,1],r=!1,n;function a(o){var i=Tk(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(Nv(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,pi)).map(Nv)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Cv(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},_t.apply(a,arguments),gr(a)}function kv(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=ck(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[ja(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(vr),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return kv().domain(e).range(t).unknown(n)},_t.apply(o,arguments)}function Mv(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(c){return c!=null&&c<=c?a[ja(n,c,0,r)]:o}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},i.invertExtent=function(c){var l=a.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,n[0]]:l>=r?[n[r-1],t]:[n[l-1],n[l]]},i.unknown=function(c){return arguments.length&&(o=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Mv().domain([e,t]).range(a).unknown(o)},_t.apply(gr(i),arguments)}function Av(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[ja(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return Av().domain(e).range(t).unknown(r)},_t.apply(a,arguments)}const Il=new Date,Rl=new Date;function Be(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const c=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return c;let l;do c.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<i);return c},a.filter=o=>Be(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Il.setTime(+o),Rl.setTime(+i),e(Il),e(Rl),Math.floor(r(Il,Rl))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const gi=Be(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gi.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Be(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):gi),gi.range;const er=1e3,Ot=er*60,tr=Ot*60,rr=tr*24,Ll=rr*7,Tv=rr*30,Bl=rr*365,Fr=Be(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*er)},(e,t)=>(t-e)/er,e=>e.getUTCSeconds());Fr.range;const Fl=Be(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*er)},(e,t)=>{e.setTime(+e+t*Ot)},(e,t)=>(t-e)/Ot,e=>e.getMinutes());Fl.range;const zl=Be(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ot)},(e,t)=>(t-e)/Ot,e=>e.getUTCMinutes());zl.range;const $l=Be(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*er-e.getMinutes()*Ot)},(e,t)=>{e.setTime(+e+t*tr)},(e,t)=>(t-e)/tr,e=>e.getHours());$l.range;const Vl=Be(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*tr)},(e,t)=>(t-e)/tr,e=>e.getUTCHours());Vl.range;const Na=Be(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ot)/rr,e=>e.getDate()-1);Na.range;const bi=Be(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rr,e=>e.getUTCDate()-1);bi.range;const Dv=Be(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rr,e=>Math.floor(e/rr));Dv.range;function zr(e){return Be(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ot)/Ll)}const xi=zr(0),wi=zr(1),Dk=zr(2),Ik=zr(3),Sn=zr(4),Rk=zr(5),Lk=zr(6);xi.range,wi.range,Dk.range,Ik.range,Sn.range,Rk.range,Lk.range;function $r(e){return Be(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ll)}const ji=$r(0),_i=$r(1),Bk=$r(2),Fk=$r(3),En=$r(4),zk=$r(5),$k=$r(6);ji.range,_i.range,Bk.range,Fk.range,En.range,zk.range,$k.range;const Ul=Be(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ul.range;const Hl=Be(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Hl.range;const nr=Be(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Be(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),nr.range;const ar=Be(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ar.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Be(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),ar.range;function Iv(e,t,r,n,a,o){const i=[[Fr,1,er],[Fr,5,5*er],[Fr,15,15*er],[Fr,30,30*er],[o,1,Ot],[o,5,5*Ot],[o,15,15*Ot],[o,30,30*Ot],[a,1,tr],[a,3,3*tr],[a,6,6*tr],[a,12,12*tr],[n,1,rr],[n,2,2*rr],[r,1,Ll],[t,1,Tv],[t,3,3*Tv],[e,1,Bl]];function s(l,u,d){const p=u<l;p&&([l,u]=[u,l]);const m=d&&typeof d.range=="function"?d:c(l,u,d),y=m?m.range(l,+u+1):[];return p?y.reverse():y}function c(l,u,d){const p=Math.abs(u-l)/d,m=wl(([,,g])=>g).right(i,p);if(m===i.length)return e.every(Ol(l/Bl,u/Bl,d));if(m===0)return gi.every(Math.max(Ol(l,u,d),1));const[y,h]=i[p/i[m-1][2]<i[m][2]/p?m-1:m];return y.every(h)}return[s,c]}const[Vk,Uk]=Iv(ar,Hl,ji,Dv,Vl,zl),[Hk,qk]=Iv(nr,Ul,xi,Na,$l,Fl);function ql(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wl(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ca(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Wk(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=ka(a),u=Ma(a),d=ka(o),p=Ma(o),m=ka(i),y=Ma(i),h=ka(s),g=Ma(s),b=ka(c),w=Ma(c),S={a:F,A:V,b:U,B:Q,c:null,d:$v,e:$v,f:mM,g:SM,G:PM,H:fM,I:pM,j:hM,L:Vv,m:yM,M:vM,p:q,q:T,Q:Kv,s:Gv,S:gM,u:bM,U:xM,V:wM,w:jM,W:_M,x:null,X:null,y:OM,Y:EM,Z:NM,"%":Xv},x={a:Y,A:H,b:J,B:ie,c:null,d:Hv,e:Hv,f:AM,g:VM,G:HM,H:CM,I:kM,j:MM,L:qv,m:TM,M:DM,p:W,q:oe,Q:Kv,s:Gv,S:IM,u:RM,U:LM,V:BM,w:FM,W:zM,x:null,X:null,y:$M,Y:UM,Z:qM,"%":Xv},j={a:A,A:P,b:M,B:R,c:D,d:Fv,e:Fv,f:cM,g:Bv,G:Lv,H:zv,I:zv,j:aM,L:sM,m:nM,M:oM,p:C,q:rM,Q:uM,s:dM,S:iM,u:Jk,U:Zk,V:Qk,w:Yk,W:eM,x:k,X:I,y:Bv,Y:Lv,Z:tM,"%":lM};S.x=_(r,S),S.X=_(n,S),S.c=_(t,S),x.x=_(r,x),x.X=_(n,x),x.c=_(t,x);function _($,G){return function(ee){var B=[],Oe=-1,ue=0,ke=$.length,Me,rt,Zr;for(ee instanceof Date||(ee=new Date(+ee));++Oe<ke;)$.charCodeAt(Oe)===37&&(B.push($.slice(ue,Oe)),(rt=Rv[Me=$.charAt(++Oe)])!=null?Me=$.charAt(++Oe):rt=Me==="e"?" ":"0",(Zr=G[Me])&&(Me=Zr(ee,rt)),B.push(Me),ue=Oe+1);return B.push($.slice(ue,Oe)),B.join("")}}function O($,G){return function(ee){var B=Ca(1900,void 0,1),Oe=E(B,$,ee+="",0),ue,ke;if(Oe!=ee.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(G&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ue=Wl(Ca(B.y,0,1)),ke=ue.getUTCDay(),ue=ke>4||ke===0?_i.ceil(ue):_i(ue),ue=bi.offset(ue,(B.V-1)*7),B.y=ue.getUTCFullYear(),B.m=ue.getUTCMonth(),B.d=ue.getUTCDate()+(B.w+6)%7):(ue=ql(Ca(B.y,0,1)),ke=ue.getDay(),ue=ke>4||ke===0?wi.ceil(ue):wi(ue),ue=Na.offset(ue,(B.V-1)*7),B.y=ue.getFullYear(),B.m=ue.getMonth(),B.d=ue.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),ke="Z"in B?Wl(Ca(B.y,0,1)).getUTCDay():ql(Ca(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(ke+5)%7:B.w+B.U*7-(ke+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Wl(B)):ql(B)}}function E($,G,ee,B){for(var Oe=0,ue=G.length,ke=ee.length,Me,rt;Oe<ue;){if(B>=ke)return-1;if(Me=G.charCodeAt(Oe++),Me===37){if(Me=G.charAt(Oe++),rt=j[Me in Rv?G.charAt(Oe++):Me],!rt||(B=rt($,ee,B))<0)return-1}else if(Me!=ee.charCodeAt(B++))return-1}return B}function C($,G,ee){var B=l.exec(G.slice(ee));return B?($.p=u.get(B[0].toLowerCase()),ee+B[0].length):-1}function A($,G,ee){var B=m.exec(G.slice(ee));return B?($.w=y.get(B[0].toLowerCase()),ee+B[0].length):-1}function P($,G,ee){var B=d.exec(G.slice(ee));return B?($.w=p.get(B[0].toLowerCase()),ee+B[0].length):-1}function M($,G,ee){var B=b.exec(G.slice(ee));return B?($.m=w.get(B[0].toLowerCase()),ee+B[0].length):-1}function R($,G,ee){var B=h.exec(G.slice(ee));return B?($.m=g.get(B[0].toLowerCase()),ee+B[0].length):-1}function D($,G,ee){return E($,t,G,ee)}function k($,G,ee){return E($,r,G,ee)}function I($,G,ee){return E($,n,G,ee)}function F($){return i[$.getDay()]}function V($){return o[$.getDay()]}function U($){return c[$.getMonth()]}function Q($){return s[$.getMonth()]}function q($){return a[+($.getHours()>=12)]}function T($){return 1+~~($.getMonth()/3)}function Y($){return i[$.getUTCDay()]}function H($){return o[$.getUTCDay()]}function J($){return c[$.getUTCMonth()]}function ie($){return s[$.getUTCMonth()]}function W($){return a[+($.getUTCHours()>=12)]}function oe($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var G=_($+="",S);return G.toString=function(){return $},G},parse:function($){var G=O($+="",!1);return G.toString=function(){return $},G},utcFormat:function($){var G=_($+="",x);return G.toString=function(){return $},G},utcParse:function($){var G=O($+="",!0);return G.toString=function(){return $},G}}}var Rv={"-":"",_:" ",0:"0"},Ve=/^\s*\d+/,Xk=/^%/,Kk=/[\\^$*+?|[\]().{}]/g;function ye(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Gk(e){return e.replace(Kk,"\\$&")}function ka(e){return new RegExp("^(?:"+e.map(Gk).join("|")+")","i")}function Ma(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Yk(e,t,r){var n=Ve.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Jk(e,t,r){var n=Ve.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Zk(e,t,r){var n=Ve.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Qk(e,t,r){var n=Ve.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eM(e,t,r){var n=Ve.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Lv(e,t,r){var n=Ve.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Bv(e,t,r){var n=Ve.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tM(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rM(e,t,r){var n=Ve.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nM(e,t,r){var n=Ve.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Fv(e,t,r){var n=Ve.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aM(e,t,r){var n=Ve.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function zv(e,t,r){var n=Ve.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function oM(e,t,r){var n=Ve.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function iM(e,t,r){var n=Ve.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sM(e,t,r){var n=Ve.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function cM(e,t,r){var n=Ve.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lM(e,t,r){var n=Xk.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uM(e,t,r){var n=Ve.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dM(e,t,r){var n=Ve.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $v(e,t){return ye(e.getDate(),t,2)}function fM(e,t){return ye(e.getHours(),t,2)}function pM(e,t){return ye(e.getHours()%12||12,t,2)}function hM(e,t){return ye(1+Na.count(nr(e),e),t,3)}function Vv(e,t){return ye(e.getMilliseconds(),t,3)}function mM(e,t){return Vv(e,t)+"000"}function yM(e,t){return ye(e.getMonth()+1,t,2)}function vM(e,t){return ye(e.getMinutes(),t,2)}function gM(e,t){return ye(e.getSeconds(),t,2)}function bM(e){var t=e.getDay();return t===0?7:t}function xM(e,t){return ye(xi.count(nr(e)-1,e),t,2)}function Uv(e){var t=e.getDay();return t>=4||t===0?Sn(e):Sn.ceil(e)}function wM(e,t){return e=Uv(e),ye(Sn.count(nr(e),e)+(nr(e).getDay()===4),t,2)}function jM(e){return e.getDay()}function _M(e,t){return ye(wi.count(nr(e)-1,e),t,2)}function OM(e,t){return ye(e.getFullYear()%100,t,2)}function SM(e,t){return e=Uv(e),ye(e.getFullYear()%100,t,2)}function EM(e,t){return ye(e.getFullYear()%1e4,t,4)}function PM(e,t){var r=e.getDay();return e=r>=4||r===0?Sn(e):Sn.ceil(e),ye(e.getFullYear()%1e4,t,4)}function NM(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ye(t/60|0,"0",2)+ye(t%60,"0",2)}function Hv(e,t){return ye(e.getUTCDate(),t,2)}function CM(e,t){return ye(e.getUTCHours(),t,2)}function kM(e,t){return ye(e.getUTCHours()%12||12,t,2)}function MM(e,t){return ye(1+bi.count(ar(e),e),t,3)}function qv(e,t){return ye(e.getUTCMilliseconds(),t,3)}function AM(e,t){return qv(e,t)+"000"}function TM(e,t){return ye(e.getUTCMonth()+1,t,2)}function DM(e,t){return ye(e.getUTCMinutes(),t,2)}function IM(e,t){return ye(e.getUTCSeconds(),t,2)}function RM(e){var t=e.getUTCDay();return t===0?7:t}function LM(e,t){return ye(ji.count(ar(e)-1,e),t,2)}function Wv(e){var t=e.getUTCDay();return t>=4||t===0?En(e):En.ceil(e)}function BM(e,t){return e=Wv(e),ye(En.count(ar(e),e)+(ar(e).getUTCDay()===4),t,2)}function FM(e){return e.getUTCDay()}function zM(e,t){return ye(_i.count(ar(e)-1,e),t,2)}function $M(e,t){return ye(e.getUTCFullYear()%100,t,2)}function VM(e,t){return e=Wv(e),ye(e.getUTCFullYear()%100,t,2)}function UM(e,t){return ye(e.getUTCFullYear()%1e4,t,4)}function HM(e,t){var r=e.getUTCDay();return e=r>=4||r===0?En(e):En.ceil(e),ye(e.getUTCFullYear()%1e4,t,4)}function qM(){return"+0000"}function Xv(){return"%"}function Kv(e){return+e}function Gv(e){return Math.floor(+e/1e3)}var Pn,Yv,Jv;WM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WM(e){return Pn=Wk(e),Yv=Pn.format,Pn.parse,Jv=Pn.utcFormat,Pn.utcParse,Pn}function XM(e){return new Date(e)}function KM(e){return e instanceof Date?+e:+new Date(+e)}function Xl(e,t,r,n,a,o,i,s,c,l){var u=Nl(),d=u.invert,p=u.domain,m=l(".%L"),y=l(":%S"),h=l("%I:%M"),g=l("%I %p"),b=l("%a %d"),w=l("%b %d"),S=l("%B"),x=l("%Y");function j(_){return(c(_)<_?m:s(_)<_?y:i(_)<_?h:o(_)<_?g:n(_)<_?a(_)<_?b:w:r(_)<_?S:x)(_)}return u.invert=function(_){return new Date(d(_))},u.domain=function(_){return arguments.length?p(Array.from(_,KM)):p().map(XM)},u.ticks=function(_){var O=p();return e(O[0],O[O.length-1],_??10)},u.tickFormat=function(_,O){return O==null?j:l(O)},u.nice=function(_){var O=p();return(!_||typeof _.range!="function")&&(_=t(O[0],O[O.length-1],_??10)),_?p(bv(O,_)):u},u.copy=function(){return Ea(u,Xl(e,t,r,n,a,o,i,s,c,l))},u}function GM(){return _t.apply(Xl(Hk,qk,nr,Ul,xi,Na,$l,Fl,Fr,Yv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YM(){return _t.apply(Xl(Vk,Uk,ar,Hl,ji,bi,Vl,zl,Fr,Jv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oi(){var e=0,t=1,r,n,a,o,i=et,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(i=d,l):i};function u(d){return function(p){var m,y;return arguments.length?([m,y]=p,i=d(m,y),l):[i(0),i(1)]}}return l.range=u(sn),l.rangeRound=u(Ws),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),l}}function br(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Zv(){var e=gr(Oi()(et));return e.copy=function(){return br(e,Zv())},Qt.apply(e,arguments)}function Qv(){var e=Ml(Oi()).domain([1,10]);return e.copy=function(){return br(e,Qv()).base(e.base())},Qt.apply(e,arguments)}function eg(){var e=Al(Oi());return e.copy=function(){return br(e,eg()).constant(e.constant())},Qt.apply(e,arguments)}function Kl(){var e=Tl(Oi());return e.copy=function(){return br(e,Kl()).exponent(e.exponent())},Qt.apply(e,arguments)}function JM(){return Kl.apply(null,arguments).exponent(.5)}function tg(){var e=[],t=et;function r(n){if(n!=null&&!isNaN(n=+n))return t((ja(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(vr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>sk(e,o/n))},r.copy=function(){return tg(t).domain(e)},Qt.apply(r,arguments)}function Si(){var e=0,t=.5,r=1,n=1,a,o,i,s,c,l=et,u,d=!1,p;function m(h){return isNaN(h=+h)?p:(h=.5+((h=+u(h))-o)*(n*h<n*o?s:c),l(d?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([e,t,r]=h,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m):[e,t,r]},m.clamp=function(h){return arguments.length?(d=!!h,m):d},m.interpolator=function(h){return arguments.length?(l=h,m):l};function y(h){return function(g){var b,w,S;return arguments.length?([b,w,S]=g,l=e1(h,[b,w,S]),m):[l(0),l(.5),l(1)]}}return m.range=y(sn),m.rangeRound=y(Ws),m.unknown=function(h){return arguments.length?(p=h,m):p},function(h){return u=h,a=h(e),o=h(t),i=h(r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m}}function rg(){var e=gr(Si()(et));return e.copy=function(){return br(e,rg())},Qt.apply(e,arguments)}function ng(){var e=Ml(Si()).domain([.1,1,10]);return e.copy=function(){return br(e,ng()).base(e.base())},Qt.apply(e,arguments)}function ag(){var e=Al(Si());return e.copy=function(){return br(e,ag()).constant(e.constant())},Qt.apply(e,arguments)}function Gl(){var e=Tl(Si());return e.copy=function(){return br(e,Gl()).exponent(e.exponent())},Qt.apply(e,arguments)}function ZM(){return Gl.apply(null,arguments).exponent(.5)}const og=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Oa,scaleDiverging:rg,scaleDivergingLog:ng,scaleDivergingPow:Gl,scaleDivergingSqrt:ZM,scaleDivergingSymlog:ag,scaleIdentity:gv,scaleImplicit:Sl,scaleLinear:vi,scaleLog:_v,scaleOrdinal:El,scalePoint:Sa,scalePow:Dl,scaleQuantile:kv,scaleQuantize:Mv,scaleRadial:Cv,scaleSequential:Zv,scaleSequentialLog:Qv,scaleSequentialPow:Kl,scaleSequentialQuantile:tg,scaleSequentialSqrt:JM,scaleSequentialSymlog:eg,scaleSqrt:Ak,scaleSymlog:Ev,scaleThreshold:Av,scaleTime:GM,scaleUtc:YM,tickFormat:vv},Symbol.toStringTag,{value:"Module"}));var QM=Pd;function eA(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!QM(i):r(i,s)))var s=i,c=o}return c}var ig=eA;function tA(e,t){return e>t}var rA=tA,nA=ig,aA=rA,oA=ho;function iA(e){return e&&e.length?nA(e,oA,aA):void 0}var sA=iA;const Ei=Pe(sA);function cA(e,t){return e<t}var lA=cA,uA=ig,dA=lA,fA=ho;function pA(e){return e&&e.length?uA(e,fA,dA):void 0}var hA=pA;const Pi=Pe(hA);var mA=Nw,yA=Nr,vA=Qm,gA=ea;function bA(e,t){var r=gA(e)?mA:vA;return r(e,yA(t))}var sg=bA;Uw=Pe(sg);var xA=Bs,wA=sg;function jA(e,t){return xA(wA(e,t),1)}var _A=jA;const OA=Pe(_A);var SA=mz;function EA(e,t){return SA(e,t)}var PA=EA;const Yl=Pe(PA);var Nn=1e9,NA={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ql,Ce=!0,St="[DecimalError] ",Vr=St+"Invalid argument: ",Jl=St+"Exponent out of range: ",Cn=Math.floor,Ur=Math.pow,CA=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ht,Ue=1e7,Ee=7,cg=9007199254740991,Ni=Cn(cg/Ee),Z={};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Z.comparedTo=Z.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1},Z.decimalPlaces=Z.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ee;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r},Z.dividedBy=Z.div=function(e){return or(this,new this.constructor(e))},Z.dividedToIntegerBy=Z.idiv=function(e){var t=this,r=t.constructor;return _e(or(t,new r(e),0,1),r.precision)},Z.equals=Z.eq=function(e){return!this.cmp(e)},Z.exponent=function(){return De(this)},Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0},Z.greaterThanOrEqualTo=Z.gte=function(e){return this.cmp(e)>=0},Z.isInteger=Z.isint=function(){return this.e>this.d.length-2},Z.isNegative=Z.isneg=function(){return this.s<0},Z.isPositive=Z.ispos=function(){return this.s>0},Z.isZero=function(){return this.s===0},Z.lessThan=Z.lt=function(e){return this.cmp(e)<0},Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1},Z.logarithm=Z.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ht))throw Error(St+"NaN");if(r.s<1)throw Error(St+(r.s?"NaN":"-Infinity"));return r.eq(ht)?new n(0):(Ce=!1,t=or(Aa(r,o),Aa(e,o),o),Ce=!0,_e(t,a))},Z.minus=Z.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fg(t,e):lg(t,(e.s=-e.s,e))},Z.modulo=Z.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(St+"NaN");return r.s?(Ce=!1,t=or(r,e,0,1).times(e),Ce=!0,r.minus(t)):_e(new n(r),a)},Z.naturalExponential=Z.exp=function(){return ug(this)},Z.naturalLogarithm=Z.ln=function(){return Aa(this)},Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Z.plus=Z.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lg(t,e):fg(t,(e.s=-e.s,e))},Z.precision=Z.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vr+e);if(t=De(a)+1,n=a.d.length-1,r=n*Ee+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},Z.squareRoot=Z.sqrt=function(){var e,t,r,n,a,o,i,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(St+"NaN")}for(e=De(s),Ce=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=$t(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Cn((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(o=n,n=o.plus(or(s,o,i+2)).times(.5),$t(o.d).slice(0,i)===(t=$t(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(_e(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Ce=!0,_e(n,r)},Z.times=Z.mul=function(e){var t,r,n,a,o,i,s,c,l,u=this,d=u.constructor,p=u.d,m=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,c=p.length,l=m.length,c<l&&(o=p,p=m,m=o,i=c,c=l,l=i),o=[],i=c+l,n=i;n--;)o.push(0);for(n=l;--n>=0;){for(t=0,a=c+n;a>n;)s=o[a]+m[n]*p[a-n-1]+t,o[a--]=s%Ue|0,t=s/Ue|0;o[a]=(o[a]+t)%Ue|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Ce?_e(e,d.precision):e},Z.toDecimalPlaces=Z.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zt(e,0,Nn),t===void 0?t=n.rounding:zt(t,0,8),_e(r,e+De(r)+1,t))},Z.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Hr(n,!0):(zt(e,0,Nn),t===void 0?t=a.rounding:zt(t,0,8),n=_e(new a(n),e+1,t),r=Hr(n,!0,e+1)),r},Z.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Hr(a):(zt(e,0,Nn),t===void 0?t=o.rounding:zt(t,0,8),n=_e(new o(a),e+De(a)+1,t),r=Hr(n.abs(),!1,e+De(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},Z.toInteger=Z.toint=function(){var e=this,t=e.constructor;return _e(new t(e),De(e)+1,t.rounding)},Z.toNumber=function(){return+this},Z.toPower=Z.pow=function(e){var t,r,n,a,o,i,s=this,c=s.constructor,l=12,u=+(e=new c(e));if(!e.s)return new c(ht);if(s=new c(s),!s.s){if(e.s<1)throw Error(St+"Infinity");return s}if(s.eq(ht))return s;if(n=c.precision,e.eq(ht))return _e(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=cg){for(a=new c(ht),t=Math.ceil(n/Ee+4),Ce=!1;r%2&&(a=a.times(s),pg(a.d,t)),r=Cn(r/2),r!==0;)s=s.times(s),pg(s.d,t);return Ce=!0,e.s<0?new c(ht).div(a):_e(a,n)}}else if(o<0)throw Error(St+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ce=!1,a=e.times(Aa(s,n+l)),Ce=!0,a=ug(a),a.s=o,a},Z.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=De(a),n=Hr(a,r<=o.toExpNeg||r>=o.toExpPos)):(zt(e,1,Nn),t===void 0?t=o.rounding:zt(t,0,8),a=_e(new o(a),e,t),r=De(a),n=Hr(a,e<=r||r<=o.toExpNeg,e)),n},Z.toSignificantDigits=Z.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zt(e,1,Nn),t===void 0?t=n.rounding:zt(t,0,8)),_e(new n(r),e,t)},Z.toString=Z.valueOf=Z.val=Z.toJSON=Z[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=De(e),r=e.constructor;return Hr(e,t<=r.toExpNeg||t>=r.toExpPos)};function lg(e,t){var r,n,a,o,i,s,c,l,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ce?_e(t,d):t;if(c=e.d,l=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a,o){for(o<0?(n=c,o=-o,s=l.length):(n=l,a=i,s=c.length),i=Math.ceil(d/Ee),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=c.length,o=l.length,s-o<0&&(o=s,n=l,l=c,c=n),r=0;o;)r=(c[--o]=c[o]+l[o]+r)/Ue|0,c[o]%=Ue;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Ce?_e(t,d):t}function zt(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vr+e)}function $t(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Ee-n.length,r&&(o+=xr(r)),o+=n;i=e[t],n=i+"",r=Ee-n.length,r&&(o+=xr(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var or=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Ue|0,i=o/Ue|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,c;if(o!=i)c=o>i?1:-1;else for(s=c=0;s<o;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Ue+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,c,l,u,d,p,m,y,h,g,b,w,S,x,j,_,O,E,C=n.constructor,A=n.s==a.s?1:-1,P=n.d,M=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(St+"Division by zero");for(c=n.e-a.e,O=M.length,j=P.length,m=new C(A),y=m.d=[],l=0;M[l]==(P[l]||0);)++l;if(M[l]>(P[l]||0)&&--c,o==null?w=o=C.precision:i?w=o+(De(n)-De(a))+1:w=o,w<0)return new C(0);if(w=w/Ee+2|0,l=0,O==1)for(u=0,M=M[0],w++;(l<j||u)&&w--;l++)S=u*Ue+(P[l]||0),y[l]=S/M|0,u=S%M|0;else{for(u=Ue/(M[0]+1)|0,u>1&&(M=e(M,u),P=e(P,u),O=M.length,j=P.length),x=O,h=P.slice(0,O),g=h.length;g<O;)h[g++]=0;E=M.slice(),E.unshift(0),_=M[0],M[1]>=Ue/2&&++_;do u=0,s=t(M,h,O,g),s<0?(b=h[0],O!=g&&(b=b*Ue+(h[1]||0)),u=b/_|0,u>1?(u>=Ue&&(u=Ue-1),d=e(M,u),p=d.length,g=h.length,s=t(d,h,p,g),s==1&&(u--,r(d,O<p?E:M,p))):(u==0&&(s=u=1),d=M.slice()),p=d.length,p<g&&d.unshift(0),r(h,d,g),s==-1&&(g=h.length,s=t(M,h,O,g),s<1&&(u++,r(h,O<g?E:M,g))),g=h.length):s===0&&(u++,h=[0]),y[l++]=u,s&&h[0]?h[g++]=P[x]||0:(h=[P[x]],g=1);while((x++<j||h[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=c,_e(m,i?o+De(m)+1:o)}}();function ug(e,t){var r,n,a,o,i,s,c=0,l=0,u=e.constructor,d=u.precision;if(De(e)>16)throw Error(Jl+De(e));if(!e.s)return new u(ht);for(t==null?(Ce=!1,s=d):s=t,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(n=Math.log(Ur(2,l))/Math.LN10*2+5|0,s+=n,r=a=o=new u(ht),u.precision=s;;){if(a=_e(a.times(e),s),r=r.times(++c),i=o.plus(or(a,r,s)),$t(i.d).slice(0,s)===$t(o.d).slice(0,s)){for(;l--;)o=_e(o.times(o),s);return u.precision=d,t==null?(Ce=!0,_e(o,d)):o}o=i}}function De(e){for(var t=e.e*Ee,r=e.d[0];r>=10;r/=10)t++;return t}function Zl(e,t,r){if(t>e.LN10.sd())throw Ce=!0,r&&(e.precision=r),Error(St+"LN10 precision limit exceeded");return _e(new e(e.LN10),t)}function xr(e){for(var t="";e--;)t+="0";return t}function Aa(e,t){var r,n,a,o,i,s,c,l,u,d=1,p=10,m=e,y=m.d,h=m.constructor,g=h.precision;if(m.s<1)throw Error(St+(m.s?"NaN":"-Infinity"));if(m.eq(ht))return new h(0);if(t==null?(Ce=!1,l=g):l=t,m.eq(10))return t==null&&(Ce=!0),Zl(h,l);if(l+=p,h.precision=l,r=$t(y),n=r.charAt(0),o=De(m),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=$t(m.d),n=r.charAt(0),d++;o=De(m),n>1?(m=new h("0."+r),o++):m=new h(n+"."+r.slice(1))}else return c=Zl(h,l+2,g).times(o+""),m=Aa(new h(n+"."+r.slice(1)),l-p).plus(c),h.precision=g,t==null?(Ce=!0,_e(m,g)):m;for(s=i=m=or(m.minus(ht),m.plus(ht),l),u=_e(m.times(m),l),a=3;;){if(i=_e(i.times(u),l),c=s.plus(or(i,new h(a),l)),$t(c.d).slice(0,l)===$t(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(Zl(h,l+2,g).times(o+""))),s=or(s,new h(d),l),h.precision=g,t==null?(Ce=!0,_e(s,g)):s;s=c,a+=2}}function dg(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Cn(r/Ee),e.d=[],n=(r+1)%Ee,r<0&&(n+=Ee),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ee;n<a;)e.d.push(+t.slice(n,n+=Ee));t=t.slice(n),n=Ee-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ce&&(e.e>Ni||e.e<-Ni))throw Error(Jl+r)}else e.s=0,e.e=0,e.d=[0];return e}function _e(e,t,r){var n,a,o,i,s,c,l,u,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Ee,a=t,l=d[u=0];else{if(u=Math.ceil((n+1)/Ee),o=d.length,u>=o)return e;for(l=o=d[u],i=1;o>=10;o/=10)i++;n%=Ee,a=n-Ee+i}if(r!==void 0&&(o=Ur(10,i-a-1),s=l/o%10|0,c=t<0||d[u+1]!==void 0||l%o,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?l/Ur(10,i-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(o=De(e),d.length=1,t=t-o-1,d[0]=Ur(10,(Ee-t%Ee)%Ee),e.e=Cn(-t/Ee)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,o=1,u--):(d.length=u+1,o=Ur(10,Ee-n),d[u]=a>0?(l/Ur(10,i-a)%Ur(10,a)|0)*o:0),c)for(;;)if(u==0){(d[0]+=o)==Ue&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=Ue)break;d[u--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Ce&&(e.e>Ni||e.e<-Ni))throw Error(Jl+De(e));return e}function fg(e,t){var r,n,a,o,i,s,c,l,u,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ce?_e(t,m):t;if(c=e.d,d=t.d,n=t.e,l=e.e,c=c.slice(),i=l-n,i){for(u=i<0,u?(r=c,i=-i,s=d.length):(r=d,n=l,s=c.length),a=Math.max(Math.ceil(m/Ee),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=d.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(c[a]!=d[a]){u=c[a]<d[a];break}i=0}for(u&&(r=c,c=d,d=r,t.s=-t.s),s=c.length,a=d.length-s;a>0;--a)c[s++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(o=a;o&&c[--o]===0;)c[o]=Ue-1;--c[o],c[a]+=Ue}c[a]-=d[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ce?_e(t,m):t):new p(0)}function Hr(e,t,r){var n,a=De(e),o=$t(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+xr(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+xr(-a-1)+o,r&&(n=r-i)>0&&(o+=xr(n))):a>=i?(o+=xr(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+xr(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=xr(n))),e.s<0?"-"+o:o}function pg(e,t){if(e.length>t)return e.length=t,!0}function hg(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Vr+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return dg(i,o.toString())}else if(typeof o!="string")throw Error(Vr+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,CA.test(o))dg(i,o);else throw Error(Vr+o)}if(a.prototype=Z,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hg,a.config=a.set=kA,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function kA(e){if(!e||typeof e!="object")throw Error(St+"Object expected");var t,r,n,a=["precision",1,Nn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Cn(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Vr+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vr+r+": "+n);return this}var Ql=hg(NA);ht=new Ql(1);const je=Ql;function MA(e){return IA(e)||DA(e)||TA(e)||AA()}function AA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TA(e,t){if(e){if(typeof e=="string")return eu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eu(e,t)}}function DA(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function IA(e){if(Array.isArray(e))return eu(e)}function eu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RA=function(e){return e},mg={"@@functional/placeholder":!0},yg=function(e){return e===mg},vg=function(e){return function t(){return arguments.length===0||arguments.length===1&&yg(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},LA=function e(t,r){return t===1?r:vg(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==mg}).length;return i>=t?r.apply(void 0,a):e(t-i,vg(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=a.map(function(d){return yg(d)?c.shift():d});return r.apply(void 0,MA(u).concat(c))}))})},Ci=function(e){return LA(e.length,e)},tu=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},BA=Ci(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),FA=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return RA;var n=t.reverse(),a=n[0],o=n.slice(1);return function(){return o.reduce(function(i,s){return s(i)},a.apply(void 0,arguments))}},ru=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},gg=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t&&a.every(function(i,s){return i===t[s]})||(t=a,r=e.apply(void 0,a)),r}};function zA(e){var t;return e===0?t=1:t=Math.floor(new je(e).abs().log(10).toNumber())+1,t}function $A(e,t,r){for(var n=new je(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var VA=Ci(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),UA=Ci(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),HA=Ci(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ki={rangeStep:$A,getDigitCount:zA,interpolateNumber:VA,uninterpolateNumber:UA,uninterpolateTruncation:HA};function nu(e){return XA(e)||WA(e)||bg(e)||qA()}function qA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WA(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function XA(e){if(Array.isArray(e))return au(e)}function Ta(e,t){return YA(e)||GA(e,t)||bg(e,t)||KA()}function KA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bg(e,t){if(e){if(typeof e=="string")return au(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return au(e,t)}}function au(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GA(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,o=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function YA(e){if(Array.isArray(e))return e}function xg(e){var t=Ta(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function wg(e,t,r){if(e.lte(0))return new je(0);var n=ki.getDigitCount(e.toNumber()),a=new je(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new je(Math.ceil(o.div(i).toNumber())).add(r).mul(i),c=s.mul(a);return t?c:new je(Math.ceil(c))}function JA(e,t,r){var n=1,a=new je(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new je(10).pow(ki.getDigitCount(e)-1),a=new je(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new je(Math.floor(e)))}else e===0?a=new je(Math.floor((t-1)/2)):r||(a=new je(Math.floor(e)));var i=Math.floor((t-1)/2),s=FA(BA(function(c){return a.add(new je(c-i).mul(n)).toNumber()}),tu);return s(0,t)}function jg(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var o=wg(new je(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new je(0):(i=new je(e).add(t).div(2),i=i.sub(new je(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),c=Math.ceil(new je(t).sub(i).div(o).toNumber()),l=s+c+1;return l>r?jg(e,t,r,n,a+1):(l<r&&(c=t>0?c+(r-l):c,s=t>0?s:s+(r-l)),{step:o,tickMin:i.sub(new je(s).mul(o)),tickMax:i.add(new je(c).mul(o))})}function ZA(e){var t=Ta(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=xg([r,n]),c=Ta(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var d=u===1/0?[l].concat(nu(tu(0,a-1).map(function(){return 1/0}))):[].concat(nu(tu(0,a-1).map(function(){return-1/0})),[u]);return r>n?ru(d):d}if(l===u)return JA(l,a,o);var p=jg(l,u,i,o),m=p.step,y=p.tickMin,h=p.tickMax,g=ki.rangeStep(y,h.add(new je(.1).mul(m)),m);return r>n?ru(g):g}function QA(e,t){var r=Ta(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=xg([n,a]),s=Ta(i,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,a];if(c===l)return[c];var u=Math.max(t,2),d=wg(new je(l).sub(c).div(u-1),o,0),p=[].concat(nu(ki.rangeStep(new je(c),new je(l).sub(new je(.99).mul(d)),d)),[l]);return n>a?ru(p):p}var e2=gg(ZA),t2=gg(QA),r2="Invariant failed";function qr(e,t){throw new Error(r2)}var n2=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function kn(e){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}function a2(e,t){return c2(e)||s2(e,t)||i2(e,t)||o2()}function o2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2(e,t){if(e){if(typeof e=="string")return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(e,t)}}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s2(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function c2(e){if(Array.isArray(e))return e}function l2(e,t){if(e==null)return{};var r=u2(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u2(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Eg(n.key),n)}}function p2(e,t,r){return t&&f2(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h2(e,t,r){return t=Ai(t),m2(e,Og()?Reflect.construct(t,r||[],Ai(e).constructor):t.apply(e,r))}function m2(e,t){if(t&&(kn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y2(e)}function y2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Og(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Og=function(){return!!e})()}function Ai(e){return Ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ai(e)}function v2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ou(e,t)}function ou(e,t){return ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ou(e,t)}function Sg(e,t,r){return t=Eg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eg(e){var t=g2(e,"string");return kn(t)=="symbol"?t:t+""}function g2(e,t){if(kn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ti=function(e){function t(){return d2(this,t),h2(this,t,arguments)}return v2(t,e),p2(t,[{key:"render",value:function(){var r=this.props,n=r.offset,a=r.layout,o=r.width,i=r.dataKey,s=r.data,c=r.dataPointFormatter,l=r.xAxis,u=r.yAxis,d=l2(r,n2),p=ve(d,!1);this.props.direction==="x"&&l.type!=="number"&&qr();var m=s.map(function(y){var h=c(y,i),g=h.x,b=h.y,w=h.value,S=h.errorVal;if(!S)return null;var x=[],j,_;if(Array.isArray(S)){var O=a2(S,2);j=O[0],_=O[1]}else j=_=S;if(a==="vertical"){var E=l.scale,C=b+n,A=C+o,P=C-o,M=E(w-j),R=E(w+_);x.push({x1:R,y1:A,x2:R,y2:P}),x.push({x1:M,y1:C,x2:R,y2:C}),x.push({x1:M,y1:A,x2:M,y2:P})}else if(a==="horizontal"){var D=u.scale,k=g+n,I=k-o,F=k+o,V=D(w-j),U=D(w+_);x.push({x1:I,y1:U,x2:F,y2:U}),x.push({x1:k,y1:V,x2:k,y2:U}),x.push({x1:I,y1:V,x2:F,y2:V})}return N.createElement($e,Mi({className:"recharts-errorBar",key:"bar-".concat(x.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),x.map(function(Q){return N.createElement("line",Mi({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return N.createElement($e,{className:"recharts-errorBars"},m)}}])}(N.Component);Sg(Ti,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Sg(Ti,"displayName","ErrorBar");function Da(e){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}function Pg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pg(Object(r),!0).forEach(function(n){b2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b2(e,t,r){return t=x2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x2(e){var t=w2(e,"string");return Da(t)=="symbol"?t:t+""}function w2(e,t){if(Da(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ng=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,o=pt(t,bn);if(!o)return null;var i=bn.defaultProps,s=i!==void 0?Wr(Wr({},i),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(l,u){var d=u.item,p=u.props,m=p.sectors||p.data||[];return l.concat(m.map(function(y){return{type:o.props.iconType||d.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(l){var u=l.item,d=u.type.defaultProps,p=d!==void 0?Wr(Wr({},d),u.props):{},m=p.dataKey,y=p.name,h=p.legendType,g=p.hide;return{inactive:g,dataKey:m,type:s.iconType||h||"square",color:su(u),value:y||m,payload:p}}),Wr(Wr(Wr({},s),bn.getWithHeight(o,n)),{},{payload:c,item:o})};function Ia(e){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function Cg(e){return S2(e)||O2(e)||_2(e)||j2()}function j2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _2(e,t){if(e){if(typeof e=="string")return iu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iu(e,t)}}function O2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S2(e){if(Array.isArray(e))return iu(e)}function iu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kg(Object(r),!0).forEach(function(n){Mn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mn(e,t,r){return t=E2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E2(e){var t=P2(e,"string");return Ia(t)=="symbol"?t:t+""}function P2(e,t){if(Ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vt(e,t,r){return ge(e)||ge(t)?r:Le(t)?Pt(e,t,r):fe(t)?t(e):r}function Di(e,t,r,n){var a=OA(e,function(s){return Vt(s,t)});if(r==="number"){var o=a.filter(function(s){return K(s)||parseFloat(s)});return o.length?[Pi(o),Ei(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!ge(s)}):a;return i.map(function(s){return Le(s)||s instanceof Date?s:""})}var N2=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,i=(t=r==null?void 0:r.length)!==null&&t!==void 0?t:0;if(i<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,c=0;c<i;c++){var l=c>0?n[c-1].coordinate:n[i-1].coordinate,u=n[c].coordinate,d=c>=i-1?n[0].coordinate:n[c+1].coordinate,p=void 0;if(Ct(u-l)!==Ct(d-u)){var m=[];if(Ct(d-u)===Ct(s[1]-s[0])){p=d;var y=u+s[1]-s[0];m[0]=Math.min(y,(y+l)/2),m[1]=Math.max(y,(y+l)/2)}else{p=l;var h=d+s[1]-s[0];m[0]=Math.min(u,(h+u)/2),m[1]=Math.max(u,(h+u)/2)}var g=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){o=n[c].index;break}}else{var b=Math.min(l,d),w=Math.max(l,d);if(e>(b+u)/2&&e<=(w+u)/2){o=n[c].index;break}}}else for(var S=0;S<i;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<i-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===i-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){o=r[S].index;break}return o},su=function(e){var t,r=e,n=r.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?Ae(Ae({},e.type.defaultProps),e.props):e.props,o=a.stroke,i=a.fill,s;switch(n){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:i;break;default:s=i;break}return s},C2=function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=n===void 0?{}:n;if(!a)return{};for(var o={},i=Object.keys(a),s=0,c=i.length;s<c;s++)for(var l=a[i[s]].stackGroups,u=Object.keys(l),d=0,p=u.length;d<p;d++){var m=l[u[d]],y=m.items,h=m.cateAxisId,g=y.filter(function(_){return Yt(_.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,w=b!==void 0?Ae(Ae({},b),g[0].props):g[0].props,S=w.barSize,x=w[h];o[x]||(o[x]=[]);var j=ge(S)?t:S;o[x].push({item:g[0],stackList:g.slice(1),barSize:ge(j)?void 0:Lr(j,r,0)})}}return o},k2=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,i=e.maxBarSize,s=o.length;if(s<1)return null;var c=Lr(t,n,0,!0),l,u=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=n/s,m=o.reduce(function(S,x){return S+x.barSize||0},0);m+=(s-1)*c,m>=n&&(m-=(s-1)*c,c=0),m>=n&&p>0&&(d=!0,p*=.9,m=s*p);var y=(n-m)/2>>0,h={offset:y-c,size:0};l=o.reduce(function(S,x){var j={item:x.item,position:{offset:h.offset+h.size+c,size:d?p:x.barSize}},_=[].concat(Cg(S),[j]);return h=_[_.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(O){_.push({item:O,position:h})}),_},u)}else{var g=Lr(r,n,0,!0);n-2*g-(s-1)*c<=0&&(c=0);var b=(n-2*g-(s-1)*c)/s;b>1&&(b>>=0);var w=i===+i?Math.min(b,i):b;l=o.reduce(function(S,x,j){var _=[].concat(Cg(S),[{item:x.item,position:{offset:g+(b+c)*j+(b-w)/2,size:w}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(O){_.push({item:O,position:_[_.length-1].position})}),_},u)}return l},M2=function(e,t,r,n){var a=r.children,o=r.width,i=r.margin,s=o-(i.left||0)-(i.right||0),c=Ng({children:a,legendWidth:s});if(c){var l=n||{},u=l.width,d=l.height,p=c.align,m=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&K(e[p]))return Ae(Ae({},e),{},Mn({},p,e[p]+(u||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&K(e[m]))return Ae(Ae({},e),{},Mn({},m,e[m]+(d||0)))}return e},A2=function(e,t,r){return ge(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},Mg=function(e,t,r,n,a){var o=t.props.children,i=kt(o,Ti).filter(function(c){return A2(n,a,c.props.direction)});if(i&&i.length){var s=i.map(function(c){return c.props.dataKey});return e.reduce(function(c,l){var u=Vt(l,r);if(ge(u))return c;var d=Array.isArray(u)?[Pi(u),Ei(u)]:[u,u],p=s.reduce(function(m,y){var h=Vt(l,y,0),g=d[0]-Math.abs(Array.isArray(h)?h[0]:h),b=d[1]+Math.abs(Array.isArray(h)?h[1]:h);return[Math.min(g,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},T2=function(e,t,r,n,a){var o=t.map(function(i){return Mg(e,i,r,a,n)}).filter(function(i){return!ge(i)});return o&&o.length?o.reduce(function(i,s){return[Math.min(i[0],s[0]),Math.max(i[1],s[1])]},[1/0,-1/0]):null},Ag=function(e,t,r,n,a){var o=t.map(function(s){var c=s.props.dataKey;return r==="number"&&c&&Mg(e,s,c,n)||Di(e,c,r,a)});if(r==="number")return o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]);var i={};return o.reduce(function(s,c){for(var l=0,u=c.length;l<u;l++)i[c[l]]||(i[c[l]]=!0,s.push(c[l]));return s},[])},Tg=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},Dg=function(e,t,r,n){if(n)return e.map(function(s){return s.coordinate});var a,o,i=e.map(function(s){return s.coordinate===t&&(a=!0),s.coordinate===r&&(o=!0),s.coordinate});return a||i.push(t),o||i.push(r),i},ir=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,o=e.type,i=e.range,s=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,c=(t||r)&&o==="category"&&n.bandwidth?n.bandwidth()/s:0;if(c=e.axisType==="angleAxis"&&(i==null?void 0:i.length)>=2?Ct(i[0]-i[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var l=(e.ticks||e.niceTicks).map(function(u){var d=a?a.indexOf(u):u;return{coordinate:n(d)+c,value:u,offset:c}});return l.filter(function(u){return!fa(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,d){return{coordinate:n(u)+c,value:u,index:d,offset:c}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(u){return{coordinate:n(u)+c,value:u,offset:c}}):n.domain().map(function(u,d){return{coordinate:n(u)+c,value:a?a[u]:u,index:d,offset:c}})},cu=new WeakMap,Ii=function(e,t){if(typeof t!="function")return e;cu.has(e)||cu.set(e,new WeakMap);var r=cu.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},D2=function(e,t,r){var n=e.scale,a=e.type,o=e.layout,i=e.axisType;if(n==="auto")return o==="radial"&&i==="radiusAxis"?{scale:Oa(),realScaleType:"band"}:o==="radial"&&i==="angleAxis"?{scale:vi(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Sa(),realScaleType:"point"}:a==="category"?{scale:Oa(),realScaleType:"band"}:{scale:vi(),realScaleType:"linear"};if(da(n)){var s="scale".concat(Wo(n));return{scale:(og[s]||Sa)(),realScaleType:og[s]?s:"point"}}return fe(n)?{scale:n}:{scale:Sa(),realScaleType:"point"}},Ig=1e-4,I2=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Ig,o=Math.max(n[0],n[1])+Ig,i=e(t[0]),s=e(t[r-1]);(i<a||i>o||s<a||s>o)&&e.domain([t[0],t[r-1]])}},R2=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null},L2=function(e,t){if(!t||t.length!==2||!K(t[0])||!K(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!K(e[0])||e[0]<r)&&(a[0]=r),(!K(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},B2=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0,i=0;i<t;++i){var s=fa(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1])}},F2=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0;o<t;++o){var i=fa(e[o][r][1])?e[o][r][0]:e[o][r][1];i>=0?(e[o][r][0]=a,e[o][r][1]=a+i,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},z2={sign:B2,expand:WS,none:yn,silhouette:XS,wiggle:KS,positive:F2},$2=function(e,t,r){var n=t.map(function(i){return i.props.dataKey}),a=z2[r],o=qS().keys(n).value(function(i,s){return+Vt(i,s,0)}).order(Zc).offset(a);return o(e)},V2=function(e,t,r,n,a,o){if(!e)return null;var i=o?t.reverse():t,s={},c=i.reduce(function(u,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?Ae(Ae({},d.type.defaultProps),d.props):d.props,y=m.stackId,h=m.hide;if(h)return u;var g=m[r],b=u[g]||{hasStack:!1,stackGroups:{}};if(Le(y)){var w=b.stackGroups[y]||{numericAxisId:r,cateAxisId:n,items:[]};w.items.push(d),b.hasStack=!0,b.stackGroups[y]=w}else b.stackGroups[Uo("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[d]};return Ae(Ae({},u),{},Mn({},g,b))},s),l={};return Object.keys(c).reduce(function(u,d){var p=c[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,h){var g=p.stackGroups[h];return Ae(Ae({},y),{},Mn({},h,{numericAxisId:r,cateAxisId:n,items:g.items,stackedData:$2(e,g.items,a)}))},m)}return Ae(Ae({},u),{},Mn({},d,p))},l)},U2=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,o=t.originalDomain,i=t.allowDecimals,s=r||t.scale;if(s!=="auto"&&s!=="linear")return null;if(a&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var l=e2(c,a,i);return e.domain([Pi(l),Ei(l)]),{niceTicks:l}}if(a&&n==="number"){var u=e.domain(),d=t2(u,a,i);return{niceTicks:d}}return null},Rg=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,o=e.entry,i=e.index;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var s=Vt(o,t.dataKey,t.domain[i]);return ge(s)?null:t.scale(s)-a/2+n},H2=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},q2=function(e,t){var r,n=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ae(Ae({},e.type.defaultProps),e.props):e.props,a=n.stackId;if(Le(a)){var o=t[a];if(o){var i=o.items.indexOf(e);return i>=0?o.stackedData[i]:null}}return null},W2=function(e){return e.reduce(function(t,r){return[Pi(r.concat([t[0]]).filter(K)),Ei(r.concat([t[1]]).filter(K))]},[1/0,-1/0])},Lg=function(e,t,r){return Object.keys(e).reduce(function(n,a){var o=e[a],i=o.stackedData,s=i.reduce(function(c,l){var u=W2(l.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},Bg=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fg=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lu=function(e,t,r){if(fe(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(K(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Bg.test(e[0])){var a=+Bg.exec(e[0])[1];n[0]=t[0]-a}else fe(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(K(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Fg.test(e[1])){var o=+Fg.exec(e[1])[1];n[1]=t[1]+o}else fe(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Ri=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ul(t,function(u){return u.coordinate}),o=1/0,i=1,s=a.length;i<s;i++){var c=a[i],l=a[i-1];o=Math.min((c.coordinate||0)-(l.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},zg=function(e,t,r){return!e||!e.length||Yl(e,Pt(r,"type.defaultProps.domain"))?t:e},$g=function(e,t){var r=e.type.defaultProps?Ae(Ae({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,o=r.unit,i=r.formatter,s=r.tooltipType,c=r.chartType,l=r.hide;return Ae(Ae({},ve(e,!1)),{},{dataKey:n,unit:o,formatter:i,name:a||n,color:su(e),value:Vt(t,n),type:s,payload:t,chartType:c,hide:l})};function Ra(e){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(e)}function Vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vg(Object(r),!0).forEach(function(n){X2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X2(e,t,r){return t=K2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2(e){var t=G2(e,"string");return Ra(t)=="symbol"?t:t+""}function G2(e,t){if(Ra(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ra(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Li=Math.PI/180,Y2=function(e){return e*180/Math.PI},He=function(e,t,r,n){return{x:e+Math.cos(-Li*n)*r,y:t+Math.sin(-Li*n)*r}},J2=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-o,2))},Z2=function(e,t){var r=e.x,n=e.y,a=t.cx,o=t.cy,i=J2({x:r,y:n},{x:a,y:o});if(i<=0)return{radius:i};var s=(r-a)/i,c=Math.acos(s);return n>o&&(c=2*Math.PI-c),{radius:i,angle:Y2(c),angleInRadian:c}},Q2=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-o*360,endAngle:r-o*360}},eT=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return e+i*360},Hg=function(e,t){var r=e.x,n=e.y,a=Z2({x:r,y:n},t),o=a.radius,i=a.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(o===0)return!0;var l=Q2(t),u=l.startAngle,d=l.endAngle,p=i,m;if(u<=d){for(;p>d;)p-=360;for(;p<u;)p+=360;m=p>=u&&p<=d}else{for(;p>u;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=u}return m?Ug(Ug({},t),{},{radius:o,angle:eT(p,t)}):null};function La(e){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}var tT=["offset"];function rT(e){return iT(e)||oT(e)||aT(e)||nT()}function nT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aT(e,t){if(e){if(typeof e=="string")return uu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uu(e,t)}}function oT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iT(e){if(Array.isArray(e))return uu(e)}function uu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sT(e,t){if(e==null)return{};var r=cT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qg(Object(r),!0).forEach(function(n){lT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lT(e,t,r){return t=uT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uT(e){var t=dT(e,"string");return La(t)=="symbol"?t:t+""}function dT(e,t){if(La(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(La(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ba.apply(this,arguments)}var fT=function(e){var t=e.value,r=e.formatter,n=ge(e.children)?t:e.children;return fe(r)?r(n):n},pT=function(e,t){var r=Ct(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hT=function(e,t,r){var n=e.position,a=e.viewBox,o=e.offset,i=e.className,s=a,c=s.cx,l=s.cy,u=s.innerRadius,d=s.outerRadius,p=s.startAngle,m=s.endAngle,y=s.clockWise,h=(u+d)/2,g=pT(p,m),b=g>=0?1:-1,w,S;n==="insideStart"?(w=p+b*o,S=y):n==="insideEnd"?(w=m-b*o,S=!y):n==="end"&&(w=m+b*o,S=y),S=g<=0?S:!S;var x=He(c,l,h,w),j=He(c,l,h,w+(S?1:-1)*359),_="M".concat(x.x,",").concat(x.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),O=ge(e.id)?Uo("recharts-radial-line-"):e.id;return N.createElement("text",Ba({},r,{dominantBaseline:"central",className:be("recharts-radial-bar-label",i)}),N.createElement("defs",null,N.createElement("path",{id:O,d:_})),N.createElement("textPath",{xlinkHref:"#".concat(O)},t))},mT=function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,o=a.cx,i=a.cy,s=a.innerRadius,c=a.outerRadius,l=a.startAngle,u=a.endAngle,d=(l+u)/2;if(n==="outside"){var p=He(o,i,c+r,d),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+c)/2,g=He(o,i,h,d),b=g.x,w=g.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},yT=function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,o=t,i=o.x,s=o.y,c=o.width,l=o.height,u=l>=0?1:-1,d=u*n,p=u>0?"end":"start",m=u>0?"start":"end",y=c>=0?1:-1,h=y*n,g=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var w={x:i+c/2,y:s-u*n,textAnchor:"middle",verticalAnchor:p};return Fe(Fe({},w),r?{height:Math.max(s-r.y,0),width:c}:{})}if(a==="bottom"){var S={x:i+c/2,y:s+l+d,textAnchor:"middle",verticalAnchor:m};return Fe(Fe({},S),r?{height:Math.max(r.y+r.height-(s+l),0),width:c}:{})}if(a==="left"){var x={x:i-h,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return Fe(Fe({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if(a==="right"){var j={x:i+c+h,y:s+l/2,textAnchor:b,verticalAnchor:"middle"};return Fe(Fe({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:l}:{})}var _=r?{width:c,height:l}:{};return a==="insideLeft"?Fe({x:i+h,y:s+l/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?Fe({x:i+c-h,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},_):a==="insideTop"?Fe({x:i+c/2,y:s+d,textAnchor:"middle",verticalAnchor:m},_):a==="insideBottom"?Fe({x:i+c/2,y:s+l-d,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?Fe({x:i+h,y:s+d,textAnchor:b,verticalAnchor:m},_):a==="insideTopRight"?Fe({x:i+c-h,y:s+d,textAnchor:g,verticalAnchor:m},_):a==="insideBottomLeft"?Fe({x:i+h,y:s+l-d,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?Fe({x:i+c-h,y:s+l-d,textAnchor:g,verticalAnchor:p},_):ta(a)&&(K(a.x)||Rr(a.x))&&(K(a.y)||Rr(a.y))?Fe({x:i+Lr(a.x,c),y:s+Lr(a.y,l),textAnchor:"end",verticalAnchor:"end"},_):Fe({x:i+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},_)},vT=function(e){return"cx"in e&&K(e.cx)};function Xe(e){var t=e.offset,r=t===void 0?5:t,n=sT(e,tT),a=Fe({offset:r},n),o=a.viewBox,i=a.position,s=a.value,c=a.children,l=a.content,u=a.className,d=u===void 0?"":u,p=a.textBreakAll;if(!o||ge(s)&&ge(c)&&!v.isValidElement(l)&&!fe(l))return null;if(v.isValidElement(l))return v.cloneElement(l,a);var m;if(fe(l)){if(m=v.createElement(l,a),v.isValidElement(m))return m}else m=fT(a);var y=vT(o),h=ve(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return hT(a,m,h);var g=y?mT(a):yT(a);return N.createElement(di,Ba({className:be("recharts-label",d)},h,g,{breakAll:p}),m)}Xe.displayName="Label";var Wg=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,o=e.endAngle,i=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,d=e.y,p=e.top,m=e.left,y=e.width,h=e.height,g=e.clockWise,b=e.labelViewBox;if(b)return b;if(K(y)&&K(h)){if(K(u)&&K(d))return{x:u,y:d,width:y,height:h};if(K(p)&&K(m))return{x:p,y:m,width:y,height:h}}return K(u)&&K(d)?{x:u,y:d,width:0,height:0}:K(t)&&K(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:o||n||0,innerRadius:c||0,outerRadius:l||s||i||0,clockWise:g}:e.viewBox?e.viewBox:{}},gT=function(e,t){return e?e===!0?N.createElement(Xe,{key:"label-implicit",viewBox:t}):Le(e)?N.createElement(Xe,{key:"label-implicit",viewBox:t,value:e}):v.isValidElement(e)?e.type===Xe?v.cloneElement(e,{key:"label-implicit",viewBox:t}):N.createElement(Xe,{key:"label-implicit",content:e,viewBox:t}):fe(e)?N.createElement(Xe,{key:"label-implicit",content:e,viewBox:t}):ta(e)?N.createElement(Xe,Ba({viewBox:t},e,{key:"label-implicit"})):null:null},bT=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Wg(e),o=kt(n,Xe).map(function(s,c){return v.cloneElement(s,{viewBox:t||a,key:"label-".concat(c)})});if(!r)return o;var i=gT(e.label,t||a);return[i].concat(rT(o))};Xe.parseViewBox=Wg,Xe.renderCallByParent=bT;function xT(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}Qd=xT,Yd=Pe(Qd);function Fa(e){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}var wT=["valueAccessor"],jT=["data","dataKey","clockWise","id","textBreakAll"];function _T(e){return PT(e)||ET(e)||ST(e)||OT()}function OT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ST(e,t){if(e){if(typeof e=="string")return du(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return du(e,t)}}function ET(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PT(e){if(Array.isArray(e))return du(e)}function du(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(this,arguments)}function Xg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xg(Object(r),!0).forEach(function(n){NT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NT(e,t,r){return t=CT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CT(e){var t=kT(e,"string");return Fa(t)=="symbol"?t:t+""}function kT(e,t){if(Fa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gg(e,t){if(e==null)return{};var r=MT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var AT=function(e){return Array.isArray(e.value)?Yd(e.value):e.value};function Xr(e){var t=e.valueAccessor,r=t===void 0?AT:t,n=Gg(e,wT),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,c=n.textBreakAll,l=Gg(n,jT);return!a||!a.length?null:N.createElement($e,{className:"recharts-label-list"},a.map(function(u,d){var p=ge(o)?r(u,d):Vt(u&&u.payload,o),m=ge(s)?{}:{id:"".concat(s,"-").concat(d)};return N.createElement(Xe,Bi({},ve(u,!0),l,m,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:Xe.parseViewBox(ge(i)?u:Kg(Kg({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Xr.displayName="LabelList";function TT(e,t){return e?e===!0?N.createElement(Xr,{key:"labelList-implicit",data:t}):N.isValidElement(e)||fe(e)?N.createElement(Xr,{key:"labelList-implicit",data:t,content:e}):ta(e)?N.createElement(Xr,Bi({data:t},e,{key:"labelList-implicit"})):null:null}function DT(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=kt(n,Xr).map(function(i,s){return v.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=TT(e.label,t);return[o].concat(_T(a))}Xr.renderCallByParent=DT;function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(this,arguments)}function Yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yg(Object(r),!0).forEach(function(n){IT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IT(e,t,r){return t=RT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RT(e){var t=LT(e,"string");return za(t)=="symbol"?t:t+""}function LT(e,t){if(za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BT=function(e,t){var r=Ct(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Fi=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,o=e.sign,i=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(i?1:-1)+n,u=Math.asin(s/l)/Li,d=c?a:a+o*u,p=He(t,r,l,d),m=He(t,r,n,d),y=c?a-o*u:a,h=He(t,r,l*Math.cos(u*Li),y);return{center:p,circleTangency:m,lineTangency:h,theta:u}},Zg=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.startAngle,i=e.endAngle,s=BT(o,i),c=o+s,l=He(t,r,a,o),u=He(t,r,a,c),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=He(t,r,n,o),m=He(t,r,n,c);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},FT=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=Ct(l-c),d=Fi({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:o,cornerIsExternal:s}),p=d.circleTangency,m=d.lineTangency,y=d.theta,h=Fi({cx:t,cy:r,radius:a,angle:l,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=h.circleTangency,b=h.lineTangency,w=h.theta,S=s?Math.abs(c-l):Math.abs(c-l)-y-w;if(S<0)return i?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Zg({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:l});var x="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var j=Fi({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),_=j.circleTangency,O=j.lineTangency,E=j.theta,C=Fi({cx:t,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),A=C.circleTangency,P=C.lineTangency,M=C.theta,R=s?Math.abs(c-l):Math.abs(c-l)-E-M;if(R<0&&o===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},zT={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Qg=function(e){var t=Jg(Jg({},zT),e),r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,d=t.className;if(o<a||l===u)return null;var p=be("recharts-sector",d),m=o-a,y=Lr(i,m,0,!0),h;return y>0&&Math.abs(l-u)<360?h=FT({cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):h=Zg({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}),N.createElement("path",fu({},ve(t,!0),{className:p,d:h,role:"img"}))};function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pu.apply(this,arguments)}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(n){$T(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $T(e,t,r){return t=VT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VT(e){var t=UT(e,"string");return $a(t)=="symbol"?t:t+""}function UT(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rb={curveBasisClosed:DS,curveBasisOpen:IS,curveBasis:TS,curveBumpX:bS,curveBumpY:xS,curveLinearClosed:RS,curveLinear:Yo,curveMonotoneX:LS,curveMonotoneY:BS,curveNatural:FS,curveStep:zS,curveStepAfter:VS,curveStepBefore:$S},zi=function(e){return e.x===+e.x&&e.y===+e.y},Va=function(e){return e.x},Ua=function(e){return e.y},HT=function(e,t){if(fe(e))return e;var r="curve".concat(Wo(e));return(r==="curveMonotone"||r==="curveBump")&&t?rb["".concat(r).concat(t==="vertical"?"Y":"X")]:rb[r]||Yo},qT=function(e){var t=e.type,r=t===void 0?"linear":t,n=e.points,a=n===void 0?[]:n,o=e.baseLine,i=e.layout,s=e.connectNulls,c=s===void 0?!1:s,l=HT(r,i),u=c?a.filter(function(y){return zi(y)}):a,d;if(Array.isArray(o)){var p=c?o.filter(function(y){return zi(y)}):o,m=u.map(function(y,h){return tb(tb({},y),{},{base:p[h]})});return i==="vertical"?d=Jo().y(Ua).x1(Va).x0(function(y){return y.base.x}):d=Jo().x(Va).y1(Ua).y0(function(y){return y.base.y}),d.defined(zi).curve(l),d(m)}return i==="vertical"&&K(o)?d=Jo().y(Ua).x1(Va).x0(o):K(o)?d=Jo().x(Va).y1(Ua).y0(o):d=mm().x(Va).y(Ua),d.defined(zi).curve(l),d(u)},nb=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if((!r||!r.length)&&!n)return null;var o=r&&r.length?qT(e):n;return N.createElement("path",pu({},ve(e,!1),Ho(e),{className:be("recharts-curve",t),d:o,ref:a}))},ab={exports:{}},WT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XT=WT,KT=XT;function ob(){}function ib(){}ib.resetWarningCache=ob;var GT=function(){function e(n,a,o,i,s,c){if(c!==KT){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ib,resetWarningCache:ob};return r.PropTypes=r,r};ab.exports=GT();var YT=ab.exports;const ce=Pe(YT);var JT=Object.getOwnPropertyNames,ZT=Object.getOwnPropertySymbols,QT=Object.prototype.hasOwnProperty;function sb(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function $i(e){return function(t,r,n){if(!t||!r||typeof t!="object"||typeof r!="object")return e(t,r,n);var a=n.cache,o=a.get(t),i=a.get(r);if(o&&i)return o===r&&i===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function cb(e){return JT(e).concat(ZT(e))}var lb=Object.hasOwn||function(e,t){return QT.call(e,t)};function An(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var ub="_owner",db=Object.getOwnPropertyDescriptor,fb=Object.keys;function eD(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function tD(e,t){return An(e.getTime(),t.getTime())}function pb(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),o=0,i,s;(i=a.next())&&!i.done;){for(var c=t.entries(),l=!1,u=0;(s=c.next())&&!s.done;){var d=i.value,p=d[0],m=d[1],y=s.value,h=y[0],g=y[1];!l&&!n[u]&&(l=r.equals(p,h,o,u,e,t,r)&&r.equals(m,g,p,h,e,t,r))&&(n[u]=!0),u++}if(!l)return!1;o++}return!0}function rD(e,t,r){var n=fb(e),a=n.length;if(fb(t).length!==a)return!1;for(var o;a-- >0;)if(o=n[a],o===ub&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!lb(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function Ha(e,t,r){var n=cb(e),a=n.length;if(cb(t).length!==a)return!1;for(var o,i,s;a-- >0;)if(o=n[a],o===ub&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!lb(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(i=db(e,o),s=db(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function nD(e,t){return An(e.valueOf(),t.valueOf())}function aD(e,t){return e.source===t.source&&e.flags===t.flags}function hb(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),o,i;(o=a.next())&&!o.done;){for(var s=t.values(),c=!1,l=0;(i=s.next())&&!i.done;)!c&&!n[l]&&(c=r.equals(o.value,i.value,o.value,i.value,e,t,r))&&(n[l]=!0),l++;if(!c)return!1}return!0}function oD(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var iD="[object Arguments]",sD="[object Boolean]",cD="[object Date]",lD="[object Map]",uD="[object Number]",dD="[object Object]",fD="[object RegExp]",pD="[object Set]",hD="[object String]",mD=Array.isArray,mb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,yb=Object.assign,yD=Object.prototype.toString.call.bind(Object.prototype.toString);function vD(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(l,u,d){if(l===u)return!0;if(l==null||u==null||typeof l!="object"||typeof u!="object")return l!==l&&u!==u;var p=l.constructor;if(p!==u.constructor)return!1;if(p===Object)return a(l,u,d);if(mD(l))return t(l,u,d);if(mb!=null&&mb(l))return c(l,u,d);if(p===Date)return r(l,u,d);if(p===RegExp)return i(l,u,d);if(p===Map)return n(l,u,d);if(p===Set)return s(l,u,d);var m=yD(l);return m===cD?r(l,u,d):m===fD?i(l,u,d):m===lD?n(l,u,d):m===pD?s(l,u,d):m===dD?typeof l.then!="function"&&typeof u.then!="function"&&a(l,u,d):m===iD?a(l,u,d):m===sD||m===uD||m===hD?o(l,u,d):!1}}function gD(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ha:eD,areDatesEqual:tD,areMapsEqual:n?sb(pb,Ha):pb,areObjectsEqual:n?Ha:rD,arePrimitiveWrappersEqual:nD,areRegExpsEqual:aD,areSetsEqual:n?sb(hb,Ha):hb,areTypedArraysEqual:n?Ha:oD};if(r&&(a=yb({},a,r(a))),t){var o=$i(a.areArraysEqual),i=$i(a.areMapsEqual),s=$i(a.areObjectsEqual),c=$i(a.areSetsEqual);a=yb({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return a}function bD(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function xD(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(s,c){var l=n(),u=l.cache,d=u===void 0?t?new WeakMap:void 0:u,p=l.meta;return r(s,c,{cache:d,equals:a,meta:p,strict:o})};if(t)return function(s,c){return r(s,c,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(s,c){return r(s,c,i)}}var wD=wr();wr({strict:!0}),wr({circular:!0}),wr({circular:!0,strict:!0}),wr({createInternalComparator:function(){return An}}),wr({strict:!0,createInternalComparator:function(){return An}}),wr({circular:!0,createInternalComparator:function(){return An}}),wr({circular:!0,createInternalComparator:function(){return An},strict:!0});function wr(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,i=o===void 0?!1:o,s=gD(e),c=vD(s),l=n?n(c):bD(c);return xD({circular:r,comparator:c,createState:a,equals:l,strict:i})}function jD(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function vb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):jD(a)};requestAnimationFrame(n)}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function _D(e){return PD(e)||ED(e)||SD(e)||OD()}function OD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SD(e,t){if(e){if(typeof e=="string")return gb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gb(e,t)}}function gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ED(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PD(e){if(Array.isArray(e))return e}function ND(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=_D(i),c=s[0],l=s.slice(1);if(typeof c=="number"){vb(a.bind(null,l),c);return}a(c),vb(a.bind(null,l));return}hu(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function qa(e){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){wb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wb(e,t,r){return t=CD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CD(e){var t=kD(e,"string");return qa(t)==="symbol"?t:String(t)}function kD(e,t){if(qa(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qa(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MD=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,n){return r.filter(function(a){return n.includes(a)})})},AD=function(e){return e},TD=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},Wa=function(e,t){return Object.keys(t).reduce(function(r,n){return xb(xb({},r),{},wb({},n,e(n,t[n])))},{})},jb=function(e,t,r){return e.map(function(n){return"".concat(TD(n)," ").concat(t,"ms ").concat(r)}).join(",")};function DD(e,t){return LD(e)||RD(e,t)||_b(e,t)||ID()}function ID(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function LD(e){if(Array.isArray(e))return e}function BD(e){return $D(e)||zD(e)||_b(e)||FD()}function FD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _b(e,t){if(e){if(typeof e=="string")return mu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mu(e,t)}}function zD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $D(e){if(Array.isArray(e))return mu(e)}function mu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vi=1e-4,Ob=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Sb=function(e,t){return e.map(function(r,n){return r*Math.pow(t,n)}).reduce(function(r,n){return r+n})},Eb=function(e,t){return function(r){var n=Ob(e,t);return Sb(n,r)}},VD=function(e,t){return function(r){var n=Ob(e,t),a=[].concat(BD(n.map(function(o,i){return o*i}).slice(1)),[0]);return Sb(a,r)}},Pb=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],o=t[2],i=t[3];if(t.length===1)switch(t[0]){case"linear":n=0,a=0,o=1,i=1;break;case"ease":n=.25,a=.1,o=.25,i=1;break;case"ease-in":n=.42,a=0,o=1,i=1;break;case"ease-out":n=.42,a=0,o=.58,i=1;break;case"ease-in-out":n=0,a=0,o=.58,i=1;break;default:{var s=t[0].split("(");if(s[0]==="cubic-bezier"&&s[1].split(")")[0].split(",").length===4){var c=s[1].split(")")[0].split(",").map(function(h){return parseFloat(h)}),l=DD(c,4);n=l[0],a=l[1],o=l[2],i=l[3]}}}var u=Eb(n,o),d=Eb(a,i),p=VD(n,o),m=function(h){return h>1?1:h<0?0:h},y=function(h){for(var g=h>1?1:h,b=g,w=0;w<8;++w){var S=u(b)-g,x=p(b);if(Math.abs(S-g)<Vi||x<Vi)return d(b);b=m(b-S/x)}return d(b)};return y.isStepper=!1,y},UD=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,n=e.damping,a=n===void 0?8:n,o=e.dt,i=o===void 0?17:o,s=function(c,l,u){var d=-(c-l)*r,p=u*a,m=u+(d-p)*i/1e3,y=u*i/1e3+c;return Math.abs(y-l)<Vi&&Math.abs(m)<Vi?[l,0]:[y,m]};return s.isStepper=!0,s.dt=i,s},HD=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Pb(n);case"spring":return UD();default:if(n.split("(")[0]==="cubic-bezier")return Pb(n)}return typeof n=="function"?n:null};function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function Nb(e){return XD(e)||WD(e)||kb(e)||qD()}function qD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XD(e){if(Array.isArray(e))return vu(e)}function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){yu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yu(e,t,r){return t=KD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KD(e){var t=GD(e,"string");return Xa(t)==="symbol"?t:String(t)}function GD(e,t){if(Xa(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xa(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YD(e,t){return QD(e)||ZD(e,t)||kb(e,t)||JD()}function JD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kb(e,t){if(e){if(typeof e=="string")return vu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vu(e,t)}}function vu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function QD(e){if(Array.isArray(e))return e}var Ui=function(e,t,r){return e+(t-e)*r},gu=function(e){var t=e.from,r=e.to;return t!==r},eI=function e(t,r,n){var a=Wa(function(o,i){if(gu(i)){var s=t(i.from,i.to,i.velocity),c=YD(s,2),l=c[0],u=c[1];return qe(qe({},i),{},{from:l,velocity:u})}return i},r);return n<1?Wa(function(o,i){return gu(i)?qe(qe({},i),{},{velocity:Ui(i.velocity,a[o].velocity,n),from:Ui(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const tI=function(e,t,r,n,a){var o=MD(e,t),i=o.reduce(function(g,b){return qe(qe({},g),{},yu({},b,[e[b],t[b]]))},{}),s=o.reduce(function(g,b){return qe(qe({},g),{},yu({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,l,u,d=function(){return null},p=function(){return Wa(function(g,b){return b.from},s)},m=function(){return!Object.values(s).filter(gu).length},y=function(g){l||(l=g);var b=g-l,w=b/r.dt;s=eI(r,s,w),a(qe(qe(qe({},e),t),p())),l=g,m()||(c=requestAnimationFrame(d))},h=function(g){u||(u=g);var b=(g-u)/n,w=Wa(function(x,j){return Ui.apply(void 0,Nb(j).concat([r(b)]))},i);if(a(qe(qe(qe({},e),t),w)),b<1)c=requestAnimationFrame(d);else{var S=Wa(function(x,j){return Ui.apply(void 0,Nb(j).concat([r(1)]))},i);a(qe(qe(qe({},e),t),S))}};return d=r.isStepper?y:h,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}var rI=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nI(e,t){if(e==null)return{};var r=aI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aI(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function bu(e){return cI(e)||sI(e)||iI(e)||oI()}function oI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iI(e,t){if(e){if(typeof e=="string")return xu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xu(e,t)}}function sI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cI(e){if(Array.isArray(e))return xu(e)}function xu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mb(Object(r),!0).forEach(function(n){Ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ka(e,t,r){return t=Ab(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ab(n.key),n)}}function dI(e,t,r){return t&&uI(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ab(e){var t=fI(e,"string");return Tn(t)==="symbol"?t:String(t)}function fI(e,t){if(Tn(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tn(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wu(e,t)}function wu(e,t){return wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},wu(e,t)}function hI(e){var t=mI();return function(){var r=Hi(e),n;if(t){var a=Hi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ju(this,n)}}function ju(e,t){if(t&&(Tn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _u(e)}function _u(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hi(e)}var jr=function(e){pI(r,e);var t=hI(r);function r(n,a){var o;lI(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,c=i.attributeName,l=i.from,u=i.to,d=i.steps,p=i.children,m=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(_u(o)),o.changeStyle=o.changeStyle.bind(_u(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:u}),ju(o);if(d&&d.length)o.state={style:d[0].style};else if(l){if(typeof p=="function")return o.state={style:l},ju(o);o.state={style:c?Ka({},c,l):l}}else o.state={style:{}};return o}return dI(r,[{key:"componentDidMount",value:function(){var n=this.props,a=n.isActive,o=n.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var a=this.props,o=a.isActive,i=a.canBegin,s=a.attributeName,c=a.shouldReAnimate,l=a.to,u=a.from,d=this.state.style;if(i){if(!o){var p={style:s?Ka({},s,l):l};this.state&&d&&(s&&d[s]!==l||!s&&d!==l)&&this.setState(p);return}if(!(wD(n.to,l)&&n.canBegin&&n.isActive)){var m=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||c?u:n.to;if(this.state&&d){var h={style:s?Ka({},s,y):y};(s&&d[s]!==y||!s&&d!==y)&&this.setState(h)}this.runAnimation(At(At({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var a=this,o=n.from,i=n.to,s=n.duration,c=n.easing,l=n.begin,u=n.onAnimationEnd,d=n.onAnimationStart,p=tI(o,i,HD(c),s,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([d,l,m,s,u])}},{key:"runStepAnimation",value:function(n){var a=this,o=n.steps,i=n.begin,s=n.onAnimationStart,c=o[0],l=c.style,u=c.duration,d=u===void 0?0:u,p=function(m,y,h){if(h===0)return m;var g=y.duration,b=y.easing,w=b===void 0?"ease":b,S=y.style,x=y.properties,j=y.onAnimationEnd,_=h>0?o[h-1]:y,O=x||Object.keys(S);if(typeof w=="function"||w==="spring")return[].concat(bu(m),[a.runJSAnimation.bind(a,{from:_.style,to:S,duration:g,easing:w}),g]);var E=jb(O,g,w),C=At(At(At({},_.style),S),{},{transition:E});return[].concat(bu(m),[C,g,j]).filter(AD)};return this.manager.start([s].concat(bu(o.reduce(p,[l,Math.max(d,i)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=ND());var a=n.begin,o=n.duration,i=n.attributeName,s=n.to,c=n.easing,l=n.onAnimationStart,u=n.onAnimationEnd,d=n.steps,p=n.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(n);return}if(d.length>1){this.runStepAnimation(n);return}var y=i?Ka({},i,s):s,h=jb(Object.keys(y),o,c);m.start([l,a,At(At({},y),{},{transition:h}),o,u])}},{key:"render",value:function(){var n=this.props,a=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var i=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var s=nI(n,rI),c=v.Children.count(a),l=this.state.style;if(typeof a=="function")return a(l);if(!i||c===0||o<=0)return a;var u=function(d){var p=d.props,m=p.style,y=m===void 0?{}:m,h=p.className,g=v.cloneElement(d,At(At({},s),{},{style:At(At({},y),l),className:h}));return g};return c===1?u(v.Children.only(a)):N.createElement("div",null,v.Children.map(a,function(d){return u(d)}))}}]),r}(v.PureComponent);jr.displayName="Animate",jr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},jr.propTypes={from:ce.oneOfType([ce.object,ce.string]),to:ce.oneOfType([ce.object,ce.string]),attributeName:ce.string,duration:ce.number,begin:ce.number,easing:ce.oneOfType([ce.string,ce.func]),steps:ce.arrayOf(ce.shape({duration:ce.number.isRequired,style:ce.object.isRequired,easing:ce.oneOfType([ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ce.func]),properties:ce.arrayOf("string"),onAnimationEnd:ce.func})),children:ce.oneOfType([ce.node,ce.func]),isActive:ce.bool,canBegin:ce.bool,onAnimationEnd:ce.func,shouldReAnimate:ce.bool,onAnimationStart:ce.func,onAnimationReStart:ce.func},ce.object,ce.object,ce.object,ce.element,ce.object,ce.object,ce.object,ce.oneOfType([ce.array,ce.element]),ce.any;function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}function yI(e,t){return xI(e)||bI(e,t)||gI(e,t)||vI()}function vI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gI(e,t){if(e){if(typeof e=="string")return Tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tb(e,t)}}function Tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function xI(e){if(Array.isArray(e))return e}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){wI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wI(e,t,r){return t=jI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jI(e){var t=_I(e,"string");return Ga(t)=="symbol"?t:t+""}function _I(e,t){if(Ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rb=function(e,t,r,n,a){var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,l;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0,p=4;d<p;d++)u[d]=a[d]>o?o:a[d];l="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+s*u[0],",").concat(t)),l+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*u[1])),l+="L ".concat(e+r,",").concat(t+n-i*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-s*u[2],",").concat(t+n)),l+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*u[3])),l+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);l="M ".concat(e,",").concat(t+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*m,`
            L `).concat(e+r,",").concat(t+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*m," Z")}else l="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},OI=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,o=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var c=Math.min(a,a+i),l=Math.max(a,a+i),u=Math.min(o,o+s),d=Math.max(o,o+s);return r>=c&&r<=l&&n>=u&&n<=d}return!1},SI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ou=function(e){var t=Ib(Ib({},SI),e),r=v.useRef(),n=v.useState(-1),a=yI(n,2),o=a[0],i=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&i(S)}catch{}},[]);var s=t.x,c=t.y,l=t.width,u=t.height,d=t.radius,p=t.className,m=t.animationEasing,y=t.animationDuration,h=t.animationBegin,g=t.isAnimationActive,b=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||l===0||u===0)return null;var w=be("recharts-rectangle",p);return b?N.createElement(jr,{canBegin:o>0,from:{width:l,height:u,x:s,y:c},to:{width:l,height:u,x:s,y:c},duration:y,animationEasing:m,isActive:b},function(S){var x=S.width,j=S.height,_=S.x,O=S.y;return N.createElement(jr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,isActive:g,easing:m},N.createElement("path",qi({},ve(t,!0),{className:w,d:Rb(_,O,x,j,d),ref:r})))}):N.createElement("path",qi({},ve(t,!0),{className:w,d:Rb(s,c,l,u,d)}))};function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(this,arguments)}var Lb=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,o=be("recharts-dot",a);return t===+t&&r===+r&&n===+n?N.createElement("circle",Su({},ve(e,!1),Ho(e),{className:o,cx:t,cy:r,r:n})):null};function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}var EI=["x","y","top","left","width","height","className"];function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eu.apply(this,arguments)}function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){NI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NI(e,t,r){return t=CI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CI(e){var t=kI(e,"string");return Ya(t)=="symbol"?t:t+""}function kI(e,t){if(Ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MI(e,t){if(e==null)return{};var r=AI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TI=function(e,t,r,n,a,o){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r)},DI=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.top,i=o===void 0?0:o,s=e.left,c=s===void 0?0:s,l=e.width,u=l===void 0?0:l,d=e.height,p=d===void 0?0:d,m=e.className,y=MI(e,EI),h=PI({x:r,y:a,top:i,left:c,width:u,height:p},y);return!K(r)||!K(a)||!K(u)||!K(p)||!K(i)||!K(c)?null:N.createElement("path",Eu({},ve(h,!0),{className:be("recharts-cross",m),d:TI(r,a,u,p,i,c)}))},II=Cs,RI=yz,LI=ks,BI="[object Object]",FI=Function.prototype,zI=Object.prototype,Fb=FI.toString,$I=zI.hasOwnProperty,VI=Fb.call(Object);function UI(e){if(!LI(e)||II(e)!=BI)return!1;var t=RI(e);if(t===null)return!0;var r=$I.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Fb.call(r)==VI}Jd=UI;const HI=Pe(Jd);var qI=Cs,WI=ks,XI="[object Boolean]";function KI(e){return e===!0||e===!1||WI(e)&&qI(e)==XI}var GI=KI;const YI=Pe(GI);function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wi.apply(this,arguments)}function JI(e,t){return t3(e)||e3(e,t)||QI(e,t)||ZI()}function ZI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QI(e,t){if(e){if(typeof e=="string")return zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zb(e,t)}}function zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e3(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function t3(e){if(Array.isArray(e))return e}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){r3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r3(e,t,r){return t=n3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3(e){var t=a3(e,"string");return Ja(t)=="symbol"?t:t+""}function a3(e,t){if(Ja(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ub=function(e,t,r,n,a){var o=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},o3={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i3=function(e){var t=Vb(Vb({},o3),e),r=v.useRef(),n=v.useState(-1),a=JI(n,2),o=a[0],i=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var s=t.x,c=t.y,l=t.upperWidth,u=t.lowerWidth,d=t.height,p=t.className,m=t.animationEasing,y=t.animationDuration,h=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||d!==+d||l===0&&u===0||d===0)return null;var b=be("recharts-trapezoid",p);return g?N.createElement(jr,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:c},to:{upperWidth:l,lowerWidth:u,height:d,x:s,y:c},duration:y,animationEasing:m,isActive:g},function(w){var S=w.upperWidth,x=w.lowerWidth,j=w.height,_=w.x,O=w.y;return N.createElement(jr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,easing:m},N.createElement("path",Wi({},ve(t,!0),{className:b,d:Ub(_,O,S,x,j),ref:r})))}):N.createElement("g",null,N.createElement("path",Wi({},ve(t,!0),{className:b,d:Ub(s,c,l,u,d)})))},s3=["option","shapeType","propTransformer","activeClassName","isActive"];function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function c3(e,t){if(e==null)return{};var r=l3(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hb(Object(r),!0).forEach(function(n){u3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u3(e,t,r){return t=d3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d3(e){var t=f3(e,"string");return Za(t)=="symbol"?t:t+""}function f3(e,t){if(Za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p3(e,t){return Xi(Xi({},t),e)}function h3(e,t){return e==="symbols"}function qb(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return N.createElement(Ou,r);case"trapezoid":return N.createElement(i3,r);case"sector":return N.createElement(Qg,r);case"symbols":if(h3(t))return N.createElement(el,r);break;default:return null}}function m3(e){return v.isValidElement(e)?e.props:e}function y3(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?p3:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,c=c3(e,s3),l;if(v.isValidElement(t))l=v.cloneElement(t,Xi(Xi({},c),m3(t)));else if(fe(t))l=t(c);else if(HI(t)&&!YI(t)){var u=a(t,c);l=N.createElement(qb,{shapeType:r,elementProps:u})}else{var d=c;l=N.createElement(qb,{shapeType:r,elementProps:d})}return s?N.createElement($e,{className:i},l):l}function Ki(e,t){return t!=null&&"trapezoids"in e.props}function Gi(e,t){return t!=null&&"sectors"in e.props}function Qa(e,t){return t!=null&&"points"in e.props}function v3(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function g3(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function b3(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function x3(e,t){var r;return Ki(e,t)?r=v3:Gi(e,t)?r=g3:Qa(e,t)&&(r=b3),r}function w3(e,t){var r;return Ki(e,t)?r="trapezoids":Gi(e,t)?r="sectors":Qa(e,t)&&(r="points"),r}function j3(e,t){if(Ki(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Gi(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Qa(e,t)?t.payload:{}}function _3(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=w3(r,t),o=j3(r,t),i=n.filter(function(c,l){var u=Yl(o,c),d=r.props[a].filter(function(y){var h=x3(r,t);return h(y,t)}),p=r.props[a].indexOf(d[d.length-1]),m=l===p;return u&&m}),s=n.indexOf(i[i.length-1]);return s}var O3=Math.ceil,S3=Math.max;function E3(e,t,r,n){for(var a=-1,o=S3(O3((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var P3=E3,N3=Ty,Wb=1/0,C3=17976931348623157e292;function k3(e){if(!e)return e===0?e:0;if(e=N3(e),e===Wb||e===-Wb){var t=e<0?-1:1;return t*C3}return e===e?e:0}var Xb=k3,M3=P3,A3=on,Pu=Xb;function T3(e){return function(t,r,n){return n&&typeof n!="number"&&A3(t,r,n)&&(r=n=void 0),t=Pu(t),r===void 0?(r=t,t=0):r=Pu(r),n=n===void 0?t<r?1:-1:Pu(n),M3(t,r,n,e)}}var D3=T3,I3=D3,R3=I3(),L3=R3;const Yi=Pe(L3);function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function Kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(r),!0).forEach(function(n){Yb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yb(e,t,r){return t=B3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B3(e){var t=F3(e,"string");return eo(t)=="symbol"?t:t+""}function F3(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z3=["Webkit","Moz","O","ms"],$3=function(e,t){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),n=z3.reduce(function(a,o){return Gb(Gb({},a),{},Yb({},o+r,t))},{});return n[e]=t,n};function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(this,arguments)}function Jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jb(Object(r),!0).forEach(function(n){mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e0(n.key),n)}}function U3(e,t,r){return t&&Zb(e.prototype,t),r&&Zb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H3(e,t,r){return t=Zi(t),q3(e,Qb()?Reflect.construct(t,r||[],Zi(e).constructor):t.apply(e,r))}function q3(e,t){if(t&&(Dn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W3(e)}function W3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qb=function(){return!!e})()}function Zi(e){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zi(e)}function X3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cu(e,t)}function Cu(e,t){return Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Cu(e,t)}function mt(e,t,r){return t=e0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e0(e){var t=K3(e,"string");return Dn(t)=="symbol"?t:t+""}function K3(e,t){if(Dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G3=function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,o=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=Sa().domain(Yi(0,s)).range([a,a+o-i]),l=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(n),scale:c,scaleValues:l}},t0=function(e){return e.changedTouches&&!!e.changedTouches.length},In=function(e){function t(r){var n;return V3(this,t),n=H3(this,t,[r]),mt(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),mt(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),mt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),mt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),mt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),mt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),mt(n,"handleSlideDragStart",function(a){var o=t0(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return X3(t,e),U3(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,a=r.endX,o=this.state.scaleValues,i=this.props,s=i.gap,c=i.data,l=c.length-1,u=Math.min(n,a),d=Math.max(n,a),p=t.getIndexInRange(o,u),m=t.getIndexInRange(o,d);return{startIndex:p-p%s,endIndex:m===l?l:m-m%s}}},{key:"getTextOfTick",value:function(r){var n=this.props,a=n.data,o=n.tickFormatter,i=n.dataKey,s=Vt(a[r],i,r);return fe(o)?o(s,r):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,a=n.slideMoveStartX,o=n.startX,i=n.endX,s=this.props,c=s.x,l=s.width,u=s.travellerWidth,d=s.startIndex,p=s.endIndex,m=s.onChange,y=r.pageX-a;y>0?y=Math.min(y,c+l-u-i,c+l-u-o):y<0&&(y=Math.max(y,c-o,c-i));var h=this.getIndex({startX:o+y,endX:i+y});(h.startIndex!==d||h.endIndex!==p)&&m&&m(h),this.setState({startX:o+y,endX:i+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var a=t0(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,a=n.brushMoveStartX,o=n.movingTravellerId,i=n.endX,s=n.startX,c=this.state[o],l=this.props,u=l.x,d=l.width,p=l.travellerWidth,m=l.onChange,y=l.gap,h=l.data,g={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,u+d-p-c):b<0&&(b=Math.max(b,u-c)),g[o]=c+b;var w=this.getIndex(g),S=w.startIndex,x=w.endIndex,j=function(){var _=h.length-1;return o==="startX"&&(i>s?S%y===0:x%y===0)||i<s&&x===_||o==="endX"&&(i>s?x%y===0:S%y===0)||i>s&&x===_};this.setState(mt(mt({},o,c+b),"brushMoveStartX",r.pageX),function(){m&&j()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var a=this,o=this.state,i=o.scaleValues,s=o.startX,c=o.endX,l=this.state[n],u=i.indexOf(l);if(u!==-1){var d=u+r;if(!(d===-1||d>=i.length)){var p=i[d];n==="startX"&&p>=c||n==="endX"&&p<=s||this.setState(mt({},n,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.fill,c=r.stroke;return N.createElement("rect",{stroke:c,fill:s,x:n,y:a,width:o,height:i})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.data,c=r.children,l=r.padding,u=v.Children.only(c);return u?N.cloneElement(u,{x:n,y:a,width:o,height:i,margin:l,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(r,n){var a,o,i=this,s=this.props,c=s.y,l=s.travellerWidth,u=s.height,d=s.traveller,p=s.ariaLabel,m=s.data,y=s.startIndex,h=s.endIndex,g=Math.max(r,this.props.x),b=Nu(Nu({},ve(this.props,!1)),{},{x:g,y:c,width:l,height:u}),w=p||"Min value: ".concat((a=m[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[h])===null||o===void 0?void 0:o.name);return N.createElement($e,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),i.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,b))}},{key:"renderSlide",value:function(r,n){var a=this.props,o=a.y,i=a.height,s=a.stroke,c=a.travellerWidth,l=Math.min(r,n)+c,u=Math.max(Math.abs(n-r)-c,0);return N.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:l,y:o,width:u,height:i})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,a=r.endIndex,o=r.y,i=r.height,s=r.travellerWidth,c=r.stroke,l=this.state,u=l.startX,d=l.endX,p=5,m={pointerEvents:"none",fill:c};return N.createElement($e,{className:"recharts-brush-texts"},N.createElement(di,Ji({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,d)-p,y:o+i/2},m),this.getTextOfTick(n)),N.createElement(di,Ji({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,d)+s+p,y:o+i/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,n=r.data,a=r.className,o=r.children,i=r.x,s=r.y,c=r.width,l=r.height,u=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,y=d.isTextActive,h=d.isSlideMoving,g=d.isTravellerMoving,b=d.isTravellerFocused;if(!n||!n.length||!K(i)||!K(s)||!K(c)||!K(l)||c<=0||l<=0)return null;var w=be("recharts-brush",a),S=N.Children.count(o)===1,x=$3("userSelect","none");return N.createElement($e,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||h||g||b||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,a=r.y,o=r.width,i=r.height,s=r.stroke,c=Math.floor(a+i/2)-1;return N.createElement(N.Fragment,null,N.createElement("rect",{x:n,y:a,width:o,height:i,fill:s,stroke:"none"}),N.createElement("line",{x1:n+1,y1:c,x2:n+o-1,y2:c,fill:"none",stroke:"#fff"}),N.createElement("line",{x1:n+1,y1:c+2,x2:n+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var a;return N.isValidElement(r)?a=N.cloneElement(r,n):fe(r)?a=r(n):a=t.renderDefaultTraveller(n),a}},{key:"getDerivedStateFromProps",value:function(r,n){var a=r.data,o=r.width,i=r.x,s=r.travellerWidth,c=r.updateId,l=r.startIndex,u=r.endIndex;if(a!==n.prevData||c!==n.prevUpdateId)return Nu({prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o},a&&a.length?G3({data:a,width:o,x:i,travellerWidth:s,startIndex:l,endIndex:u}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||i!==n.prevX||s!==n.prevTravellerWidth)){n.scale.range([i,i+o-s]);var d=n.scale.domain().map(function(p){return n.scale(p)});return{prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,n){for(var a=r.length,o=0,i=a-1;i-o>1;){var s=Math.floor((o+i)/2);r[s]>n?i=s:o=s}return n>=r[i]?i:o}}])}(v.PureComponent);mt(In,"displayName","Brush"),mt(In,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Y3=il;function J3(e,t){var r;return Y3(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var Z3=J3,Q3=vz,eR=Nr,tR=Z3,rR=ea,nR=on;function aR(e,t,r){var n=rR(e)?Q3:tR;return r&&nR(e,t,r)&&(t=void 0),n(e,eR(t))}var oR=aR;const iR=Pe(oR);var Ut=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},sR=gz,cR=Zm,lR=Nr;function uR(e,t){var r={};return t=lR(t),cR(e,function(n,a,o){sR(r,a,t(n,a,o))}),r}var dR=uR;const fR=Pe(dR);function pR(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var hR=pR,mR=il;function yR(e,t){var r=!0;return mR(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var vR=yR,gR=hR,bR=vR,xR=Nr,wR=ea,jR=on;function _R(e,t,r){var n=wR(e)?gR:bR;return r&&jR(e,t,r)&&(t=void 0),n(e,xR(t))}var OR=_R;const r0=Pe(OR);var SR=["x","y"];function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function n0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n0(Object(r),!0).forEach(function(n){ER(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ER(e,t,r){return t=PR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PR(e){var t=NR(e,"string");return to(t)=="symbol"?t:t+""}function NR(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CR(e,t){if(e==null)return{};var r=kR(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MR(e,t){var r=e.x,n=e.y,a=CR(e,SR),o="".concat(r),i=parseInt(o,10),s="".concat(n),c=parseInt(s,10),l="".concat(t.height||a.height),u=parseInt(l,10),d="".concat(t.width||a.width),p=parseInt(d,10);return ro(ro(ro(ro(ro({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function a0(e){return N.createElement(y3,ku({shapeType:"rectangle",propTransformer:MR,activeClassName:"recharts-active-bar"},e))}var AR=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,n):(a||qr(),t)}},TR=["value","background"],o0;function Rn(e){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(e)}function DR(e,t){if(e==null)return{};var r=IR(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qi.apply(this,arguments)}function i0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i0(Object(r),!0).forEach(function(n){_r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l0(n.key),n)}}function LR(e,t,r){return t&&s0(e.prototype,t),r&&s0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BR(e,t,r){return t=es(t),FR(e,c0()?Reflect.construct(t,r||[],es(e).constructor):t.apply(e,r))}function FR(e,t){if(t&&(Rn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zR(e)}function zR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c0=function(){return!!e})()}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},es(e)}function $R(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mu(e,t)}function Mu(e,t){return Mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Mu(e,t)}function _r(e,t,r){return t=l0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l0(e){var t=VR(e,"string");return Rn(t)=="symbol"?t:t+""}function VR(e,t){if(Rn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kr=function(e){function t(){var r;RR(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=BR(this,t,[].concat(a)),_r(r,"state",{isAnimationFinished:!1}),_r(r,"id",Uo("recharts-bar-")),_r(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),_r(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return $R(t,e),LR(t,[{key:"renderRectanglesStatically",value:function(r){var n=this,a=this.props,o=a.shape,i=a.dataKey,s=a.activeIndex,c=a.activeBar,l=ve(this.props,!1);return r&&r.map(function(u,d){var p=d===s,m=p?c:o,y=Ie(Ie(Ie({},l),u),{},{isActive:p,option:m,index:d,dataKey:i,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return N.createElement($e,Qi({className:"recharts-bar-rectangle"},qo(n.props,u,d),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value)}),N.createElement(a0,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,a=n.data,o=n.layout,i=n.isAnimationActive,s=n.animationBegin,c=n.animationDuration,l=n.animationEasing,u=n.animationId,d=this.state.prevData;return N.createElement(jr,{begin:s,duration:c,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=a.map(function(h,g){var b=d&&d[g];if(b){var w=hn(b.x,h.x),S=hn(b.y,h.y),x=hn(b.width,h.width),j=hn(b.height,h.height);return Ie(Ie({},h),{},{x:w(m),y:S(m),width:x(m),height:j(m)})}if(o==="horizontal"){var _=hn(0,h.height),O=_(m);return Ie(Ie({},h),{},{y:h.y+h.height-O,height:O})}var E=hn(0,h.width),C=E(m);return Ie(Ie({},h),{},{width:C})});return N.createElement($e,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&n&&n.length&&(!o||!Yl(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,a=n.data,o=n.dataKey,i=n.activeIndex,s=ve(this.props.background,!1);return a.map(function(c,l){c.value;var u=c.background,d=DR(c,TR);if(!u)return null;var p=Ie(Ie(Ie(Ie(Ie({},d),{},{fill:"#eee"},u),s),qo(r.props,c,l)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:l,className:"recharts-bar-background-rectangle"});return N.createElement(a0,Qi({key:"background-bar-".concat(l),option:r.props.background,isActive:l===i},p))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,i=a.xAxis,s=a.yAxis,c=a.layout,l=a.children,u=kt(l,Ti);if(!u)return null;var d=c==="vertical"?o[0].height/2:o[0].width/2,p=function(y,h){var g=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:g,errorVal:Vt(y,h)}},m={clipPath:r?"url(#clipPath-".concat(n,")"):null};return N.createElement($e,m,u.map(function(y){return N.cloneElement(y,{key:"error-bar-".concat(n,"-").concat(y.props.dataKey),data:o,xAxis:i,yAxis:s,layout:c,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.data,o=r.className,i=r.xAxis,s=r.yAxis,c=r.left,l=r.top,u=r.width,d=r.height,p=r.isAnimationActive,m=r.background,y=r.id;if(n||!a||!a.length)return null;var h=this.state.isAnimationFinished,g=be("recharts-bar",o),b=i&&i.allowDataOverflow,w=s&&s.allowDataOverflow,S=b||w,x=ge(y)?this.id:y;return N.createElement($e,{className:g},b||w?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(x)},N.createElement("rect",{x:b?c:c-u/2,y:w?l:l-d/2,width:b?u:u*2,height:w?d:d*2}))):null,N.createElement($e,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!p||h)&&Xr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(v.PureComponent);o0=Kr,_r(Kr,"displayName","Bar"),_r(Kr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),_r(Kr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,m=R2(n,r);if(!m)return null;var y=t.layout,h=r.type.defaultProps,g=h!==void 0?Ie(Ie({},h),r.props):r.props,b=g.dataKey,w=g.children,S=g.minPointSize,x=y==="horizontal"?i:o,j=l?x.scale.domain():null,_=H2({numericAxis:x}),O=kt(w,By),E=d.map(function(C,A){var P,M,R,D,k,I;l?P=L2(l[u+A],j):(P=Vt(C,b),Array.isArray(P)||(P=[_,P]));var F=AR(S,o0.defaultProps.minPointSize)(P[1],A);if(y==="horizontal"){var V,U=[i.scale(P[0]),i.scale(P[1])],Q=U[0],q=U[1];M=Rg({axis:o,ticks:s,bandSize:a,offset:m.offset,entry:C,index:A}),R=(V=q??Q)!==null&&V!==void 0?V:void 0,D=m.size;var T=Q-q;if(k=Number.isNaN(T)?0:T,I={x:M,y:i.y,width:D,height:i.height},Math.abs(F)>0&&Math.abs(k)<Math.abs(F)){var Y=Ct(k||F)*(Math.abs(F)-Math.abs(k));R-=Y,k+=Y}}else{var H=[o.scale(P[0]),o.scale(P[1])],J=H[0],ie=H[1];if(M=J,R=Rg({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:C,index:A}),D=ie-J,k=m.size,I={x:o.x,y:R,width:o.width,height:k},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var W=Ct(D||F)*(Math.abs(F)-Math.abs(D));D+=W}}return Ie(Ie(Ie({},C),{},{x:M,y:R,width:D,height:k,value:l?P:P[1],payload:C,background:I},O&&O[A]&&O[A].props),{},{tooltipPayload:[$g(r,C)],tooltipPosition:{x:M+D/2,y:R+k/2}})});return Ie({data:E,layout:y},p)});function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function UR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f0(n.key),n)}}function HR(e,t,r){return t&&u0(e.prototype,t),r&&u0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d0(Object(r),!0).forEach(function(n){ts(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ts(e,t,r){return t=f0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f0(e){var t=qR(e,"string");return no(t)=="symbol"?t:t+""}function qR(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WR=function(e,t,r,n,a){var o=e.width,i=e.height,s=e.layout,c=e.children,l=Object.keys(t),u={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},d=!!pt(c,Kr);return l.reduce(function(p,m){var y=t[m],h=y.orientation,g=y.domain,b=y.padding,w=b===void 0?{}:b,S=y.mirror,x=y.reversed,j="".concat(h).concat(S?"Mirror":""),_,O,E,C,A;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var P=g[1]-g[0],M=1/0,R=y.categoricalDomain.sort();if(R.forEach(function(Y,H){H>0&&(M=Math.min((Y||0)-(R[H-1]||0),M))}),Number.isFinite(M)){var D=M/P,k=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(_=D*k/2),y.padding==="no-gap"){var I=Lr(e.barCategoryGap,D*k),F=D*k/2;_=F-I-(F-I)/k*I}}}n==="xAxis"?O=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:n==="yAxis"?O=s==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:O=y.range,x&&(O=[O[1],O[0]]);var V=D2(y,a,d),U=V.scale,Q=V.realScaleType;U.domain(g).range(O),I2(U);var q=U2(U,Tt(Tt({},y),{},{realScaleType:Q}));n==="xAxis"?(A=h==="top"&&!S||h==="bottom"&&S,E=r.left,C=u[j]-A*y.height):n==="yAxis"&&(A=h==="left"&&!S||h==="right"&&S,E=u[j]-A*y.width,C=r.top);var T=Tt(Tt(Tt({},y),q),{},{realScaleType:Q,x:E,y:C,scale:U,width:n==="xAxis"?r.width:y.width,height:n==="yAxis"?r.height:y.height});return T.bandSize=Ri(T,q),!y.hide&&n==="xAxis"?u[j]+=(A?-1:1)*T.height:y.hide||(u[j]+=(A?-1:1)*T.width),Tt(Tt({},p),{},ts({},m,T))},{})},p0=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return{x:Math.min(r,a),y:Math.min(n,o),width:Math.abs(a-r),height:Math.abs(o-n)}},XR=function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return p0({x:t,y:r},{x:n,y:a})},h0=function(){function e(t){UR(this,e),this.scale=t}return HR(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,a=r.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}],[{key:"create",value:function(t){return new e(t)}}])}();ts(h0,"EPS",1e-4);var Au=function(e){var t=Object.keys(e).reduce(function(r,n){return Tt(Tt({},r),{},ts({},n,h0.create(e[n])))},{});return Tt(Tt({},t),{},{apply:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;return fR(r,function(i,s){return t[s].apply(i,{bandAware:a,position:o})})},isInRange:function(r){return r0(r,function(n,a){return t[a].isInRange(n)})}})};function KR(e){return(e%180+180)%180}var GR=function(e){var t=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=KR(n),o=a*Math.PI/180,i=Math.atan(r/t),s=o>i&&o<Math.PI-i?r/Math.sin(o):t/Math.cos(o);return Math.abs(s)},YR=Nr,JR=Ms,ZR=Pw;function QR(e){return function(t,r,n){var a=Object(t);if(!JR(t)){var o=YR(r);t=ZR(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var eL=QR,tL=Xb;function rL(e){var t=tL(e),r=t%1;return t===t?r?t-r:t:0}var m0=rL,nL=Rm,aL=Nr,oL=m0,iL=Math.max;function sL(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:oL(r);return a<0&&(a=iL(n+a,0)),nL(e,aL(t),a)}var cL=sL,lL=eL,uL=cL,dL=lL(uL),fL=dL;const pL=Pe(fL);var hL=bz(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Tu=v.createContext(void 0),Du=v.createContext(void 0),y0=v.createContext(void 0),v0=v.createContext({}),g0=v.createContext(void 0),b0=v.createContext(0),x0=v.createContext(0),w0=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,o=e.clipPathId,i=e.children,s=e.width,c=e.height,l=hL(a);return N.createElement(Tu.Provider,{value:r},N.createElement(Du.Provider,{value:n},N.createElement(v0.Provider,{value:a},N.createElement(y0.Provider,{value:l},N.createElement(g0.Provider,{value:o},N.createElement(b0.Provider,{value:c},N.createElement(x0.Provider,{value:s},i)))))))},mL=function(){return v.useContext(g0)},j0=function(e){var t=v.useContext(Tu);t==null&&qr();var r=t[e];return r==null&&qr(),r},yL=function(){var e=v.useContext(Tu);return mr(e)},vL=function(){var e=v.useContext(Du),t=pL(e,function(r){return r0(r.domain,Number.isFinite)});return t||mr(e)},_0=function(e){var t=v.useContext(Du);t==null&&qr();var r=t[e];return r==null&&qr(),r},gL=function(){var e=v.useContext(y0);return e},bL=function(){return v.useContext(v0)},Iu=function(){return v.useContext(x0)},Ru=function(){return v.useContext(b0)};function Ln(e){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(e)}function xL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P0(n.key),n)}}function jL(e,t,r){return t&&wL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _L(e,t,r){return t=rs(t),OL(e,O0()?Reflect.construct(t,r||[],rs(e).constructor):t.apply(e,r))}function OL(e,t){if(t&&(Ln(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SL(e)}function SL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O0=function(){return!!e})()}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rs(e)}function EL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lu(e,t)}function Lu(e,t){return Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lu(e,t)}function S0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S0(Object(r),!0).forEach(function(n){Bu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bu(e,t,r){return t=P0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P0(e){var t=PL(e,"string");return Ln(t)=="symbol"?t:t+""}function PL(e,t){if(Ln(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ln(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NL(e,t){return AL(e)||ML(e,t)||kL(e,t)||CL()}function CL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kL(e,t){if(e){if(typeof e=="string")return N0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N0(e,t)}}function N0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ML(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function AL(e){if(Array.isArray(e))return e}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(this,arguments)}var TL=function(e,t){var r;return N.isValidElement(e)?r=N.cloneElement(e,t):fe(e)?r=e(t):r=N.createElement("line",Fu({},t,{className:"recharts-reference-line-line"})),r},DL=function(e,t,r,n,a,o,i,s,c){var l=a.x,u=a.y,d=a.width,p=a.height;if(r){var m=c.y,y=e.y.apply(m,{position:o});if(Ut(c,"discard")&&!e.y.isInRange(y))return null;var h=[{x:l+d,y},{x:l,y}];return s==="left"?h.reverse():h}if(t){var g=c.x,b=e.x.apply(g,{position:o});if(Ut(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:u+p},{x:b,y:u}];return i==="top"?w.reverse():w}if(n){var S=c.segment,x=S.map(function(j){return e.apply(j,{position:o})});return Ut(c,"discard")&&iR(x,function(j){return!e.isInRange(j)})?null:x}return null};function IL(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,c=e.alwaysShow,l=mL(),u=j0(a),d=_0(o),p=gL();if(!l||!p)return null;Jt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Au({x:u.scale,y:d.scale}),y=Le(t),h=Le(r),g=n&&n.length===2,b=DL(m,y,h,g,p,e.position,u.orientation,d.orientation,e);if(!b)return null;var w=NL(b,2),S=w[0],x=S.x,j=S.y,_=w[1],O=_.x,E=_.y,C=Ut(e,"hidden")?"url(#".concat(l,")"):void 0,A=E0(E0({clipPath:C},ve(e,!0)),{},{x1:x,y1:j,x2:O,y2:E});return N.createElement($e,{className:be("recharts-reference-line",s)},TL(i,A),Xe.renderCallByParent(e,XR({x1:x,y1:j,x2:O,y2:E})))}var zu=function(e){function t(){return xL(this,t),_L(this,t,arguments)}return EL(t,e),jL(t,[{key:"render",value:function(){return N.createElement(IL,this.props)}}])}(N.Component);Bu(zu,"displayName","ReferenceLine"),Bu(zu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$u.apply(this,arguments)}function Bn(e){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(e)}function C0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C0(Object(r),!0).forEach(function(n){as(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A0(n.key),n)}}function BL(e,t,r){return t&&LL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FL(e,t,r){return t=ns(t),zL(e,M0()?Reflect.construct(t,r||[],ns(e).constructor):t.apply(e,r))}function zL(e,t){if(t&&(Bn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $L(e)}function $L(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M0=function(){return!!e})()}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}function VL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vu(e,t)}function Vu(e,t){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Vu(e,t)}function as(e,t,r){return t=A0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A0(e){var t=UL(e,"string");return Bn(t)=="symbol"?t:t+""}function UL(e,t){if(Bn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HL=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,o=Au({x:n.scale,y:a.scale}),i=o.apply({x:t,y:r},{bandAware:!0});return Ut(e,"discard")&&!o.isInRange(i)?null:i},os=function(e){function t(){return RL(this,t),FL(this,t,arguments)}return VL(t,e),BL(t,[{key:"render",value:function(){var r=this.props,n=r.x,a=r.y,o=r.r,i=r.alwaysShow,s=r.clipPathId,c=Le(n),l=Le(a);if(Jt(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!l)return null;var u=HL(this.props);if(!u)return null;var d=u.x,p=u.y,m=this.props,y=m.shape,h=m.className,g=Ut(this.props,"hidden")?"url(#".concat(s,")"):void 0,b=k0(k0({clipPath:g},ve(this.props,!0)),{},{cx:d,cy:p});return N.createElement($e,{className:be("recharts-reference-dot",h)},t.renderDot(y,b),Xe.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(N.Component);as(os,"displayName","ReferenceDot"),as(os,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),as(os,"renderDot",function(e,t){var r;return N.isValidElement(e)?r=N.cloneElement(e,t):fe(e)?r=e(t):r=N.createElement(Lb,$u({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function Fn(e){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(e)}function T0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T0(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R0(n.key),n)}}function XL(e,t,r){return t&&WL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KL(e,t,r){return t=is(t),GL(e,I0()?Reflect.construct(t,r||[],is(e).constructor):t.apply(e,r))}function GL(e,t){if(t&&(Fn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YL(e)}function YL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I0=function(){return!!e})()}function is(e){return is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},is(e)}function JL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hu(e,t)}function Hu(e,t){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Hu(e,t)}function ss(e,t,r){return t=R0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R0(e){var t=ZL(e,"string");return Fn(t)=="symbol"?t:t+""}function ZL(e,t){if(Fn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QL=function(e,t,r,n,a){var o=a.x1,i=a.x2,s=a.y1,c=a.y2,l=a.xAxis,u=a.yAxis;if(!l||!u)return null;var d=Au({x:l.scale,y:u.scale}),p={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},m={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(c,{position:"end"}):d.y.rangeMax};return Ut(a,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:p0(p,m)},cs=function(e){function t(){return qL(this,t),KL(this,t,arguments)}return JL(t,e),XL(t,[{key:"render",value:function(){var r=this.props,n=r.x1,a=r.x2,o=r.y1,i=r.y2,s=r.className,c=r.alwaysShow,l=r.clipPathId;Jt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Le(n),d=Le(a),p=Le(o),m=Le(i),y=this.props.shape;if(!u&&!d&&!p&&!m&&!y)return null;var h=QL(u,d,p,m,this.props);if(!h&&!y)return null;var g=Ut(this.props,"hidden")?"url(#".concat(l,")"):void 0;return N.createElement($e,{className:be("recharts-reference-area",s)},t.renderRect(y,D0(D0({clipPath:g},ve(this.props,!0)),h)),Xe.renderCallByParent(this.props,h))}}])}(N.Component);ss(cs,"displayName","ReferenceArea"),ss(cs,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),ss(cs,"renderRect",function(e,t){var r;return N.isValidElement(e)?r=N.cloneElement(e,t):fe(e)?r=e(t):r=N.createElement(Ou,Uu({},t,{className:"recharts-reference-area-rect"})),r});function L0(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function e4(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return GR(n,r)}function t4(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function ls(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function r4(e,t){return L0(e,t+1)}function n4(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,c=0,l=1,u=i,d=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:L0(n,l)};var y=c,h,g=function(){return h===void 0&&(h=r(m,y)),h},b=m.coordinate,w=c===0||ls(e,b,g,u,s);w||(c=0,u=i,l+=1),w&&(u=b+e*(g()/2+a),c+=l)},p;l<=o.length;)if(p=d(),p)return p.v;return[]}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function B0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B0(Object(r),!0).forEach(function(n){a4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a4(e,t,r){return t=o4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o4(e){var t=i4(e,"string");return ao(t)=="symbol"?t:t+""}function i4(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s4(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,c=t.end,l=function(d){var p=o[d],m,y=function(){return m===void 0&&(m=r(p,d)),m};if(d===i-1){var h=e*(p.coordinate+e*y()/2-c);o[d]=p=Ke(Ke({},p),{},{tickCoord:h>0?p.coordinate-h*e:p.coordinate})}else o[d]=p=Ke(Ke({},p),{},{tickCoord:p.coordinate});var g=ls(e,p.tickCoord,y,s,c);g&&(c=p.tickCoord-e*(y()/2+a),o[d]=Ke(Ke({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)l(u);return o}function c4(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,c=t.start,l=t.end;if(o){var u=n[s-1],d=r(u,s-1),p=e*(u.coordinate+e*d/2-l);i[s-1]=u=Ke(Ke({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var m=ls(e,u.tickCoord,function(){return d},c,l);m&&(l=u.tickCoord-e*(d/2+a),i[s-1]=Ke(Ke({},u),{},{isShow:!0}))}for(var y=o?s-1:s,h=function(b){var w=i[b],S,x=function(){return S===void 0&&(S=r(w,b)),S};if(b===0){var j=e*(w.coordinate-e*x()/2-c);i[b]=w=Ke(Ke({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else i[b]=w=Ke(Ke({},w),{},{tickCoord:w.coordinate});var _=ls(e,w.tickCoord,x,c,l);_&&(c=w.tickCoord+e*(x()/2+a),i[b]=Ke(Ke({},w),{},{isShow:!0}))},g=0;g<y;g++)h(g);return i}function qu(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(K(c)||yr.isSsr)return r4(a,typeof c=="number"&&K(c)?c:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",y=u&&m==="width"?xa(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=function(w,S){var x=fe(l)?l(w.value,S):w.value;return m==="width"?e4(xa(x,{fontSize:t,letterSpacing:r}),y,d):xa(x,{fontSize:t,letterSpacing:r})[m]},g=a.length>=2?Ct(a[1].coordinate-a[0].coordinate):1,b=t4(o,g,m);return c==="equidistantPreserveStart"?n4(g,b,h,a,i):(c==="preserveStart"||c==="preserveStartEnd"?p=c4(g,b,h,a,i,c==="preserveStartEnd"):p=s4(g,b,h,a,i),p.filter(function(w){return w.isShow}))}var l4=["viewBox"],u4=["viewBox"],d4=["ticks"];function zn(e){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(e)}function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$n.apply(this,arguments)}function F0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F0(Object(r),!0).forEach(function(n){Ku(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wu(e,t){if(e==null)return{};var r=f4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V0(n.key),n)}}function h4(e,t,r){return t&&z0(e.prototype,t),r&&z0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m4(e,t,r){return t=us(t),y4(e,$0()?Reflect.construct(t,r||[],us(e).constructor):t.apply(e,r))}function y4(e,t){if(t&&(zn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v4(e)}function v4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($0=function(){return!!e})()}function us(e){return us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},us(e)}function g4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xu(e,t)}function Xu(e,t){return Xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Xu(e,t)}function Ku(e,t,r){return t=V0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V0(e){var t=b4(e,"string");return zn(t)=="symbol"?t:t+""}function b4(e,t){if(zn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vn=function(e){function t(r){var n;return p4(this,t),n=m4(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return g4(t,e),h4(t,[{key:"shouldComponentUpdate",value:function(r,n){var a=r.viewBox,o=Wu(r,l4),i=this.props,s=i.viewBox,c=Wu(i,u4);return!mn(a,s)||!mn(o,c)||!mn(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,c=n.orientation,l=n.tickSize,u=n.mirror,d=n.tickMargin,p,m,y,h,g,b,w=u?-1:1,S=r.tickSize||l,x=K(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,h=o+ +!u*s,y=h-w*S,b=y-w*d,g=x;break;case"left":y=h=r.coordinate,m=a+ +!u*i,p=m-w*S,g=p-w*d,b=x;break;case"right":y=h=r.coordinate,m=a+ +u*i,p=m+w*S,g=p+w*d,b=x;break;default:p=m=r.coordinate,h=o+ +u*s,y=h+w*S,b=y+w*d,g=x;break}return{line:{x1:p,y1:y,x2:m,y2:h},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o;switch(n){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.orientation,c=r.mirror,l=r.axisLine,u=tt(tt(tt({},ve(this.props,!1)),ve(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!c||s==="bottom"&&c);u=tt(tt({},u),{},{x1:n,y1:a+d*i,x2:n+o,y2:a+d*i})}else{var p=+(s==="left"&&!c||s==="right"&&c);u=tt(tt({},u),{},{x1:n+p*o,y1:a,x2:n+p*o,y2:a+i})}return N.createElement("line",$n({},u,{className:be("recharts-cartesian-axis-line",Pt(l,"className"))}))}},{key:"renderTicks",value:function(r,n,a){var o=this,i=this.props,s=i.tickLine,c=i.stroke,l=i.tick,u=i.tickFormatter,d=i.unit,p=qu(tt(tt({},this.props),{},{ticks:r}),n,a),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),h=ve(this.props,!1),g=ve(l,!1),b=tt(tt({},h),{},{fill:"none"},ve(s,!1)),w=p.map(function(S,x){var j=o.getTickLineCoord(S),_=j.line,O=j.tick,E=tt(tt(tt(tt({textAnchor:m,verticalAnchor:y},h),{},{stroke:"none",fill:c},g),O),{},{index:x,payload:S,visibleTicksCount:p.length,tickFormatter:u});return N.createElement($e,$n({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},qo(o.props,S,x)),s&&N.createElement("line",$n({},b,_,{className:be("recharts-cartesian-axis-tick-line",Pt(s,"className"))})),l&&t.renderTickItem(l,E,"".concat(fe(u)?u(S.value,x):S.value).concat(d||"")))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,n=this.props,a=n.axisLine,o=n.width,i=n.height,s=n.ticksGenerator,c=n.className,l=n.hide;if(l)return null;var u=this.props,d=u.ticks,p=Wu(u,d4),m=d;return fe(s)&&(m=d&&d.length>0?s(this.props):s(p)),o<=0||i<=0||!m||!m.length?null:N.createElement($e,{className:be("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Xe.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,a){var o;return N.isValidElement(r)?o=N.cloneElement(r,n):fe(r)?o=r(n):o=N.createElement(di,$n({},n,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(v.Component);Ku(Vn,"displayName","CartesianAxis"),Ku(Vn,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var x4=["x1","y1","x2","y2","key"],w4=["offset"];function Gr(e){"@babel/helpers - typeof";return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(e)}function U0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U0(Object(r),!0).forEach(function(n){j4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j4(e,t,r){return t=_4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _4(e){var t=O4(e,"string");return Gr(t)=="symbol"?t:t+""}function O4(e,t){if(Gr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yr.apply(this,arguments)}function H0(e,t){if(e==null)return{};var r=S4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var E4=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.ry;return N.createElement("rect",{x:n,y:a,ry:s,width:o,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function q0(e,t){var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(fe(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,c=H0(t,x4),l=ve(c,!1);l.offset;var u=H0(l,w4);r=N.createElement("line",Yr({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function P4(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=Ge(Ge({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return q0(a,l)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function N4(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=Ge(Ge({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return q0(a,l)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function C4(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,c=e.horizontal,l=c===void 0?!0:c;if(!l||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==u[0]&&u.unshift(0);var d=u.map(function(p,m){var y=!u[m+1],h=y?a+i-p:u[m+1]-p;if(h<=0)return null;var g=m%t.length;return N.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:h,width:o,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function k4(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,c=e.height,l=e.verticalPoints;if(!r||!n||!n.length)return null;var u=l.map(function(p){return Math.round(p+o-o)}).sort(function(p,m){return p-m});o!==u[0]&&u.unshift(0);var d=u.map(function(p,m){var y=!u[m+1],h=y?o+s-p:u[m+1]-p;if(h<=0)return null;var g=m%n.length;return N.createElement("rect",{key:"react-".concat(m),x:p,y:i,width:h,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var M4=function(e,t){var r=e.xAxis,n=e.width,a=e.height,o=e.offset;return Dg(qu(Ge(Ge(Ge({},Vn.defaultProps),r),{},{ticks:ir(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.left,o.left+o.width,t)},A4=function(e,t){var r=e.yAxis,n=e.width,a=e.height,o=e.offset;return Dg(qu(Ge(Ge(Ge({},Vn.defaultProps),r),{},{ticks:ir(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.top,o.top+o.height,t)},Un={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function W0(e){var t,r,n,a,o,i,s=Iu(),c=Ru(),l=bL(),u=Ge(Ge({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Un.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Un.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Un.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Un.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Un.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Un.verticalFill,x:K(e.x)?e.x:l.left,y:K(e.y)?e.y:l.top,width:K(e.width)?e.width:l.width,height:K(e.height)?e.height:l.height}),d=u.x,p=u.y,m=u.width,y=u.height,h=u.syncWithTicks,g=u.horizontalValues,b=u.verticalValues,w=yL(),S=vL();if(!K(m)||m<=0||!K(y)||y<=0||!K(d)||d!==+d||!K(p)||p!==+p)return null;var x=u.verticalCoordinatesGenerator||M4,j=u.horizontalCoordinatesGenerator||A4,_=u.horizontalPoints,O=u.verticalPoints;if((!_||!_.length)&&fe(j)){var E=g&&g.length,C=j({yAxis:S?Ge(Ge({},S),{},{ticks:E?g:S.ticks}):void 0,width:s,height:c,offset:l},E?!0:h);Jt(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Gr(C),"]")),Array.isArray(C)&&(_=C)}if((!O||!O.length)&&fe(x)){var A=b&&b.length,P=x({xAxis:w?Ge(Ge({},w),{},{ticks:A?b:w.ticks}):void 0,width:s,height:c,offset:l},A?!0:h);Jt(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Gr(P),"]")),Array.isArray(P)&&(O=P)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(E4,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),N.createElement(P4,Yr({},u,{offset:l,horizontalPoints:_,xAxis:w,yAxis:S})),N.createElement(N4,Yr({},u,{offset:l,verticalPoints:O,xAxis:w,yAxis:S})),N.createElement(C4,Yr({},u,{horizontalPoints:_})),N.createElement(k4,Yr({},u,{verticalPoints:O})))}W0.displayName="CartesianGrid";function Hn(e){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(e)}function T4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G0(n.key),n)}}function I4(e,t,r){return t&&D4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R4(e,t,r){return t=ds(t),L4(e,X0()?Reflect.construct(t,r||[],ds(e).constructor):t.apply(e,r))}function L4(e,t){if(t&&(Hn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B4(e)}function B4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X0=function(){return!!e})()}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ds(e)}function F4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gu(e,t)}function Gu(e,t){return Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Gu(e,t)}function K0(e,t,r){return t=G0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G0(e){var t=z4(e,"string");return Hn(t)=="symbol"?t:t+""}function z4(e,t){if(Hn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}function $4(e){var t=e.xAxisId,r=Iu(),n=Ru(),a=j0(t);return a==null?null:N.createElement(Vn,Yu({},a,{className:be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ir(o,!0)}}))}var fs=function(e){function t(){return T4(this,t),R4(this,t,arguments)}return F4(t,e),I4(t,[{key:"render",value:function(){return N.createElement($4,this.props)}}])}(N.Component);K0(fs,"displayName","XAxis"),K0(fs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qn(e){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(e)}function V4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z0(n.key),n)}}function H4(e,t,r){return t&&U4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q4(e,t,r){return t=ps(t),W4(e,Y0()?Reflect.construct(t,r||[],ps(e).constructor):t.apply(e,r))}function W4(e,t){if(t&&(qn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X4(e)}function X4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y0=function(){return!!e})()}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(e)}function K4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ju(e,t)}function Ju(e,t){return Ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ju(e,t)}function J0(e,t,r){return t=Z0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z0(e){var t=G4(e,"string");return qn(t)=="symbol"?t:t+""}function G4(e,t){if(qn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(this,arguments)}var Y4=function(e){var t=e.yAxisId,r=Iu(),n=Ru(),a=_0(t);return a==null?null:N.createElement(Vn,Zu({},a,{className:be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ir(o,!0)}}))},Qu=function(e){function t(){return V4(this,t),q4(this,t,arguments)}return K4(t,e),H4(t,[{key:"render",value:function(){return N.createElement(Y4,this.props)}}])}(N.Component);J0(Qu,"displayName","YAxis"),J0(Qu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Q0(e){return e5(e)||Q4(e)||Z4(e)||J4()}function J4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z4(e,t){if(e){if(typeof e=="string")return ed(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ed(e,t)}}function Q4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e5(e){if(Array.isArray(e))return ed(e)}function ed(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var td=function(e,t,r,n,a){var o=kt(e,zu),i=kt(e,os),s=[].concat(Q0(o),Q0(i)),c=kt(e,cs),l="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce(function(y,h){if(h.props[l]===r&&Ut(h.props,"extendDomain")&&K(h.props[u])){var g=h.props[u];return[Math.min(y[0],g),Math.max(y[1],g)]}return y},d)),c.length){var p="".concat(u,"1"),m="".concat(u,"2");d=c.reduce(function(y,h){if(h.props[l]===r&&Ut(h.props,"extendDomain")&&K(h.props[p])&&K(h.props[m])){var g=h.props[p],b=h.props[m];return[Math.min(y[0],g,b),Math.max(y[1],g,b)]}return y},d)}return a&&a.length&&(d=a.reduce(function(y,h){return K(h)?[Math.min(y[0],h),Math.max(y[1],h)]:y},d)),d},ex={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,d,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,d||c,p),y=r?r+l:l;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function i(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],l,u;if(this._eventsCount===0)return c;for(u in l=this._events)t.call(l,u)&&c.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},s.prototype.listeners=function(c){var l=r?r+c:c,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,p=u.length,m=new Array(p);d<p;d++)m[d]=u[d].fn;return m},s.prototype.listenerCount=function(c){var l=r?r+c:c,u=this._events[l];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,l,u,d,p,m){var y=r?r+c:c;if(!this._events[y])return!1;var h=this._events[y],g=arguments.length,b,w;if(h.fn){switch(h.once&&this.removeListener(c,h.fn,void 0,!0),g){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,l),!0;case 3:return h.fn.call(h.context,l,u),!0;case 4:return h.fn.call(h.context,l,u,d),!0;case 5:return h.fn.call(h.context,l,u,d,p),!0;case 6:return h.fn.call(h.context,l,u,d,p,m),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];h.fn.apply(h.context,b)}else{var S=h.length,x;for(w=0;w<S;w++)switch(h[w].once&&this.removeListener(c,h[w].fn,void 0,!0),g){case 1:h[w].fn.call(h[w].context);break;case 2:h[w].fn.call(h[w].context,l);break;case 3:h[w].fn.call(h[w].context,l,u);break;case 4:h[w].fn.call(h[w].context,l,u,d);break;default:if(!b)for(x=1,b=new Array(g-1);x<g;x++)b[x-1]=arguments[x];h[w].fn.apply(h[w].context,b)}}return!0},s.prototype.on=function(c,l,u){return o(this,c,l,u,!1)},s.prototype.once=function(c,l,u){return o(this,c,l,u,!0)},s.prototype.removeListener=function(c,l,u,d){var p=r?r+c:c;if(!this._events[p])return this;if(!l)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===l&&(!d||m.once)&&(!u||m.context===u)&&i(this,p);else{for(var y=0,h=[],g=m.length;y<g;y++)(m[y].fn!==l||d&&!m[y].once||u&&m[y].context!==u)&&h.push(m[y]);h.length?this._events[p]=h.length===1?h[0]:h:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var l;return c?(l=r?r+c:c,this._events[l]&&i(this,l)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(ex);var t5=ex.exports;const r5=Pe(t5);var rd=new r5,nd="recharts.syncMouseEvents";function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function n5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tx(n.key),n)}}function o5(e,t,r){return t&&a5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ad(e,t,r){return t=tx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tx(e){var t=i5(e,"string");return oo(t)=="symbol"?t:t+""}function i5(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var s5=function(){function e(){n5(this,e),ad(this,"activeIndex",0),ad(this,"coordinateList",[]),ad(this,"layout","horizontal")}return o5(e,[{key:"setDetails",value:function(t){var r,n=t.coordinateList,a=n===void 0?null:n,o=t.container,i=o===void 0?null:o,s=t.layout,c=s===void 0?null:s,l=t.offset,u=l===void 0?null:l,d=t.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=i??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),a=n.x,o=n.y,i=n.height,s=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,l=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=a+s+c,d=o+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:u,pageY:d})}}}])}();function c5(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&K(n)&&K(a))return!0}return!1}function l5(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function rx(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=He(t,r,n,a),s=He(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function u5(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.angle,p=He(s,c,l,d),m=He(s,c,u,d);n=p.x,a=p.y,o=m.x,i=m.y}else return rx(t);return[{x:n,y:a},{x:o,y:i}]}function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function nx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nx(Object(r),!0).forEach(function(n){d5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d5(e,t,r){return t=f5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f5(e){var t=p5(e,"string");return io(t)=="symbol"?t:t+""}function p5(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h5(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,c=e.offset,l=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!o||!i||p!=="ScatterChart"&&a!=="axis")return null;var y,h=nb;if(p==="ScatterChart")y=i,h=DI;else if(p==="BarChart")y=l5(d,i,c,u),h=Ou;else if(d==="radial"){var g=rx(i),b=g.cx,w=g.cy,S=g.radius,x=g.startAngle,j=g.endAngle;y={cx:b,cy:w,startAngle:x,endAngle:j,innerRadius:S,outerRadius:S},h=Qg}else y={points:u5(d,i,c)},h=nb;var _=hs(hs(hs(hs({stroke:"#ccc",pointerEvents:"none"},c),y),ve(m,!1)),{},{payload:s,payloadIndex:l,className:be("recharts-tooltip-cursor",m.className)});return v.isValidElement(m)?v.cloneElement(m,_):v.createElement(h,_)}var m5=["item"],y5=["children","className","width","height","style","compact","title","desc"];function Wn(e){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wn(e)}function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xn.apply(this,arguments)}function ax(e,t){return b5(e)||g5(e,t)||sx(e,t)||v5()}function v5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function b5(e){if(Array.isArray(e))return e}function ox(e,t){if(e==null)return{};var r=x5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lx(n.key),n)}}function _5(e,t,r){return t&&j5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O5(e,t,r){return t=ms(t),S5(e,ix()?Reflect.construct(t,r||[],ms(e).constructor):t.apply(e,r))}function S5(e,t){if(t&&(Wn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E5(e)}function E5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ix(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ix=function(){return!!e})()}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ms(e)}function P5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&od(e,t)}function od(e,t){return od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},od(e,t)}function Kn(e){return k5(e)||C5(e)||sx(e)||N5()}function N5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sx(e,t){if(e){if(typeof e=="string")return id(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return id(e,t)}}function C5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k5(e){if(Array.isArray(e))return id(e)}function id(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cx(Object(r),!0).forEach(function(n){ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ae(e,t,r){return t=lx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lx(e){var t=M5(e,"string");return Wn(t)=="symbol"?t:t+""}function M5(e,t){if(Wn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A5={xAxis:["bottom","top"],yAxis:["left","right"]},T5={width:"100%",height:"100%"},ux={x:0,y:0};function ys(e){return e}var D5=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},I5=function(e,t,r,n){var a=t.find(function(l){return l&&l.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,i=n.radius;return L(L(L({},n),He(n.cx,n.cy,i,o)),{},{angle:o,radius:i})}var s=a.coordinate,c=n.angle;return L(L(L({},n),He(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return ux},vs=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,o=(r??[]).reduce(function(i,s){var c=s.props.data;return c&&c.length?[].concat(Kn(i),Kn(c)):i},[]);return o.length>0?o:e&&e.length&&K(n)&&K(a)?e.slice(n,a+1):[]};function dx(e){return e==="number"?[0,"auto"]:void 0}var sd=function(e,t,r,n){var a=e.graphicalItems,o=e.tooltipAxis,i=vs(t,e);return r<0||!a||!a.length||r>=i.length?null:a.reduce(function(s,c){var l,u=(l=c.props.data)!==null&&l!==void 0?l:t;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=u===void 0?i:u;d=Ac(p,o.dataKey,n)}else d=u&&u[r]||i[r];return d?[].concat(Kn(s),[$g(c,d)]):s},[])},fx=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},o=D5(a,r),i=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=N2(o,i,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,d=sd(e,t,l,u),p=I5(r,i,l,a);return{activeTooltipIndex:l,activeLabel:u,activePayload:d,activeCoordinate:p}}return null},R5=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=e.stackOffset,p=Tg(l,a);return r.reduce(function(m,y){var h,g=y.type.defaultProps!==void 0?L(L({},y.type.defaultProps),y.props):y.props,b=g.type,w=g.dataKey,S=g.allowDataOverflow,x=g.allowDuplicatedCategory,j=g.scale,_=g.ticks,O=g.includeHidden,E=g[o];if(m[E])return m;var C=vs(e.data,{graphicalItems:n.filter(function(q){var T,Y=o in q.props?q.props[o]:(T=q.type.defaultProps)===null||T===void 0?void 0:T[o];return Y===E}),dataStartIndex:s,dataEndIndex:c}),A=C.length,P,M,R;c5(g.domain,S,b)&&(P=lu(g.domain,null,S),p&&(b==="number"||j!=="auto")&&(R=Di(C,w,"category")));var D=dx(b);if(!P||P.length===0){var k,I=(k=g.domain)!==null&&k!==void 0?k:D;if(w){if(P=Di(C,w,b),b==="category"&&p){var F=uO(P);x&&F?(M=P,P=Yi(0,A)):x||(P=zg(I,P,y).reduce(function(q,T){return q.indexOf(T)>=0?q:[].concat(Kn(q),[T])},[]))}else if(b==="category")x?P=P.filter(function(q){return q!==""&&!ge(q)}):P=zg(I,P,y).reduce(function(q,T){return q.indexOf(T)>=0||T===""||ge(T)?q:[].concat(Kn(q),[T])},[]);else if(b==="number"){var V=T2(C,n.filter(function(q){var T,Y,H=o in q.props?q.props[o]:(T=q.type.defaultProps)===null||T===void 0?void 0:T[o],J="hide"in q.props?q.props.hide:(Y=q.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return H===E&&(O||!J)}),w,a,l);V&&(P=V)}p&&(b==="number"||j!=="auto")&&(R=Di(C,w,"category"))}else p?P=Yi(0,A):i&&i[E]&&i[E].hasStack&&b==="number"?P=d==="expand"?[0,1]:Lg(i[E].stackGroups,s,c):P=Ag(C,n.filter(function(q){var T=o in q.props?q.props[o]:q.type.defaultProps[o],Y="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return T===E&&(O||!Y)}),b,l,!0);if(b==="number")P=td(u,P,E,a,_),I&&(P=lu(I,P,S));else if(b==="category"&&I){var U=I,Q=P.every(function(q){return U.indexOf(q)>=0});Q&&(P=U)}}return L(L({},m),{},ae({},E,L(L({},g),{},{axisType:a,domain:P,categoricalDomain:R,duplicateDomain:M,originalDomain:(h=g.domain)!==null&&h!==void 0?h:D,isCategorical:p,layout:l})))},{})},L5=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=vs(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:c}),p=d.length,m=Tg(l,a),y=-1;return r.reduce(function(h,g){var b=g.type.defaultProps!==void 0?L(L({},g.type.defaultProps),g.props):g.props,w=b[o],S=dx("number");if(!h[w]){y++;var x;return m?x=Yi(0,p):i&&i[w]&&i[w].hasStack?(x=Lg(i[w].stackGroups,s,c),x=td(u,x,w,a)):(x=lu(S,Ag(d,r.filter(function(j){var _,O,E=o in j.props?j.props[o]:(_=j.type.defaultProps)===null||_===void 0?void 0:_[o],C="hide"in j.props?j.props.hide:(O=j.type.defaultProps)===null||O===void 0?void 0:O.hide;return E===w&&!C}),"number",l),n.defaultProps.allowDataOverflow),x=td(u,x,w,a)),L(L({},h),{},ae({},w,L(L({axisType:a},n.defaultProps),{},{hide:!0,orientation:Pt(A5,"".concat(a,".").concat(y%2),null),domain:x,originalDomain:S,isCategorical:m,layout:l})))}return h},{})},B5=function(e,t){var r=t.axisType,n=r===void 0?"xAxis":r,a=t.AxisComp,o=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(n,"Id"),d=kt(l,a),p={};return d&&d.length?p=R5(e,{axes:d,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(p=L5(e,{Axis:a,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c})),p},F5=function(e){var t=mr(e),r=ir(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ul(r,function(n){return n.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Ri(t,r)}},px=function(e){var t=e.children,r=e.defaultShowTooltip,n=pt(t,In),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},z5=function(e){return!e||!e.length?!1:e.some(function(t){var r=Yt(t&&t.type);return r&&r.indexOf("Bar")>=0})},hx=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$5=function(e,t){var r=e.props,n=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,i=e.yAxisMap,s=i===void 0?{}:i,c=r.width,l=r.height,u=r.children,d=r.margin||{},p=pt(u,In),m=pt(u,bn),y=Object.keys(s).reduce(function(x,j){var _=s[j],O=_.orientation;return!_.mirror&&!_.hide?L(L({},x),{},ae({},O,x[O]+_.width)):x},{left:d.left||0,right:d.right||0}),h=Object.keys(o).reduce(function(x,j){var _=o[j],O=_.orientation;return!_.mirror&&!_.hide?L(L({},x),{},ae({},O,Pt(x,"".concat(O))+_.height)):x},{top:d.top||0,bottom:d.bottom||0}),g=L(L({},h),y),b=g.bottom;p&&(g.bottom+=p.props.height||In.defaultProps.height),m&&t&&(g=M2(g,n,r,t));var w=c-g.left-g.right,S=l-g.top-g.bottom;return L(L({brushBottom:b},g),{},{width:Math.max(w,0),height:Math.max(S,0)})},V5=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},U5=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=n===void 0?"axis":n,o=e.validateTooltipEventTypes,i=o===void 0?["axis"]:o,s=e.axisComponents,c=e.legendContent,l=e.formatAxisMap,u=e.defaultProps,d=function(h,g){var b=g.graphicalItems,w=g.stackGroups,S=g.offset,x=g.updateId,j=g.dataStartIndex,_=g.dataEndIndex,O=h.barSize,E=h.layout,C=h.barGap,A=h.barCategoryGap,P=h.maxBarSize,M=hx(E),R=M.numericAxisName,D=M.cateAxisName,k=z5(b),I=[];return b.forEach(function(F,V){var U=vs(h.data,{graphicalItems:[F],dataStartIndex:j,dataEndIndex:_}),Q=F.type.defaultProps!==void 0?L(L({},F.type.defaultProps),F.props):F.props,q=Q.dataKey,T=Q.maxBarSize,Y=Q["".concat(R,"Id")],H=Q["".concat(D,"Id")],J={},ie=s.reduce(function(Qr,en){var co=g["".concat(en.axisType,"Map")],nw=Q["".concat(en.axisType,"Id")];co&&co[nw]||en.axisType==="zAxis"||qr();var aw=co[nw];return L(L({},Qr),{},ae(ae({},en.axisType,aw),"".concat(en.axisType,"Ticks"),ir(aw)))},J),W=ie[D],oe=ie["".concat(D,"Ticks")],$=w&&w[Y]&&w[Y].hasStack&&q2(F,w[Y].stackGroups),G=Yt(F.type).indexOf("Bar")>=0,ee=Ri(W,oe),B=[],Oe=k&&C2({barSize:O,stackGroups:w,totalSize:V5(ie,D)});if(G){var ue,ke,Me=ge(T)?P:T,rt=(ue=(ke=Ri(W,oe,!0))!==null&&ke!==void 0?ke:Me)!==null&&ue!==void 0?ue:0;B=k2({barGap:C,barCategoryGap:A,bandSize:rt!==ee?rt:ee,sizeList:Oe[H],maxBarSize:Me}),rt!==ee&&(B=B.map(function(Qr){return L(L({},Qr),{},{position:L(L({},Qr.position),{},{offset:Qr.position.offset-rt/2})})}))}var Zr=F&&F.type&&F.type.getComposedData;Zr&&I.push({props:L(L({},Zr(L(L({},ie),{},{displayedData:U,props:h,dataKey:q,item:F,bandSize:ee,barPosition:B,offset:S,stackedData:$,layout:E,dataStartIndex:j,dataEndIndex:_}))),{},ae(ae(ae({key:F.key||"item-".concat(V)},R,ie[R]),D,ie[D]),"animationId",x)),childIndex:wO(F,h.children),item:F})}),I},p=function(h,g){var b=h.props,w=h.dataStartIndex,S=h.dataEndIndex,x=h.updateId;if(!Qh({props:b}))return null;var j=b.children,_=b.layout,O=b.stackOffset,E=b.data,C=b.reverseStackOrder,A=hx(_),P=A.numericAxisName,M=A.cateAxisName,R=kt(j,r),D=V2(E,R,"".concat(P,"Id"),"".concat(M,"Id"),O,C),k=s.reduce(function(Q,q){var T="".concat(q.axisType,"Map");return L(L({},Q),{},ae({},T,B5(b,L(L({},q),{},{graphicalItems:R,stackGroups:q.axisType===P&&D,dataStartIndex:w,dataEndIndex:S}))))},{}),I=$5(L(L({},k),{},{props:b,graphicalItems:R}),g==null?void 0:g.legendBBox);Object.keys(k).forEach(function(Q){k[Q]=l(b,k[Q],I,Q.replace("Map",""),t)});var F=k["".concat(M,"Map")],V=F5(F),U=d(b,L(L({},k),{},{dataStartIndex:w,dataEndIndex:S,updateId:x,graphicalItems:R,stackGroups:D,offset:I}));return L(L({formattedGraphicalItems:U,graphicalItems:R,offset:I,stackGroups:D},V),k)},m=function(h){function g(b){var w,S,x;return w5(this,g),x=O5(this,g,[b]),ae(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ae(x,"accessibilityManager",new s5),ae(x,"handleLegendBBoxUpdate",function(j){if(j){var _=x.state,O=_.dataStartIndex,E=_.dataEndIndex,C=_.updateId;x.setState(L({legendBBox:j},p({props:x.props,dataStartIndex:O,dataEndIndex:E,updateId:C},L(L({},x.state),{},{legendBBox:j}))))}}),ae(x,"handleReceiveSyncEvent",function(j,_,O){if(x.props.syncId===j){if(O===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(_)}}),ae(x,"handleBrushChange",function(j){var _=j.startIndex,O=j.endIndex;if(_!==x.state.dataStartIndex||O!==x.state.dataEndIndex){var E=x.state.updateId;x.setState(function(){return L({dataStartIndex:_,dataEndIndex:O},p({props:x.props,dataStartIndex:_,dataEndIndex:O,updateId:E},x.state))}),x.triggerSyncEvent({dataStartIndex:_,dataEndIndex:O})}}),ae(x,"handleMouseEnter",function(j){var _=x.getMouseInfo(j);if(_){var O=L(L({},_),{},{isTooltipActive:!0});x.setState(O),x.triggerSyncEvent(O);var E=x.props.onMouseEnter;fe(E)&&E(O,j)}}),ae(x,"triggeredAfterMouseMove",function(j){var _=x.getMouseInfo(j),O=_?L(L({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(O),x.triggerSyncEvent(O);var E=x.props.onMouseMove;fe(E)&&E(O,j)}),ae(x,"handleItemMouseEnter",function(j){x.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ae(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ae(x,"handleMouseMove",function(j){j.persist(),x.throttleTriggeredAfterMouseMove(j)}),ae(x,"handleMouseLeave",function(j){x.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};x.setState(_),x.triggerSyncEvent(_);var O=x.props.onMouseLeave;fe(O)&&O(_,j)}),ae(x,"handleOuterEvent",function(j){var _=xO(j),O=Pt(x.props,"".concat(_));if(_&&fe(O)){var E,C;/.*touch.*/i.test(_)?C=x.getMouseInfo(j.changedTouches[0]):C=x.getMouseInfo(j),O((E=C)!==null&&E!==void 0?E:{},j)}}),ae(x,"handleClick",function(j){var _=x.getMouseInfo(j);if(_){var O=L(L({},_),{},{isTooltipActive:!0});x.setState(O),x.triggerSyncEvent(O);var E=x.props.onClick;fe(E)&&E(O,j)}}),ae(x,"handleMouseDown",function(j){var _=x.props.onMouseDown;if(fe(_)){var O=x.getMouseInfo(j);_(O,j)}}),ae(x,"handleMouseUp",function(j){var _=x.props.onMouseUp;if(fe(_)){var O=x.getMouseInfo(j);_(O,j)}}),ae(x,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ae(x,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.handleMouseDown(j.changedTouches[0])}),ae(x,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.handleMouseUp(j.changedTouches[0])}),ae(x,"triggerSyncEvent",function(j){x.props.syncId!==void 0&&rd.emit(nd,x.props.syncId,j,x.eventEmitterSymbol)}),ae(x,"applySyncEvent",function(j){var _=x.props,O=_.layout,E=_.syncMethod,C=x.state.updateId,A=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)x.setState(L({dataStartIndex:A,dataEndIndex:P},p({props:x.props,dataStartIndex:A,dataEndIndex:P,updateId:C},x.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,R=j.chartY,D=j.activeTooltipIndex,k=x.state,I=k.offset,F=k.tooltipTicks;if(!I)return;if(typeof E=="function")D=E(F,j);else if(E==="value"){D=-1;for(var V=0;V<F.length;V++)if(F[V].value===j.activeLabel){D=V;break}}var U=L(L({},I),{},{x:I.left,y:I.top}),Q=Math.min(M,U.x+U.width),q=Math.min(R,U.y+U.height),T=F[D]&&F[D].value,Y=sd(x.state,x.props.data,D),H=F[D]?{x:O==="horizontal"?F[D].coordinate:Q,y:O==="horizontal"?q:F[D].coordinate}:ux;x.setState(L(L({},j),{},{activeLabel:T,activeCoordinate:H,activePayload:Y,activeTooltipIndex:D}))}else x.setState(j)}),ae(x,"renderCursor",function(j){var _,O=x.state,E=O.isTooltipActive,C=O.activeCoordinate,A=O.activePayload,P=O.offset,M=O.activeTooltipIndex,R=O.tooltipAxisBandSize,D=x.getTooltipEventType(),k=(_=j.props.active)!==null&&_!==void 0?_:E,I=x.props.layout,F=j.key||"_recharts-cursor";return N.createElement(h5,{key:F,activeCoordinate:C,activePayload:A,activeTooltipIndex:M,chartName:t,element:j,isActive:k,layout:I,offset:P,tooltipAxisBandSize:R,tooltipEventType:D})}),ae(x,"renderPolarAxis",function(j,_,O){var E=Pt(j,"type.axisType"),C=Pt(x.state,"".concat(E,"Map")),A=j.type.defaultProps,P=A!==void 0?L(L({},A),j.props):j.props,M=C&&C[P["".concat(E,"Id")]];return v.cloneElement(j,L(L({},M),{},{className:be(E,M.className),key:j.key||"".concat(_,"-").concat(O),ticks:ir(M,!0)}))}),ae(x,"renderPolarGrid",function(j){var _=j.props,O=_.radialLines,E=_.polarAngles,C=_.polarRadius,A=x.state,P=A.radiusAxisMap,M=A.angleAxisMap,R=mr(P),D=mr(M),k=D.cx,I=D.cy,F=D.innerRadius,V=D.outerRadius;return v.cloneElement(j,{polarAngles:Array.isArray(E)?E:ir(D,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(C)?C:ir(R,!0).map(function(U){return U.coordinate}),cx:k,cy:I,innerRadius:F,outerRadius:V,key:j.key||"polar-grid",radialLines:O})}),ae(x,"renderLegend",function(){var j=x.state.formattedGraphicalItems,_=x.props,O=_.children,E=_.width,C=_.height,A=x.props.margin||{},P=E-(A.left||0)-(A.right||0),M=Ng({children:O,formattedGraphicalItems:j,legendWidth:P,legendContent:c});if(!M)return null;var R=M.item,D=ox(M,m5);return v.cloneElement(R,L(L({},D),{},{chartWidth:E,chartHeight:C,margin:A,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ae(x,"renderTooltip",function(){var j,_=x.props,O=_.children,E=_.accessibilityLayer,C=pt(O,Ft);if(!C)return null;var A=x.state,P=A.isTooltipActive,M=A.activeCoordinate,R=A.activePayload,D=A.activeLabel,k=A.offset,I=(j=C.props.active)!==null&&j!==void 0?j:P;return v.cloneElement(C,{viewBox:L(L({},k),{},{x:k.left,y:k.top}),active:I,label:D,payload:I?R:[],coordinate:M,accessibilityLayer:E})}),ae(x,"renderBrush",function(j){var _=x.props,O=_.margin,E=_.data,C=x.state,A=C.offset,P=C.dataStartIndex,M=C.dataEndIndex,R=C.updateId;return v.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Ii(x.handleBrushChange,j.props.onChange),data:E,x:K(j.props.x)?j.props.x:A.left,y:K(j.props.y)?j.props.y:A.top+A.height+A.brushBottom-(O.bottom||0),width:K(j.props.width)?j.props.width:A.width,startIndex:P,endIndex:M,updateId:"brush-".concat(R)})}),ae(x,"renderReferenceElement",function(j,_,O){if(!j)return null;var E=x,C=E.clipPathId,A=x.state,P=A.xAxisMap,M=A.yAxisMap,R=A.offset,D=j.type.defaultProps||{},k=j.props,I=k.xAxisId,F=I===void 0?D.xAxisId:I,V=k.yAxisId,U=V===void 0?D.yAxisId:V;return v.cloneElement(j,{key:j.key||"".concat(_,"-").concat(O),xAxis:P[F],yAxis:M[U],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:C})}),ae(x,"renderActivePoints",function(j){var _=j.item,O=j.activePoint,E=j.basePoint,C=j.childIndex,A=j.isRange,P=[],M=_.props.key,R=_.item.type.defaultProps!==void 0?L(L({},_.item.type.defaultProps),_.item.props):_.item.props,D=R.activeDot,k=R.dataKey,I=L(L({index:C,dataKey:k,cx:O.x,cy:O.y,r:4,fill:su(_.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},ve(D,!1)),Ho(D));return P.push(g.renderActiveDot(D,I,"".concat(M,"-activePoint-").concat(C))),E?P.push(g.renderActiveDot(D,L(L({},I),{},{cx:E.x,cy:E.y}),"".concat(M,"-basePoint-").concat(C))):A&&P.push(null),P}),ae(x,"renderGraphicChild",function(j,_,O){var E=x.filterFormatItem(j,_,O);if(!E)return null;var C=x.getTooltipEventType(),A=x.state,P=A.isTooltipActive,M=A.tooltipAxis,R=A.activeTooltipIndex,D=A.activeLabel,k=x.props.children,I=pt(k,Ft),F=E.props,V=F.points,U=F.isRange,Q=F.baseLine,q=E.item.type.defaultProps!==void 0?L(L({},E.item.type.defaultProps),E.item.props):E.item.props,T=q.activeDot,Y=q.hide,H=q.activeBar,J=q.activeShape,ie=!!(!Y&&P&&I&&(T||H||J)),W={};C!=="axis"&&I&&I.props.trigger==="click"?W={onClick:Ii(x.handleItemMouseEnter,j.props.onClick)}:C!=="axis"&&(W={onMouseLeave:Ii(x.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Ii(x.handleItemMouseEnter,j.props.onMouseEnter)});var oe=v.cloneElement(j,L(L({},E.props),W));function $(co){return typeof M.dataKey=="function"?M.dataKey(co.payload):null}if(ie)if(R>=0){var G,ee;if(M.dataKey&&!M.allowDuplicatedCategory){var B=typeof M.dataKey=="function"?$:"payload.".concat(M.dataKey.toString());G=Ac(V,B,D),ee=U&&Q&&Ac(Q,B,D)}else G=V==null?void 0:V[R],ee=U&&Q&&Q[R];if(J||H){var Oe=j.props.activeIndex!==void 0?j.props.activeIndex:R;return[v.cloneElement(j,L(L(L({},E.props),W),{},{activeIndex:Oe})),null,null]}if(!ge(G))return[oe].concat(Kn(x.renderActivePoints({item:E,activePoint:G,basePoint:ee,childIndex:R,isRange:U})))}else{var ue,ke=(ue=x.getItemByXY(x.state.activeCoordinate))!==null&&ue!==void 0?ue:{graphicalItem:oe},Me=ke.graphicalItem,rt=Me.item,Zr=rt===void 0?j:rt,Qr=Me.childIndex,en=L(L(L({},E.props),W),{},{activeIndex:Qr});return[v.cloneElement(Zr,en),null,null]}return U?[oe,null,null]:[oe,null]}),ae(x,"renderCustomized",function(j,_,O){return v.cloneElement(j,L(L({key:"recharts-customized-".concat(O)},x.props),x.state))}),ae(x,"renderMap",{CartesianGrid:{handler:ys,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:ys},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:ys},YAxis:{handler:ys},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Uo("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=$s(x.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return P5(g,h),_5(g,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,S=b.data,x=b.height,j=b.layout,_=pt(w,Ft);if(_){var O=_.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,C=sd(this.state,S,O,E),A=this.state.tooltipTicks[O].coordinate,P=(this.state.offset.top+x)/2,M=j==="horizontal",R=M?{x:A,y:P}:{y:A,x:P},D=this.state.formattedGraphicalItems.find(function(I){var F=I.item;return F.type.name==="Scatter"});D&&(R=L(L({},R),D.props.points[O].tooltipPosition),C=D.props.points[O].tooltipPayload);var k={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:E,activePayload:C,activeCoordinate:R};this.setState(k),this.renderCursor(_),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,x;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(b){Bc([pt(b.children,Ft)],[pt(this.props.children,Ft)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=pt(this.props.children,Ft);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return i.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,S=w.getBoundingClientRect(),x=SC(S),j={chartX:Math.round(b.pageX-x.left),chartY:Math.round(b.pageY-x.top)},_=S.width/w.offsetWidth||1,O=this.inRange(j.chartX,j.chartY,_);if(!O)return null;var E=this.state,C=E.xAxisMap,A=E.yAxisMap,P=this.getTooltipEventType();if(P!=="axis"&&C&&A){var M=mr(C).scale,R=mr(A).scale,D=M&&M.invert?M.invert(j.chartX):null,k=R&&R.invert?R.invert(j.chartY):null;return L(L({},j),{},{xValue:D,yValue:k})}var I=fx(this.state,this.props.data,this.props.layout,O);return I?L(L({},j),I):null}},{key:"inRange",value:function(b,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,j=b/S,_=w/S;if(x==="horizontal"||x==="vertical"){var O=this.state.offset,E=j>=O.left&&j<=O.left+O.width&&_>=O.top&&_<=O.top+O.height;return E?{x:j,y:_}:null}var C=this.state,A=C.angleAxisMap,P=C.radiusAxisMap;if(A&&P){var M=mr(A);return Hg({x:j,y:_},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),S=pt(b,Ft),x={};S&&w==="axis"&&(S.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var j=Ho(this.props,this.handleOuterEvent);return L(L({},j),x)}},{key:"addListener",value:function(){rd.on(nd,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rd.removeListener(nd,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,S){for(var x=this.state.formattedGraphicalItems,j=0,_=x.length;j<_;j++){var O=x[j];if(O.item===b||O.props.key===b.key||w===Yt(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,S=w.left,x=w.top,j=w.height,_=w.width;return N.createElement("defs",null,N.createElement("clipPath",{id:b},N.createElement("rect",{x:S,y:x,height:j,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,S){var x=ax(S,2),j=x[0],_=x[1];return L(L({},w),{},ae({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,S){var x=ax(S,2),j=x[0],_=x[1];return L(L({},w),{},ae({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,S=w.formattedGraphicalItems,x=w.activeItem;if(S&&S.length)for(var j=0,_=S.length;j<_;j++){var O=S[j],E=O.props,C=O.item,A=C.type.defaultProps!==void 0?L(L({},C.type.defaultProps),C.props):C.props,P=Yt(C.type);if(P==="Bar"){var M=(E.data||[]).find(function(I){return OI(b,I)});if(M)return{graphicalItem:O,payload:M}}else if(P==="RadialBar"){var R=(E.data||[]).find(function(I){return Hg(b,I)});if(R)return{graphicalItem:O,payload:R}}else if(Ki(O,x)||Gi(O,x)||Qa(O,x)){var D=_3({graphicalItem:O,activeTooltipItem:x,itemData:A.data}),k=A.activeIndex===void 0?D:A.activeIndex;return{graphicalItem:L(L({},O),{},{childIndex:k}),payload:Qa(O,x)?A.data[D]:O.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!Qh(this))return null;var w=this.props,S=w.children,x=w.className,j=w.width,_=w.height,O=w.style,E=w.compact,C=w.title,A=w.desc,P=ox(w,y5),M=ve(P,!1);if(E)return N.createElement(w0,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement(zc,Xn({},M,{width:j,height:_,title:C,desc:A}),this.renderClipPath(),tm(S,this.renderMap)));if(this.props.accessibilityLayer){var R,D;M.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,M.role=(D=this.props.role)!==null&&D!==void 0?D:"application",M.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},M.onFocus=function(){b.accessibilityManager.focus()}}var k=this.parseEventsOfWrapper();return N.createElement(w0,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement("div",Xn({className:be("recharts-wrapper",x),style:L({position:"relative",cursor:"default",width:j,height:_},O)},k,{ref:function(I){b.container=I}}),N.createElement(zc,Xn({},M,{width:j,height:_,title:C,desc:A,style:T5}),this.renderClipPath(),tm(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);ae(m,"displayName",t),ae(m,"defaultProps",L({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),ae(m,"getDerivedStateFromProps",function(h,g){var b=h.dataKey,w=h.data,S=h.children,x=h.width,j=h.height,_=h.layout,O=h.stackOffset,E=h.margin,C=g.dataStartIndex,A=g.dataEndIndex;if(g.updateId===void 0){var P=px(h);return L(L(L({},P),{},{updateId:0},p(L(L({props:h},P),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:j,prevLayout:_,prevStackOffset:O,prevMargin:E,prevChildren:S})}if(b!==g.prevDataKey||w!==g.prevData||x!==g.prevWidth||j!==g.prevHeight||_!==g.prevLayout||O!==g.prevStackOffset||!mn(E,g.prevMargin)){var M=px(h),R={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},D=L(L({},fx(g,w,_)),{},{updateId:g.updateId+1}),k=L(L(L({},M),R),D);return L(L(L({},k),p(L({props:h},k),g)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:j,prevLayout:_,prevStackOffset:O,prevMargin:E,prevChildren:S})}if(!Bc(S,g.prevChildren)){var I,F,V,U,Q=pt(S,In),q=Q&&(I=(F=Q.props)===null||F===void 0?void 0:F.startIndex)!==null&&I!==void 0?I:C,T=Q&&(V=(U=Q.props)===null||U===void 0?void 0:U.endIndex)!==null&&V!==void 0?V:A,Y=q!==C||T!==A,H=!ge(w),J=H&&!Y?g.updateId:g.updateId+1;return L(L({updateId:J},p(L(L({props:h},g),{},{updateId:J,dataStartIndex:q,dataEndIndex:T}),g)),{},{prevChildren:S,dataStartIndex:q,dataEndIndex:T})}return null}),ae(m,"renderActiveDot",function(h,g,b){var w;return v.isValidElement(h)?w=v.cloneElement(h,g):fe(h)?w=h(g):w=N.createElement(Lb,g),N.createElement($e,{className:"recharts-active-dot",key:b},w)});var y=v.forwardRef(function(h,g){return N.createElement(m,Xn({},h,{ref:g}))});return y.displayName=m.displayName,y},H5=U5({chartName:"BarChart",GraphicalChild:Kr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fs},{axisType:"yAxis",AxisComp:Qu}],formatAxisMap:WR});const q5={light:"",dark:".dark"},mx=v.createContext(null);function yx(){const e=v.useContext(mx);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const vx=v.forwardRef(({id:e,className:t,children:r,config:n,...a},o)=>{const i=v.useId(),s=`chart-${e||i.replace(/:/g,"")}`;return f.jsx(mx.Provider,{value:{config:n},children:f.jsxs("div",{"data-chart":s,ref:o,className:X("flex aspect-video justify-center text-xs",t),...a,children:[f.jsx(W5,{id:s,config:n}),f.jsx(gC,{children:r})]})})});vx.displayName="Chart";const W5=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?f.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(q5).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([o,i])=>{var c;const s=((c=i.theme)==null?void 0:c[n])||i.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},X5=Ft,gx=v.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:o=!1,label:i,labelFormatter:s,labelClassName:c,formatter:l,color:u,nameKey:d,labelKey:p},m)=>{const{config:y}=yx(),h=v.useMemo(()=>{var j;if(a||!(t!=null&&t.length))return null;const[b]=t,w=`${p||b.dataKey||b.name||"value"}`,S=cd(y,b,w),x=!p&&typeof i=="string"?((j=y[i])==null?void 0:j.label)||i:S==null?void 0:S.label;return s?f.jsx("div",{className:X("font-medium",c),children:s(x,t)}):x?f.jsx("div",{className:X("font-medium",c),children:x}):null},[i,s,t,a,c,y,p]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&n!=="dot";return f.jsxs("div",{ref:m,className:X("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:h,f.jsx("div",{className:"grid gap-1.5",children:t.map((b,w)=>{const S=`${d||b.name||b.dataKey||"value"}`,x=cd(y,b,S),j=u||b.payload.fill||b.color;return f.jsx("div",{className:X("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:l&&(b==null?void 0:b.value)!==void 0&&b.name?l(b.value,b.name,b,w,b.payload):f.jsxs(f.Fragment,{children:[x!=null&&x.icon?f.jsx(x.icon,{}):!o&&f.jsx("div",{className:X("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":g&&n==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),f.jsxs("div",{className:X("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[f.jsxs("div",{className:"grid gap-1.5",children:[g?h:null,f.jsx("span",{className:"text-muted-foreground",children:(x==null?void 0:x.label)||b.name})]}),b.value&&f.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});gx.displayName="ChartTooltip";const K5=v.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},o)=>{const{config:i}=yx();return r!=null&&r.length?f.jsx("div",{ref:o,className:X("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(s=>{const c=`${a||s.dataKey||"value"}`,l=cd(i,s,c);return f.jsxs("div",{className:X("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[l!=null&&l.icon&&!t?f.jsx(l.icon,{}):f.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),l==null?void 0:l.label]},s.value)})}):null});K5.displayName="ChartLegend";function cd(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const bx=e=>{const t=["Bytes","KB","MB","GB","TB"];if(e===void 0)return"Unknown size";if(e===0)return"0 Byte";const r=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,r))} ${t[r]}`},G5=v.memo(()=>{const{t:e}=le("flows"),[t,r]=v.useState(),n=Sr(y=>y.cachedLLMURLs),a=dt(y=>y.currentSession),[o,i]=v.useState(),[s,c]=v.useState(""),[l,u]=v.useState(),d=v.useMemo(()=>({nodes:{label:e("session_info_node.entities.nodes"),color:"#2563eb"},edges:{label:e("session_info_node.entities.edges"),color:"#34d399"},threads:{label:e("session_info_node.entities.threads"),color:"#fbbf24"},llms:{label:e("session_info_node.entities.llms"),color:"#f87171"},prompts:{label:e("session_info_node.entities.prompts"),color:"#a78bfa"},tools:{label:e("session_info_node.entities.tools"),color:"#ffcccb"},schemas:{label:e("session_info_node.entities.schemas"),color:"#ffb6c1"},vectorDatabases:{label:e("session_info_node.entities.vector_databases"),color:"#ff69b4"},jsonlDatas:{label:e("session_info_node.entities.jsonl_data"),color:"#ff1493"},csvDatas:{label:e("session_info_node.entities.csv_data"),color:"#db7093"}}),[e]);v.useEffect(()=>{at(async()=>{const{functionCallingModelIds:y,prebuiltAppConfig:h}=await import("./index-0PuXI_Dv.js").then(async g=>(await g.__tla,g));return{functionCallingModelIds:y,prebuiltAppConfig:h}},__vite__mapDeps([0,1,2,3,4])).then(({functionCallingModelIds:y,prebuiltAppConfig:h})=>{r(n==null?void 0:n.map(g=>{const b=h.model_list.find(w=>g.includes(w.model));if(b)return{model_id:(b==null?void 0:b.model_id)||"",info:b,isFunctionCalling:y.includes((b==null?void 0:b.model_id)||"")}}))})},[n,a==null?void 0:a.id]);const p=v.useCallback(async()=>{navigator.storage.estimate().then(y=>{y&&c(e("session_info_node.used_bytes",{used:bx(y.usage),total:bx(y==null?void 0:y.quota)}))}),a!=null&&a.id&&(Promise.all([ne("FlowNode").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("FlowEdge").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("Thread").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("Prompt").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("LLM").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("Schema").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("ToolDefinition").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("VectorDatabase").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("JSONLData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("CSVData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}})]).then(y=>{const h=y.reduce((g,b)=>b!=null&&b.updated_at&&(!g||new Date(b.updated_at)>g)?new Date(b.updated_at):g,a.updated_at?new Date(a.updated_at):void 0);i(h)}),Promise.all([ne("FlowNode").count({where:{session_id:a==null?void 0:a.id}}),ne("FlowEdge").count({where:{session_id:a==null?void 0:a.id}}),ne("Thread").count({where:{session_id:a==null?void 0:a.id}}),ne("Prompt").count({where:{session_id:a==null?void 0:a.id}}),ne("LLM").count({where:{session_id:a==null?void 0:a.id}}),ne("ToolDefinition").count({where:{session_id:a==null?void 0:a.id}}),ne("Schema").count({where:{session_id:a==null?void 0:a.id}}),ne("VectorDatabase").count({where:{session_id:a==null?void 0:a.id}}),ne("JSONLData").count({where:{session_id:a==null?void 0:a.id}}),ne("CSVData").count({where:{session_id:a==null?void 0:a.id}})]).then(([y,h,g,b,w,S,x,j,_,O])=>{u([{name:e("session_info_node.count_info.title"),nodes:y||0,edges:h||0,threads:g||0,prompts:b||0,llms:w||0,tools:S||0,schemas:x||0,vectorDatabases:j||0,jsonlDatas:_||0,csvDatas:O||0}])}))},[a==null?void 0:a.id,a==null?void 0:a.updated_at,e]),m=v.useCallback(()=>{p()},[p]);return v.useEffect(()=>{p()},[p]),f.jsxs(Re,{className:"w-96",children:[f.jsxs(Ze,{children:[f.jsx(st,{children:e("session_info_node.title")}),f.jsx(zf,{children:o||a!=null&&a.updated_at?zF(o||(a==null?void 0:a.updated_at)).fromNow():""})]}),f.jsxs(Qe,{className:"grid gap-4",children:[f.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsx("p",{className:"text-sm font-medium leading-none",children:e("session_info_node.disk_size")}),f.jsx("p",{className:"text-sm text-muted-foreground",children:s})]})}),f.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsxs("div",{className:"text-sm font-medium leading-none",children:[e("session_info_node.cached_llms"),f.jsx(nn,{className:"ml-2",children:(t==null?void 0:t.length)||0})]}),t==null?void 0:t.map(y=>f.jsxs("div",{className:"text-sm text-muted-foreground gap-1",children:[y==null?void 0:y.model_id,f.jsx("div",{className:"max-w-full gap-1 flex flex-wrap mt-1",children:f.jsx(Es,{model:y==null?void 0:y.info,isFunctionCalling:(y==null?void 0:y.isFunctionCalling)||!1,isCached:!0})})]},y==null?void 0:y.model_id))]})}),f.jsx("div",{children:f.jsx(vx,{config:d,className:"min-h-28 w-full",children:f.jsxs(H5,{accessibilityLayer:!0,data:l,children:[f.jsx(W0,{vertical:!1}),f.jsx(fs,{dataKey:"name",tickLine:!1,tickMargin:10,axisLine:!1}),f.jsx(X5,{content:f.jsx(gx,{})}),Object.entries(d).map(([y,h])=>f.jsx(Kr,{dataKey:y,fill:h.color,radius:4},y))]})})})]}),f.jsx(cr,{children:f.jsxs(ze,{className:"w-full",onClick:m,children:[f.jsx(te,{size:24,name:"refresh-ccw"}),e("session_info_node.reload")]})})]})}),Y5=e=>{const t=(r,n=null)=>{let a=`{
`;return r.filter(o=>o.parent_id===n).forEach(o=>{if(o.type==="object"){const i=e.filter(c=>c.parent_id===o.id),s=t(i,o.id);a+=`  ${o.name}${o.required?"":"?"}: ${s}
`}else a+=`  // ${o.description||""}
  ${o.name}${o.required?"":"?"}: ${o.type};
`}),a+="}",a};return t(e)},J5=e=>{const t=(n,a=null)=>{let o="";return n.filter(i=>i.parent_id===a).forEach(i=>{if(i.type==="object"){const s=t(n,i.id);o+=`    ${i.name}: z.object({
${s}    })${i.required?"":".optional()"}.describe('${i.description||""}'),
`}else o+=`    ${i.name}: z.${i.type}()${i.required?"":".optional()"}.describe('${i.description||""}'),
`}),o};let r=`const schema = z.object({
`;return r+=t(e),r+="});",r};var ld="Tabs",[Z5,m$]=Zn(ld,[ra]),xx=ra(),[Q5,ud]=Z5(ld),wx=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:s,activationMode:c="automatic",...l}=e,u=mo(s),[d,p]=Dt({prop:n,onChange:a,defaultProp:o});return f.jsx(Q5,{scope:r,baseId:ot(),value:d,onValueChange:p,orientation:i,dir:u,activationMode:c,children:f.jsx(pe.div,{dir:u,"data-orientation":i,...l,ref:t})})});wx.displayName=ld;var jx="TabsList",_x=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=ud(jx,r),i=xx(r);return f.jsx(Cd,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:f.jsx(pe.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});_x.displayName=jx;var Ox="TabsTrigger",Sx=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,i=ud(Ox,r),s=xx(r),c=Nx(i.baseId,n),l=Cx(i.baseId,n),u=n===i.value;return f.jsx(kd,{asChild:!0,...s,focusable:!a,active:u,children:f.jsx(pe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:de(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:de(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:de(e.onFocus,()=>{const d=i.activationMode!=="manual";!u&&!a&&d&&i.onValueChange(n)})})})});Sx.displayName=Ox;var Ex="TabsContent",Px=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=e,s=ud(Ex,r),c=Nx(s.baseId,n),l=Cx(s.baseId,n),u=n===s.value,d=v.useRef(u);return v.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(js,{present:a||u,children:({present:p})=>f.jsx(pe.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:l,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:p&&o})})});Px.displayName=Ex;function Nx(e,t){return`${e}-trigger-${t}`}function Cx(e,t){return`${e}-content-${t}`}var eB=wx,kx=_x,Mx=Sx,Ax=Px;const Tx=eB,dd=v.forwardRef(({className:e,...t},r)=>f.jsx(kx,{ref:r,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));dd.displayName=kx.displayName;const Gn=v.forwardRef(({className:e,...t},r)=>f.jsx(Mx,{ref:r,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gn.displayName=Mx.displayName;const Yn=v.forwardRef(({className:e,...t},r)=>f.jsx(Ax,{ref:r,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yn.displayName=Ax.displayName;const tB=e=>{const t=v.useCallback(async({edgeId:r})=>{try{return{deleteEdgeId:r}}catch{return{deleteEdgeId:r}}},[]);it(e,t)},rB=v.memo(e=>{var c,l;const{t}=le("flows"),{id:r,data:n,isConnectable:a}=e,o=v.useRef(!1),i=Ye(r),s=re(u=>u.updateNodes);return tB(r),v.useEffect(()=>{var d;const u=n==null?void 0:n.entity;!u||!i||o.current||(d=u==null?void 0:u.schema_items)!=null&&d.length||n.loaded||(o.current=!0,ne("SchemaItem").find({where:{schema_id:u.id}}).then(p=>{s([{id:i.id,type:"replace",item:{...i,data:{...(i==null?void 0:i.data)||{},loaded:!0,entity:{...n.entity,schema_items:p}}}}])}).finally(()=>{o.current=!1}))},[n.entity,n.loaded,i,s]),f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsx(We,{id:r}),f.jsxs(Tx,{defaultValue:"account",className:"w-[400px]",children:[f.jsxs(dd,{className:"grid w-full grid-cols-2",children:[f.jsx(Gn,{value:"account",children:t("schema_node.typescript")}),f.jsx(Gn,{value:"password",children:t("schema_node.zod")})]}),f.jsx(Yn,{value:"account",children:f.jsx(Re,{className:"p-4",children:f.jsx("pre",{children:Y5(((c=n==null?void 0:n.entity)==null?void 0:c.schema_items)||[])})})}),f.jsx(Yn,{value:"password",children:f.jsx(Re,{className:"p-4",children:f.jsx("pre",{children:J5(((l=n==null?void 0:n.entity)==null?void 0:l.schema_items)||[])})})})]})]}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:a})]})}),Dx=({className:e,...t})=>f.jsx("nav",{role:"navigation","aria-label":"pagination",className:X("mx-auto flex w-full justify-center",e),...t});Dx.displayName="Pagination";const Ix=v.forwardRef(({className:e,...t},r)=>f.jsx("ul",{ref:r,className:X("flex flex-row items-center gap-1",e),...t}));Ix.displayName="PaginationContent";const Jn=v.forwardRef(({className:e,...t},r)=>f.jsx("li",{ref:r,className:X("",e),...t}));Jn.displayName="PaginationItem";const gs=({className:e,isActive:t,size:r="icon",...n})=>f.jsx("a",{"aria-current":t?"page":void 0,className:X(i$({variant:t?"outline":"ghost",size:r}),e),...n});gs.displayName="PaginationLink";const Rx=({className:e,...t})=>{const{t:r}=le("atoms");return f.jsxs(gs,{"aria-label":"Go to previous page",size:"default",className:X("gap-1 pl-2.5",e),...t,children:[f.jsx(te,{name:"chevron-left",className:"h-4 w-4"}),f.jsx("span",{children:r("pagination.previous")})]})};Rx.displayName="PaginationPrevious";const Lx=({className:e,...t})=>{const{t:r}=le("atoms");return f.jsxs(gs,{"aria-label":"Go to next page",size:"default",className:X("gap-1 pr-2.5",e),...t,children:[f.jsx("span",{children:r("pagination.next")}),f.jsx(te,{name:"chevron-right",className:"h-4 w-4"})]})};Lx.displayName="PaginationNext";const fd=({className:e,...t})=>{const{t:r}=le("atoms");return f.jsxs("span",{"aria-hidden":!0,className:X("flex h-9 w-9 items-center justify-center",e),...t,children:[f.jsx(te,{name:"ellipsis",className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:r("pagination.more_pages")})]})};fd.displayName="PaginationEllipsis";const Bx=v.memo(e=>{const{data:t,headers:r,limitLengthByColumns:n,showPerPage:a=7,paginationShowLimit:o=1,contentLengthLimit:i=64}=e,[s,c]=v.useState({page:1,maxPage:1}),l=tn(qh);v.useEffect(()=>{c(m=>({...m,maxPage:Math.ceil(t.length/a)}))},[t.length,a]);const u=v.useMemo(()=>t.slice((s.page-1)*a,s.page*a),[t,s.page,a]),d=v.useMemo(()=>{let m=!1,y=!1;return f.jsx(Dx,{className:"mt-4 mb-4 ml-4 mr-4 w-full",children:f.jsxs(Ix,{children:[s.page>1?f.jsx(Jn,{onClick:()=>c(h=>({...h,page:h.page-1})),children:f.jsx(Rx,{})}):null,Array.from({length:s.maxPage},(h,g)=>{const b=g+1,w=g===0||g===s.maxPage-1;return!w&&b>s.page+o&&y?null:!w&&b>s.page+o?(y=!0,f.jsx(Jn,{children:f.jsx(fd,{})},g)):!w&&b<s.page-o&&m?null:!w&&b<s.page-o?(m=!0,f.jsx(Jn,{children:f.jsx(fd,{})},g)):f.jsx(Jn,{onClick:()=>c(S=>({...S,page:b})),children:f.jsx(gs,{isActive:g+1===s.page,children:g+1})},g)}),s.page<s.maxPage?f.jsx(Jn,{onClick:()=>c(h=>({...h,page:h.page+1})),children:f.jsx(Lx,{})}):null]})})},[s.maxPage,s.page,o]),p=(m,y)=>{if(!m)return;const h=Array.isArray(m)?m:r.map(g=>m[g]);return f.jsxs(Dr,{children:[f.jsx(fn,{children:f.jsx("div",{className:"font-bold",children:y+1})}),h.map((g,b)=>{const w=typeof g=="string"?g:JSON.stringify(g),S=r[b],x=(n==null?void 0:n[S])||i,j=w.length>x;return f.jsx(fn,{className:"p-4",children:f.jsxs("div",{onClick:j?()=>l.show({title:S,content:w}):void 0,className:"flex gap-4",children:[j?`${w.substring(0,x)}...`:w,j?f.jsx(te,{className:"w-6 mt-[-2px]",name:"chevron-right"}):null]})},`${b}`)})]},`${y}`)};return f.jsxs(f.Fragment,{children:[f.jsxs(Eo,{className:"w-full",children:[f.jsx(Po,{children:f.jsxs(Dr,{children:[f.jsx(dn,{},"index"),r?r.map(m=>f.jsx(dn,{children:f.jsx("div",{className:"font-bold",children:m})},m)):void 0]})}),f.jsx(No,{children:u!=null&&u.length?u==null?void 0:u.map(p):void 0})]}),d]})}),nB=v.memo(e=>{var o,i;const{id:t,data:r,isConnectable:n}=e,a=v.useMemo(()=>{if(!(r!=null&&r.entity))return{headers:[],rows:[]};const s=gw(r.entity.csv);return{headers:_d(r.entity.headers),rows:s.map(c=>_d(c))}},[r==null?void 0:r.entity]);return f.jsxs("div",{children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(We,{id:t}),f.jsxs(Re,{className:"min-w-32 min-h-16 p-4",children:[f.jsx(Ze,{className:"!p-0",children:f.jsxs("div",{className:"pt-2 flex !flex-row",children:[f.jsx(te,{name:"file-spreadsheet",className:"mr-2"}),f.jsxs(we,{className:"!font-medium leading-none tracking-tight pr-8",children:[z.CSVData," ",(o=a==null?void 0:a.rows)!=null&&o.length?`(${((i=a==null?void 0:a.rows)==null?void 0:i.length)||0})`:""]})]})}),f.jsx(Qe,{className:"pb-0",children:f.jsx(Bx,{data:a.rows,headers:a.headers})})]})]}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:n})]})}),aB=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===z.Schema&&(o==null?void 0:o.type)===z.ToolDefinition){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);it(e,r)},oB=v.memo(({id:e,data:t,isConnectable:r})=>{var n,a;return aB(e),f.jsxs("div",{children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:r}),f.jsx("div",{children:f.jsxs(Er,{className:"flex justify-center",children:[f.jsx(te,{size:24,name:"wrench"}),f.jsxs("div",{className:"ml-2",children:[f.jsx(Pr,{children:`${((n=t.entity)==null?void 0:n.name)||""}`}),f.jsx(po,{children:`${((a=t.entity)==null?void 0:a.description)||""}`})]})]})}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:r})]})}),iB=e=>{const t=v.useCallback(async({edgeId:r})=>({deleteEdgeId:r}),[]);it(e,t)},sB=v.memo(e=>{const{id:t,data:r,isConnectable:n}=e;return iB(t),f.jsxs("div",{children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:n}),f.jsx("div",{children:f.jsxs(Er,{className:"flex justify-center max-w-80",variant:"default",children:[f.jsx(uo,{name:r.model||"brain",className:"w-7 h-7"}),f.jsx("div",{className:"ml-2 pr-4 flex items-center",children:f.jsx(Pr,{children:`${r.model||""}`})})]})}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:n})]})});class cB{async loadAndSplit(t){if(t===void 0)throw new Error("You must pass a text splitter to use this method.");const r=await this.load();return t.invoke(r)}}class lB extends cB{constructor(t,{splitPages:r=!0,pdfjs:n=uB,parsedItemSeparator:a=""}={}){super(),Object.defineProperty(this,"blob",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"splitPages",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"pdfjs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parsedItemSeparator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.blob=t,this.splitPages=r??this.splitPages,this.pdfjs=n,this.parsedItemSeparator=a}async load(){const{getDocument:t,version:r}=await this.pdfjs(),n=await t({data:new Uint8Array(await this.blob.arrayBuffer()),useWorkerFetch:!1,isEvalSupported:!1,useSystemFonts:!0}).promise,a=await n.getMetadata().catch(()=>null),o=[];for(let i=1;i<=n.numPages;i+=1){const s=await(await n.getPage(i)).getTextContent();if(s.items.length===0)continue;let c;const l=[];for(const d of s.items)"str"in d&&(c===d.transform[5]||!c?l.push(d.str):l.push(`
${d.str}`),c=d.transform[5]);const u=l.join(this.parsedItemSeparator);o.push(new Os({pageContent:u,metadata:{pdf:{version:r,info:a==null?void 0:a.info,metadata:a==null?void 0:a.metadata,totalPages:n.numPages},loc:{pageNumber:i}}}))}return this.splitPages?o:o.length===0?[]:[new Os({pageContent:o.map(i=>i.pageContent).join(`

`),metadata:{pdf:{version:r,info:a==null?void 0:a.info,metadata:a==null?void 0:a.metadata,totalPages:n.numPages}}})]}}async function uB(){try{const{default:e}=await at(async()=>{const{default:n}=await import("./pdf-i4NHOKU3.js").then(async a=>(await a.__tla,a)).then(a=>a.p);return{default:n}},__vite__mapDeps([10,2,3])),{getDocument:t,version:r}=e;return{getDocument:t,version:r}}catch(e){throw console.error(e),new Error("Failed to load pdf-parse. Please install it with eg. `npm install pdf-parse`.")}}const dB=`Use the following pieces of context to answer the question at the end.
If you don't know the answer, just say that you don't know, don't try to make up an answer.
Use three sentences maximum and keep the answer as concise as possible.

{context}
`,fB=jd(e=>{const{source:t,documents:r}=e,n=tn(),{toast:a}=yt(),{t:o}=le("dialogs"),{loading:i,createPrompt:s}=Zp(),c=async l=>{try{if(!l.content||!l.content.includes("{context}")){a({title:o("create_vector_database_prompt.errors.fill_context"),variant:"destructive"});return}const u=l.content.replace("{context}",r.map(d=>`<document>${d.pageContent}</document>`).join(`
`));return await s(t,{...l,content:u}),n.hide(),!0}catch{a({title:o("create_vector_database_prompt.errors.create_failed"),variant:"destructive"})}};return f.jsx(Ad,{open:n.visible,onOpenChange:n.hide,children:f.jsxs(Td,{className:"sm:max-w-[425px]",children:[f.jsx(Dd,{children:f.jsxs("div",{className:"flex",children:[f.jsx(te,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx(Id,{children:o("create_vector_database_prompt.title")})]})}),f.jsxs("div",{className:"flex gap-4 py-4 flex-col",children:[f.jsx(vc,{onSubmit:c,loading:i,hidePromptType:!0,defaultPromptRole:"system",defaultPromptContent:dB}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm items-center",children:[f.jsx(te,{name:"info",className:"mr-2",size:14}),o("create_vector_database_prompt.fill_content_note")]})]})]})})}),pB=()=>{const e=dt(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async({prompt:i,source:s,metadata:c})=>{var l,u,d,p;try{const m=(l=s==null?void 0:s.data)==null?void 0:l.entity;if(!m||!e)throw new Error("Source or Session not found");r(!0);const y=((u=s.position)==null?void 0:u.x)||0,h=(((d=s.position)==null?void 0:d.y)||0)+(((p=s.measured)==null?void 0:p.height)||0),g=await ne("Prompt").save({...i,status:(i==null?void 0:i.status)||Ht.Started,role:(i==null?void 0:i.role)||ft.System,type:(i==null?void 0:i.type)||It.Chat,content:(i==null?void 0:i.content)||"{context}",session_id:e});if(!g)throw new Error("Failed to save prompt");const b=await n({source_id:g.id,source_type:"Prompt",node_type:z.Prompt,x:y,y:h+20});if(!b)throw new Error("Failed to save prompt node");const w=await ne("FlowNodePlaceholder").save({placeholder:`Retriever for ${m.name}`,placeholder_type:Ns.VECTOR_DATABASE_RETREIVER,session_id:e,metadata:c});if(!w)throw new Error("Failed to save node placeholder");const S=await n({source_id:w.id,source_type:"FlowNodePlaceholder",node_type:z.PlaceHolder,x:y,y:h+40});if(!S)throw new Error("Failed to save node placeholder node");await a({source:b.id,target:S.id}),await a({source:s.id,target:S.id})}finally{r(!1)}},[e,n,a]);return{loading:t,createVectorDatabaseRetriever:o}},hB=`Use the following pieces of context to answer the question at the end.
If you don't know the answer, just say that you don't know, don't try to make up an answer.
----------------
{context}
`,mB=jd(e=>{const{source:t}=e,r=tn(),{toast:n}=yt(),{t:a}=le("dialogs"),[o,i]=v.useState(1),[s,c]=v.useState(void 0),{loading:l,createVectorDatabaseRetriever:u}=pB(),d=async y=>{try{const h=y.content;if(!h||!h.includes("{context}")){n({title:a("create_vector_database_retriever.errors.fill_context"),variant:"destructive"});return}return await u({source:t,prompt:{content:h},metadata:{k:o,minimalScore:s}}),r.hide(),!0}catch{n({title:a("create_vector_database_retriever.errors.create_failed"),variant:"destructive"})}},p=y=>{i(y.target.value?Number(y.target.value):void 0)},m=y=>{c(y.target.value?Number(y.target.value):void 0)};return f.jsx(Ad,{open:r.visible,onOpenChange:r.hide,children:f.jsxs(Td,{className:"sm:max-w-[425px]",children:[f.jsx(Dd,{children:f.jsxs("div",{className:"flex",children:[f.jsx(te,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx(Id,{children:a("create_vector_database_retriever.title")})]})}),f.jsxs("div",{className:"flex gap-4 py-4 flex-col",children:[f.jsx(vc,{onSubmit:d,loading:l,hidePromptType:!0,defaultPromptRole:"system",defaultPromptContent:hB}),f.jsxs(Re,{children:[f.jsx(Ze,{children:f.jsx(st,{children:a("create_vector_database_retriever.retriever_settings")})}),f.jsxs(Qe,{children:[f.jsx(we,{children:a("create_vector_database_retriever.retriever_k")}),f.jsx(Rt,{value:o||"",type:"number",onChange:p,placeholder:a("create_vector_database_retriever.retriever_k_placeholder")}),f.jsx(we,{children:a("create_vector_database_retriever.retriever_minimum_score")}),f.jsx(Rt,{value:s||"",type:"number",onChange:m,placeholder:a("create_vector_database_retriever.retriever_minimum_score_placeholder")})]})]}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm items-center",children:[f.jsx(te,{name:"info",className:"mr-2",size:14}),a("create_vector_database_retriever.fill_content_note")]})]})]})})}),yB=e=>{const t=re(a=>a.createOrUpdateFlowEdge),r=_s(a=>a.index),n=v.useCallback(async({edgeId:a,target:o,source:i})=>{var s,c;try{const l=(s=o==null?void 0:o.data)==null?void 0:s.entity;if((i==null?void 0:i.type)===z.CSVData&&(o==null?void 0:o.type)===z.VectorDatabase){const u=(c=i==null?void 0:i.data)==null?void 0:c.entity;if(!u||!l)return{deleteEdgeId:a};const{rows:d}=$F(u.headers,u.csv),p=d.map(m=>new Os({pageContent:`${m.text}`}));await r({databaseId:l.id,dataSourceId:u.id,dataSourceType:"CSVData"},p),await t({source:i.id,target:o.id});return}return{deleteEdgeId:a}}catch{return{deleteEdgeId:a}}},[t,r]);it(e,n)};var vB=Ls,gB=on,bB=m0,xB=Math.ceil,wB=Math.max;function jB(e,t,r){(r?gB(e,t,r):t===void 0)?t=1:t=wB(bB(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,o=0,i=Array(xB(n/t));a<n;)i[o++]=vB(e,a,a+=t);return i}var _B=jB;const OB=Pe(_B),SB=e=>{var m,y;const[t,r]=v.useState(!1),{t:n}=le("flows"),{toast:a}=yt(),o=Ye(e),{getNode:i,getHandleConnections:s}=sr(),c=re(h=>h.updateNodes),l=_s(h=>h.index),u=_s(h=>h.similaritySearchWithScore),d=v.useCallback(async(h,g)=>{var b,w,S;try{const x=(b=o==null?void 0:o.data)==null?void 0:b.entity;if(!x){a({variant:"destructive",title:n("vector_database_node.errors.vector_database_not_found")});return}const j=(S=(w=s({nodeId:e,type:"target"}).map(_=>i(_.source)).find(_=>(_==null?void 0:_.type)&&[z.JSONLData,z.CSVData].includes(_==null?void 0:_.type)))==null?void 0:w.data)==null?void 0:S.entity;if(!j&&x.storage==="DataNode"){a({variant:"destructive",title:n("vector_database_node.errors.data_node_not_found")});return}return r(!0),await u({databaseId:x.id,dataSourceId:j.id,dataSourceType:wd(j)},h,g==null?void 0:g.k)}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[(m=o==null?void 0:o.data)==null?void 0:m.entity,s,e,u,a,n,i]),p=v.useCallback(async(h,g)=>{var b,w,S;try{const x=h.content?[new Os({pageContent:h.content,id:h.id,metadata:{id:h.id}})]:h.documents;if(!(x!=null&&x.length)){a({variant:"destructive",title:n("vector_database_node.errors.content_not_found")});return}const j=(b=o==null?void 0:o.data)==null?void 0:b.entity;if(!j){a({variant:"destructive",title:n("vector_database_node.errors.vector_database_not_found")});return}const _=s({nodeId:e,type:"target"}).map(P=>i(P.source)).find(P=>(P==null?void 0:P.type)&&[z.JSONLData,z.CSVData].includes(P==null?void 0:P.type)),O=(w=_==null?void 0:_.data)==null?void 0:w.entity;if(!O&&j.storage==="DataNode"){a({variant:"destructive",title:n("vector_database_node.errors.data_node_not_found")});return}r(!0);const E=wd(O),C=OB(x,10);let A=0;for(const P of C){if((S=g==null?void 0:g.onProgressReport)==null||S.call(g,{handling:P.length,handled:A,total:x.length}),await l({databaseId:j.id,dataSourceId:O.id,dataSourceType:E},P),E&&_){const M=await ne(E).findOne({where:{id:O.id}});c([{type:"replace",id:_.id,item:{..._,data:{..._.data,entity:M}}}])}A+=P.length}}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[(y=o==null?void 0:o.data)==null?void 0:y.entity,s,e,l,a,n,i,c]);return{loading:t,indexData:p,similaritySearchWithScore:d}},EB=[1,2,3,4,5,6,7,8,9,10],PB=v.memo(e=>{const{t}=le("flows"),[r,n]=v.useState(""),[a,o]=v.useState([]),[i,s]=v.useState("1"),{loading:c,onSimilaritySearch:l,onCreatePrompt:u,onCreateRetriever:d}=e,p=async()=>{o(await l(r,+i)),n("")},m=async y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),p())};return f.jsxs("div",{className:"mt-4 max-w-full",children:[f.jsx("div",{className:"bg-black/5 dark:bg-white/5 rounded-xl relative",children:f.jsxs("div",{className:"relative px-2 py-1 pb-2",children:[f.jsxs(qt,{value:`${i}`,onValueChange:y=>s(y),children:[f.jsx(Lt,{className:"absolute left-0 !w-14 top-[2px] rounded-xl bg-transparent border-none focus:outline-none focus:ring-0 focus:border-opacity-0 focus:ring-transparent",children:f.jsx(Wt,{placeholder:t("vector_database_node.k_select_placeholder")})}),f.jsx(Bt,{children:EB.map(y=>f.jsx(lt,{value:`${y}`,children:y},`${y}`))})]}),f.jsx(rn,{value:r,disabled:c,placeholder:t("vector_database_node.similarity_search_placeholder"),className:X("w-full rounded-xl px-2 pl-11 border-none resize-none bg-transparent","min-h-8 max-h-8"),onKeyDown:m,onChange:y=>{n(y.target.value)}}),f.jsx("button",{type:"button",disabled:c,onClick:p,className:"absolute right-3 top-5 -translate-y-1/2 rounded-xl bg-black/5 dark:bg-white/5 p-1",children:f.jsx(te,{name:c?"loader-circle":"arrow-right",className:X("w-4 h-4 dark:text-white",r?"opacity-100":"opacity-30",c?"animate-spin":"")})})]})}),f.jsx(dh,{type:"single",collapsible:!0,children:a==null?void 0:a.map(([y,h],g)=>f.jsxs(_c,{value:`${g}`,children:[f.jsxs(Oc,{children:[`[${h.toFixed(2)}] ${y.pageContent}`.substring(0,32),"..."]}),f.jsx(Sc,{children:y.pageContent})]},`${g}`))}),f.jsxs("div",{className:"w-full mt-4 flex flex-col gap-1",children:[f.jsx(ze,{disabled:c,onClick:d,className:"w-full",children:t("vector_database_node.to_retriever")}),a!=null&&a.length&&u?f.jsx(ze,{disabled:c,onClick:()=>u(a),className:"w-full",children:t("vector_database_node.create_prompt")}):void 0]})]})}),NB=v.memo(({loading:e,onCreateData:t})=>{const{t:r}=le("flows"),[n,a]=v.useState(""),[o,i]=v.useState(""),s=async()=>{o&&(await t({id:n,content:o}),a(""),i(""))};return f.jsxs("div",{className:"min-w-80",children:[f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(we,{htmlFor:"name",children:r("vector_database_node.add_text.id")}),f.jsx(Rt,{value:n,disabled:e,onChange:c=>a(c.target.value||""),placeholder:r("vector_database_node.add_text.id_placeholder"),className:"mb-4"}),f.jsxs(we,{htmlFor:"name",children:[r("vector_database_node.add_text.content")," ",f.jsx("span",{className:"text-red-600",children:"*"})]}),f.jsx(rn,{value:o,disabled:e,onChange:c=>i(c.target.value||""),placeholder:r("vector_database_node.add_text.content_placeholder")})]}),f.jsx("div",{className:"flex justify-between mt-6",children:f.jsx(vt,{loading:e,disabled:!(o!=null&&o.length),onClick:s,className:"w-full",children:r("vector_database_node.add_text.add")})})]})});function CB({accept:e,maxSize:t}){const{t:r}=le("atoms"),[n,a]=v.useState(""),[o,i]=v.useState(""),s=v.useRef(null),[c,l]=v.useState(0),u=p=>{var y;const m=(y=p.target.files)==null?void 0:y[0];d(m)},d=p=>{if(i(""),p){if(t&&p.size>t*1024*1024){i(r("file_upload_input.errors.max_size",{maxSize:t,fileSize:(p.size/1024/1024).toFixed(2)}));return}const m=e==null?void 0:e.split(",").map(y=>y.replace(".","").trim());if(e&&!p.type.match(e.replace("/*",""))&&!(m!=null&&m.some(y=>p.type.includes(y)))){i(r("file_upload_input.errors.accept",{accept:e}));return}return l(p.size),a(p.name),p}};return{fileName:n,error:o,fileInputRef:s,handleFileSelect:u,validateAndSetFile:d,clearFile:()=>{a(""),i(""),l(0),s.current&&(s.current.value="")},fileSize:c}}function kB({file:e,setFile:t,loading:r,progress:n,fileOptions:a}){const{toast:o}=yt(),{t:i}=le("atoms"),[s,c]=v.useState(!1),{fileName:l,fileInputRef:u,clearFile:d,error:p,validateAndSetFile:m,fileSize:y}=CB({accept:(a==null?void 0:a.accept)||"image/*",maxSize:(a==null?void 0:a.maxSize)||3});v.useEffect(()=>{e||d()},[d,e]),v.useEffect(()=>{p&&o({title:p,variant:"destructive"})},[p,o]);function h(x){const j=m(x);j&&t(j)}function g(x){x.preventDefault(),c(!1);const j=x.dataTransfer.files[0];j&&h(j)}function b(x){var _;const j=(_=x.target.files)==null?void 0:_[0];j&&h(j)}function w(){d(),t(void 0)}const S=v.useMemo(()=>{if(!e)return f.jsx("div",{className:"w-16 h-16 rounded-lg bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center",children:f.jsx(te,{name:"file-text",className:"w-8 h-8 text-zinc-400"})});const x=e.type.startsWith("image/");return f.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden",children:x?f.jsx("img",{src:URL.createObjectURL(e),alt:"Preview",className:"w-full h-full object-cover"}):f.jsx(te,{className:"w-14 h-14",name:"file-text"})})},[e]);return f.jsx(f.Fragment,{children:f.jsxs("div",{className:X("relative group cursor-pointer","rounded-lg border-2 border-dashed","transition-colors duration-200",s?"border-indigo-500 bg-indigo-50/50 dark:bg-indigo-500/10":"border-zinc-200 dark:border-zinc-800"),onDragOver:x=>{x.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onDrop:g,onClick:()=>{var x;return(x=u.current)==null?void 0:x.click()},onKeyDown:x=>{var j;(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),(j=u.current)==null||j.click())},"aria-label":"Upload file",children:[f.jsx("input",{ref:u,type:"file",disabled:r||!!(n&&n<1),accept:(a==null?void 0:a.accept)||"image/*",onChange:b,className:"hidden"}),f.jsx("div",{className:"p-8 space-y-4",children:l?f.jsxs("div",{className:"flex items-center gap-4",children:[S,f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:"text-sm font-medium truncate",children:[l||"No file selected"," ",f.jsx("span",{className:"text-xs text-zinc-500 leading-5",children:y?`(${(y/1024/1024).toFixed(2)} MB)`:""})]}),n&&n<1?f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsxs("p",{children:[(n*100).toFixed(2)," %"]}),f.jsx("div",{className:"h-1 flex-1 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden items-center flex",children:f.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-200",style:{width:`${n*100}%`}})})]}):void 0]}),f.jsx("button",{type:"button",disabled:r||!!(n&&n<1),onClick:x=>{x.stopPropagation(),w()},className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded",children:f.jsx(te,{name:"x",className:"w-5 h-5 text-zinc-400"})}),n&&n<1?f.jsx(Co,{className:"rounded-lg"}):void 0]}):f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(te,{name:"upload",className:"w-8 h-8 text-zinc-400 dark:text-zinc-500"}),f.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:i("file_upload_input.drop_file")})]})})]})})}function MB({onFileSubmit:e,fileOptions:t,progress:r,loading:n}){const{t:a}=le("flows"),[o,i]=v.useState(),s=async()=>{o&&(await e(o),i(void 0))};return f.jsxs("div",{className:"w-full max-w-md space-y-2 mt-4",children:[f.jsx("div",{className:"mb-6",children:f.jsx(kB,{progress:r,loading:n,fileOptions:t,setFile:i,file:o})}),f.jsx(vt,{loading:n,disabled:!o,onClick:s,className:"w-full mt-4",children:a("vector_database_node.add_file.index")})]})}const AB=v.memo(e=>{var j;const{t}=le("flows"),[r,n]=v.useState(0),[a,o]=v.useState("search"),i=Ye(e.id),{id:s,data:c,isConnectable:l}=e,{loading:u,similaritySearchWithScore:d,indexData:p}=SB(s),m=tn(fB),y=tn(mB);yB(s);const h=v.useCallback(async(..._)=>{i&&await p(..._)},[p,i]),g=v.useCallback(async(_,O)=>{const E=_.trim(),C=await d(E,{k:O});if(C!=null&&C.length)return C},[d]),b=v.useCallback(_=>{m.show({source:i,documents:_.map(([O])=>O)})},[m,i]),w=v.useCallback(async()=>{y.show({source:i})},[y,i]),S=v.useCallback(async _=>{if(_.type.includes("text")||_.type.includes("txt")){const O=new FileReader;O.onload=async E=>{var A;const C=(A=E.target)==null?void 0:A.result;await h({content:C})},O.readAsText(_)}else if(_.type.endsWith("pdf")){const O=new Blob([_],{type:"application/pdf"}),E=await new lB(O,{pdfjs:async()=>{const C=await at(()=>import("./pdf.min-CmnrTo1c.js").then(async A=>(await A.__tla,A)),__vite__mapDeps([11,2,3,1,4]));return await at(()=>import("./pdf.worker.min-qB_pyut6.js").then(async A=>(await A.__tla,A)),__vite__mapDeps([12,1,2,3,4])),C.GlobalWorkerOptions.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString(),C},parsedItemSeparator:" "}).load();await h({documents:E},{onProgressReport:C=>{n((C.handled+C.handling)/C.total)}})}},[h]),x=v.useMemo(()=>{switch(a){case"search":return f.jsx(Yn,{value:"search",children:f.jsx(PB,{loading:u,onSimilaritySearch:g,onCreatePrompt:b,onCreateRetriever:w})});case"new":return f.jsx(Yn,{className:"min-w-80",value:"new",children:f.jsx(NB,{loading:u,onCreateData:h})});case"file":return f.jsx(Yn,{value:"file",children:f.jsx(MB,{loading:u,progress:r,onFileSubmit:S,fileOptions:{accept:".pdf,.txt,.text",maxSize:1}})})}},[h,b,w,S,g,u,a,r]);return f.jsxs("div",{className:"min-w-72 max-w-md",children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:l}),f.jsxs("div",{className:"max-w-full",children:[f.jsx(We,{id:s}),f.jsxs(Er,{className:"flex justify-center",variant:"default",children:[f.jsx(te,{size:24,name:"database-zap"}),f.jsxs("div",{className:"ml-2 max-w-full",children:[f.jsx(Pr,{children:`${((j=c.entity)==null?void 0:j.name)||""}`}),f.jsxs(Tx,{value:a,onValueChange:o,defaultValue:"search",className:"w-full mt-4",children:[f.jsxs(dd,{className:"grid w-full grid-cols-3",children:[f.jsx(Gn,{value:"search",children:t("vector_database_node.search")}),f.jsx(Gn,{value:"new",children:t("vector_database_node.text")}),f.jsx(Gn,{value:"file",children:t("vector_database_node.file")})]}),x]})]})]})]}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:l})]})}),TB={embedding:32},DB=v.memo(e=>{var o,i,s;const{id:t,data:r,isConnectable:n}=e,a=v.useMemo(()=>{var u;if(!((u=r==null?void 0:r.entity)!=null&&u.jsonl))return{headers:[],rows:[]};const c=_d(r.entity.headers||""),l=gw(r.entity.jsonl);return{headers:c,rows:l.map(d=>{try{return JSON.parse(d)}catch{return[]}})}},[(o=r==null?void 0:r.entity)==null?void 0:o.jsonl,r.entity.headers]);return f.jsxs("div",{className:"min-w-80",children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(We,{id:t}),f.jsxs(Re,{className:"min-w-32 min-h-16 p-4",children:[f.jsx(Ze,{className:"!p-0",children:f.jsxs("div",{className:"pt-2 flex !flex-row",children:[f.jsx(te,{name:"file-json",className:"mr-2"}),f.jsxs(we,{className:"!font-medium leading-none tracking-tight pr-8",children:[z.JSONLData," ",(i=a==null?void 0:a.rows)!=null&&i.length?`(${((s=a==null?void 0:a.rows)==null?void 0:s.length)||0})`:""]})]})}),f.jsx(Qe,{className:"pb-0",children:f.jsx(Bx,{data:a.rows,headers:a.headers,limitLengthByColumns:TB})})]})]}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:n})]})}),Fx=60,zx=140,IB=xw("supports-backdrop-blur:bg-white/10 supports-backdrop-blur:dark:bg-black/10 mx-auto flex h-[58px] w-max gap-2 rounded-lg border p-2 backdrop-blur-md"),$x=N.forwardRef(({className:e,children:t,magnification:r=Fx,distance:n=zx,direction:a="bottom",...o},i)=>{const s=qs(1/0),c=()=>N.Children.map(t,l=>N.isValidElement(l)&&l.type===so?N.cloneElement(l,{...l.props,mouseX:s,magnification:r,distance:n}):l);return f.jsx(bw.div,{ref:i,onMouseMove:l=>s.set(l.pageX),onMouseLeave:()=>s.set(1/0),...o,className:X(IB({className:e}),{"items-start":a==="top","items-center":a==="middle","items-end":a==="bottom"}),children:c()})});$x.displayName="Dock";const so=({magnification:e=Fx,distance:t=zx,mouseX:r,className:n,children:a,...o})=>{const i=v.useRef(null),s=sf(r||new VF,u=>{var p;const d=((p=i.current)==null?void 0:p.getBoundingClientRect())??{x:0,width:0};return u-d.x-d.width/2}),c=sf(s,[-t,0,t],[40,e,40]),l=Kw(c,{mass:.1,stiffness:150,damping:12});return f.jsx(bw.div,{ref:i,style:{width:l},className:X("flex aspect-square cursor-pointer items-center justify-center rounded-full",n),...o,children:a})};so.displayName="DockIcon";const RB={[z.Shape]:{width:100,height:100},[z.CircleShape]:{width:100,height:100},[z.TriangleShape]:{width:100,height:100},[z.EditorApp]:{width:1240,height:400}},LB=e=>{const t=Ye(e),r=dt(s=>s.currentSession),[n,a]=v.useState(!1),o=re(s=>s.createOrUpdateFlowNode),i=v.useCallback(async s=>{var c,l,u;try{if(a(!0),t&&(r==null?void 0:r.id)){const d=((c=t.position)==null?void 0:c.x)||0,p=(((l=t.position)==null?void 0:l.y)||0)+(((u=t.measured)==null?void 0:u.height)||0),m=await ne("FlowNodeData").save({data:{},session_id:r.id});if(!m)throw new Error("Failed to save node data");if(!await o({node_type:s,data:{},source_id:m.id,source_type:"FlowNodeData",x:d,y:p+20,...RB[s]||{}}))throw new Error("Failed to save node")}}finally{a(!1)}},[o,r==null?void 0:r.id,t]);return{loading:n,createNode:i}},pd={applications:[{key:z.EditorApp,icon:"notebook-text",label:"application_bar.note"},{key:z.VSLiteApp,icon:"square-terminal",label:"application_bar.vslite"}],shapes:[{key:z.Shape,icon:"square",label:"application_bar.square"},{key:z.CircleShape,icon:"circle",label:"application_bar.circle"},{key:z.TriangleShape,icon:"triangle",label:"application_bar.triangle"}],old:[{key:z.CodeContainerApp,icon:"file-code-2",label:"application_bar.code_editor"}]},BB=v.memo(e=>{const{t}=le("flows"),{toast:r}=yt(),{loading:n,createNode:a}=LB(e.id),o=async i=>{try{if(n)return;await a(i)}catch{r({description:t("application_bar.errors.add_node_failed"),variant:"destructive"})}};return f.jsx(s$,{children:f.jsxs($x,{direction:"middle",children:[pd.applications.map(i=>f.jsx(so,{children:f.jsxs(Rd,{children:[f.jsx(Ld,{children:f.jsx(te,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(Bd,{children:f.jsx("p",{children:t(i.label)})})]})},i.label)),f.jsx(Lw,{orientation:"vertical",className:"h-full"}),pd.shapes.map(i=>f.jsx(so,{children:f.jsxs(Rd,{children:[f.jsx(Ld,{children:f.jsx(te,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(Bd,{children:f.jsx("p",{children:t(i.label)})})]})},i.label)),f.jsx(Lw,{orientation:"vertical",className:"h-full"}),pd.old.map(i=>f.jsx(so,{children:f.jsxs(Rd,{children:[f.jsx(Ld,{children:f.jsx(te,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(Bd,{children:f.jsx("p",{children:t(i.label)})})]})},i.label))]})})}),bs=v.memo(e=>{const{lineClassName:t,handleClassName:r,...n}=e;return f.jsx(xz,{lineClassName:X("!border-1.5",t),handleClassName:X("!w-2 !h-2 !border-2 !rounded-full",r),...n})}),FB=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([z.CircleShape,z.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===z.Shape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);it(e,r)},zB=v.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return FB(t),f.jsxs(f.Fragment,{children:[f.jsx(bs,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(he,{type:"target",position:me.Top,isConnectable:n}),f.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border border",children:f.jsx(We,{id:t})}),f.jsx(he,{type:"source",position:me.Bottom,isConnectable:n})]})}),$B=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([z.Shape,z.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===z.CircleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);it(e,r)},VB=v.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return $B(t),f.jsxs(f.Fragment,{children:[f.jsx(bs,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(he,{type:"target",position:me.Top,isConnectable:n}),f.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border rounded-full border",children:f.jsx(We,{id:t})}),f.jsx(he,{type:"source",position:me.Bottom,isConnectable:n})]})}),UB=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([z.CircleShape,z.Shape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===z.TriangleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);it(e,r)},HB=v.memo(e=>{const{id:t,selected:r,width:n,height:a,isConnectable:o}=e;return UB(t),f.jsxs(f.Fragment,{children:[f.jsx(bs,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(he,{type:"target",position:me.Top,isConnectable:o}),f.jsx("div",{className:"w-0 h-0 border-l-transparent border-r-transparent border-b-border",style:{borderLeftWidth:(n||0)/2,borderRightWidth:(n||0)/2,borderBottomWidth:a||0}}),f.jsx(We,{id:t,className:"absolute top-0 right-0"}),f.jsx(he,{type:"source",position:me.Bottom,isConnectable:o})]})}),qB=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===z.LLM&&(o==null?void 0:o.type)===z.EditorApp){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);it(e,r)},WB=e=>{const t=Ye(e),{t:r}=le("flows"),n=v.useRef(null),{toast:a}=yt(),{getNode:o,getHandleConnections:i}=sr(),s=Sr(l=>l.stream),c=v.useCallback(async l=>{t&&(clearTimeout(n.current),n.current=setTimeout(async()=>{await ne("FlowNode").update(t.id,{data:l})},150))},[t]);return{createMessage:v.useCallback(async(l,u)=>{if(t){const d=i({nodeId:e,type:"target"}).find(m=>{var y;return((y=o(m.source))==null?void 0:y.type)===z.LLM}),p=d?o(d==null?void 0:d.source):void 0;if(p){if(p.data.status!==Et.Loaded)return a({variant:"destructive",description:r("editor_node.errors.llm_not_loaded_yet")})}else return a({variant:"destructive",description:r("editor_node.errors.llm_not_found")});try{const m=s(l);if(!m)throw new Error("Stream is not supported");const y=[];for await(const h of m)h&&Array.isArray(h)&&(y.push(...h.map(g=>g.content)),h!=null&&h.length&&(u==null||u(h.map(g=>g.content).join(""))));return y.join("")}catch(m){if(m instanceof Error&&m.message.includes("LLM_NOT_LOADED_YET"))return a({title:r("editor_node.errors.llm_not_loaded_yet")});a({variant:"destructive",title:r("editor_node.errors.stream_message_failed")})}}},[t,i,e,o,a,r,s]),updateEditorContent:c}},XB=v.lazy(()=>at(()=>import("./PlateEditor-vaCXP46w.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([13,2,3,1,4,8,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105]))),KB=v.memo(e=>{var c;const{id:t,data:r,selected:n,isConnectable:a}=e;qB(t);const{createMessage:o,updateEditorContent:i}=WB(t),s=v.useCallback(l=>{i(l)},[i]);return f.jsxs("div",{className:"w-full min-w-[1240px] h-full",children:[f.jsx(bs,{isVisible:!!n,minWidth:1240,minHeight:400}),f.jsx(he,{type:"target",position:me.Top,isConnectable:a}),f.jsxs("div",{className:"min-w-10 min-h-10 w-full h-full rounded-lg border bg-background",children:[f.jsx(We,{className:"!z-[100]",id:t}),f.jsx(v.Suspense,{fallback:f.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:f.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx("div",{className:"h-full w-ful rounded-lg","data-registry":"plate",children:f.jsx(XB,{defaultValue:(c=r==null?void 0:r.flowNode)==null?void 0:c.data,onValueChange:s,copilotStream:o})})})]}),f.jsx(he,{type:"source",position:me.Bottom,isConnectable:a})]})}),GB=e=>{const t=v.useCallback(async({edgeId:r})=>{try{return{deleteEdgeId:r}}catch{return{deleteEdgeId:r}}},[]);it(e,t)},YB=v.memo(e=>{var i,s;const{id:t,data:r,isConnectable:n}=e,{t:a}=le("flows");GB(t);let o="";switch((i=r.entity)==null?void 0:i.placeholder_type){case"VECTOR_DATABASE_RETREIVER":o=a("placeholder_node.vector_database_retriever");break}return f.jsxs("div",{children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:n}),f.jsxs(Er,{className:"flex justify-center max-w-80",variant:"default",children:[f.jsx(We,{id:t}),f.jsx(te,{name:"land-plot",className:"w-7 h-7"}),f.jsxs("div",{className:"ml-2 pr-4",children:[f.jsx(Pr,{children:`${((s=r.entity)==null?void 0:s.placeholder)||""}`}),f.jsx(po,{children:o?f.jsx(nn,{children:o}):void 0})]})]}),f.jsx(he,{type:"source",position:me.Bottom,id:"a",isConnectable:n})]})}),JB=v.lazy(()=>at(()=>import("./CodeContainerApp-CgrUHC6y.js").then(async e=>(await e.__tla,e)).then(e=>e.C),__vite__mapDeps([106,2,3,1,4,104,107,7,108,15,109,110]))),ZB=v.memo(e=>{const{id:t,isConnectable:r}=e;return f.jsxs("div",{className:"w-[1380px] h-[600px]",children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:r}),f.jsxs("div",{className:"w-full h-full rounded-lg border bg-card overflow-hidden",children:[f.jsx(We,{id:t}),f.jsx(v.Suspense,{fallback:f.jsx("div",{className:"h-full w-full flex justify-center items-center",children:f.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx(JB,{...e})})]}),f.jsx(he,{type:"source",position:me.Bottom,isConnectable:r})]})});Fd=function(e,t=""){const r=[];for(const[n,a]of Object.entries(e)){const o=UF(),i=[t,n].filter(Boolean).join("/"),s="file"in a&&"contents"in a.file?a.file:void 0,c={id:o,isSelectable:!0,content:typeof(s==null?void 0:s.contents)=="string"?s.contents:void 0,file:i,name:n,children:[]};"directory"in a&&(c.children=Fd(a.directory,i)),r.push(c)}return r},zd=function(e){const t=e.trim().split(`
`),r={};return t.forEach(n=>{const{file:a,content:o}=JSON.parse(n),i=a.split("/");let s=r;for(let c=0;c<i.length;c++){const l=i[c];c===i.length-1?s[l]={file:{contents:o}}:(s[l]||(s[l]={directory:{}}),s=s[l].directory)}}),r},rf=function(e){const t=[];function r(n,a=[]){for(const[o,i]of Object.entries(n))if("file"in i){const s=[...a,o].join("/");if("contents"in i.file){const c=i.file.contents;t.push(JSON.stringify({file:s,content:c}))}}else"directory"in i&&r(i.directory,[...a,o])}return r(e),t.join(`
`)},$d=function(e,t,r){const n=t.replace(/^\.\//,"").split("/");let a=e;for(let o=0;o<n.length;o++){const i=n[o];if(o===n.length-1)i in a&&"file"in a[i]?a[i].file.contents=r:lo(`Path "${t}" is not a file.`);else if(i in a&&"directory"in a[i])a=a[i].directory;else return lo(`Path "${t}" does not exist.`),e}return e};let Vx,Ux,Hx,qx,Wx,Xx;Vx=["vite-vue","shadcn-react-vite"],Ux=async e=>{switch(e){case"vite-vue":return at(()=>import("./vite-vue-QLmMXcee.js"),[]).then(t=>t.VITE_VUE_BASE);case"shadcn-react-vite":return at(()=>import("./shadcn-react-vite-eg07VqhU.js"),[]).then(t=>t.SHADCN_REACT_VITE_BASE);default:throw new Error(`Unknown source base: ${e}`)}},Vd=v.memo(({className:e,onUpdateSourceBase:t})=>{const{t:r}=le("components"),[n,a]=v.useState();return f.jsxs(Re,{className:X("mw-full",e),children:[f.jsx(Ze,{className:"p-4",children:f.jsx(st,{children:r("add_source_base.title")})}),f.jsx(Qe,{className:"p-4",children:f.jsxs("div",{className:"flex items-center justify-center w-full h-full flex-col",children:[f.jsxs(qt,{onValueChange:o=>a(o),children:[f.jsx(Lt,{className:"w-full mb-4",children:f.jsx(Wt,{placeholder:r("add_source_base.source_base_select_placeholder")})}),f.jsx(Bt,{children:Vx.map(o=>f.jsx(lt,{value:`${o}`,children:r(`add_source_base.sourcebases.${o.toLowerCase()}`)},`${o}`))})]}),f.jsx(ze,{className:"w-full",onClick:async()=>n&&t(await Ux(n)),children:r("add_source_base.update_source")})]})})]})}),Hx=e=>(Ye(e),{updateCodeContainerData:v.useCallback(async(t,r)=>{await ne("FlowNode").update(t,{raw:rf(r)})},[])}),qx=v.lazy(()=>at(()=>import("./index-hynPtjPr.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([111,2,3,104,4,107,1,112]))),Wx=v.memo(e=>{var l,u,d;const{id:t,isConnectable:r,data:n}=e,[a,o]=v.useState((l=n==null?void 0:n.flowNode)!=null&&l.raw?zd(n.flowNode.raw):void 0),{updateCodeContainerData:i}=Hx(t),s=v.useCallback(async p=>{var m,y;(m=n==null?void 0:n.flowNode)!=null&&m.id&&(await i((y=n==null?void 0:n.flowNode)==null?void 0:y.id,p),o(p))},[(u=n==null?void 0:n.flowNode)==null?void 0:u.id,i]),c=v.useCallback(async(p,m)=>{o(y=>{var g;if(!y)return y;const h=$d(y,p,m);return i((g=n==null?void 0:n.flowNode)==null?void 0:g.id,h),h})},[(d=n==null?void 0:n.flowNode)==null?void 0:d.id,i]);return a?f.jsxs("div",{className:"w-[1380px] h-[600px]",children:[f.jsx(he,{type:"target",position:me.Top,isConnectable:r}),f.jsxs("div",{className:"w-full h-full rounded-lg border bg-card overflow-hidden",children:[f.jsx(We,{id:t,className:"z-50"}),f.jsx(v.Suspense,{fallback:f.jsx("div",{className:"h-full w-full flex justify-center items-center",children:f.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx(qx,{fileSystemTree:a,onUpdateFileContent:c})})]}),f.jsx(he,{type:"source",position:me.Bottom,isConnectable:r})]}):f.jsx("div",{className:"h-full flex justify-center items-center",children:f.jsx(Vd,{className:"w-64",onUpdateSourceBase:s})})}),Xx={[z.LLM]:Ch,[z.Toolbox]:_h,[z.Thread]:O_,[z.Message]:$_,[z.Prompt]:U_,[z.SessionInfo]:G5,[z.Schema]:rB,[z.CSVData]:nB,[z.ToolDefinition]:oB,[z.DefaultEmbeddingModel]:sB,[z.VectorDatabase]:AB,[z.JSONLData]:DB,[z.ApplicationBar]:BB,[z.Shape]:zB,[z.CircleShape]:VB,[z.TriangleShape]:HB,[z.EditorApp]:KB,[z.PlaceHolder]:YB,[z.CodeContainerApp]:ZB,[z.VSLiteApp]:Wx};function QB(e,t=[]){let r=[];function n(o,i){const s=v.createContext(i),c=r.length;r=[...r,i];function l(d){const{scope:p,children:m,...y}=d,h=(p==null?void 0:p[e][c])||s,g=v.useMemo(()=>y,Object.values(y));return f.jsx(h.Provider,{value:g,children:m})}function u(d,p){const m=(p==null?void 0:p[e][c])||s,y=v.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,u]}const a=()=>{const o=r.map(i=>v.createContext(i));return function(i){const s=(i==null?void 0:i[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...i,[e]:s}}),[i,s])}};return a.scopeName=e,[n,eF(a,...t)]}function eF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const o=n.reduce((i,{useScope:s,scopeName:c})=>{const l=s(a)[`__scope${c}`];return{...i,...l}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var tF="Toggle",hd=v.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:a,...o}=e,[i=!1,s]=Dt({prop:r,onChange:a,defaultProp:n});return f.jsx(pe.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:de(e.onClick,()=>{e.disabled||s(!i)})})});hd.displayName=tF;let md,Jr,yd,vd,xs;md=hd,Jr="ToggleGroup",[yd,Vw]=QB(Jr,[ra]),vd=ra(),xs=N.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return f.jsx(rF,{...a,ref:t})}if(r==="multiple"){const a=n;return f.jsx(nF,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Jr}\``)}),xs.displayName=Jr;var[Kx,Gx]=yd(Jr),rF=N.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i,s]=Dt({prop:r,defaultProp:n,onChange:a});return f.jsx(Kx,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:s,onItemDeactivate:N.useCallback(()=>s(""),[s]),children:f.jsx(Yx,{...o,ref:t})})}),nF=N.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i=[],s]=Dt({prop:r,defaultProp:n,onChange:a}),c=N.useCallback(u=>s((d=[])=>[...d,u]),[s]),l=N.useCallback(u=>s((d=[])=>d.filter(p=>p!==u)),[s]);return f.jsx(Kx,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:l,children:f.jsx(Yx,{...o,ref:t})})});xs.displayName=Jr;var[aF,oF]=yd(Jr),Yx=N.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:o,dir:i,loop:s=!0,...c}=e,l=vd(r),u=mo(i),d={role:"group",dir:u,...c};return f.jsx(aF,{scope:r,rovingFocus:a,disabled:n,children:a?f.jsx(Cd,{asChild:!0,...l,orientation:o,dir:u,loop:s,children:f.jsx(pe.div,{...d,ref:t})}):f.jsx(pe.div,{...d,ref:t})})}),ws="ToggleGroupItem",Jx=N.forwardRef((e,t)=>{const r=Gx(ws,e.__scopeToggleGroup),n=oF(ws,e.__scopeToggleGroup),a=vd(e.__scopeToggleGroup),o=r.value.includes(e.value),i=n.disabled||e.disabled,s={...e,pressed:o,disabled:i},c=N.useRef(null);return n.rovingFocus?f.jsx(kd,{asChild:!0,...a,focusable:!i,active:o,ref:c,children:f.jsx(gd,{...s,ref:t})}):f.jsx(gd,{...s,ref:t})});Jx.displayName=ws;let gd;gd=N.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,o=Gx(ws,r),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=o.type==="single"?i:void 0;return f.jsx(hd,{...s,...a,ref:t,onPressedChange:c=>{c?o.onItemActivate(n):o.onItemDeactivate(n)}})}),Rs=xs,Is=Jx;const Zx=xw("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),iF=v.forwardRef(({className:e,variant:t,size:r,...n},a)=>f.jsx(md,{ref:a,className:X(Zx({variant:t,size:r,className:e})),...n}));iF.displayName=md.displayName;const Qx=v.createContext({size:"default",variant:"default"}),ew=v.forwardRef(({className:e,variant:t,size:r,children:n,...a},o)=>f.jsx(Rs,{ref:o,className:X("flex items-center justify-center gap-1",e),...a,children:f.jsx(Qx.Provider,{value:{variant:t,size:r},children:n})}));ew.displayName=Rs.displayName;const tw=v.forwardRef(({className:e,children:t,variant:r,size:n,...a},o)=>{const i=v.useContext(Qx);return f.jsx(Is,{ref:o,className:X(Zx({variant:i.variant||r,size:i.size||n}),e),...a,children:t})});tw.displayName=Is.displayName;function sF(){const e=wz(t=>`x: ${t.transform[0].toFixed(2)}, y: ${t.transform[1].toFixed(2)}, zoom: ${t.transform[2].toFixed(2)}`);return f.jsx("div",{children:e})}function cF({change:e}){var n,a,o,i;const t="id"in e?e.id:"-",{type:r}=e;return f.jsxs("div",{className:"mb-3",children:[f.jsxs("div",{children:["node id: ",t]}),f.jsxs("div",{children:[r==="add"?JSON.stringify(e.item,null,2):null,r==="dimensions"?`dimensions: ${(n=e.dimensions)==null?void 0:n.width} \xD7 ${(a=e.dimensions)==null?void 0:a.height}`:null,r==="position"?`position: ${(o=e.position)==null?void 0:o.x.toFixed(1)}, ${(i=e.position)==null?void 0:i.y.toFixed(1)}`:null,r==="remove"?"remove":null,r==="select"?e.selected?"select":"unselect":null]})]})}function lF({limit:e=20}){const[t,r]=v.useState([]),n=jz(),a=v.useCallback(i=>{r(s=>[...i,...s].slice(0,e))},[e]);v.useEffect(()=>(n.setState({onNodesChange:a}),()=>n.setState({onNodesChange:void 0})),[a,n]);const o=()=>f.jsx("div",{children:"No Changes Triggered"});return f.jsx(f.Fragment,{children:t.length===0?f.jsx(o,{}):t.map((i,s)=>f.jsx(cF,{change:i},s))})}function uF(){const{getInternalNode:e}=sr(),t=_z();return f.jsx(Oz,{children:f.jsx("div",{className:"text-secondary-foreground",children:t.map(r=>{var o,i;const n=e(r.id);if(!n)return null;const a=n==null?void 0:n.internals.positionAbsolute;return f.jsx(dF,{id:r.id,selected:!!r.selected,type:r.type||"default",position:r.position,absPosition:a,width:((o=r.measured)==null?void 0:o.width)??0,height:((i=r.measured)==null?void 0:i.height)??0,data:r.data},r.id)})})})}function dF({id:e,type:t,selected:r,position:n,absPosition:a,width:o,height:i,data:s}){if(!o||!i)return null;const c=`translate(${a.x}px, ${a.y+i}px)`,l=`${n.x.toFixed(1)}, ${n.y.toFixed(1)}`,u=`${o} \xD7 ${i}`,d=r?"Selected":"Not Selected";return f.jsxs("div",{style:{position:"absolute",transform:c,width:o*2},className:"text-xs",children:[f.jsxs("div",{children:["id: ",e]}),f.jsxs("div",{children:["type: ",t]}),f.jsxs("div",{children:["selected: ",d]}),f.jsxs("div",{children:["position: ",l]}),f.jsxs("div",{children:["dimensions: ",u]}),f.jsxs("div",{children:["data: ",JSON.stringify(s,null,2)]})]})}function fF({tools:e}){return f.jsx(Nd,{position:"top-left",className:"bg-card p-1 border rounded shadow-sm",children:f.jsx(ew,{type:"multiple",children:e.map(({active:t,setActive:r,label:n,value:a})=>f.jsx(tw,{value:a,onClick:()=>r(o=>!o),"aria-pressed":t,className:"bg-card text-card-foreground transition-colors duration-300 hover:bg-secondary hover:text-secondary-foreground",children:n},a))})})}function rw(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[a,o]=v.useState(!1),i=[{active:e,setActive:t,label:"Node Inspector",value:"node-inspector"},{active:r,setActive:n,label:"Change Logger",value:"change-logger"},{active:a,setActive:o,label:"Viewport Logger",value:"viewport-logger"}];return f.jsxs(f.Fragment,{children:[f.jsx(fF,{tools:i}),r&&f.jsx(Nd,{className:"text-xs p-5 bg-white rounded shadow-md overflow-y-auto max-h-[50%] mt-20",position:"bottom-right",children:f.jsx(lF,{})}),e&&f.jsx(uF,{}),a&&f.jsx(Nd,{position:"bottom-left",className:"text-secondary-foreground",children:f.jsx(sF,{})})]})}rw.displayName="DevTools";const pF=()=>{const e=re(E=>E.flowEdges),t=dt(E=>E.currentSession),r=re(E=>E.setNodes),n=re(E=>E.updateNodes),a=re(E=>E.updateEdges),o=re(E=>E.addConnectionToEdges),i=re(E=>E.reset),s=re(E=>E.findFlowEdges),c=re(E=>E.deleteFlowNode),l=re(E=>E.deleteFlowEdge),u=re(E=>E.updateFlowNode),d=re(E=>E.getNodes),p=re(E=>E.findFlowNodesWithSource),m=v.useRef(e),y=v.useRef(),[h,g]=v.useState({loading:!1});m.current=e;const b=v.useCallback(async(E,C)=>{try{y.current=E,i(),await(C==null?void 0:C())}catch{y.current=void 0}},[i]),w=v.useCallback(async E=>{try{if(!(t!=null&&t.id))return;g(P=>({...P,loading:!0}));const C=await p({...E,where:{...E.where,session_id:t.id}}),A=await s({where:[{source:fo(C.map(P=>P.id))},{target:fo(C.map(P=>P.id))}]});return{flowNodes:C,flowEdges:A}}finally{g(C=>({...C,loading:!1}))}},[p,s,t==null?void 0:t.id]),S=v.useCallback(async E=>{var C,A;for(const P of E)if("id"in P&&Object.values(Sz).includes(P.id)&&P.type!=="remove")n([P]);else if(P.type==="position"&&P.position&&!isNaN(P.position.x)&&!isNaN(P.position.y))n([P]),await u({id:P.id,x:P.position.x,y:P.position.y},{silent:!0});else if(P.type==="remove"){const M=(C=d([P.id]))==null?void 0:C[0];if(!(M!=null&&M.type)||Ez.includes(M.type))return;await c({id:P.id})}else if(P.type==="dimensions"&&P.dimensions&&!isNaN(P.dimensions.width)&&!isNaN(P.dimensions.height)){const M=(A=d([P.id]))==null?void 0:A[0];if(!(M!=null&&M.width)&&!(M!=null&&M.height))return;n([P]),await u({id:P.id,width:P.dimensions.width,height:P.dimensions.height},{silent:!0})}else P.type==="select"&&n([P])},[n,u,d,c]),x=v.useCallback(E=>{Promise.all(E.map(async C=>{if(C.type==="remove")return l({id:C.id})})),a(E)},[l,a]),j=v.useCallback(E=>{o(E)},[o]),_=v.useCallback(()=>{var E;(E=m.current)==null||E.length},[]),O=v.useCallback(E=>{r(C=>{var R,D;let A;if(typeof E=="function"?A=E(C):A=E,!A)return C;const P=C==null?void 0:C.find(k=>k.id===A.id),M={id:A.id,item:P?Pz(P,A):{...A,position:{x:((R=A.position)==null?void 0:R.x)||0,y:((D=A.position)==null?void 0:D.y)||0}},type:P?"replace":"add"};return Nz([M],C)})},[r]);return{syncEdges:_,initialFlow:b,loadingState:h,prepareFlowInfo:w,updateNodeChanges:S,updateEdgeChanges:x,updateOrCreateNode:O,currentSessionIdRef:y,updateEdgeConnection:j}},hF=e=>{const t=dt(u=>{var d;return(d=u.currentSession)==null?void 0:d.id}),{loadingState:r,prepareFlowInfo:n,syncEdges:a,initialFlow:o,currentSessionIdRef:i}=e,s=re(u=>u.ready),c=re(u=>u.removeSyncNodeQueue),l=re(u=>u.removeSyncEdgeQueue);v.useLayoutEffect(()=>{},[t]),v.useEffect(()=>{r.loading||!s||!t||i.current===t||o(t,async()=>{await n({where:{session_id:t}})})},[o,n,r.loading,i,s,t]),v.useEffect(()=>{const u=re.subscribe(p=>p.syncNodeQueue,async(p,m)=>{var g;const y=m.map(b=>b.timestamp),h=p.filter(b=>!y.includes(b.timestamp));if(h.length){c(h.map(b=>b.timestamp));for(const b of h){const w=await n(b.query);switch(b.syncType){case"Thread":{const S=(g=w==null?void 0:w.flowNodes)==null?void 0:g.map(x=>{if(x.source_id&&x.source_type==="Thread")return x.source_id}).filter(Boolean);if(S!=null&&S.length){const x=await ne("Message").find({where:{thread_id:fo(S)}});await n({where:{source_type:"Message",source_id:fo(x.map(j=>j.id))}})}}break}}}}),d=re.subscribe(p=>p.syncEdgeQueue,async(p,m)=>{const y=m.map(g=>g.timestamp),h=p.filter(g=>!y.includes(g.timestamp));h.length&&(l(h.map(g=>g.timestamp)),a())});return()=>{u(),d()}},[n,l,c,a])},mF=()=>{const[e,t]=v.useState(!0),r=pF(),n=Sr(u=>u.selectedModel),a=v.useRef(n),o=Sr(u=>u.setInitProgressCallback),{updateOrCreateNode:i,updateNodeChanges:s,updateEdgeChanges:c,updateEdgeConnection:l}=r;return hF(r),a.current=n,v.useEffect(()=>{const u=o==null?void 0:o(d=>{if(!a.current)return;const p=`${a.current}`;i(m=>{const y=m==null?void 0:m.find(h=>{var g;return(g=h.data)!=null&&g.entity&&typeof h.data.entity=="object"&&"name"in h.data.entity?h.data.entity.name===p:!1});if(y)return y.data.label=d.text,y.data.status=Et.Loading,d.progress===100&&(y.data.label="",y.data.status=Et.Loaded),y})});return()=>{u==null||u()}},[o,i]),v.useMemo(()=>({updateNodeChanges:s,updateEdgeChanges:c,initializing:e,setInitializing:t,updateEdgeConnection:l}),[s,c,e,t,l])},yF=()=>{const e=yw(l=>l.theme),t=re(l=>l.nodes),r=re(l=>l.edges),{updateNodeChanges:n,updateEdgeChanges:a,updateEdgeConnection:o}=mF(),i=v.useCallback(l=>{n(l)},[n]),s=v.useCallback(l=>{a(l)},[a]),c=v.useCallback(l=>{o(l)},[o]);return f.jsxs(Cz,{nodes:t,edges:r,nodeTypes:Xx,onNodesChange:i,onEdgesChange:s,onConnect:c,panOnScroll:!0,panOnScrollMode:kz.Free,colorMode:e,fitView:!0,children:[f.jsx(Mz,{variant:Az.Dots,gap:24,size:1}),f.jsx(Tz,{}),f.jsx(Dz,{}),HF?f.jsx(rw,{}):void 0]})},vF=v.memo(yF);function gF(){return f.jsx(vF,{})}Fw=Object.freeze(Object.defineProperty({__proto__:null,default:gF},Symbol.toStringTag,{value:"Module"}))});export{Bw as A,Fd as B,Ds as C,zd as D,$d as E,Vd as F,Ud as G,Hd as H,Is as I,an as J,Cr as K,vt as L,Fw as M,qd as P,Rs as R,zw as T,Ls as _,l$ as __tla,Bs as a,Wd as b,Xd as c,Kd as d,Gd as e,on as f,Yd as g,$w as h,Jd as i,Zd as j,Vw as k,Qd as l,Uw as m,ef as n,Fs as o,tf as p,zs as q,it as r,rf as s,$s as t,re as u,Vs as v,nf as w,af as x,Us as y,Hs as z};
