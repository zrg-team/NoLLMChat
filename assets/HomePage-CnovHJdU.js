const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Di-3OKZb.js","assets/use-local-llm-BZMBj5dL.js","assets/index-DhWL6Fve.js","assets/index-B7JTfCGt.css","assets/routes-DfiZD7Tz.js","assets/few_shot-BjAYvJzc.js","assets/index-C-8d_D8Q.js","assets/objectWithoutPropertiesLoose-BjXSgPXB.js","assets/index-MCobqv1k.js","assets/index-Cr8Tc6mT.css","assets/pdf--I_duekA.js","assets/pdf.min-D_qi5qLl.js","assets/pdf.worker.min-xRYQrKQg.js","assets/PlateEditor-B5n1UqjW.js","assets/chevron-down-CGxFdyy5.js","assets/createLucideIcon-BJqGAw9q.js","assets/chevron-right-C3qNRpb5.js","assets/check-BfcxqsyU.js","assets/ellipsis-Bicvzcgw.js","assets/highlighter-BTztjIHA.js","assets/keyboard-DCwRcFh2.js","assets/superscript-C-ARsPJs.js","assets/subscript-CcT_0gdT.js","assets/align-left-BFYZ8aqE.js","assets/align-center-DVox63qu.js","assets/align-right-B_qxzwIa.js","assets/align-justify-gu1wu14x.js","assets/plus-Bsy34QgM.js","assets/eraser-C6Fqy4oZ.js","assets/star-BKFBTKap.js","assets/flag-DJRz4yxm.js","assets/apple-IUWPM0ko.js","assets/clock-Y5ePS4vA.js","assets/leaf-Fj8Zx0HC.js","assets/lightbulb-DuXnUbvy.js","assets/smile-Dugoc1ru.js","assets/compass-Zy2fqKwq.js","assets/music-DRM7-NhD.js","assets/x-D5IvV6kK.js","assets/search-DGyk0ETk.js","assets/external-link-HbooOX6g.js","assets/redo-2-BjjWjnhg.js","assets/undo-2-8Y7KLqWX.js","assets/list-C8s_f4od.js","assets/list-ordered-Dewc54TT.js","assets/list-todo-Cxslo9Nf.js","assets/indent-increase-DFw7uLAY.js","assets/pilcrow-DvBurpbC.js","assets/heading-1-BwZsrmQv.js","assets/heading-2-BcOrapky.js","assets/heading-3-BY64Az93.js","assets/table-Dhx495e_.js","assets/file-code-Z1lNS96u.js","assets/quote-BSgn0_kQ.js","assets/minus-DI_CPbD0.js","assets/square-CU9clNYI.js","assets/image-RPW7-KKM.js","assets/table-of-contents-PAzhkqkK.js","assets/columns-3-BZOkYBFN.js","assets/link-2-xsMqBvvL.js","assets/calendar-CE8ssTDD.js","assets/wrap-text-BNxSG3zL.js","assets/link-bO8s4nWZ.js","assets/pen-CR8yYx2Z.js","assets/eye-uR5TjBKL.js","assets/indent-decrease-DJ1iyi5S.js","assets/trash-Dr8QHl9h.js","assets/rectangle-vertical-BI4Nk-rq.js","assets/rectangle-horizontal-CkEsmYz-.js","assets/list-collapse-CzGJSj9t.js","assets/pointer-wXts4xcc.js","assets/wand-sparkles-DMdwBUH_.js","assets/bold-DrF_Jl77.js","assets/italic-cWWslpWT.js","assets/underline-BNSXkdze.js","assets/strikethrough-BabJdtpR.js","assets/code-xml-Dna1syoN.js","assets/baseline-DfuOiEKV.js","assets/paint-bucket-CgGk4QbG.js","assets/arrow-up-to-line-um9DdtPL.js","assets/circle-Jeoqvj_f.js","assets/text-DQAyQ-aN.js","assets/unlink-D6kO7T8R.js","assets/arrow-left-qKQgTv-N.js","assets/arrow-right-Bc0r3ted.js","assets/download-BcZfTeTe.js","assets/chevrons-up-down-DCZdnrQv.js","assets/trash-2-C0reR1vd.js","assets/chevron-left-6c5p2E5T.js","assets/sparkles-0JBngXzs.js","assets/combine-cd_txbac.js","assets/ungroup-_m9rbCjg.js","assets/grip-vertical-BWaRITIr.js","assets/index-Ceh7neKS.js","assets/pen-line-TTxZAWo0.js","assets/badge-help-BACDsAdZ.js","assets/wand-DGnxE0yj.js","assets/list-end-BGoYc5xh.js","assets/list-plus-CDUOP5QH.js","assets/list-minus-HgAJmrGS.js","assets/feather--3te6Kfm.js","assets/album-BWCn3p7M.js","assets/corner-up-left-1vVX3J9P.js","assets/loader-circle-BSyo52dk.js","assets/use-prevent-pitch-zoom-CwEDLUgs.js","assets/PlateEditor-BQPW60dV.css","assets/CodeContainerApp-D5QmzuIo.js","assets/index-BZ1KLXtq.js","assets/folder-open-BZO9c6Hb.js","assets/folder-Ez3aHYJl.js","assets/file-xyMsjlvg.js","assets/index-GwfS3PYU.js","assets/index-HSnfLTSA.css"])))=>i.map(i=>d[i]);
import{G as D1,r as g,M as I1,H as t5,I as R1,J as r5,K as L1,N as n5,O as mf,Q as B1,T as a5,U as o5,z as yf,c as Vn,b as kt,j as f,P as fe,f as et,d as ue,g as X,L as te,V as i5,W as s5,X as c5,s as st,y as ne,Y as $,e as es,S as F1,D as $1,l as z1,u as yr,m as V1,Z as l5,i as u5,p as se,x as ct,$ as vr,_ as tt,a0 as d5,a1 as E,a2 as Un,a3 as f5,a4 as ts,a5 as p5,a6 as h5,a7 as U1,a8 as H1,t as q1,a9 as m5,C as y5,aa as v5,v as rs,w as er,ab as g5,ac as b5,ad as ns,ae as x5,af as vf,ag as W1,ah as w5,ai as as,aj as gf,ak as X1,al as _e,am as be,an as j5,ao as K1,ap as bf,aq as os,q as G1,h as Y1,ar as _5,as as O5,at as S5,__tla as N5}from"./index-DhWL6Fve.js";import{c as E5,i as xf,a as J1,b as Z1,d as P5,e as C5,g as k5,L as jt,f as wf,h as is,s as M5,u as Xe,R as Q1,j as Za,k as ss,T as Wr,l as tr,H as A5,P as he,I as Qa,m as cs,n as T5,A as gr,o as br,p as eo,q as D5,r as jf,t as I5,F as ls,v as ej,w as tj,x as R5,y as us,z as Hn,B as ds,C as L5,D as to,E as B5,G as F5,J as rj,K as $5,M as z5,N as xr,O as V5,Q as U5,S as H5,U as nj,V as fs,W as _f,X as aj,Y as q5,Z as ro,_ as W5,$ as X5,a0 as K5,a1 as G5,a2 as Y5,a3 as J5,a4 as Z5,a5 as Q5,a6 as eB,a7 as tB,a8 as rB,a9 as Of,aa as nB,ab as aB,ac as oB,ad as iB,ae as sB,af as cB,ag as lB,ah as uB,ai as dB,aj as fB,ak as pB,al as hB,am as mB,an as yB,__tla as vB}from"./use-local-llm-BZMBj5dL.js";import{c as gB,a as qn,u as no,R as Sf,I as Nf,A as bB,C as xB,G as wB,L as jB,b as _B,d as OB,e as SB,f as NB,g as EB,S as PB,h as CB,i as kB,j as MB,k as rt,l as AB,P as TB,m as ps,n as Ef,o as oj,p as ij,q as sj,F as cj,r as lj,s as uj,t as dj,v as DB,w as IB,O as RB,x as LB,B as Te,y as xe,z as fj,D as BB,T as FB,E as $B,H as zB,J as _t,K as hs,M as ms,N as ys,Q as vs,U as VB,V as UB,W as Xr,X as HB,Y as qB,Z as Pf,_ as Cf,$ as kf,a0 as pj,__tla as WB}from"./routes-DfiZD7Tz.js";let hj,gs,bs,Mf,Af,Tf,Df,If,xs,Rf,Kr,ht,wr,mj,Lf,ws,yj,Bf,Ff,js,$f,zf,Vf,Uf,Gr,Hf,qf,Wf,Xf,vj,Kf,_s,Gf,Os,Ss,nt,Ns,re,Yf,Es,Jf,Zf,Ps,XB=Promise.all([(()=>{try{return N5}catch{}})(),(()=>{try{return vB}catch{}})(),(()=>{try{return WB}catch{}})()]).then(async()=>{var Bt=(e=>(e.Started="started",e.Inprogress="inprogress",e.Success="success",e.Failed="failed",e))(Bt||{}),lt=(e=>(e.Human="human",e.User="user",e.AI="ai",e.System="system",e.Assistant="assistant",e.Tool="tool",e.FewShotExample="few_shot_example",e))(lt||{}),ao=(e=>(e.Started="started",e.Inprogress="inprogress",e.Done="done",e))(ao||{}),ut=(e=>(e.Chat="chat",e.FewShotExample="few_shot_example",e))(ut||{});function Cs(e){const t=D1(()=>t5(e)),{isStatic:r}=g.useContext(I1);if(r){const[,n]=g.useState(e);g.useEffect(()=>t.on("change",n),[])}return t}function Qf(e,t){const r=Cs(t()),n=()=>r.set(t());return n(),R1(()=>{const a=()=>L1.preRender(n,!1,!0),o=e.map(i=>i.on("change",a));return()=>{o.forEach(i=>i()),r5(n)}}),r}const gj=e=>e&&typeof e=="object"&&e.mix,bj=e=>gj(e)?e.mix:void 0;function xj(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],o=e[2+r],i=e[3+r],s=n5(a,o,{mixer:bj(o[0]),...i});return t?s(n):s}function wj(e){mf.current=[],e();const t=Qf(mf.current,e);return mf.current=void 0,t}function ep(e,t,r,n){if(typeof e=="function")return wj(e);const a=typeof t=="function"?t:xj(t,r,n);return Array.isArray(e)?tp(e,a):tp([e],([o])=>a(o))}function tp(e,t){const r=D1(()=>[]);return Qf(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function rp(e){return typeof e=="number"?e:parseFloat(e)}function jj(e,t={}){const{isStatic:r}=g.useContext(I1),n=g.useRef(null),a=Cs(B1(e)?rp(e.get()):e),o=g.useRef(a.get()),i=g.useRef(()=>{}),s=()=>{const l=n.current;l&&l.time===0&&l.sample(a5.delta),c(),n.current=o5({keyframes:[a.get(),o.current],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:i.current})},c=()=>{n.current&&n.current.stop()};return g.useInsertionEffect(()=>a.attach((l,u)=>r?u(l):(o.current=l,i.current=u,L1.update(s),a.get()),c),[JSON.stringify(t)]),R1(()=>{if(B1(e))return e.on("change",l=>a.set(rp(l)))},[a]),a}function _j(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function Oj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Sj(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Yr(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function Nj(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ej(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Yr(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}function Yr(e,t){var r=typeof t,n;return t==null||r==="boolean"?E5(t):(r==="number"?xf:r==="string"?(n=J1(t))?(t=n,Z1):P5:t instanceof J1?Z1:t instanceof Date?Nj:Oj(t)?_j:Array.isArray(t)?Sj:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ej:xf)(e,t)}function ks(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Pj(e,t){t===void 0&&(t=e,e=Yr);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}var oo="Menubar",[Ms,Cj,kj]=yf(oo),[np,KB]=Vn(oo,[kj,qn]),Ke=gB(),ap=qn(),[Mj,As]=np(oo),op=g.forwardRef((e,t)=>{const{__scopeMenubar:r,value:n,onValueChange:a,defaultValue:o,loop:i=!0,dir:s,...c}=e,l=no(s),u=ap(r),[d="",p]=kt({prop:n,onChange:a,defaultProp:o}),[y,m]=g.useState(null);return f.jsx(Mj,{scope:r,value:d,onMenuOpen:g.useCallback(h=>{p(h),m(h)},[p]),onMenuClose:g.useCallback(()=>p(""),[p]),onMenuToggle:g.useCallback(h=>{p(v=>v?"":h),m(h)},[p]),dir:l,loop:i,children:f.jsx(Ms.Provider,{scope:r,children:f.jsx(Ms.Slot,{scope:r,children:f.jsx(Sf,{asChild:!0,...u,orientation:"horizontal",loop:i,dir:l,currentTabStopId:y,onCurrentTabStopIdChange:m,children:f.jsx(fe.div,{role:"menubar",...c,ref:t})})})})})});op.displayName=oo;var Ts="MenubarMenu",[Aj,ip]=np(Ts),sp=e=>{const{__scopeMenubar:t,value:r,...n}=e,a=rt(),o=r||a||"LEGACY_REACT_AUTO_VALUE",i=As(Ts,t),s=Ke(t),c=g.useRef(null),l=g.useRef(!1),u=i.value===o;return g.useEffect(()=>{u||(l.current=!1)},[u]),f.jsx(Aj,{scope:t,value:o,triggerId:rt(),triggerRef:c,contentId:rt(),wasKeyboardTriggerOpenRef:l,children:f.jsx(AB,{...s,open:u,onOpenChange:d=>{d||i.onMenuClose()},modal:!1,dir:i.dir,...n})})};sp.displayName=Ts;var Ds="MenubarTrigger",cp=g.forwardRef((e,t)=>{const{__scopeMenubar:r,disabled:n=!1,...a}=e,o=ap(r),i=Ke(r),s=As(Ds,r),c=ip(Ds,r),l=g.useRef(null),u=et(t,l,c.triggerRef),[d,p]=g.useState(!1),y=s.value===c.value;return f.jsx(Ms.ItemSlot,{scope:r,value:c.value,disabled:n,children:f.jsx(Nf,{asChild:!0,...o,focusable:!n,tabStopId:c.value,children:f.jsx(bB,{asChild:!0,...i,children:f.jsx(fe.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":y,"aria-controls":y?c.contentId:void 0,"data-highlighted":d?"":void 0,"data-state":y?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:u,onPointerDown:ue(e.onPointerDown,m=>{!n&&m.button===0&&m.ctrlKey===!1&&(s.onMenuOpen(c.value),y||m.preventDefault())}),onPointerEnter:ue(e.onPointerEnter,()=>{var m;s.value&&!y&&(s.onMenuOpen(c.value),(m=l.current)==null||m.focus())}),onKeyDown:ue(e.onKeyDown,m=>{n||(["Enter"," "].includes(m.key)&&s.onMenuToggle(c.value),m.key==="ArrowDown"&&s.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(m.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,m.preventDefault()))}),onFocus:ue(e.onFocus,()=>p(!0)),onBlur:ue(e.onBlur,()=>p(!1))})})})})});cp.displayName=Ds;var Tj="MenubarPortal",lp=e=>{const{__scopeMenubar:t,...r}=e,n=Ke(t);return f.jsx(TB,{...n,...r})};lp.displayName=Tj;var Is="MenubarContent",up=g.forwardRef((e,t)=>{const{__scopeMenubar:r,align:n="start",...a}=e,o=Ke(r),i=As(Is,r),s=ip(Is,r),c=Cj(r),l=g.useRef(!1);return f.jsx(xB,{id:s.contentId,"aria-labelledby":s.triggerId,"data-radix-menubar-content":"",...o,...a,ref:t,align:n,onCloseAutoFocus:ue(e.onCloseAutoFocus,u=>{var d;!i.value&&!l.current&&((d=s.triggerRef.current)==null||d.focus()),l.current=!1,u.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,u=>{const d=u.target;c().some(p=>{var y;return(y=p.ref.current)==null?void 0:y.contains(d)})&&u.preventDefault()}),onInteractOutside:ue(e.onInteractOutside,()=>{l.current=!0}),onEntryFocus:u=>{s.wasKeyboardTriggerOpenRef.current||u.preventDefault()},onKeyDown:ue(e.onKeyDown,u=>{if(["ArrowRight","ArrowLeft"].includes(u.key)){const d=u.target,p=d.hasAttribute("data-radix-menubar-subtrigger"),y=d.closest("[data-radix-menubar-content]")!==u.currentTarget,m=(i.dir==="rtl"?"ArrowRight":"ArrowLeft")===u.key;if(!m&&p||y&&m)return;let h=c().filter(w=>!w.disabled).map(w=>w.value);m&&h.reverse();const v=h.indexOf(s.value);h=i.loop?Kj(h,v+1):h.slice(v+1);const[b]=h;b&&i.onMenuOpen(b)}},{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});up.displayName=Is;var Dj="MenubarGroup",Ij=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(wB,{...a,...n,ref:t})});Ij.displayName=Dj;var Rj="MenubarLabel",dp=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(jB,{...a,...n,ref:t})});dp.displayName=Rj;var Lj="MenubarItem",fp=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(_B,{...a,...n,ref:t})});fp.displayName=Lj;var Bj="MenubarCheckboxItem",pp=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(OB,{...a,...n,ref:t})});pp.displayName=Bj;var Fj="MenubarRadioGroup",$j=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(SB,{...a,...n,ref:t})});$j.displayName=Fj;var zj="MenubarRadioItem",hp=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(NB,{...a,...n,ref:t})});hp.displayName=zj;var Vj="MenubarItemIndicator",mp=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(EB,{...a,...n,ref:t})});mp.displayName=Vj;var Uj="MenubarSeparator",yp=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(PB,{...a,...n,ref:t})});yp.displayName=Uj;var Hj="MenubarArrow",qj=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(CB,{...a,...n,ref:t})});qj.displayName=Hj;var Wj="MenubarSubTrigger",vp=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(kB,{"data-radix-menubar-subtrigger":"",...a,...n,ref:t})});vp.displayName=Wj;var Xj="MenubarSubContent",gp=g.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ke(r);return f.jsx(MB,{...a,"data-radix-menubar-content":"",...n,ref:t,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});gp.displayName=Xj;function Kj(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var bp=op,Gj=sp,xp=cp,Yj=lp,wp=up,jp=dp,_p=fp,Op=pp,Sp=hp,Np=mp,Ep=yp,Pp=vp,Cp=gp;const Rs=Gj,kp=g.forwardRef(({className:e,...t},r)=>f.jsx(bp,{ref:r,className:X("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",e),...t}));kp.displayName=bp.displayName;const Ls=g.forwardRef(({className:e,...t},r)=>f.jsx(xp,{ref:r,className:X("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e),...t}));Ls.displayName=xp.displayName;const Jj=g.forwardRef(({className:e,inset:t,children:r,...n},a)=>f.jsxs(Pp,{ref:a,className:X("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,f.jsx(te,{name:"chevron-right",className:"ml-auto h-4 w-4"})]}));Jj.displayName=Pp.displayName;const Zj=g.forwardRef(({className:e,...t},r)=>f.jsx(Cp,{ref:r,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Zj.displayName=Cp.displayName;const Mp=g.forwardRef(({className:e,align:t="start",alignOffset:r=-4,sideOffset:n=8,...a},o)=>f.jsx(Yj,{children:f.jsx(wp,{ref:o,align:t,alignOffset:r,sideOffset:n,className:X("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));Mp.displayName=wp.displayName;const Ap=g.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(_p,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Ap.displayName=_p.displayName;const Qj=g.forwardRef(({className:e,children:t,checked:r,...n},a)=>f.jsxs(Op,{ref:a,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Np,{children:f.jsx(te,{name:"check",className:"h-4 w-4"})})}),t]}));Qj.displayName=Op.displayName;const e_=g.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(Sp,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Np,{children:f.jsx(te,{name:"circle",className:"h-2 w-2 fill-current"})})}),t]}));e_.displayName=Sp.displayName;const t_=g.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(jp,{ref:n,className:X("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));t_.displayName=jp.displayName;const r_=g.forwardRef(({className:e,...t},r)=>f.jsx(Ep,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));r_.displayName=Ep.displayName;const De=g.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));De.displayName="Card";const Ge=g.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:X("flex flex-col space-y-1.5 p-6",e),...t}));Ge.displayName="CardHeader";const at=g.forwardRef(({className:e,...t},r)=>f.jsx("h3",{ref:r,className:X("text-2xl font-semibold leading-none tracking-tight",e),...t}));at.displayName="CardTitle";const Tp=g.forwardRef(({className:e,...t},r)=>f.jsx("p",{ref:r,className:X("text-sm text-muted-foreground",e),...t}));Tp.displayName="CardDescription";const Ye=g.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:X("p-6 pt-0",e),...t}));Ye.displayName="CardContent";const rr=g.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:X("flex items-center p-6 pt-0",e),...t}));rr.displayName="CardFooter";let Dp;re=i5()(s5(c5((e,t)=>({...C5,...k5(e,t)})))),Dp=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=g.useState(!1),n=re(i=>i.pushSyncNodeQueue),a=re(i=>i.createOrUpdateFlowNode),o=g.useCallback(async(i,s)=>{try{if(!e)throw new Error("Session not found");r(!0);const c=await ne("LLM").findOne({where:{name:s.name,session_id:e}});return c?(n("LLM",{where:{source_type:"LLM",source_id:c.id}}),c):ne("LLM").save({name:`${s.name}`,status:jt.Started,session_id:e,provider:wf.WebLLM,metadata:JSON.stringify({}),model_type:s.model_type||is.LLM,...s}).then(async l=>{var u,d,p;return await a({source_id:l.id,source_type:"LLM",node_type:$.LLM,x:(u=i.position)==null?void 0:u.x,y:((d=i.position)==null?void 0:d.y)+(((p=i.measured)==null?void 0:p.height)||0)+30}),l})}finally{r(!1)}},[a,n,e]);return{loading:t,createDatabaseLLM:o}};var Bs="Popover",[Ip,GB]=Vn(Bs,[ps]),Wn=ps(),[n_,nr]=Ip(Bs),Rp=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,s=Wn(t),c=g.useRef(null),[l,u]=g.useState(!1),[d=!1,p]=kt({prop:n,defaultProp:a,onChange:o});return f.jsx(dj,{...s,children:f.jsx(n_,{scope:t,contentId:rt(),triggerRef:c,open:d,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(y=>!y),[p]),hasCustomAnchor:l,onCustomAnchorAdd:g.useCallback(()=>u(!0),[]),onCustomAnchorRemove:g.useCallback(()=>u(!1),[]),modal:i,children:r})})};Rp.displayName=Bs;let Fs;Fs="PopoverAnchor",Os=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=nr(Fs,r),o=Wn(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:s}=a;return g.useEffect(()=>(i(),()=>s()),[i,s]),f.jsx(Ef,{...o,...n,ref:t})}),Os.displayName=Fs;var Lp="PopoverTrigger",$s=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=nr(Lp,r),o=Wn(r),i=et(t,a.triggerRef),s=f.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Vp(a.open),...n,ref:i,onClick:ue(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:f.jsx(Ef,{asChild:!0,...o,children:s})});$s.displayName=Lp;var zs="PopoverPortal",[a_,o_]=Ip(zs,{forceMount:void 0}),Bp=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=nr(zs,t);return f.jsx(a_,{scope:t,forceMount:r,children:f.jsx(es,{present:r||o.open,children:f.jsx(z1,{asChild:!0,container:a,children:n})})})};Bp.displayName=zs;var Jr="PopoverContent",Fp=g.forwardRef((e,t)=>{const r=o_(Jr,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=nr(Jr,e.__scopePopover);return f.jsx(es,{present:n||o.open,children:o.modal?f.jsx(i_,{...a,ref:t}):f.jsx(s_,{...a,ref:t})})});Fp.displayName=Jr;var i_=g.forwardRef((e,t)=>{const r=nr(Jr,e.__scopePopover),n=g.useRef(null),a=et(t,n),o=g.useRef(!1);return g.useEffect(()=>{const i=n.current;if(i)return oj(i)},[]),f.jsx(ij,{as:F1,allowPinchZoom:!0,children:f.jsx($p,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),o.current||((s=r.triggerRef.current)==null||s.focus())}),onPointerDownOutside:ue(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,l=s.button===2||c;o.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),s_=g.forwardRef((e,t)=>{const r=nr(Jr,e.__scopePopover),n=g.useRef(!1),a=g.useRef(!1);return f.jsx($p,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,s;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||((s=r.triggerRef.current)==null||s.focus()),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var s,c;(s=e.onInteractOutside)==null||s.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;(c=r.triggerRef.current)!=null&&c.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),$p=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,...d}=e,p=nr(Jr,r),y=Wn(r);return sj(),f.jsx(cj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:f.jsx($1,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>p.onOpenChange(!1),children:f.jsx(lj,{"data-state":Vp(p.open),role:"dialog",id:p.contentId,...y,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),zp="PopoverClose",c_=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=nr(zp,r);return f.jsx(fe.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,()=>a.onOpenChange(!1))})});c_.displayName=zp;var l_="PopoverArrow",u_=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Wn(r);return f.jsx(uj,{...a,...n,ref:t})});u_.displayName=l_;function Vp(e){return e?"open":"closed"}Kf=Rp,hj=Os,yj=$s,Lf=Bp,bs=Fp;const d_=Kf,Up=g.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>f.jsx(Lf,{children:f.jsx(bs,{ref:a,align:t,sideOffset:r,className:X("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Up.displayName=bs.displayName;var Hp=1,f_=.9,p_=.8,h_=.17,Vs=.1,Us=.999,m_=.9999,y_=.99,v_=/[\\\/_+.#"@\[\(\{&]/,g_=/[\\\/_+.#"@\[\(\{&]/g,b_=/[\s-]/,qp=/[\s-]/g;function Hs(e,t,r,n,a,o,i){if(o===t.length)return a===e.length?Hp:y_;var s=`${a},${o}`;if(i[s]!==void 0)return i[s];for(var c=n.charAt(o),l=r.indexOf(c,a),u=0,d,p,y,m;l>=0;)d=Hs(e,t,r,n,l+1,o+1,i),d>u&&(l===a?d*=Hp:v_.test(e.charAt(l-1))?(d*=p_,y=e.slice(a,l-1).match(g_),y&&a>0&&(d*=Math.pow(Us,y.length))):b_.test(e.charAt(l-1))?(d*=f_,m=e.slice(a,l-1).match(qp),m&&a>0&&(d*=Math.pow(Us,m.length))):(d*=h_,a>0&&(d*=Math.pow(Us,l-a))),e.charAt(l)!==t.charAt(o)&&(d*=m_)),(d<Vs&&r.charAt(l-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(l-1)!==n.charAt(o))&&(p=Hs(e,t,r,n,l+1,o+2,i),p*Vs>d&&(d=p*Vs)),d>u&&(u=d),l=r.indexOf(c,l+1);return i[s]=u,u}function Wp(e){return e.toLowerCase().replace(qp," ")}function x_(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Hs(e,t,Wp(e),Wp(t),0,0,{})}var Xn='[cmdk-group=""]',qs='[cmdk-group-items=""]',w_='[cmdk-group-heading=""]',Ws='[cmdk-item=""]',Xp=`${Ws}:not([aria-disabled="true"])`,Xs="cmdk-item-select",jr="data-value",j_=(e,t,r)=>x_(e,t,r),Kp=g.createContext(void 0),Kn=()=>g.useContext(Kp),Gp=g.createContext(void 0),Ks=()=>g.useContext(Gp),Yp=g.createContext(void 0),Jp=g.forwardRef((e,t)=>{let r=Zr(()=>{var R,Y;return{search:"",value:(Y=(R=e.value)!=null?R:e.defaultValue)!=null?Y:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=Zr(()=>new Set),a=Zr(()=>new Map),o=Zr(()=>new Map),i=Zr(()=>new Set),s=Zp(e),{label:c,children:l,value:u,onValueChange:d,filter:p,shouldFilter:y,loop:m,disablePointerSelection:h=!1,vimBindings:v=!0,...b}=e,w=rt(),O=rt(),x=rt(),j=g.useRef(null),_=T_();_r(()=>{if(u!==void 0){let R=u.trim();r.current.value=R,S.emit()}},[u]),_r(()=>{_(6,k)},[]);let S=g.useMemo(()=>({subscribe:R=>(i.current.add(R),()=>i.current.delete(R)),snapshot:()=>r.current,setState:(R,Y,H)=>{var J,ie,W;if(!Object.is(r.current[R],Y)){if(r.current[R]=Y,R==="search")T(),C(),_(1,N);else if(R==="value"&&(H||_(5,k),((J=s.current)==null?void 0:J.value)!==void 0)){let oe=Y??"";(W=(ie=s.current).onValueChange)==null||W.call(ie,oe);return}S.emit()}},emit:()=>{i.current.forEach(R=>R())}}),[]),P=g.useMemo(()=>({value:(R,Y,H)=>{var J;Y!==((J=o.current.get(R))==null?void 0:J.value)&&(o.current.set(R,{value:Y,keywords:H}),r.current.filtered.items.set(R,A(Y,H)),_(2,()=>{C(),S.emit()}))},item:(R,Y)=>(n.current.add(R),Y&&(a.current.has(Y)?a.current.get(Y).add(R):a.current.set(Y,new Set([R]))),_(3,()=>{T(),C(),r.current.value||N(),S.emit()}),()=>{o.current.delete(R),n.current.delete(R),r.current.filtered.items.delete(R);let H=D();_(4,()=>{T(),(H==null?void 0:H.getAttribute("id"))===R&&N(),S.emit()})}),group:R=>(a.current.has(R)||a.current.set(R,new Set),()=>{o.current.delete(R),a.current.delete(R)}),filter:()=>s.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:w,inputId:x,labelId:O,listInnerRef:j}),[]);function A(R,Y){var H,J;let ie=(J=(H=s.current)==null?void 0:H.filter)!=null?J:j_;return R?ie(R,r.current.search,Y):0}function C(){if(!r.current.search||s.current.shouldFilter===!1)return;let R=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(J=>{let ie=a.current.get(J),W=0;ie.forEach(oe=>{let z=R.get(oe);W=Math.max(z,W)}),Y.push([J,W])});let H=j.current;M().sort((J,ie)=>{var W,oe;let z=J.getAttribute("id"),G=ie.getAttribute("id");return((W=R.get(G))!=null?W:0)-((oe=R.get(z))!=null?oe:0)}).forEach(J=>{let ie=J.closest(qs);ie?ie.appendChild(J.parentElement===ie?J:J.closest(`${qs} > *`)):H.appendChild(J.parentElement===H?J:J.closest(`${qs} > *`))}),Y.sort((J,ie)=>ie[1]-J[1]).forEach(J=>{var ie;let W=(ie=j.current)==null?void 0:ie.querySelector(`${Xn}[${jr}="${encodeURIComponent(J[0])}"]`);W==null||W.parentElement.appendChild(W)})}function N(){let R=M().find(H=>H.getAttribute("aria-disabled")!=="true"),Y=R==null?void 0:R.getAttribute(jr);S.setState("value",Y||void 0)}function T(){var R,Y,H,J;if(!r.current.search||s.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ie=0;for(let W of n.current){let oe=(Y=(R=o.current.get(W))==null?void 0:R.value)!=null?Y:"",z=(J=(H=o.current.get(W))==null?void 0:H.keywords)!=null?J:[],G=A(oe,z);r.current.filtered.items.set(W,G),G>0&&ie++}for(let[W,oe]of a.current)for(let z of oe)if(r.current.filtered.items.get(z)>0){r.current.filtered.groups.add(W);break}r.current.filtered.count=ie}function k(){var R,Y,H;let J=D();J&&(((R=J.parentElement)==null?void 0:R.firstChild)===J&&((H=(Y=J.closest(Xn))==null?void 0:Y.querySelector(w_))==null||H.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function D(){var R;return(R=j.current)==null?void 0:R.querySelector(`${Ws}[aria-selected="true"]`)}function M(){var R;return Array.from(((R=j.current)==null?void 0:R.querySelectorAll(Xp))||[])}function I(R){let Y=M()[R];Y&&S.setState("value",Y.getAttribute(jr))}function F(R){var Y;let H=D(),J=M(),ie=J.findIndex(oe=>oe===H),W=J[ie+R];(Y=s.current)!=null&&Y.loop&&(W=ie+R<0?J[J.length-1]:ie+R===J.length?J[0]:J[ie+R]),W&&S.setState("value",W.getAttribute(jr))}function V(R){let Y=D(),H=Y==null?void 0:Y.closest(Xn),J;for(;H&&!J;)H=R>0?M_(H,Xn):A_(H,Xn),J=H==null?void 0:H.querySelector(Xp);J?S.setState("value",J.getAttribute(jr)):F(R)}let U=()=>I(M().length-1),Q=R=>{R.preventDefault(),R.metaKey?U():R.altKey?V(1):F(1)},q=R=>{R.preventDefault(),R.metaKey?I(0):R.altKey?V(-1):F(-1)};return g.createElement(fe.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:R=>{var Y;if((Y=b.onKeyDown)==null||Y.call(b,R),!R.defaultPrevented)switch(R.key){case"n":case"j":{v&&R.ctrlKey&&Q(R);break}case"ArrowDown":{Q(R);break}case"p":case"k":{v&&R.ctrlKey&&q(R);break}case"ArrowUp":{q(R);break}case"Home":{R.preventDefault(),I(0);break}case"End":{R.preventDefault(),U();break}case"Enter":if(!R.nativeEvent.isComposing&&R.keyCode!==229){R.preventDefault();let H=D();if(H){let J=new Event(Xs);H.dispatchEvent(J)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:I_},c),io(e,R=>g.createElement(Gp.Provider,{value:S},g.createElement(Kp.Provider,{value:P},R))))}),__=g.forwardRef((e,t)=>{var r,n;let a=rt(),o=g.useRef(null),i=g.useContext(Yp),s=Kn(),c=Zp(e),l=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;_r(()=>{if(!l)return s.item(a,i==null?void 0:i.id)},[l]);let u=Qp(a,o,[e.value,e.children,o],e.keywords),d=Ks(),p=Or(_=>_.value&&_.value===u.current),y=Or(_=>l||s.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);g.useEffect(()=>{let _=o.current;if(!(!_||e.disabled))return _.addEventListener(Xs,m),()=>_.removeEventListener(Xs,m)},[y,e.onSelect,e.disabled]);function m(){var _,S;h(),(S=(_=c.current).onSelect)==null||S.call(_,u.current)}function h(){d.setState("value",u.current,!0)}if(!y)return null;let{disabled:v,value:b,onSelect:w,forceMount:O,keywords:x,...j}=e;return g.createElement(fe.div,{ref:Gn([o,t]),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||s.getDisablePointerSelection()?void 0:h,onClick:v?void 0:m},e.children)}),O_=g.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...o}=e,i=rt(),s=g.useRef(null),c=g.useRef(null),l=rt(),u=Kn(),d=Or(y=>a||u.filter()===!1?!0:y.search?y.filtered.groups.has(i):!0);_r(()=>u.group(i),[]),Qp(i,s,[e.value,e.heading,c]);let p=g.useMemo(()=>({id:i,forceMount:a}),[a]);return g.createElement(fe.div,{ref:Gn([s,t]),...o,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&g.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:l},r),io(e,y=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?l:void 0},g.createElement(Yp.Provider,{value:p},y))))}),S_=g.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=g.useRef(null),o=Or(i=>!i.search);return!r&&!o?null:g.createElement(fe.div,{ref:Gn([a,t]),...n,"cmdk-separator":"",role:"separator"})}),N_=g.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,o=Ks(),i=Or(u=>u.search),s=Or(u=>u.value),c=Kn(),l=g.useMemo(()=>{var u;let d=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${Ws}[${jr}="${encodeURIComponent(s)}"]`);return d==null?void 0:d.getAttribute("id")},[]);return g.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),g.createElement(fe.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),E_=g.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=g.useRef(null),i=g.useRef(null),s=Kn();return g.useEffect(()=>{if(i.current&&o.current){let c=i.current,l=o.current,u,d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let p=c.offsetHeight;l.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return d.observe(c),()=>{cancelAnimationFrame(u),d.unobserve(c)}}},[]),g.createElement(fe.div,{ref:Gn([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":n,id:s.listId},io(e,c=>g.createElement("div",{ref:Gn([i,s.listInnerRef]),"cmdk-list-sizer":""},c)))}),P_=g.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:o,container:i,...s}=e;return g.createElement(DB,{open:r,onOpenChange:n},g.createElement(IB,{container:i},g.createElement(RB,{"cmdk-overlay":"",className:a}),g.createElement(LB,{"aria-label":e.label,"cmdk-dialog":"",className:o},g.createElement(Jp,{ref:t,...s}))))}),C_=g.forwardRef((e,t)=>Or(r=>r.filtered.count===0)?g.createElement(fe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),k_=g.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return g.createElement(fe.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},io(e,i=>g.createElement("div",{"aria-hidden":!0},i)))}),ot=Object.assign(Jp,{List:E_,Item:__,Input:N_,Group:O_,Separator:S_,Dialog:P_,Empty:C_,Loading:k_});function M_(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function A_(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Zp(e){let t=g.useRef(e);return _r(()=>{t.current=e}),t}var _r=typeof window>"u"?g.useEffect:g.useLayoutEffect;function Zr(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function Gn(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Or(e){let t=Ks(),r=()=>e(t.snapshot());return M5.useSyncExternalStore(t.subscribe,r,r)}function Qp(e,t,r,n=[]){let a=g.useRef(),o=Kn();return _r(()=>{var i;let s=(()=>{var l;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(l=u.current.textContent)==null?void 0:l.trim():a.current}})(),c=n.map(l=>l.trim());o.value(e,s,c),(i=t.current)==null||i.setAttribute(jr,s),a.current=s}),a}var T_=()=>{let[e,t]=g.useState(),r=Zr(()=>new Map);return _r(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function D_(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function io({asChild:e,children:t},r){return e&&g.isValidElement(t)?g.cloneElement(D_(t),{ref:t.ref},r(t.props.children)):r(t)}var I_={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const eh=g.forwardRef(({className:e,...t},r)=>f.jsx(ot,{ref:r,className:X("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));eh.displayName=ot.displayName;const th=g.forwardRef(({className:e,...t},r)=>f.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[f.jsx(te,{name:"search",className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx(ot.Input,{ref:r,className:X("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));th.displayName=ot.Input.displayName;const rh=g.forwardRef(({className:e,...t},r)=>f.jsx(ot.List,{ref:r,className:X("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));rh.displayName=ot.List.displayName;const nh=g.forwardRef((e,t)=>f.jsx(ot.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));nh.displayName=ot.Empty.displayName;const ah=g.forwardRef(({className:e,...t},r)=>f.jsx(ot.Group,{ref:r,className:X("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ah.displayName=ot.Group.displayName;const R_=g.forwardRef(({className:e,...t},r)=>f.jsx(ot.Separator,{ref:r,className:X("-mx-1 h-px bg-border",e),...t}));R_.displayName=ot.Separator.displayName;const oh=g.forwardRef(({className:e,...t},r)=>f.jsx(ot.Item,{ref:r,className:X("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));oh.displayName=ot.Item.displayName,Es=function(e,[t,r]){return Math.min(r,Math.max(t,e))};function ih(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var L_=[" ","Enter","ArrowUp","ArrowDown"],B_=[" ","Enter"],Yn="Select",[so,co,F_]=yf(Yn),[Qr,YB]=Vn(Yn,[F_,ps]),lo=ps(),[$_,ar]=Qr(Yn),[z_,V_]=Qr(Yn),sh=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:s,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:p,required:y,form:m}=e,h=lo(t),[v,b]=g.useState(null),[w,O]=g.useState(null),[x,j]=g.useState(!1),_=no(l),[S=!1,P]=kt({prop:n,defaultProp:a,onChange:o}),[A,C]=kt({prop:i,defaultProp:s,onChange:c}),N=g.useRef(null),T=v?m||!!v.closest("form"):!0,[k,D]=g.useState(new Set),M=Array.from(k).map(I=>I.props.value).join(";");return f.jsx(dj,{...h,children:f.jsxs($_,{required:y,scope:t,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:O,valueNodeHasChildren:x,onValueNodeHasChildrenChange:j,contentId:rt(),value:A,onValueChange:C,open:S,onOpenChange:P,dir:_,triggerPointerDownPosRef:N,disabled:p,children:[f.jsx(so.Provider,{scope:t,children:f.jsx(z_,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(I=>{D(F=>new Set(F).add(I))},[]),onNativeOptionRemove:g.useCallback(I=>{D(F=>{const V=new Set(F);return V.delete(I),V})},[]),children:r})}),T?f.jsxs(Ah,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:d,value:A,onChange:I=>C(I.target.value),disabled:p,form:m,children:[A===void 0?f.jsx("option",{value:""}):null,Array.from(k)]},M):null]})})};sh.displayName=Yn;var ch="SelectTrigger",lh=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=lo(r),i=ar(ch,r),s=i.disabled||n,c=et(t,i.onTriggerChange),l=co(r),u=g.useRef("touch"),[d,p,y]=Th(h=>{const v=l().filter(O=>!O.disabled),b=v.find(O=>O.value===i.value),w=Dh(v,h,b);w!==void 0&&i.onValueChange(w.value)}),m=h=>{s||(i.onOpenChange(!0),y()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return f.jsx(Ef,{asChild:!0,...o,children:f.jsx(fe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Mh(i.value)?"":void 0,...a,ref:c,onClick:ue(a.onClick,h=>{h.currentTarget.focus(),u.current!=="mouse"&&m(h)}),onPointerDown:ue(a.onPointerDown,h=>{u.current=h.pointerType;const v=h.target;v.hasPointerCapture(h.pointerId)&&v.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(m(h),h.preventDefault())}),onKeyDown:ue(a.onKeyDown,h=>{const v=d.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(v&&h.key===" ")&&L_.includes(h.key)&&(m(),h.preventDefault())})})})});lh.displayName=ch;var uh="SelectValue",dh=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...s}=e,c=ar(uh,r),{onValueNodeHasChildrenChange:l}=c,u=o!==void 0,d=et(t,c.onValueNodeChange);return yr(()=>{l(u)},[l,u]),f.jsx(fe.span,{...s,ref:d,style:{pointerEvents:"none"},children:Mh(c.value)?f.jsx(f.Fragment,{children:i}):o})});dh.displayName=uh;var U_="SelectIcon",fh=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return f.jsx(fe.span,{"aria-hidden":!0,...a,ref:t,children:n||"\u25BC"})});fh.displayName=U_;var H_="SelectPortal",ph=e=>f.jsx(z1,{asChild:!0,...e});ph.displayName=H_;var Sr="SelectContent",hh=g.forwardRef((e,t)=>{const r=ar(Sr,e.__scopeSelect),[n,a]=g.useState();if(yr(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?V1.createPortal(f.jsx(mh,{scope:e.__scopeSelect,children:f.jsx(so.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),o):null}return f.jsx(yh,{...e,ref:t})});hh.displayName=Sr;var Ot=10,[mh,or]=Qr(Sr),q_="SelectContentImpl",yh=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:y,sticky:m,hideWhenDetached:h,avoidCollisions:v,...b}=e,w=ar(Sr,r),[O,x]=g.useState(null),[j,_]=g.useState(null),S=et(t,W=>x(W)),[P,A]=g.useState(null),[C,N]=g.useState(null),T=co(r),[k,D]=g.useState(!1),M=g.useRef(!1);g.useEffect(()=>{if(O)return oj(O)},[O]),sj();const I=g.useCallback(W=>{const[oe,...z]=T().map(B=>B.ref.current),[G]=z.slice(-1),ee=document.activeElement;for(const B of W)if(B===ee||(B==null||B.scrollIntoView({block:"nearest"}),B===oe&&j&&(j.scrollTop=0),B===G&&j&&(j.scrollTop=j.scrollHeight),B==null||B.focus(),document.activeElement!==ee))return},[T,j]),F=g.useCallback(()=>I([P,O]),[I,P,O]);g.useEffect(()=>{k&&F()},[k,F]);const{onOpenChange:V,triggerPointerDownPosRef:U}=w;g.useEffect(()=>{if(O){let W={x:0,y:0};const oe=G=>{var ee,B;W={x:Math.abs(Math.round(G.pageX)-(((ee=U.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(G.pageY)-(((B=U.current)==null?void 0:B.y)??0))}},z=G=>{W.x<=10&&W.y<=10?G.preventDefault():O.contains(G.target)||V(!1),document.removeEventListener("pointermove",oe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",z,{capture:!0})}}},[O,V,U]),g.useEffect(()=>{const W=()=>V(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[V]);const[Q,q]=Th(W=>{const oe=T().filter(ee=>!ee.disabled),z=oe.find(ee=>ee.ref.current===document.activeElement),G=Dh(oe,W,z);G&&setTimeout(()=>G.ref.current.focus())}),R=g.useCallback((W,oe,z)=>{const G=!M.current&&!z;(w.value!==void 0&&w.value===oe||G)&&(A(W),G&&(M.current=!0))},[w.value]),Y=g.useCallback(()=>O==null?void 0:O.focus(),[O]),H=g.useCallback((W,oe,z)=>{const G=!M.current&&!z;(w.value!==void 0&&w.value===oe||G)&&N(W)},[w.value]),J=n==="popper"?Gs:vh,ie=J===Gs?{side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:y,sticky:m,hideWhenDetached:h,avoidCollisions:v}:{};return f.jsx(mh,{scope:r,content:O,viewport:j,onViewportChange:_,itemRefCallback:R,selectedItem:P,onItemLeave:Y,itemTextRefCallback:H,focusSelectedItem:F,selectedItemText:C,position:n,isPositioned:k,searchRef:Q,children:f.jsx(ij,{as:F1,allowPinchZoom:!0,children:f.jsx(cj,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ue(a,W=>{var oe;(oe=w.trigger)==null||oe.focus({preventScroll:!0}),W.preventDefault()}),children:f.jsx($1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:f.jsx(J,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...b,...ie,onPlaced:()=>D(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ue(b.onKeyDown,W=>{const oe=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!oe&&W.key.length===1&&q(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let z=T().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(W.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const G=W.target,ee=z.indexOf(G);z=z.slice(ee+1)}setTimeout(()=>I(z)),W.preventDefault()}})})})})})})});yh.displayName=q_;var W_="SelectItemAlignedPosition",vh=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=ar(Sr,r),i=or(Sr,r),[s,c]=g.useState(null),[l,u]=g.useState(null),d=et(t,S=>u(S)),p=co(r),y=g.useRef(!1),m=g.useRef(!0),{viewport:h,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=i,O=g.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&l&&h&&v&&b){const S=o.trigger.getBoundingClientRect(),P=l.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),C=b.getBoundingClientRect();if(o.dir!=="rtl"){const G=C.left-P.left,ee=A.left-G,B=S.left-ee,Oe=S.width+B,le=Math.max(Oe,P.width),Pe=window.innerWidth-Ot,Ce=Es(ee,[Ot,Math.max(Ot,Pe-le)]);s.style.minWidth=Oe+"px",s.style.left=Ce+"px"}else{const G=P.right-C.right,ee=window.innerWidth-A.right-G,B=window.innerWidth-S.right-ee,Oe=S.width+B,le=Math.max(Oe,P.width),Pe=window.innerWidth-Ot,Ce=Es(ee,[Ot,Math.max(Ot,Pe-le)]);s.style.minWidth=Oe+"px",s.style.right=Ce+"px"}const N=p(),T=window.innerHeight-Ot*2,k=h.scrollHeight,D=window.getComputedStyle(l),M=parseInt(D.borderTopWidth,10),I=parseInt(D.paddingTop,10),F=parseInt(D.borderBottomWidth,10),V=parseInt(D.paddingBottom,10),U=M+I+k+V+F,Q=Math.min(v.offsetHeight*5,U),q=window.getComputedStyle(h),R=parseInt(q.paddingTop,10),Y=parseInt(q.paddingBottom,10),H=S.top+S.height/2-Ot,J=T-H,ie=v.offsetHeight/2,W=v.offsetTop+ie,oe=M+I+W,z=U-oe;if(oe<=H){const G=N.length>0&&v===N[N.length-1].ref.current;s.style.bottom="0px";const ee=l.clientHeight-h.offsetTop-h.offsetHeight,B=Math.max(J,ie+(G?Y:0)+ee+F),Oe=oe+B;s.style.height=Oe+"px"}else{const G=N.length>0&&v===N[0].ref.current;s.style.top="0px";const ee=Math.max(H,M+h.offsetTop+(G?R:0)+ie)+z;s.style.height=ee+"px",h.scrollTop=oe-H+h.offsetTop}s.style.margin=`${Ot}px 0`,s.style.minHeight=Q+"px",s.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[p,o.trigger,o.valueNode,s,l,h,v,b,o.dir,n]);yr(()=>O(),[O]);const[x,j]=g.useState();yr(()=>{l&&j(window.getComputedStyle(l).zIndex)},[l]);const _=g.useCallback(S=>{S&&m.current===!0&&(O(),w==null||w(),m.current=!1)},[O,w]);return f.jsx(K_,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:y,onScrollButtonChange:_,children:f.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:f.jsx(fe.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});vh.displayName=W_;var X_="SelectPopperPosition",Gs=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ot,...o}=e,i=lo(r);return f.jsx(lj,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gs.displayName=X_;var[K_,Ys]=Qr(Sr,{}),Js="SelectViewport",gh=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=or(Js,r),i=Ys(Js,r),s=et(t,o.onViewportChange),c=g.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(so.Slot,{scope:r,children:f.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ue(a.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&d){const y=Math.abs(c.current-u.scrollTop);if(y>0){const m=window.innerHeight-Ot*2,h=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),b=Math.max(h,v);if(b<m){const w=b+y,O=Math.min(m,w),x=w-O;d.style.height=O+"px",d.style.bottom==="0px"&&(u.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});gh.displayName=Js;var bh="SelectGroup",[G_,Y_]=Qr(bh),J_=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=rt();return f.jsx(G_,{scope:r,id:a,children:f.jsx(fe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});J_.displayName=bh;var xh="SelectLabel",wh=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Y_(xh,r);return f.jsx(fe.div,{id:a.id,...n,ref:t})});wh.displayName=xh;var uo="SelectItem",[Z_,jh]=Qr(uo),_h=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,s=ar(uo,r),c=or(uo,r),l=s.value===n,[u,d]=g.useState(o??""),[p,y]=g.useState(!1),m=et(t,w=>{var O;return(O=c.itemRefCallback)==null?void 0:O.call(c,w,n,a)}),h=rt(),v=g.useRef("touch"),b=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Z_,{scope:r,value:n,disabled:a,textId:h,isSelected:l,onItemTextChange:g.useCallback(w=>{d(O=>O||((w==null?void 0:w.textContent)??"").trim())},[]),children:f.jsx(so.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:f.jsx(fe.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":l&&p,"data-state":l?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:m,onFocus:ue(i.onFocus,()=>y(!0)),onBlur:ue(i.onBlur,()=>y(!1)),onClick:ue(i.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:ue(i.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:ue(i.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:ue(i.onPointerMove,w=>{var O;v.current=w.pointerType,a?(O=c.onItemLeave)==null||O.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(i.onPointerLeave,w=>{var O;w.currentTarget===document.activeElement&&((O=c.onItemLeave)==null||O.call(c))}),onKeyDown:ue(i.onKeyDown,w=>{var O;((O=c.searchRef)==null?void 0:O.current)!==""&&w.key===" "||(B_.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});_h.displayName=uo;var Jn="SelectItemText",Oh=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=ar(Jn,r),s=or(Jn,r),c=jh(Jn,r),l=V_(Jn,r),[u,d]=g.useState(null),p=et(t,b=>d(b),c.onItemTextChange,b=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,b,c.value,c.disabled)}),y=u==null?void 0:u.textContent,m=g.useMemo(()=>f.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:h,onNativeOptionRemove:v}=l;return yr(()=>(h(m),()=>v(m)),[h,v,m]),f.jsxs(f.Fragment,{children:[f.jsx(fe.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?V1.createPortal(o.children,i.valueNode):null]})});Oh.displayName=Jn;var Sh="SelectItemIndicator",Nh=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return jh(Sh,r).isSelected?f.jsx(fe.span,{"aria-hidden":!0,...n,ref:t}):null});Nh.displayName=Sh;var Zs="SelectScrollUpButton",Eh=g.forwardRef((e,t)=>{const r=or(Zs,e.__scopeSelect),n=Ys(Zs,e.__scopeSelect),[a,o]=g.useState(!1),i=et(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollTop>0;o(l)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?f.jsx(Ch,{...e,ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});Eh.displayName=Zs;var Qs="SelectScrollDownButton",Ph=g.forwardRef((e,t)=>{const r=or(Qs,e.__scopeSelect),n=Ys(Qs,e.__scopeSelect),[a,o]=g.useState(!1),i=et(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;o(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?f.jsx(Ch,{...e,ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});Ph.displayName=Qs;var Ch=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=or("SelectScrollButton",r),i=g.useRef(null),s=co(r),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),yr(()=>{var l,u;(u=(l=s().find(d=>d.ref.current===document.activeElement))==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),f.jsx(fe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ue(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ue(a.onPointerMove,()=>{var l;(l=o.onItemLeave)==null||l.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ue(a.onPointerLeave,()=>{c()})})}),Q_="SelectSeparator",kh=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(fe.div,{"aria-hidden":!0,...n,ref:t})});kh.displayName=Q_;var ec="SelectArrow",eO=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=lo(r),o=ar(ec,r),i=or(ec,r);return o.open&&i.position==="popper"?f.jsx(uj,{...a,...n,ref:t}):null});eO.displayName=ec;function Mh(e){return e===""||e===void 0}var Ah=g.forwardRef((e,t)=>{const{value:r,...n}=e,a=g.useRef(null),o=et(t,a),i=ih(r);return g.useEffect(()=>{const s=a.current,c=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&l){const u=new Event("change",{bubbles:!0});l.call(s,r),s.dispatchEvent(u)}},[i,r]),f.jsx(l5,{asChild:!0,children:f.jsx("select",{...n,ref:o,defaultValue:r})})});Ah.displayName="BubbleSelect";function Th(e){const t=u5(e),r=g.useRef(""),n=g.useRef(0),a=g.useCallback(i=>{const s=r.current+i;t(s),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(s)},[t]),o=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function Dh(e,t,r){const n=t.length>1&&Array.from(t).every(s=>s===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=tO(e,Math.max(a,0));n.length===1&&(o=o.filter(s=>s!==r));const i=o.find(s=>s.textValue.toLowerCase().startsWith(n.toLowerCase()));return i!==r?i:void 0}function tO(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rO=sh,Ih=lh,nO=dh,aO=fh,oO=ph,Rh=hh,iO=gh,Lh=wh,Bh=_h,sO=Oh,cO=Nh,Fh=Eh,$h=Ph,zh=kh;const Ft=rO,$t=nO,Mt=g.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(Ih,{ref:n,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,f.jsx(aO,{asChild:!0,children:f.jsx(te,{name:"chevron-down",className:"h-4 w-4 opacity-50"})})]}));Mt.displayName=Ih.displayName;const Vh=g.forwardRef(({className:e,...t},r)=>f.jsx(Fh,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(te,{name:"chevron-up",className:"h-4 w-4"})}));Vh.displayName=Fh.displayName;const Uh=g.forwardRef(({className:e,...t},r)=>f.jsx($h,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(te,{name:"chevron-down",className:"h-4 w-4"})}));Uh.displayName=$h.displayName;const At=g.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>f.jsx(oO,{children:f.jsxs(Rh,{ref:a,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(Vh,{}),f.jsx(iO,{className:X("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(Uh,{})]})}));At.displayName=Rh.displayName;const lO=g.forwardRef(({className:e,...t},r)=>f.jsx(Lh,{ref:r,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));lO.displayName=Lh.displayName;const it=g.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(Bh,{ref:n,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(cO,{children:f.jsx(te,{name:"check",className:"h-4 w-4"})})}),f.jsx(sO,{children:t})]}));it.displayName=Bh.displayName;const uO=g.forwardRef(({className:e,...t},r)=>f.jsx(zh,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));uO.displayName=zh.displayName;let Hh;ht=g.memo(e=>{const{loading:t,...r}=e;return f.jsx(Te,{...r,disabled:e.disabled||t,children:t?f.jsx(te,{name:"loader-circle",className:"animate-spin"}):e.children})}),Hh=[wf.WebLLM];function dO(e){var D;const{id:t,setDialog:r}=e,{t:n}=se("components"),{toast:a}=ct(),o=Xe(t),[i,s]=g.useState(""),[c,l]=g.useState(!1),[u,d]=g.useState(""),[p,y]=g.useState(wf.WebLLM),[m,h]=g.useState(!1),[v,b]=g.useState(),w=vr(M=>M.syncCachedLLMURLs),O=vr(M=>M.cachedLLMURLs),{loading:x,createDatabaseLLM:j}=Dp();g.useEffect(()=>{tt(()=>import("./index-Di-3OKZb.js").then(async M=>(await M.__tla,M)),__vite__mapDeps([0,1,2,3,4])).then(async({functionCallingModelIds:M,prebuiltAppConfig:I})=>{const F=I.model_list;b({modelList:F,functionCallingModelIds:M})})},[]),g.useEffect(()=>{w()},[w]);const _=g.useMemo(()=>!(v!=null&&v.functionCallingModelIds)||!(v!=null&&v.modelList)?[]:((u?v==null?void 0:v.modelList.filter(M=>M.model_id.toLowerCase().includes(u.toLowerCase())):v==null?void 0:v.modelList)||[]).sort((M,I)=>{const F=O.some(Y=>Y.includes(M.model_id)),V=O.some(Y=>Y.includes(I.model_id));if(F&&!V)return-1;if(!F&&V)return 1;const U=Q1.includes(M.model_id),Q=Q1.includes(I.model_id);if(U&&!Q)return-1;if(!U&&Q)return 1;const q=v==null?void 0:v.functionCallingModelIds.includes(M.model_id),R=v==null?void 0:v.functionCallingModelIds.includes(I.model_id);return q&&!R?-1:!q&&R?1:M.vram_required_MB&&I.vram_required_MB&&M.vram_required_MB!==I.vram_required_MB?M.vram_required_MB-I.vram_required_MB:M.model_id.localeCompare(I.model_id)}),[v==null?void 0:v.modelList,v==null?void 0:v.functionCallingModelIds,u,O]),S=g.useMemo(()=>{if(!(!i||!(v!=null&&v.modelList)))return v==null?void 0:v.modelList.find(M=>M.model_id===i)},[i,v==null?void 0:v.modelList]);g.useEffect(()=>{!(S!=null&&S.model_id)||!O||h(O.some(M=>M.includes(S.model_id)))},[O,S==null?void 0:S.model_id]);const P=g.useCallback(M=>M===1?is.embedding:M===2?is.VLM:is.LLM,[]),A=g.useCallback(M=>{s(M),l(!1)},[]),C=g.useCallback(M=>{d(M)},[]),N=g.useCallback(M=>{y(M)},[]),T=async()=>{var M;if(o)try{await j(o,{name:i,model_type:P(S==null?void 0:S.model_type),function_calling:S!=null&&S.model_id?(M=v==null?void 0:v.functionCallingModelIds)==null?void 0:M.includes(S==null?void 0:S.model_id):!1}),r==null||r(!1)}catch{a({variant:"destructive",description:n("add_llm_card.errors.failed_to_create")})}finally{s("")}},k=g.useMemo(()=>_.map(M=>{var I;return f.jsxs(oh,{value:M.model_id,onSelect:A,children:[i===M.model_id?f.jsx(te,{name:"check",className:"mr-2 h-4 w-4"}):f.jsx("div",{className:"mr-2 h-4 w-4"}),f.jsxs("span",{className:"max-w-md",children:[f.jsxs("div",{className:"flex gap-2 mb-2",children:[f.jsx(Za,{name:M.model_id}),M.model_id]}),f.jsx("div",{className:"flex max-w-full flex-wrap gap-1",children:f.jsx(ss,{model:M,isFunctionCalling:((I=v==null?void 0:v.functionCallingModelIds)==null?void 0:I.includes(M.model_id))||!1,name:M.model_id,isCached:O.some(F=>F.includes(M.model_id))||!1})})]})]},M.model_id)}),[O,A,i,v==null?void 0:v.functionCallingModelIds,_]);return f.jsxs(De,{className:"max-w-lg",children:[f.jsx(Ge,{children:f.jsx(at,{children:n("add_llm_card.title")})}),f.jsxs(Ye,{children:[f.jsxs("div",{className:"grid w-full gap-1.5",children:[f.jsx(xe,{children:n("add_llm_card.provider")}),f.jsxs(Ft,{value:p,onValueChange:N,children:[f.jsx(Mt,{className:"w-full mb-4",children:f.jsx($t,{placeholder:n("add_llm_card.provider_select_placeholder")})}),f.jsx(At,{children:Object.values(Hh).map(M=>f.jsx(it,{value:M,children:n(`add_llm_card.providers.${M.toLowerCase()}`)},M))})]}),f.jsx(xe,{children:n("add_llm_card.model_name")}),f.jsxs(d_,{open:c,onOpenChange:l,children:[f.jsx($s,{asChild:!0,children:f.jsxs(Te,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[i?S==null?void 0:S.model_id:n("add_llm_card.select_model_placeholder"),f.jsx(te,{name:"chevrons-up-down",className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),f.jsx(Up,{className:"w-full p-0",children:f.jsxs(eh,{children:[f.jsx(th,{onValueChange:C,placeholder:n("add_llm_card.search_placeholder")}),f.jsxs(rh,{children:[f.jsx(nh,{children:n("add_llm_card.no_model")}),f.jsx(ah,{children:k})]})]})})]})]}),S?f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{className:"mt-4 text-sm text-muted-foreground center flex max-w-full flex-wrap gap-1",children:[f.jsx(Za,{name:S.model_id,className:"mr-2"}),f.jsx(ss,{model:S,isFunctionCalling:((D=v==null?void 0:v.functionCallingModelIds)==null?void 0:D.includes(S.model_id))||!1,name:S.model_id,isCached:O.some(M=>M.includes(S.model_id))||!1})]}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_url")}),S.model]}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground center flex",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_lib_url")}),S.model_lib]}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground center flex",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.metadata")}),JSON.stringify(S.overrides)]})]}):null]}),f.jsx(rr,{className:"flex justify-between",children:f.jsx(ht,{loading:x,disabled:!(i!=null&&i.length),onClick:T,className:"w-full",children:n(m?"add_llm_card.button_add":"add_llm_card.button_download_and_add")})})]})}const qh=()=>{const e=st(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=g.useState(!1),n=re(o=>o.createOrUpdateFlowNode),a=g.useCallback(async(o,i)=>{var s,c,l;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const u=((s=o.position)==null?void 0:s.x)||0,d=(((c=o.position)==null?void 0:c.y)||0)+(((l=o.measured)==null?void 0:l.height)||0),p=await ne("Prompt").save({content:i.content,prefix:i.prefix,role:i.role||lt.System,status:Bt.Started,session_id:e,type:i.type||ut.Chat});if(!p)throw new Error("Failed to save prompt");if(!await n({source_id:p.id,source_type:"Prompt",node_type:$.Prompt,x:u,y:d+20}))throw new Error("Failed to save prompt node")}finally{r(!1)}},[e,n]);return{loading:t,createPrompt:a}},fO={[ut.Chat]:{label:"add_prompt_card.prompt_types.chat",value:ut.Chat},[ut.FewShotExample]:{label:"add_prompt_card.prompt_types.few_shot_example",value:ut.FewShotExample}},pO={[lt.System]:{label:"add_prompt_card.prompt_roles.system",value:lt.System},[lt.Human]:{label:"add_prompt_card.prompt_roles.human",value:lt.Human},[lt.AI]:{label:"add_prompt_card.prompt_roles.ai",value:lt.AI}},tc=g.memo(({defaultPromptContent:e,defaultPromptRole:t,defaultPromptType:r,hidePromptRole:n,hidePromptType:a,loading:o,onSubmit:i})=>{const[s,c]=g.useState(e||""),[l,u]=g.useState(r||ut.Chat),[d,p]=g.useState(t),[y,m]=g.useState(""),{t:h}=se("components"),v=g.useCallback(j=>{c(j.target.value)},[]),b=g.useCallback(j=>{m(j.target.value)},[]),w=g.useCallback(j=>{j===ut.FewShotExample&&c(`Question: {input}
Answer: {output}`),u(j)},[]),O=g.useCallback(j=>{p(j)},[]),x=async()=>{await i({content:s,role:d,prefix:y,type:l})&&(c(""),p(void 0),u("chat"),m(""))};return f.jsxs("div",{children:[f.jsxs("div",{className:"grid w-full gap-1.5",children:[a?void 0:f.jsxs(f.Fragment,{children:[f.jsx(xe,{children:h("add_prompt_card.prompt_type")}),f.jsxs(Ft,{value:l,onValueChange:w,children:[f.jsx(Mt,{className:"w-full mb-4",children:f.jsx($t,{placeholder:h("add_prompt_card.type_select_placeholder")})}),f.jsx(At,{children:Object.values(fO).map(j=>f.jsx(it,{value:j.value,children:h(j.label)},j.value))})]})]}),n?void 0:f.jsxs(f.Fragment,{children:[f.jsx(xe,{children:h("add_prompt_card.prompt_role")}),f.jsxs(Ft,{value:d,onValueChange:O,children:[f.jsx(Mt,{className:"w-full mb-4",children:f.jsx($t,{placeholder:h("add_prompt_card.role_select_placeholder")})}),f.jsx(At,{children:Object.values(pO).map(j=>f.jsx(it,{value:j.value,children:h(j.label)},j.value))})]})]}),l===ut.FewShotExample&&f.jsxs(f.Fragment,{children:[f.jsx(xe,{children:h("add_prompt_card.prompt_prefix")}),f.jsx(Wr,{value:y,onChange:b,disabled:!1,className:"h-20",placeholder:h("add_prompt_card.placeholder"),id:"message"}),f.jsx(xe,{children:h("add_prompt_card.prompt_content")}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm justify-end items-center",children:[f.jsx(te,{name:"info",className:"mr-2",size:14}),h("add_prompt_card.few_shot_example_note")]})]}),f.jsx(Wr,{value:s,onChange:v,disabled:!1,placeholder:h("add_prompt_card.placeholder"),id:"message"})]}),f.jsx("div",{children:f.jsx(ht,{loading:o,disabled:!(s!=null&&s.length),onClick:x,className:"w-full mt-4",children:h("add_prompt_card.button")})})]})}),hO=g.memo(e=>{const{id:t,thread:r,setDialog:n}=e,{t:a}=se("components"),{toast:o}=ct(),i=Xe(t),{createPrompt:s,loading:c}=qh(),l=async u=>{if(i)try{if(!(u!=null&&u.content))throw new Error("Prompt data is missing");await s(i,{...u,content:u.content,thread:r}),n==null||n(!1)}catch(d){o({variant:"destructive",title:`${d}`})}};return f.jsxs(De,{className:"mw-full",children:[f.jsx(Ge,{children:f.jsx(at,{children:a("add_prompt_card.title")})}),f.jsx(Ye,{children:f.jsx(tc,{onSubmit:l,loading:c,defaultPromptRole:"system",defaultPromptType:"chat"})})]})}),mO="0123456789abcdef",yO=[8,4,4,4,12];function rc(){return yO.map(e=>d5(mO,e)()).join("-")}const vO=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=g.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=g.useCallback((i,s,c,l)=>{var u;if(e){for(const d of s)(u=d.data)!=null&&u.length?a(i,d.data,c,d.id):c.push({name:d.name,type:d.type,enum:d.enum?JSON.stringify(d.enum):"",required:d.required,description:d.description,id:d.id||rc(),parent_id:l,schema_id:i,session_id:e});return c}},[e]),o=g.useCallback(async(i,s)=>{var c,l,u;try{if(!i||!e)throw new Error("Source or Session not found");r(!0);const d=((c=i.position)==null?void 0:c.x)||0,p=(((l=i.position)==null?void 0:l.y)||0)+(((u=i.measured)==null?void 0:u.height)||0),y=await ne("Schema").save({name:"Untitled Schema",session_id:e});if(!y)throw new Error("Failed to save schema");const m=a(y.id,s,[],void 0);if(!(m!=null&&m.length))throw new Error("Failed to convert schema items");if(await ne("SchemaItem").save(m),!await n({source_id:y.id,source_type:"Schema",node_type:$.Schema,x:d,y:p+20}))throw new Error("Failed to save schema node")}finally{r(!1)}},[e,a,n]);return{loading:t,createSchema:o}};var zt="Accordion",gO=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[nc,bO,xO]=yf(zt),[fo,JB]=Vn(zt,[xO,fj]),ac=fj(),Wh=E.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,o=n;return f.jsx(nc.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?f.jsx(OO,{...o,ref:t}):f.jsx(_O,{...a,ref:t})})});Wh.displayName=zt;var[Xh,wO]=fo(zt),[Kh,jO]=fo(zt,{collapsible:!1}),_O=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:o=!1,...i}=e,[s,c]=kt({prop:r,defaultProp:n,onChange:a});return f.jsx(Xh,{scope:e.__scopeAccordion,value:s?[s]:[],onItemOpen:c,onItemClose:E.useCallback(()=>o&&c(""),[o,c]),children:f.jsx(Kh,{scope:e.__scopeAccordion,collapsible:o,children:f.jsx(Gh,{...i,ref:t})})})}),OO=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i=[],s]=kt({prop:r,defaultProp:n,onChange:a}),c=E.useCallback(u=>s((d=[])=>[...d,u]),[s]),l=E.useCallback(u=>s((d=[])=>d.filter(p=>p!==u)),[s]);return f.jsx(Xh,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:l,children:f.jsx(Kh,{scope:e.__scopeAccordion,collapsible:!0,children:f.jsx(Gh,{...o,ref:t})})})}),[SO,po]=fo(zt),Gh=E.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:o="vertical",...i}=e,s=E.useRef(null),c=et(s,t),l=bO(r),u=no(a)==="ltr",d=ue(e.onKeyDown,p=>{var S;if(!gO.includes(p.key))return;const y=p.target,m=l().filter(P=>{var A;return!((A=P.ref.current)!=null&&A.disabled)}),h=m.findIndex(P=>P.ref.current===y),v=m.length;if(h===-1)return;p.preventDefault();let b=h;const w=0,O=v-1,x=()=>{b=h+1,b>O&&(b=w)},j=()=>{b=h-1,b<w&&(b=O)};switch(p.key){case"Home":b=w;break;case"End":b=O;break;case"ArrowRight":o==="horizontal"&&(u?x():j());break;case"ArrowDown":o==="vertical"&&x();break;case"ArrowLeft":o==="horizontal"&&(u?j():x());break;case"ArrowUp":o==="vertical"&&j();break}const _=b%v;(S=m[_].ref.current)==null||S.focus()});return f.jsx(SO,{scope:r,disabled:n,direction:a,orientation:o,children:f.jsx(nc.Slot,{scope:r,children:f.jsx(fe.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:d})})})}),ho="AccordionItem",[NO,oc]=fo(ho),Yh=E.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,o=po(ho,r),i=wO(ho,r),s=ac(r),c=rt(),l=n&&i.value.includes(n)||!1,u=o.disabled||e.disabled;return f.jsx(NO,{scope:r,open:l,disabled:u,triggerId:c,children:f.jsx(BB,{"data-orientation":o.orientation,"data-state":rm(l),...s,...a,ref:t,disabled:u,open:l,onOpenChange:d=>{d?i.onItemOpen(n):i.onItemClose(n)}})})});Yh.displayName=ho;var Jh="AccordionHeader",Zh=E.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=po(zt,r),o=oc(Jh,r);return f.jsx(fe.h3,{"data-orientation":a.orientation,"data-state":rm(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});Zh.displayName=Jh;var ic="AccordionTrigger",Qh=E.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=po(zt,r),o=oc(ic,r),i=jO(ic,r),s=ac(r);return f.jsx(nc.ItemSlot,{scope:r,children:f.jsx(FB,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...s,...n,ref:t})})});Qh.displayName=ic;var em="AccordionContent",tm=E.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=po(zt,r),o=oc(em,r),i=ac(r);return f.jsx($B,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});tm.displayName=em;function rm(e){return e?"open":"closed"}let nm;Jf=Wh,Zf=Yh,nm=Zh,Ps=Qh,gs=tm;const am=Jf,sc=g.forwardRef(({className:e,...t},r)=>f.jsx(Zf,{ref:r,className:X("border-b",e),...t}));sc.displayName="AccordionItem";const cc=g.forwardRef(({className:e,children:t,...r},n)=>f.jsx(nm,{className:"flex",children:f.jsxs(Ps,{ref:n,className:X("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,f.jsx(te,{name:"chevron-down",className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));cc.displayName=Ps.displayName;const lc=g.forwardRef(({className:e,children:t,...r},n)=>f.jsx(gs,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:f.jsx("div",{className:X("pb-4 pt-0",e),children:t})}));lc.displayName=gs.displayName;var uc="Checkbox",[EO,ZB]=Vn(uc),[PO,CO]=EO(uc),om=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:s,value:c="on",onCheckedChange:l,form:u,...d}=e,[p,y]=g.useState(null),m=et(t,x=>y(x)),h=g.useRef(!1),v=p?u||!!p.closest("form"):!0,[b=!1,w]=kt({prop:a,defaultProp:o,onChange:l}),O=g.useRef(b);return g.useEffect(()=>{const x=p==null?void 0:p.form;if(x){const j=()=>w(O.current);return x.addEventListener("reset",j),()=>x.removeEventListener("reset",j)}},[p,w]),f.jsxs(PO,{scope:r,state:b,disabled:s,children:[f.jsx(fe.button,{type:"button",role:"checkbox","aria-checked":ir(b)?"mixed":b,"aria-required":i,"data-state":cm(b),"data-disabled":s?"":void 0,disabled:s,value:c,...d,ref:m,onKeyDown:ue(e.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ue(e.onClick,x=>{w(j=>ir(j)?!0:!j),v&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})}),v&&f.jsx(kO,{control:p,bubbles:!h.current,name:n,value:c,checked:b,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ir(o)?!1:o})]})});om.displayName=uc;var im="CheckboxIndicator",sm=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=CO(im,r);return f.jsx(es,{present:n||ir(o.state)||o.state===!0,children:f.jsx(fe.span,{"data-state":cm(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});sm.displayName=im;var kO=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,i=g.useRef(null),s=ih(r),c=zB(t);g.useEffect(()=>{const u=i.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==r&&p){const y=new Event("click",{bubbles:n});u.indeterminate=ir(r),p.call(u,ir(r)?!1:r),u.dispatchEvent(y)}},[s,r,n]);const l=g.useRef(ir(r)?!1:r);return f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??l.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ir(e){return e==="indeterminate"}function cm(e){return ir(e)?"indeterminate":e?"checked":"unchecked"}_s=om,Gf=sm;const lm=g.forwardRef(({className:e,...t},r)=>f.jsx(_s,{ref:r,className:X("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:f.jsx(Gf,{className:X("flex items-center justify-center text-current"),children:f.jsx(te,{name:"check",className:"h-4 w-4"})})}));lm.displayName=_s.displayName;const um=g.memo(({setData:e,data:t,id:r})=>{const{t:n}=se("components"),[a,o]=g.useState({name:"",description:"",type:"string",required:!1,data:[]}),i=g.useMemo(()=>r&&t.find(h=>h.id===r)||a,[t,a,r]),s=g.useCallback(h=>{h.target.value&&!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(h.target.value)||(r?e(v=>[...v.map(b=>b.id===r?{...b,name:h.target.value||""}:b)]):o(v=>({...v,name:h.target.value||""})))},[r,e]),c=g.useCallback(h=>{r?e(v=>[...v.map(b=>b.id===r?{...b,description:h.target.value||""}:b)]):o(v=>({...v,description:h.target.value||""}))},[r,e]),l=g.useCallback(h=>{r?e(v=>[...v.map(b=>b.id===r?{...b,type:h||""}:b)]):o(v=>({...v,type:h||"string"}))},[r,e]),u=g.useCallback(h=>{r?e(v=>[...v.map(b=>b.id===r?{...b,required:!!h||!1}:b)]):o(v=>({...v,required:!!h||!1}))},[r,e]),d=g.useCallback(h=>{r?e(v=>[...v.map(b=>b.id===r?{...b,enum:h.target.value||""}:b)]):o(v=>({...v,enum:h.target.value||""}))},[r,e]),p=g.useCallback(()=>{if(t.find(h=>h.name===a.name))return Un({variant:"destructive",content:"Name already exists"});a.id=rc(),e(h=>[...h,{...a}]),o({name:"",description:"",type:"string",required:!1,id:rc(),parent:r||void 0,data:[]})},[t,a,e,r]),y=g.useCallback(h=>{e(v=>[...v.map(b=>b.id===r?{...b,data:h(b.data||[])}:b)])},[r,e]),m=["object","array"].includes(i.type);return f.jsxs("div",{className:"w-full p-1",children:[f.jsxs("div",{children:[f.jsx(xe,{children:n("add_schema_card.field.name")}),f.jsx(_t,{id:"name",onChange:s,placeholder:n("add_schema_card.field.name_placeholder"),value:(i==null?void 0:i.name)||""})]}),f.jsxs("div",{children:[f.jsx(xe,{children:n("add_schema_card.field.description")}),f.jsx(_t,{id:"description",placeholder:n("add_schema_card.field.description_placeholder"),onChange:c,value:(i==null?void 0:i.description)||""})]}),f.jsxs("div",{children:[f.jsx(xe,{children:n("add_schema_card.field.type")}),f.jsxs(Ft,{onValueChange:l,value:(i==null?void 0:i.type)||"",children:[f.jsx(Mt,{children:f.jsx($t,{placeholder:n("add_schema_card.field.type_placeholder")})}),f.jsxs(At,{children:[f.jsx(it,{value:"string",children:n("add_schema_card.types.string")}),f.jsx(it,{value:"boolean",children:n("add_schema_card.types.boolean")}),f.jsx(it,{value:"number",children:n("add_schema_card.types.number")}),f.jsx(it,{value:"object",children:n("add_schema_card.types.object")}),f.jsx(it,{value:"array",children:n("add_schema_card.types.array")})]})]})]}),f.jsxs("div",{className:"flex items-center h-10",children:[f.jsx(xe,{children:n("add_schema_card.field.required")}),f.jsx(lm,{className:"ml-2","aria-label":"Select row",onCheckedChange:u,checked:i==null?void 0:i.required})]}),m?f.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[f.jsx(xe,{children:n("add_schema_card.children")}),f.jsx(dm,{data:(i==null?void 0:i.data)||[],setData:y})]}):null,(i==null?void 0:i.type)==="enum"?f.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[f.jsx(xe,{children:n("add_schema_card.field.enum")}),f.jsx(_t,{id:"enum",onChange:d,placeholder:"Enum"})]}):null,r?null:f.jsx("div",{className:"w-full flex justify-end mt-2",children:f.jsx(Te,{variant:"secondary",disabled:!i.name||!i.description||!i.type,onClick:p,className:"w-full",children:n("add_schema_card.field.add_field")})})]})}),dm=g.memo(({data:e,setData:t})=>f.jsxs(am,{type:"single",collapsible:!0,children:[e.map(r=>f.jsxs(sc,{value:`${r.id}`,children:[f.jsx(cc,{children:r.name}),f.jsx(lc,{children:f.jsx(um,{setData:t,data:e,id:r.id})})]},r.id||"new")),f.jsx(De,{className:"p-2 mt-4",children:f.jsx(um,{setData:t,data:e})})]})),MO=g.memo(e=>{const{t}=se("components"),{id:r}=e,n=Xe(r),[a,o]=g.useState([]),{createSchema:i,loading:s}=vO(),c=async()=>{if(n&&(a!=null&&a.length))try{await i(n,a),o([])}catch(l){Un({variant:"destructive",title:`${l}`})}};return f.jsxs(De,{className:"max-w-lg",children:[f.jsx(Ge,{children:f.jsx(at,{children:t("add_schema_card.title")})}),f.jsx(Ye,{className:"min-w-96",children:f.jsx(dm,{setData:o,data:a})}),f.jsx(rr,{className:"flex justify-between",children:f.jsx(ht,{loading:s,disabled:!(a!=null&&a.length),onClick:c,className:"w-full",children:t("add_schema_card.create")})})]})}),fm=()=>{const e=st(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=g.useState(!1),n=re(o=>o.createOrUpdateFlowNode),a=g.useCallback(async(o,i,s)=>{var c,l,u;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const d=((c=o.position)==null?void 0:c.x)||0,p=(((l=o.position)==null?void 0:l.y)||0)+(((u=o.measured)==null?void 0:u.height)||0),y=f5(i,s),m=await ne("CSVData").save({headers:y.headers,csv:y.data,session_id:e});if(!m)throw new Error("Failed to save");if(!await n({source_id:m.id,source_type:"CSVData",node_type:$.CSVData,x:d,y:p+20}))throw new Error("Failed to save node")}finally{r(!1)}},[e,n]);return{loading:t,createCSVData:a}},mo=g.forwardRef(({className:e,...t},r)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:r,className:X("w-full caption-bottom text-sm",e),...t})}));mo.displayName="Table";const yo=g.forwardRef(({className:e,...t},r)=>f.jsx("thead",{ref:r,className:X("[&_tr]:border-b",e),...t}));yo.displayName="TableHeader";const vo=g.forwardRef(({className:e,...t},r)=>f.jsx("tbody",{ref:r,className:X("[&_tr:last-child]:border-0",e),...t}));vo.displayName="TableBody";const AO=g.forwardRef(({className:e,...t},r)=>f.jsx("tfoot",{ref:r,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));AO.displayName="TableFooter";const Nr=g.forwardRef(({className:e,...t},r)=>f.jsx("tr",{ref:r,className:X("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Nr.displayName="TableRow";const en=g.forwardRef(({className:e,...t},r)=>f.jsx("th",{ref:r,className:X("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));en.displayName="TableHead";const tn=g.forwardRef(({className:e,...t},r)=>f.jsx("td",{ref:r,className:X("align-middle [&:has([role=checkbox])]:pr-0",e),...t}));tn.displayName="TableCell";const TO=g.forwardRef(({className:e,...t},r)=>f.jsx("caption",{ref:r,className:X("mt-4 text-sm text-muted-foreground",e),...t}));TO.displayName="TableCaption";function DO({data:e}){const{t}=se("components");return f.jsxs(mo,{className:"w-full",children:[f.jsx(yo,{children:f.jsxs(Nr,{children:[f.jsx(en,{children:t("add_few_shot_example_card.input")}),f.jsx(en,{children:t("add_few_shot_example_card.output")})]})}),f.jsx(vo,{children:e==null?void 0:e.map((r,n)=>f.jsxs(Nr,{children:[f.jsx(tn,{className:"p-4",children:r.input}),f.jsx(tn,{className:"p-4",children:r.output})]},`${r.input}_${r.output}_${n}`))})]})}const IO=g.memo(e=>{const{id:t}=e,{t:r}=se("components"),[n,a]=g.useState([]),[o,i]=g.useState(""),[s,c]=g.useState(""),l=Xe(t),{createCSVData:u,loading:d}=fm(),p=()=>{a(m=>[...m,{input:o,output:s}]),i(""),c("")},y=async()=>{l&&await u(l,["input","output"],n.map(m=>[m.input,m.output]))};return f.jsxs(De,{className:"mw-full",children:[f.jsx(Ge,{children:f.jsx(at,{children:r("add_few_shot_example_card.title")})}),f.jsxs(Ye,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(xe,{htmlFor:"name",children:r("add_few_shot_example_card.input")}),f.jsx(_t,{value:o,onChange:m=>i(m.target.value||""),id:"name",placeholder:r("add_few_shot_example_card.input_placeholder")})]}),f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(xe,{htmlFor:"name",children:r("add_few_shot_example_card.output")}),f.jsx(Wr,{value:s,onChange:m=>c(m.target.value||""),placeholder:r("add_few_shot_example_card.output_placeholder")})]}),f.jsx("div",{className:"w-full flex mt-4 justify-end",children:f.jsx(Te,{disabled:!o||!s,onClick:p,className:"w-40",children:r("add_few_shot_example_card.add")})}),f.jsx(DO,{data:n||[]})]}),f.jsx(rr,{className:"flex justify-between",children:f.jsx(ht,{loading:d,disabled:!(n!=null&&n.length),onClick:y,className:"w-full",children:r("add_few_shot_example_card.create")})})]})}),RO=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=g.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=g.useCallback(async(i,s,c)=>{var l,u,d;try{if(!i||!e)throw new Error("Source or Session not found");if(!s.name||!s.description)throw new Error("Name is required");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,y=(((u=i.position)==null?void 0:u.y)||0)+(((d=i.measured)==null?void 0:d.height)||0),m=await ne("ToolDefinition").save({...s,name:`${s.name}`,description:`${s.description}`,session_id:e});if(!m)throw new Error("Failed create tool.");const h=await n({source_id:m.id,source_type:"ToolDefinition",node_type:$.ToolDefinition,x:p,y:y+20});if(!h)throw new Error("Failed to save node");c!=null&&c.schemaNode&&await a({source:c.schemaNode.id,target:h.id})}finally{r(!1)}},[e,n,a]);return{loading:t,createTool:o}},LO=g.memo(e=>{const{t}=se("components"),{toast:r}=ct(),{id:n}=e,a=Xe(n),[o,i]=g.useState(""),[s,c]=g.useState(""),{createTool:l,loading:u}=RO(),d=m=>{i(m.target.value)},p=m=>{c(m.target.value)},y=async()=>{if(a&&o&&s)try{await l(a,{name:o,description:s}),i(""),c("")}catch(m){ts(m),r({variant:"destructive",title:t("add_tool_card.errors.create_tool_failed")})}};return f.jsxs(De,{className:"mw-full",children:[f.jsx(Ge,{children:f.jsx(at,{children:t("add_tool_card.title")})}),f.jsxs(Ye,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(xe,{htmlFor:"name",children:t("add_tool_card.tool_name")}),f.jsx(_t,{onChange:d,id:"name",placeholder:t("add_tool_card.name_placeholder")})]}),f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(xe,{htmlFor:"name",children:t("add_tool_card.tool_description")}),f.jsx(Wr,{onChange:p,placeholder:t("add_tool_card.description_placeholder")})]})]}),f.jsx(rr,{className:"flex justify-between",children:f.jsx(ht,{loading:u,onClick:y,className:"w-full",children:t("add_tool_card.create")})})]})}),BO=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=g.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=g.useCallback(async(i,s,c)=>{var l,u,d;try{if(!(s!=null&&s.name)||!i||!e)throw new Error("Source or Session not found");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,y=(((u=i.position)==null?void 0:u.y)||0)+(((d=i.measured)==null?void 0:d.height)||0),m=await ne("JSONLData").save({headers:p5(["content","embedding","metadata"]),jsonl:"",session_id:e});if(!m)throw new Error("Failed to save databaseSource");const h=await n({source_id:m.id,source_type:"JSONLData",node_type:$.JSONLData,x:p+80,y:y+30});if(!h)throw new Error("Failed to save databaseSource node");const v=await ne("VectorDatabase").save({...s,name:`${s.name}`,type:s.type||h5.Local,storage:s.storage||U1.DataNode,provider:s.provider||H1.Memory,session_id:e,metadata:c?JSON.stringify({textSplitter:c}):void 0});if(!v)throw new Error("Failed to save vectorDatabase");const b=await n({source_id:v.id,source_type:"VectorDatabase",node_type:$.VectorDatabase,x:p,y:y+30});if(!b)throw new Error("Failed to save vectorDatabase node");return await a({source:h.id,target:b.id}),{vectorDatabase:v,vectorDatabaseNode:b}}finally{r(!1)}},[e,n,a]);return{loading:t,createVectorDatabase:o}},Zn=[H1.Memory],Qn=[U1.DataNode],FO=["TokenTextSplitter","CharacterTextSplitter","RecursiveCharacterTextSplitter"],$O=g.memo(e=>{const{t}=se("components"),{id:r}=e,n=Xe(r),{toast:a}=ct(),[o,i]=g.useState(""),[s,c]=g.useState(Zn[0]),[l,u]=g.useState(Qn[0]),[d,p]=g.useState({}),{loading:y,createVectorDatabase:m}=BO(),h=g.useCallback(_=>{c(_)},[]),v=g.useCallback(_=>{u(_)},[]),b=g.useCallback(_=>{p(S=>({...S,type:_,chunkSize:500,chunkOverlap:40}))},[]),w=g.useCallback(_=>{i(_.target.value||"")},[]),O=g.useCallback(_=>{p(S=>({...S,chunkSize:Number(_.target.value)}))},[]),x=g.useCallback(_=>{p(S=>({...S,chunkOverlap:Number(_.target.value)}))},[]),j=async()=>{try{if(!n)return;await m(n,{name:o,provider:s,storage:l},d!=null&&d.type?{type:d.type,chunkSize:d.chunkSize||500,chunkOverlap:d.chunkOverlap||0}:void 0),i(""),p({})}catch{a({variant:"destructive",description:t("create_vector_database_card.errors.create_failed")})}};return f.jsxs(De,{className:"mw-full",children:[f.jsx(Ge,{children:f.jsx(at,{children:t("create_vector_database_card.title")})}),f.jsx(Ye,{children:f.jsxs("div",{className:"grid w-full gap-1.5",children:[f.jsx(xe,{children:t("create_vector_database_card.name")}),f.jsx(_t,{className:"mb-4",value:o,onChange:w}),(Qn==null?void 0:Qn.length)>1?f.jsxs(f.Fragment,{children:[f.jsx(xe,{children:t("create_vector_database_card.storage_type")}),f.jsxs(Ft,{value:l,onValueChange:v,children:[f.jsx(Mt,{className:"w-full mb-4",children:f.jsx($t,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),f.jsx(At,{children:Object.values(Qn).map(_=>f.jsx(it,{value:_,children:t(`create_vector_database_card.storage_types.${_.toLowerCase()}`)},_))})]})]}):void 0,(Zn==null?void 0:Zn.length)>1?f.jsxs(f.Fragment,{children:[f.jsx(xe,{children:t("create_vector_database_card.provider")}),f.jsxs(Ft,{value:s,onValueChange:h,children:[f.jsx(Mt,{className:"w-full mb-4",children:f.jsx($t,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),f.jsx(At,{children:Object.values(Zn).map(_=>f.jsx(it,{value:_,children:t(`create_vector_database_card.providers.${_.toLowerCase()}`)},_))})]})]}):void 0,f.jsx(xe,{children:t("create_vector_database_card.text_splitter")}),f.jsxs(Ft,{value:d.type,onValueChange:b,children:[f.jsx(Mt,{className:"w-full mb-4",children:f.jsx($t,{placeholder:t("create_vector_database_card.text_splitter_select_placeholder")})}),f.jsx(At,{children:Object.values(FO).map(_=>f.jsx(it,{value:_,children:t(`create_vector_database_card.text_splitters.${_.toLowerCase()}`)},_))})]}),d.type?f.jsxs(De,{children:[f.jsx(Ge,{children:f.jsx(at,{children:t("create_vector_database_card.text_splitter_configuration")})}),f.jsxs(Ye,{children:[f.jsx(xe,{children:t("create_vector_database_card.text_splitter_chunksize")}),f.jsx(_t,{value:d.chunkSize,onChange:O,placeholder:t("create_vector_database_card.text_splitter_chunksize_placeholder")}),f.jsx(xe,{children:t("create_vector_database_card.text_splitter_chunkoverlap")}),f.jsx(_t,{value:d.chunkOverlap,onChange:x,placeholder:t("create_vector_database_card.text_splitter_chunkoverlap_placeholder")})]})]}):void 0]})}),f.jsx(rr,{className:"flex justify-between",children:f.jsx(ht,{disabled:!d.type||!o,loading:y,onClick:j,className:"w-full",children:t("create_vector_database_card.create")})})]})}),zO=e=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"64 64 384.000000 384.000000",preserveAspectRatio:"xMidYMid meet",fill:"#000000",...e},g.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",stroke:"none"},g.createElement("path",{d:"M1953 3948 c-13 -21 -16 -289 -4 -369 15 -97 39 -193 62 -247 l18 -42 -69 -133 -69 -132 32 -22 c18 -12 40 -25 49 -28 24 -9 13 -25 -18 -25 -13 0 -24 -4 -24 -9 0 -13 40 -60 61 -71 10 -6 107 -15 215 -21 175 -9 198 -8 214 6 10 9 33 18 51 21 31 4 40 -1 92 -52 64 -63 70 -88 25 -114 -22 -12 -33 -12 -58 -3 -34 13 -41 0 -9 -17 24 -13 73 -5 89 15 10 12 17 11 43 -6 41 -24 59 -24 88 2 l24 20 -28 -17 c-26 -16 -31 -16 -62 -1 -58 27 -55 54 11 120 65 65 90 71 145 34 31 -20 41 -21 114 -15 44 4 129 10 190 14 107 6 110 7 142 39 39 39 42 55 8 55 -37 0 -31 17 14 40 22 11 42 24 46 30 7 11 -13 51 -90 184 -54 95 -54 95 -39 131 8 20 27 84 41 143 24 95 27 126 28 284 0 125 -4 180 -12 189 -30 30 -262 -126 -372 -250 l-62 -70 -42 16 c-67 25 -247 28 -332 6 l-70 -19 -86 86 c-96 96 -180 160 -272 207 -70 37 -73 38 -84 21z m1117 -261 c0 -2 -9 -14 -20 -27 -11 -13 -20 -19 -20 -15 0 5 7 17 17 27 15 17 23 22 23 15z m-830 -97 c6 -11 7 -20 2 -20 -6 0 -12 9 -15 20 -3 11 -3 20 -1 20 2 0 8 -9 14 -20z m744 -15 c-9 -14 -18 -25 -21 -25 -5 0 5 18 20 38 17 22 18 13 1 -13z m-654 -534 c0 -27 4 -61 10 -75 8 -21 7 -26 -6 -26 -38 0 -100 67 -119 128 -6 21 -4 22 54 22 l61 0 0 -49z m700 39 c0 -44 -80 -140 -117 -140 -12 0 -14 7 -9 31 3 17 6 51 6 75 l0 44 60 0 c35 0 60 -4 60 -10z m-587 -35 c15 -14 27 -30 27 -34 0 -18 -42 -60 -69 -69 -29 -10 -30 -10 -20 14 5 14 9 45 9 70 0 51 12 56 53 19z m411 -37 c3 -34 4 -64 1 -66 -15 -15 -85 53 -85 82 0 7 61 46 71 46 3 0 9 -28 13 -62z"}),g.createElement("path",{d:"M1590 3717 c0 -2 15 -16 33 -33 l32 -29 -29 33 c-28 30 -36 37 -36 29z"}),g.createElement("path",{d:"M1723 2863 c26 -2 68 -2 95 0 26 2 4 3 -48 3 -52 0 -74 -1 -47 -3z"}),g.createElement("path",{d:"M3403 2863 c31 -2 83 -2 115 0 31 2 5 3 -58 3 -63 0 -89 -1 -57 -3z"}),g.createElement("path",{d:"M3258 2853 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),g.createElement("path",{d:"M2010 2830 c4 -8 20 -26 35 -40 l27 -25 -24 -6 c-16 -4 -7 -7 32 -13 58 -7 245 20 305 44 30 12 30 12 7 21 -23 9 -190 25 -324 32 -57 2 -65 1 -58 -13z"}),g.createElement("path",{d:"M3165 2844 c-148 -9 -306 -28 -293 -35 8 -6 -3 -9 -32 -10 -39 -1 -36 -3 25 -11 39 -5 79 -13 90 -18 33 -15 173 -32 197 -24 13 4 37 7 53 7 29 0 29 0 3 4 -33 5 -35 14 -7 39 29 26 44 55 27 52 -7 -1 -35 -3 -63 -4z"}),g.createElement("path",{d:"M2300 2749 c-63 -10 -130 -19 -147 -20 -37 -3 -40 -7 -17 -24 14 -9 -3 -19 -100 -60 -63 -27 -114 -51 -112 -53 3 -2 57 19 121 47 l117 50 41 -30 c51 -37 105 -61 121 -53 6 3 -11 -14 -39 -38 -172 -148 -266 -262 -325 -392 -16 -35 -36 -66 -45 -70 -9 -3 -55 -6 -102 -6 -94 0 -130 -16 -158 -70 -20 -39 -19 -80 10 -341 32 -287 32 -264 -5 -242 -56 33 -110 97 -139 168 -43 104 -99 136 -175 100 -122 -58 -74 -289 92 -450 65 -63 155 -118 231 -140 l59 -18 6 -56 c4 -31 15 -71 26 -89 39 -64 1 -62 962 -62 848 0 874 1 905 20 61 37 61 34 119 556 58 521 58 539 12 581 -44 40 -62 43 -242 43 l-176 0 -40 82 c-73 146 -155 247 -294 356 l-77 61 43 22 c23 12 60 33 81 47 32 21 41 23 63 13 36 -16 44 -13 12 5 -32 17 -36 31 -10 37 9 3 -2 5 -24 6 -23 0 -77 7 -120 15 -90 16 -164 26 -164 21 0 -2 31 -13 70 -25 63 -20 69 -23 60 -41 -23 -42 -111 -99 -194 -124 -99 -30 -148 -31 -236 -5 -73 22 -182 87 -200 119 -12 23 -15 21 85 60 59 24 54 24 -95 0z m1414 -684 c35 -23 56 -65 56 -112 1 -65 -91 -906 -103 -947 -7 -22 -24 -48 -40 -60 -28 -21 -34 -21 -900 -24 -851 -2 -873 -2 -904 17 -18 11 -39 30 -47 43 -15 23 -39 208 -71 538 -9 85 -22 211 -30 280 -22 184 -21 194 19 238 34 37 35 37 133 43 54 4 494 6 979 4 823 -2 883 -4 908 -20z"}),g.createElement("path",{d:"M1973 2743 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),g.createElement("path",{d:"M3263 2743 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),g.createElement("path",{d:"M1908 2733 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),g.createElement("path",{d:"M2435 2730 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0 -8 -4 -11 -10z"}),g.createElement("path",{d:"M3328 2733 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),g.createElement("path",{d:"M1848 2723 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),g.createElement("path",{d:"M3383 2723 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),g.createElement("path",{d:"M1798 2713 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),g.createElement("path",{d:"M3438 2713 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),g.createElement("path",{d:"M1738 2703 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),g.createElement("path",{d:"M3488 2703 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),g.createElement("path",{d:"M1688 2693 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),g.createElement("path",{d:"M3538 2693 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),g.createElement("path",{d:"M3170 2660 c8 -5 20 -10 25 -10 6 0 3 5 -5 10 -8 5 -19 10 -25 10 -5 0 -3 -5 5 -10z"}),g.createElement("path",{d:"M3230 2635 c14 -8 30 -14 35 -14 6 0 -1 6 -15 14 -14 8 -29 14 -35 14 -5 0 1 -6 15 -14z"}),g.createElement("path",{d:"M3349 2584 c41 -19 76 -33 78 -31 4 5 -133 67 -145 66 -4 0 26 -16 67 -35z"}),g.createElement("path",{d:"M1860 2570 c-8 -5 -10 -10 -5 -10 6 0 17 5 25 10 8 5 11 10 5 10 -5 0 -17 -5 -25 -10z"}),g.createElement("path",{d:"M1764 2524 c-18 -14 -18 -14 6 -3 31 14 36 19 24 19 -6 0 -19 -7 -30 -16z"}),g.createElement("path",{d:"M3470 2530 c8 -5 20 -10 25 -10 6 0 3 5 -5 10 -8 5 -19 10 -25 10 -5 0 -3 -5 5 -10z"})));function VO({data:e}){const{t}=se("components");return f.jsxs(mo,{className:"w-full",children:[f.jsx(yo,{children:f.jsx(Nr,{children:f.jsx(en,{children:t("add_text_data.text")})})}),f.jsx(vo,{children:e==null?void 0:e.map((r,n)=>f.jsx(Nr,{children:f.jsx(tn,{className:"p-4",children:r.text})},`${r.text}_${n}`))})]})}const UO=g.memo(e=>{const{id:t}=e,{t:r}=se("components"),[n,a]=g.useState([]),[o,i]=g.useState(""),s=Xe(t),{createCSVData:c,loading:l}=fm(),u=()=>{a(p=>[...p,{text:o}]),i("")},d=async()=>{s&&await c(s,["text"],n.map(p=>[p.text]))};return f.jsxs(De,{className:"mw-full",children:[f.jsx(Ge,{children:f.jsx(at,{children:r("add_text_data.title")})}),f.jsxs(Ye,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(xe,{htmlFor:"name",children:r("add_text_data.text")}),f.jsx(Wr,{value:o,onChange:p=>i(p.target.value||""),placeholder:r("add_text_data.text_placeholder")})]}),f.jsx("div",{className:"w-full flex mt-4 justify-end",children:f.jsx(Te,{disabled:!o,onClick:u,className:"w-40",children:r("add_text_data.add")})}),f.jsx(VO,{data:n||[]})]}),f.jsx(rr,{className:"flex justify-between",children:f.jsx(ht,{loading:l,disabled:!(n!=null&&n.length),onClick:d,className:"w-full",children:r("add_text_data.create")})})]})});var Vt=(e=>(e.ADD_LLM="ADD_LLM",e.ADD_PROMPT="ADD_PROMPT",e.ADD_TOOL_DEFINITION="ADD_TOOL_DEFINITION",e.ADD_SCHEMA="ADD_SCHEMA",e.ADD_FEW_SHOT_EXAMPLE="ADD_FEW_SHOT_EXAMPLE",e.ADD_VECTOR_DATABASE="ADD_VECTOR_DATABASE",e.ADD_TEXT_DATA="ADD_TEXT_DATA",e))(Vt||{});const HO=["ADD_LLM","ADD_PROMPT","ADD_SCHEMA","ADD_VECTOR_DATABASE",{key:"more",label:"more",icon:"ellipsis",children:["ADD_TOOL_DEFINITION","ADD_FEW_SHOT_EXAMPLE"]}],qO=()=>{const e="_coolMode_effect",t=document.getElementById(e);if(t)return t;const r=document.createElement("div");return r.setAttribute("id",e),r.setAttribute("style","overflow:hidden; position:fixed; height:100%; top:0; left:0; right:0; bottom:0; pointer-events:none; z-index:2147483647"),document.body.appendChild(r),r};let pm=0,hm,mm,ym,vm,gm,bm,Ue,go,pe,xm,wm,jm,_m,bo;hm=(e,t)=>{pm++;const r=(t==null?void 0:t.particle)||"circle",n=[15,20,25,35,45],a=45;let o=[],i=!1,s=0,c=0;const l=qO();function u(){const S=(t==null?void 0:t.size)||n[Math.floor(Math.random()*n.length)],P=(t==null?void 0:t.speedHorz)||Math.random()*10,A=(t==null?void 0:t.speedUp)||Math.random()*25,C=Math.random()*360,N=Math.random()*35*(Math.random()<=.5?-1:1),T=c-S/2,k=s-S/2,D=Math.random()<=.5?-1:1,M=document.createElement("div");if(r==="circle"){const I="http://www.w3.org/2000/svg",F=document.createElementNS(I,"svg"),V=document.createElementNS(I,"circle");V.setAttributeNS(null,"cx",(S/2).toString()),V.setAttributeNS(null,"cy",(S/2).toString()),V.setAttributeNS(null,"r",(S/2).toString()),V.setAttributeNS(null,"fill",`hsl(${Math.random()*360}, 70%, 50%)`),F.appendChild(V),F.setAttribute("width",S.toString()),F.setAttribute("height",S.toString()),M.appendChild(F)}else M.innerHTML=`<img src="${r}" width="${S}" height="${S}" style="border-radius: 50%">`;M.style.position="absolute",M.style.transform=`translate3d(${k}px, ${T}px, 0px) rotate(${C}deg)`,l.appendChild(M),o.push({direction:D,element:M,left:k,size:S,speedHorz:P,speedUp:A,spinSpeed:N,spinVal:C,top:T})}function d(){o.forEach(S=>{S.left=S.left-S.speedHorz*S.direction,S.top=S.top-S.speedUp,S.speedUp=Math.min(S.size,S.speedUp-1),S.spinVal=S.spinVal+S.spinSpeed,S.top>=Math.max(window.innerHeight,document.body.clientHeight)+S.size&&(o=o.filter(P=>P!==S),S.element.remove()),S.element.setAttribute("style",["position:absolute","will-change:transform",`top:${S.top}px`,`left:${S.left}px`,`transform:rotate(${S.spinVal}deg)`].join(";"))})}let p,y=0;const m=30;function h(){const S=performance.now();i&&o.length<a&&S-y>m&&(u(),y=S),d(),p=requestAnimationFrame(h)}h();const v="ontouchstart"in window,b=v?"touchstart":"mousedown",w=v?"touchend":"mouseup",O=v?"touchmove":"mousemove",x=S=>{var P,A;"touches"in S?(s=(P=S.touches)==null?void 0:P[0].clientX,c=(A=S.touches)==null?void 0:A[0].clientY):(s=S.clientX,c=S.clientY)},j=S=>{x(S),i=!0},_=()=>{i=!1};return e.addEventListener(O,x,{passive:!0}),e.addEventListener(b,j,{passive:!0}),e.addEventListener(w,_,{passive:!0}),e.addEventListener("mouseleave",_,{passive:!0}),()=>{e.removeEventListener(O,x),e.removeEventListener(b,j),e.removeEventListener(w,_),e.removeEventListener("mouseleave",_);const S=setInterval(()=>{p&&o.length===0&&(cancelAnimationFrame(p),clearInterval(S),--pm===0&&l.remove())},500)}},mm=({children:e,options:t})=>{const r=g.useRef(null);return g.useEffect(()=>{if(r.current)return hm(r.current,t)},[t]),E.cloneElement(e,{ref:r})},ym=g.memo(e=>{const{t}=se("flows"),r=q1(s=>s.theme),[n,a]=g.useState(`${Vt.ADD_LLM}`),o=g.useMemo(()=>f.jsxs(kp,{children:[f.jsx(Rs,{children:f.jsx(mm,{children:f.jsx(Te,{variant:"link",className:"!p-0 !pl-3",children:f.jsx(zO,{width:32,height:32,className:X(r==="dark"?"fill-white":"fill-black")})})})}),HO.map(s=>typeof s=="object"?f.jsxs(Rs,{children:[f.jsx(Ls,{children:s.icon?f.jsx(te,{name:s.icon}):t(`supported_nodes.${s.label}`)}),f.jsx(Mp,{children:s.children.map(c=>f.jsx(Ap,{onClick:()=>a(c),children:t(`supported_nodes.${c.toLowerCase()}`)},c))})]},s.key):f.jsx(Rs,{children:f.jsx(Ls,{value:s,onClick:()=>a(s),children:t(`supported_nodes.${s.toLowerCase()}`)})},s))]}),[t,r]),i=g.useMemo(()=>{switch(n){case Vt.ADD_LLM:return f.jsx(dO,{...e});case Vt.ADD_PROMPT:return f.jsx(hO,{...e});case Vt.ADD_SCHEMA:return f.jsx(MO,{...e});case Vt.ADD_FEW_SHOT_EXAMPLE:return f.jsx(IO,{...e});case Vt.ADD_TOOL_DEFINITION:return f.jsx(LO,{...e});case Vt.ADD_VECTOR_DATABASE:return f.jsx($O,{...e});case Vt.ADD_TEXT_DATA:return f.jsx(UO,{...e})}},[e,n]);return f.jsxs(f.Fragment,{children:[o,f.jsx("div",{className:"mt-4",children:i})]})}),vm=()=>{const[e,t]=g.useState(!1),r=st(i=>i.currentSession),n=st(i=>i.getLatestApplications),a=g.useCallback(async(i,s,c,l)=>{var p;const u=(p=s.data)==null?void 0:p.entity;let d=s.type?m5[s.type]:void 0;if(d&&u&&s&&typeof u=="object"&&"id"in u&&!c.has(`${u.id}`)){d=d;const y=await ne(d).save({...u,...u&&typeof u=="object"&&"session_id"in u?{session_id:i.id}:{}});c.set(`${u.id}`,y.id);const m=await ne("FlowNode").save({...s.data.flowNode,session_id:i.id,id:void 0,source_type:d,source_id:y.id});return l.set(`${s.id}`,m.id),{entityName:d,entity:y,node:m}}},[]),o=g.useCallback(async(i,s)=>{try{if(!r)throw new Error("No current session");t(!0);const c=await ne("Session").save({type:y5.StandaloneApp,name:s.name||(r!=null&&r.name?`${r.name}`:"Standalone"),status:v5.Started});if(!c)throw new Error("Failed create standalone session");const l=new Map,u=new Map,d=await a(c,i,l,u);if(!d)throw new Error("Failed to clone main node");await ne("Session").update(c.id,{main_node_id:d.node.id,main_source_id:d.entity.id,main_source_type:d.entityName});for(const{node:p,connectedNodes:y}of s.connections)if(await a(c,p,l,u),y)for(const m of y)await a(c,m,l,u);for(const{connections:p}of s.connections)for(const y of p){const m=u.get(`${y.source}`),h=u.get(`${y.target}`);if(!m||!h)throw new Error("Failed to get connected flow node id");await ne("FlowEdge").save({source:m,target:h,sourceHandle:y.sourceHandle,targetHandle:y.targetHandle,session_id:c.id})}return n(),!0}finally{t(!1)}},[a,r,n]);return{loading:e,createStandaloneSession:o}},gm=()=>{const[e,t]=g.useState(!1),r=re(o=>o.updateNodes),n=re(o=>o.updateEdges),a=g.useCallback(async o=>{try{t(!0),await ne("FlowNode").delete(o);const i=await ne("FlowEdge").find({where:[{source:o},{target:o}]});return await Promise.all(i.map(s=>ne("FlowEdge").delete(s.id))),await r([{id:o,type:"remove"}]),await n(i.map(s=>({id:s.id,type:"remove"}))),!0}catch{return!1}finally{t(!1)}},[n,r]);return{loading:e,deleteNodeFlow:a}},bm=rs(({cloneStandaloneSession:e})=>{const t=er(),{t:r}=se("dialogs"),[n,a]=g.useState(""),{toast:o}=ct(),i=c=>{a(c.target.value)},s=async()=>{try{t.hide(),await e(n)}catch{o({variant:"destructive",description:r("create_standalone_application.errors.create_failed")})}};return f.jsx(hs,{open:t.visible,onOpenChange:t.hide,children:f.jsxs(ms,{className:"sm:max-w-[425px]",children:[f.jsxs(ys,{children:[f.jsx(vs,{children:r("create_session.title")}),f.jsx(VB,{children:r("create_standalone_application.description")})]}),f.jsx("div",{className:"grid gap-4 py-4",children:f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(xe,{className:"mb-2",htmlFor:"name",children:r("create_standalone_application.name")}),f.jsx(_t,{onChange:i,id:"name",value:n,placeholder:r("create_standalone_application.name_placeholder")})]})}),f.jsx(UB,{children:f.jsx(Te,{onClick:s,disabled:!n,type:"submit",children:r("create_standalone_application.create")})})]})})}),Ue=g.memo(({id:e,className:t,enableToStandalone:r,getLinkedConnections:n})=>{const{t:a}=se("common"),{getNode:o}=tr(),{loading:i,deleteNodeFlow:s}=gm(),{createStandaloneSession:c}=vm(),{toast:l}=ct(),u=er(bm),d=g.useCallback(async()=>{try{await s(e),l({description:a("deleted")})}catch{l({description:a("errors.delete_failed"),variant:"destructive"})}},[s,e,l,a]),p=g.useCallback(async m=>{try{const h=o(e);if(!h)throw new Error("No current node");const v=(n==null?void 0:n(e))||[];await c(h,{name:m,connections:v}),l({description:a("standalone_session_created")})}catch(h){g5(h),l({description:a("errors.create_standalone_session_failed"),variant:"destructive"})}},[o,e,n,c,l,a]),y=g.useCallback(()=>{u.show({cloneStandaloneSession:p})},[p,u]);return f.jsxs("div",{className:X("flex absolute z-[51] right-0 top-0 h-10",t),children:[r?f.jsx(Te,{className:"!rounded-none !px-2",onClick:y,variant:"ghost",children:f.jsx(te,{name:"package-plus",size:16})}):void 0,f.jsx(ht,{loading:i,className:"!rounded-none !px-2",onClick:d,variant:"ghost",children:f.jsx(te,{name:"trash-2",size:16})})]})}),go=({className:e,size:t=200,duration:r=15,anchor:n=90,borderWidth:a=1.5,colorFrom:o="#ffaa40",colorTo:i="#9c40ff",delay:s=0})=>f.jsx("div",{style:{"--size":t,"--duration":r,"--anchor":n,"--border-width":a,"--color-from":o,"--color-to":i,"--delay":`-${s}s`},className:X("pointer-events-none absolute inset-0 rounded-[inherit] [border:calc(var(--border-width)*1px)_solid_transparent]","![mask-clip:padding-box,border-box] ![mask-composite:intersect] [mask:linear-gradient(transparent,transparent),linear-gradient(white,white)]","after:absolute after:aspect-square after:w-[calc(var(--size)*1px)] after:animate-border-beam after:[animation-delay:var(--delay)] after:[background:linear-gradient(to_left,var(--color-from),var(--color-to),transparent)] after:[offset-anchor:calc(var(--anchor)*1%)_50%] after:[offset-path:rect(0_auto_auto_0_round_calc(var(--size)*1px))]",e)}),pe=g.memo(e=>{const{className:t,...r}=e;return f.jsx(A5,{className:X("!w-2 !h-2 !border-none !rounded-full !bg-slate-700",e.position===he.Top?"!top-[-2px]":"",t),...r})}),xm=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=g.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=g.useCallback(async(i,s)=>{var c,l,u,d,p;r(!0);try{const y=(c=i.data)==null?void 0:c.entity;if(!y||!e)throw new Error("LLM or Session not found");const m=await((d=(u=(l=s==null?void 0:s.connectedNodes)==null?void 0:l.find(x=>x.type===$.Schema))==null?void 0:u.data)==null?void 0:d.entity),h=i.position.x,v=i.position.y+(((p=i.measured)==null?void 0:p.height)||0),b=await ne("Thread").save({initial_llm_id:y.id,title:`New thread with ${y.name}`,status:ao.Started,messages:[],session_id:e,schema_id:m==null?void 0:m.id}),w=await n({source_id:b.id,source_type:"Thread",node_type:$.Thread,x:h,y:v+60});if(!w)throw new Error("Failed to create thread node");const O=await a({source:i.id,target:w.id});return{thread:b,flowNode:w,flowEdge:O}}finally{r(!1)}},[a,n,e]);return{loading:t,createThread:o}},wm=(e,t)=>{var x;const{t:r}=se("flows"),{toast:n}=ct(),[a,o]=g.useState(!1),[i,s]=g.useState(!1),c=Xe(e),l=vr(j=>j.loadModel),{createThread:u,loading:d}=xm(),p=re(j=>j.updateNodes),y=re(j=>j.pushSyncNodeQueue),{getNode:m,getNodes:h,getHandleConnections:v}=tr(),b=g.useCallback(async()=>{try{if(s(!0),t.entity.id){const j=await ne("Thread").find({where:{initial_llm_id:t.entity.id}});y("Thread",{where:{source_type:"Thread",source_id:Qa(j.map(_=>_.id))}})}}finally{s(!1)}},[(x=t==null?void 0:t.entity)==null?void 0:x.id,y]),w=g.useCallback(async()=>{try{if(o(!0),t.entity&&c){await(l==null?void 0:l(`${t.entity.name}`));const j=h().filter(_=>_.type===$.LLM).map(_=>(_.data.status=jt.Started,{id:_.id,type:"replace",item:_}));c.data.status=jt.Loading,j.push({id:e,type:"replace",item:c}),p(j),await b()}}catch(j){ts(j),n({variant:"destructive",description:r("llm_node.errors.loading_model")})}finally{o(!1)}},[t.entity,h,e,l,c,b,r,n,p]),O=g.useCallback(async()=>{if(t.entity&&c){const j=v({type:"target",nodeId:c.id}).map(_=>m(_.source)).filter(Boolean);await(u==null?void 0:u(c,{connectedNodes:j}))}},[t.entity,c,v,u,m]);return{loadingModel:a,creatingThread:d,queringThreads:i,loadModel:w,createThread:O,queryThreads:b}},nt=(e,t)=>{const[r,n]=g.useState(!1),[a,o]=g.useState([]),{deleteElements:i,getNode:s}=tr();cs({type:"target",nodeId:e,onConnect:l=>{l!=null&&l.length&&o(u=>[...u,...T5(l)])}});const c=g.useCallback(async(l,u,d,p)=>{try{return await t({id:e,edgeId:l,source:u,target:d,connection:p})}catch{return{deleteEdgeId:l}}},[t,e]);g.useEffect(()=>{!(a!=null&&a.length)||r||(async()=>{try{n(!0);const l=[...a];o([]);const u=[],d=s(e);await Promise.all(l.map(async p=>{const y="edgeId"in p?p.edgeId:void 0,m=s(p.source);if(!m||!d)return;const h=await c(`${y}`,m,d,p);h!=null&&h.deleteEdgeId&&u.push(...Array.isArray(h.deleteEdgeId)?h.deleteEdgeId:[h.deleteEdgeId])})),u!=null&&u.length&&await i({edges:u.map(p=>({id:p}))})}finally{n(!1)}})()},[i,s,e,r,c,a])},jm=e=>{const t=g.useCallback(async()=>{},[]);nt(e,t)},_m=g.memo(e=>{var h,v,b,w;const{id:t,data:r,isConnectable:n}=e,[a,o]=g.useState(),{t:i}=se("flows"),{createThread:s,loadModel:c,queringThreads:l,queryThreads:u,loadingModel:d}=wm(t,r);jm(t);const p=[jt.Loading,jt.Downloading].includes(r.status);g.useEffect(()=>{var O;a||!((O=r==null?void 0:r.entity)!=null&&O.name)||tt(()=>import("./index-Di-3OKZb.js").then(async x=>(await x.__tla,x)),__vite__mapDeps([0,1,2,3,4])).then(async({hasModelInCache:x,functionCallingModelIds:j,prebuiltAppConfig:_})=>{var P,A;const S=await x((P=r==null?void 0:r.entity)==null?void 0:P.name);o({hasCache:S,isFunctionCalling:j.includes((A=r==null?void 0:r.entity)==null?void 0:A.name),info:_.model_list.find(C=>{var N;return C.model_id===((N=r==null?void 0:r.entity)==null?void 0:N.name)})})})},[(h=r==null?void 0:r.entity)==null?void 0:h.name,a]);const y=g.useMemo(()=>{var O,x;switch(r.status){case jt.Downloading:return f.jsx(te,{className:"animate-spin w-7 h-7",name:"arrow-big-down-dash"});case jt.Loaded:return f.jsx(Za,{name:((O=r.entity)==null?void 0:O.name)||"brain",className:"w-7 h-7"});case jt.Loading:return f.jsx(te,{className:"animate-spin w-7 h-7",name:"loader-circle"});default:return f.jsx(Za,{name:((x=r.entity)==null?void 0:x.name)||"brain",className:"w-7 h-7"})}},[(v=r.entity)==null?void 0:v.name,r.status]),m=g.useMemo(()=>p?null:d?f.jsx(Te,{disabled:!0,className:"w-full mt-4",children:f.jsx(te,{className:"animate-spin",size:24,name:"loader-circle"})}):r.status===jt.Loaded?f.jsx(Te,{onClick:s,className:"mt-4 w-full",children:i("llm_node.create_thread_button")}):f.jsxs("div",{className:"flex gap-2 mt-4",children:[a!=null&&a.hasCache?f.jsx(ht,{loading:l,onClick:u,children:f.jsx(te,{size:24,name:"message-square-more"})}):null,f.jsx(Te,{disabled:d,onClick:c,className:"w-full",children:i(a!=null&&a.hasCache?"llm_node.load_model_button":"llm_node.download_model_button")})]}),[p,d,r.status,a==null?void 0:a.hasCache,l,u,c,i,s]);return f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsx(Ue,{id:t}),f.jsxs(gr,{className:"flex justify-center",children:[y,f.jsxs("div",{className:"ml-2 pt-1 max-w-lg",children:[f.jsx(br,{className:"flex gap-2 items-center pr-6",children:`${((b=r==null?void 0:r.entity)==null?void 0:b.name)||""}`}),f.jsx(eo,{className:"max-w-full",children:`${r.label||""}`}),f.jsx("div",{className:"max-w-full mt-2 flex-wrap flex gap-1",children:f.jsx(ss,{model:a==null?void 0:a.info,isFunctionCalling:(a==null?void 0:a.isFunctionCalling)||!1,name:(w=r==null?void 0:r.entity)==null?void 0:w.name,isCached:(a==null?void 0:a.hasCache)||!1})}),m]})]}),p?f.jsx(go,{className:"rounded-lg"}):void 0]}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),bo=g.memo(({tags:e,disabled:t,loading:r,onSubmit:n})=>{const{t:a}=se("components"),o=async i=>{try{return await n(i),!0}catch{return!1}};return f.jsxs(De,{className:"min-w-80",children:[f.jsx(Ge,{children:f.jsx(at,{children:a("add_message_card.title")})}),f.jsxs(Ye,{children:[f.jsx("div",{className:"grid w-full gap-1.5",children:f.jsx(D5,{onSubmit:o,disabled:t||r,placeholder:a("add_message_card.placeholder")})}),e?f.jsx("div",{className:"mt-2 gap-1 flex flex-wrap",children:e}):null]})]})});class WO extends b5{get lc_attributes(){return{partialVariables:void 0}}constructor(t){super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:r}=t;if(r.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,t)}async mergePartialAndUserVariables(t){const r=this.partialVariables??{},n={};for(const[a,o]of Object.entries(r))typeof o=="string"?n[a]=o:n[a]=await o();return{...n,...t}}async invoke(t,r){return this._callWithConfig(n=>this.formatPromptValue(n),t,{...r,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(t){switch(t._type){case"prompt":{const{PromptTemplate:r}=await tt(async()=>{const{PromptTemplate:n}=await Promise.resolve().then(()=>Mm);return{PromptTemplate:n}},void 0);return r.deserialize(t)}case void 0:{const{PromptTemplate:r}=await tt(async()=>{const{PromptTemplate:n}=await Promise.resolve().then(()=>Mm);return{PromptTemplate:n}},void 0);return r.deserialize({...t,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:r}=await tt(async()=>{const{FewShotPromptTemplate:n}=await import("./few_shot-BjAYvJzc.js").then(async a=>(await a.__tla,a));return{FewShotPromptTemplate:n}},__vite__mapDeps([5,2,3,1,4]));return r.deserialize(t)}default:throw new Error(`Invalid prompt type in config: ${t._type}`)}}}class XO extends x5{}class KO extends XO{static lc_name(){return"StringPromptValue"}constructor(t){super({value:t}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=t}toString(){return this.value}toChatMessages(){return[new ns(this.value)]}}If=class extends WO{async formatPromptValue(e){const t=await this.format(e);return new KO(t)}};function Om(){jf.escape=e=>e}let dc,Sm,Nm,Em,Pm,xo,Cm,km;dc=e=>{const t=e.split(""),r=[],n=(o,i)=>{for(let s=i;s<t.length;s+=1)if(o.includes(t[s]))return s;return-1};let a=0;for(;a<t.length;)if(t[a]==="{"&&a+1<t.length&&t[a+1]==="{")r.push({type:"literal",text:"{"}),a+=2;else if(t[a]==="}"&&a+1<t.length&&t[a+1]==="}")r.push({type:"literal",text:"}"}),a+=2;else if(t[a]==="{"){const o=n("}",a);if(o<0)throw new Error("Unclosed '{' in template.");r.push({type:"variable",name:t.slice(a+1,o).join("")}),a=o+1}else{if(t[a]==="}")throw new Error("Single '}' in template.");{const o=n("{}",a),i=(o<0?t.slice(a):t.slice(a,o)).join("");r.push({type:"literal",text:i}),a=o<0?t.length:o}}return r},Sm=e=>e.map(t=>t[0]==="name"?{type:"variable",name:t[1].includes(".")?t[1].split(".")[0]:t[1]}:["#","&","^",">"].includes(t[0])?{type:"variable",name:t[1]}:{type:"literal",text:t[1]}),Nm=e=>{Om();const t=jf.parse(e);return Sm(t)},Em=(e,t)=>dc(e).reduce((r,n)=>{if(n.type==="variable"){if(n.name in t)return r+t[n.name];throw new Error(`(f-string) Missing value for input ${n.name}`)}return r+n.text},""),Pm=(e,t)=>(Om(),jf.render(e,t)),xo={"f-string":Em,mustache:Pm},Cm={"f-string":dc,mustache:Nm},Kr=(e,t,r)=>xo[t](e,r),km=(e,t)=>Cm[t](e),Rf=(e,t,r)=>{if(!(t in xo)){const n=Object.keys(xo);throw new Error(`Invalid template format. Got \`${t}\`;
                         should be one of ${n}`)}try{const n=r.reduce((a,o)=>(a[o]="foo",a),{});Array.isArray(e)?e.forEach(a=>{if(a.type==="text")Kr(a.text,t,n);else if(a.type==="image_url")if(typeof a.image_url=="string")Kr(a.image_url,t,n);else{const o=a.image_url.url;Kr(o,t,n)}else throw new Error(`Invalid message template received. ${JSON.stringify(a,null,2)}`)}):Kr(e,t,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}},wr=class extends If{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),Rf(this.template,this.templateFormat,t)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return Kr(this.template,this.templateFormat,t)}static fromExamples(e,t,r,n=`

`,a=""){const o=[a,...e,t].join(n);return new wr({inputVariables:r,template:o})}static fromTemplate(e,t){const{templateFormat:r="f-string",...n}=t??{},a=new Set;return km(e,r).forEach(o=>{o.type==="variable"&&a.add(o.name)}),new wr({inputVariables:[...a],templateFormat:r,template:e,...n})}async partial(e){const t=this.inputVariables.filter(a=>!(a in e)),r={...this.partialVariables??{},...e},n={...this,inputVariables:t,partialVariables:r};return new wr(n)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new wr({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}};const Mm=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:wr},Symbol.toStringTag,{value:"Module"})),Am=(e,t,r,n=[],a)=>{const o=e.map(i=>a.getNode(i));for(const i of o){if(!i)continue;const s=a.getHandleConnections({type:"target",nodeId:i.id});if(r.push(...s),i.type===$.Thread){n.push(i.id),t.push(i);continue}else if(i.type!==$.Message){n.push(i.id);continue}else if(n.includes(i.id))continue;n.push(i.id),t.push(i),s.length&&Am(s.map(c=>c.source),t,r,n,a)}return{nodes:t,connections:r}},Tm=(e,t)=>{const r=t.getHandleConnections({nodeId:e.id,type:"target"}),n=r.map(d=>{const p=t.getNode(d.source);return p?{connections:t.getHandleConnections({nodeId:p.id,type:"target"}),node:p}:void 0}),a=n.filter(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.Prompt}),o=[];a!=null&&a.length&&a.forEach(d=>{var y;const p=(y=d.connections)==null?void 0:y.map(m=>t.getNode(m.source)).filter(Boolean);o.push({node:d.node,connections:d.connections,connectedNodes:p})});const i=n.filter(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.ToolDefinition}),s=[];i!=null&&i.length&&i.forEach(d=>{var y;const p=(y=d.connections)==null?void 0:y.map(m=>t.getNode(m.source)).filter(Boolean);p!=null&&p.find(m=>m.type===$.Schema)&&s.push({node:d.node,connections:d.connections,connectedNodes:p})});const c=n.filter(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.PlaceHolder}),l=[];c!=null&&c.length&&c.forEach(d=>{var y;const p=(y=d.connections)==null?void 0:y.map(m=>t.getNode(m.source)).filter(Boolean);p&&l.push({node:d.node,connections:d.connections,connectedNodes:p})});const u=n.find(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.Schema});return{thread:{node:e,connections:r},llm:n.find(d=>{var p;return((p=d.node)==null?void 0:p.type)===$.LLM}),schemas:u?[u]:[],prompts:o,tools:s,placeholders:l}},Dm=e=>{const t=[];return e.forEach(r=>{var o,i,s;const{node:n,connectedNodes:a}=r;if((o=n.data)!=null&&o.entity){if(n.type===$.Message){const c=n.data.entity;switch(c.role){case"human":t.push(new ns(c.content));break;case"ai":t.push(new vf(c.content));break}}else if(n.type===$.Prompt){const c=n.data.entity;let l=`${c.prefix?`${c.prefix}
`:""}`;if(c.type===ut.FewShotExample){const u=(s=(i=a.find(d=>d.type===$.CSVData))==null?void 0:i.data)==null?void 0:s.entity;if(u){const{rows:d}=W1(u.headers,u.csv);d.forEach(p=>{l+=`${c.content.replace(/{([^{}]*)}/g,(y,m)=>`${p[m]}`)}
`})}}else l+=c.content;switch(c.suffix&&(l+=`
${c.suffix}`),c.role){case"human":t.push(new ns(l));break;case"system":t.push(new w5(l));break;default:t.push(new vf(l));break}}}}),t},GO=(e,t)=>{const r=(e==null?void 0:e.filter(a=>a.type===$.Message).map(a=>({node:a,connectedNodes:[]})).reverse())||[],n=[];return t.forEach(async a=>{n.unshift({node:a.node,connectedNodes:a.connectedNodes||[]})}),{history:Dm(r),systems:Dm(n)}},Im=({getNode:e,getHandleConnections:t})=>{const{t:r}=se("create_new_message"),[n,a]=g.useState(!1),o=re(m=>m.createOrUpdateFlowNode),i=re(m=>m.createOrUpdateFlowEdge),s=as(m=>m.similaritySearchWithScore),c=vr(m=>m.getCurrentModelInfo),{stream:l}=I5(),u=g.useCallback(async({content:m,threadId:h,sourceId:v,initialX:b,initialY:w,initialLLMId:O})=>{const x=await ne("Message").save({thread_id:h,content:m,role:lt.Human,status:Bt.Started,llm_id:O});if(!x)throw new Error("Failed to save message");const j=await o({source_id:x.id,source_type:"Message",node_type:$.Message,x:b,y:w+80});if(!j)throw new Error("Failed to save human message node");await i({source:v,target:j.id});const _=await ne("Message").save({thread_id:h,content:r("initial_ai_message"),role:lt.AI,status:Bt.Inprogress,llm_id:O,parent_message_id:x.id});if(!_)throw new Error("Failed to save message");const S=await o({source_id:_.id,source_type:"Message",node_type:$.Message,x:b,y:w+250});if(!S)throw new Error("Failed to save ai message node");return await i({source:j.id,target:S.id}),{aiMessage:_,humanMessage:x,aiMessageNode:S,humanMessageNode:j}},[i,o,r]),d=g.useCallback(async(m,h)=>{const{placeholders:v}=h;if(!(v!=null&&v.length))return[];const b=[];return await Promise.all(v.map(async w=>{var x,j,_,S,P,A,C,N,T,k,D,M;const O=(x=w.node.data)==null?void 0:x.entity;if(O)switch(O.placeholder_type){case ls.VECTOR_DATABASE_RETREIVER:{const I=(j=w.connectedNodes)==null?void 0:j.find(H=>H.type===$.VectorDatabase),F=(_=I==null?void 0:I.data)==null?void 0:_.entity,V=(A=(P=(S=w.connectedNodes)==null?void 0:S.find(H=>H.type===$.Prompt))==null?void 0:P.data)==null?void 0:A.entity;if(!V||!F||!I)return;const U=(N=(C=t({nodeId:I.id,type:"target"}).map(H=>e(H.source)).find(H=>(H==null?void 0:H.type)&&[$.JSONLData,$.CSVData].includes(H==null?void 0:H.type)))==null?void 0:C.data)==null?void 0:N.entity;if(!U)return;const Q=(T=O.metadata)!=null&&T.k?+((k=O.metadata)==null?void 0:k.k):1;let q=(D=O.metadata)!=null&&D.minimalScore?+((M=O.metadata)==null?void 0:M.minimalScore):void 0;q&&q>1&&(q=q/100);const R=await s({databaseId:F.id,dataSourceId:U.id,dataSourceType:gf(U)},m.humanMessage.content,Q);if(!R)return[];const Y=new wr({template:V.content,inputVariables:["context"]});b.push(new vf(await Y.format({context:q?R.filter(([,H])=>H>=q).map(([H])=>H.pageContent).join(`
`):R.map(([H])=>H.pageContent).join(`
`)})))}}})),b},[t,e,s]),p=g.useCallback(async(m,h,v,{onMessageUpdate:b})=>{const{prompts:w,tools:O,schemas:x,placeholders:j}=h,_=[];j!=null&&j.length&&_.push(...await d(m,h));const{history:S,systems:P}=GO(v,w),A=[...P,..._,...S,new ns(m.humanMessage.content)],{lastChunk:C,content:N}=await l(A,{tools:O,schemas:x,onMessageUpdate:({content:T})=>{b==null||b({id:m.aiMessageNode.id,nodeData:{loading:!0,content:T}})}});return m.aiMessage.content=N,m.aiMessage.metadata=JSON.stringify({message:C}),b==null||b({id:m.aiMessageNode.id,nodeData:{content:N,loading:!1,entity:m.aiMessage}}),m.aiMessage.id&&await ne("Message").update(m.aiMessage.id,{content:N,metadata:JSON.stringify({message:C})}),N},[d,l]),y=g.useCallback(async(m,h,v)=>{var _,S,P;const{nodes:b}=Am([m.id],[],[],[],{getNode:e,getHandleConnections:t}),w=b.find(A=>A.type===$.Thread),O=w==null?void 0:w.data.entity;if(!m||!O||!w)throw new Error("Source or thread is not found");if(!await c())throw new Error("Model is not loaded yet");const x=Tm(w,{getNode:e,getHandleConnections:t});if(!(x!=null&&x.thread))throw new Error("Thread node is not found");let j;try{a(!0);const A=((_=m.position)==null?void 0:_.x)||0,C=(((S=m.position)==null?void 0:S.y)||0)+(((P=m.measured)==null?void 0:P.height)||0);return j=await u({content:h,initialX:A,initialY:C,sourceId:m.id,threadId:O.id,initialLLMId:O.initial_llm_id}),await p(j,x,b,v),await ne("Message").update(`${j.aiMessage.id}`,{status:Bt.Success}),j.aiMessage.status=Bt.Success,v.onMessageUpdate({id:j.aiMessageNode.id,nodeData:{entity:j.aiMessage,loading:!1}}),!0}catch{j!=null&&j.aiMessage&&await ne("Message").update(`${j.aiMessage.id}`,{status:Bt.Failed,content:r("errors.ai_message_content_failed")}),j!=null&&j.aiMessageNode.id&&(v==null||v.onMessageUpdate({id:j.aiMessageNode.id,nodeData:{content:r("errors.ai_message_content_failed"),loading:!1}}))}finally{a(!1)}},[c,t,e,u,p,r]);return{loading:n,createMessage:y}},YO=(e,t)=>{const r=Xe(e),{t:n}=se("flows"),{getNode:a,getHandleConnections:o}=tr(),i=re(p=>p.updateNodes),{createMessage:s,loading:c}=Im({getNode:a,getHandleConnections:o}),l=g.useCallback(p=>{if(!p.id)return;const y=a(p.id);!y||!p.nodeData||i([{id:y.id,type:"replace",item:{...y,data:{...y.data,...ej(p.nodeData,tj)}}}])},[a,i]),u=g.useCallback(async p=>{if(r&&t.entity)try{await s(r,p,{onMessageUpdate:l})}catch(y){if(y instanceof Error&&y.message.includes("LLM_NOT_LOADED_YET"))return Un({variant:"destructive",title:n("thread_node.errors.llm_not_loaded_yet")});Un({variant:"destructive",title:`${y}`})}},[r,t.entity,s,l,n]),d=g.useCallback(p=>{const y=a(p);if(!y)return[];const m=[],h=Tm(y,{getNode:a,getHandleConnections:o});return h.thread&&m.push({node:h.thread.node,connectedNodes:[],connections:h.thread.connections}),h.prompts&&m.push(...h.prompts.map(v=>({node:v.node,connectedNodes:v.connectedNodes,connections:v.connections}))),h.schemas&&m.push(...h.schemas.map(v=>({node:v.node,connectedNodes:[],connections:v.connections}))),h.placeholders&&m.push(...h.placeholders.map(v=>({node:v.node,connectedNodes:[],connections:v.connections}))),h.llm&&m.push(h.llm),m},[o,a]);return{loading:c,createMessage:u,getLinkedConnections:d}},JO=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=g.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.Prompt&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.LLM&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.Schema&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});const s=o.data.entity,c=o.data.entity;await ne("Thread").update(s.id,{schema_id:c.id});return}else if((a==null?void 0:a.type)===$.ToolDefinition&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.VectorDatabase&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.PlaceHolder&&(o==null?void 0:o.type)===$.Thread&&a.data.entity.placeholder_type===ls.VECTOR_DATABASE_RETREIVER){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},ZO=g.memo(e=>{const{id:t,data:r,isConnectable:n}=e,{t:a}=se("flows"),[o,i]=g.useState(!1),s=cs({type:"source"}),c=cs({type:"target"}),{getNode:l}=tr(),{loading:u,createMessage:d,getLinkedConnections:p}=YO(t,r);JO(t);const y=g.useCallback(async(...b)=>(i(!1),await d(...b)),[d]),m=g.useMemo(()=>s.length>0,[s]),h=g.useCallback(()=>{i(b=>!b)},[]),v=g.useMemo(()=>{var w,O;const b=c.map((x,j)=>{var S;const _=l(x.source);if((_==null?void 0:_.type)===$.Schema)return f.jsx(Xr,{children:a("thread_node.structured_output")},`${j}`);if((_==null?void 0:_.type)===$.Prompt){const P=_.data.entity;return f.jsx(Xr,{children:a(P.type===ut.FewShotExample?"thread_node.prompts.few_shot_example":`thread_node.prompts.${P.role.toLowerCase()}`)},`${j}`)}else if((_==null?void 0:_.type)===$.PlaceHolder&&((S=_.data.entity)==null?void 0:S.placeholder_type)===ls.VECTOR_DATABASE_RETREIVER)return f.jsx(Xr,{children:a("thread_node.vector_database_retriever")},`${j}`)}).filter(Boolean);return e.data.entity&&!((O=(w=e.data.entity)==null?void 0:w.messages)!=null&&O.length)&&!m?f.jsx(bo,{disabled:u,loading:u,onSubmit:y,tags:b}):b!=null&&b.length?f.jsxs(De,{className:"p-4 pt-2",children:[f.jsx(at,{className:"mb-2",children:a("thread_node.title")}),f.jsx("div",{className:"flex gap-1.5",children:b}),f.jsx("div",{className:"mt-4 w-full flex justify-end",children:f.jsxs(Te,{onClick:h,variant:"outline",children:[f.jsx(te,{name:o?"copy-minus":"copy-plus"}),a(o?"thread_node.hide":"thread_node.clone")]})})]}):f.jsx("div",{className:"w-12 h-10"})},[m,l,y,h,u,e.data.entity,o,a,c]);return f.jsxs("div",{children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(Ue,{id:t,enableToStandalone:!0,getLinkedConnections:p}),v,o?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),f.jsx("div",{className:"absolute mt-[30px] w-full",children:f.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:f.jsx(bo,{disabled:u,loading:u,onSubmit:y})})})]}):void 0]}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})});function QO({data:e,onNewThread:t,loading:r,showThread:n}){var o;const{t:a}=se("flows");return f.jsxs(gr,{className:"flex min-w-52",children:[f.jsx(te,{size:24,name:"user"}),f.jsxs("div",{className:"ml-2 max-w-full w-full",children:[f.jsx(br,{children:"Human"}),f.jsx(eo,{children:`${e.content||((o=e.entity)==null?void 0:o.content)||""}`}),t?f.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:f.jsxs(Te,{onClick:t,disabled:r,variant:"outline",children:[f.jsx(te,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]})]})}const eS=g.lazy(()=>tt(()=>import("./index-C-8d_D8Q.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([6,7,2,3,8,9])));function tS({data:e,onNewThread:t,loading:r,showThread:n}){var i,s,c,l,u,d,p,y;const{t:a}=se("flows"),o=g.useMemo(()=>{var m;try{return JSON.parse(((m=e==null?void 0:e.entity)==null?void 0:m.metadata)||"{}")}catch{return{}}},[(i=e==null?void 0:e.entity)==null?void 0:i.metadata]);return f.jsxs(gr,{className:"flex min-w-52",children:[f.jsx(te,{className:X(e.loading?"animate-spin":void 0),size:24,name:e.loading?"loader-circle":"bot"}),f.jsx(te,{name:n?"minus":"plus",size:24}),f.jsxs("div",{className:"ml-2 w-full max-w-full",children:[f.jsx(br,{children:a(`message_node.message_roles.${(c=(s=e.entity)==null?void 0:s.role)==null?void 0:c.toLowerCase()}`)}),f.jsx(g.Suspense,{fallback:f.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:f.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx(eS,{className:"!text-sm [&_p]:leading-relaxed !max-w-full !bg-transparent !text-inherit !font-sans",source:`${e.content||((l=e.entity)==null?void 0:l.content)||""}`})}),Array.isArray((u=o==null?void 0:o.message)==null?void 0:u.tool_calls)&&((p=(d=o==null?void 0:o.message)==null?void 0:d.tool_calls)!=null&&p.length)?(y=o==null?void 0:o.message)==null?void 0:y.tool_calls.map((m,h)=>f.jsx(Xr,{children:a("message_node.tool_call",{name:m.name,args:Object.entries(m.args).map(([v,b])=>`"${v}": "${b}"`).join(", ")})},`${m.name}_${h}`)):null,t?f.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:f.jsxs(Te,{onClick:t,disabled:r,variant:"outline",children:[f.jsx(te,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]}),e.loading?f.jsx(go,{size:350,duration:10}):void 0]})}const rS=e=>{const{t}=se("flows"),r=Xe(e),n=re(u=>u.updateNodes),{getNode:a,getHandleConnections:o}=tr(),{createMessage:i,loading:s}=Im({getNode:a,getHandleConnections:o}),c=g.useCallback(u=>{if(!u.id)return;const d=a(u.id);!d||!u.nodeData||n([{id:d.id,type:"replace",item:{...d,data:{...d.data,...ej(u.nodeData,tj)}}}])},[a,n]),l=g.useCallback(async u=>{if(r)try{await i(r,u,{onMessageUpdate:c})}catch(d){if(d instanceof Error&&d.message.includes("LLM_NOT_LOADED_YET"))return Un({variant:"destructive",title:t("message_node.errors.llm_not_loaded_yet")});Un({variant:"destructive",title:t("message_node.errors.create_message")})}},[r,t,i,c]);return{loading:s,createMessage:l}},Rm=()=>{const e=re(r=>r.createOrUpdateFlowNode),t=re(r=>r.createOrUpdateFlowEdge);return{createIdieMessage:g.useCallback(async(r,n,a,o)=>{var y,m,h,v,b;if(!r||!n)return;const i=(m=(y=o==null?void 0:o.promptNode)==null?void 0:y.data)==null?void 0:m.entity,s=((h=r.position)==null?void 0:h.x)||0,c=(((v=r.position)==null?void 0:v.y)||0)+(((b=r.measured)==null?void 0:b.height)||0),l=await ne("Message").save({thread_id:n.id,content:a,role:(i==null?void 0:i.role)||lt.Human,status:Bt.Started,llm_id:n.initial_llm_id});if(!l)throw new Error("Failed to save message");const u=await e({source_id:l.id,source_type:"Message",node_type:$.Message,x:s,y:c});if(!u)throw new Error("Failed to save message node");const d=await t({source:r.id,target:u.id});let p;return o!=null&&o.promptNode&&(p=await t({source:o==null?void 0:o.promptNode.id,target:u.id})),{message:l,edgeToPrompt:p,messageNode:u,messageEdge:d}},[e,t])}},nS=e=>{const{createIdieMessage:t}=Rm(),r=g.useCallback(async({edgeId:n,source:a,target:o})=>{var i,s;try{if((a==null?void 0:a.type)===$.Prompt&&(o==null?void 0:o.type)===$.Message){const c=(i=o==null?void 0:o.data)==null?void 0:i.entity,l=(s=a==null?void 0:a.data)==null?void 0:s.entity;if(!l||!c||!o)return{deleteEdgeId:n};await t(o,{id:c==null?void 0:c.thread_id,title:"",status:ao.Started,initial_llm_id:c.llm_id,session_id:l.session_id},l.content,{promptNode:a});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},aS=g.memo(e=>{var O,x,j;const{id:t,data:r,isConnectable:n}=e,[a,o]=g.useState(!1),[i,s]=g.useState(!1),{t:c}=se("common"),l=cs({type:"source"}),{loading:u,createMessage:d}=rS(t),{toast:p}=ct();nS(t);const y=g.useCallback(async(..._)=>{const S=await d(..._);return o(!1),S},[d]),m=g.useMemo(()=>l.length===0,[l]),h=g.useCallback(()=>{var _;(_=r.entity)!=null&&_.content&&(navigator.clipboard.writeText(r.entity.content),p({description:c("copied")}))},[p,r,c]),v=g.useCallback(async()=>{var _;try{if(i)return await X1.stop(),s(!1);s(!0),await X1.speak(((_=r.entity)==null?void 0:_.content)||"")}catch{p({variant:"destructive",description:c("errors.speech_is_not_supported")})}finally{s(!1)}},[(O=r.entity)==null?void 0:O.content,i,c,p]),b=g.useCallback(()=>{o(_=>!_)},[]),w=g.useMemo(()=>{var _;if(!(!m&&!a||r.loading||u||((_=r==null?void 0:r.entity)==null?void 0:_.status)==="inprogress"))return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),f.jsx("div",{className:"absolute mt-[30px] w-full",children:f.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:f.jsx(bo,{disabled:u,loading:u,onSubmit:y})})})]})},[(x=r==null?void 0:r.entity)==null?void 0:x.status,r.loading,y,m,u,a]);return f.jsxs("div",{children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),f.jsxs("div",{className:"max-w-sm min-w-64",children:[f.jsxs("div",{className:"w-auto",children:[f.jsx(Ue,{id:t}),f.jsx("div",{children:((j=r.entity)==null?void 0:j.role)===lt.Human?f.jsx(QO,{data:r,showThread:a,onNewThread:m?void 0:b}):f.jsx(tS,{data:r,showThread:a,loading:u,onNewThread:m?void 0:b})}),f.jsx(Te,{onClick:v,className:"absolute top-0 right-[68px] !px-2 !rounded-none",variant:"ghost",children:f.jsx(te,{name:i?"circle-stop":"speech",size:16})}),f.jsx(Te,{onClick:h,className:"absolute top-0 right-[36px] !px-2 !rounded-none",variant:"ghost",children:f.jsx(te,{name:"copy",size:16})})]}),w]}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),Lm=rs(({title:e,content:t})=>{const r=er();return f.jsx(hs,{open:r.visible,onOpenChange:r.hide,children:f.jsxs(ms,{className:"sm:max-w-2xl",children:[f.jsx(ys,{children:f.jsxs("div",{className:"flex",children:[f.jsx(te,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx(vs,{children:e})]})}),f.jsx("div",{className:"mx-auto w-full min-h-96 max-h-96 overflow-hidden",children:f.jsx("div",{className:"relative w-full h-full overflow-hidden rounded-xl p-1 border border-border",children:f.jsx("pre",{className:"break-all h-full overflow-y-auto bg-background font-mono text-xs w-full",children:t})})})]})})}),oS=e=>{const t=re(a=>a.createOrUpdateFlowEdge),{createIdieMessage:r}=Rm(),n=g.useCallback(async({edgeId:a,source:o,target:i})=>{var s,c,l,u;try{const d=(s=i==null?void 0:i.data)==null?void 0:s.entity,p=(c=o==null?void 0:o.data)==null?void 0:c.entity;if((o==null?void 0:o.type)===$.Message&&(i==null?void 0:i.type)===$.Prompt){const y=(l=o==null?void 0:o.data)==null?void 0:l.entity,m=(u=i==null?void 0:i.data)==null?void 0:u.entity;if(!m||!y||!i)return{deleteEdgeId:a};await r(o,{id:y==null?void 0:y.thread_id,title:"",status:ao.Started,initial_llm_id:y.llm_id,session_id:m.session_id},m.content,{promptNode:i});return}else if((o==null?void 0:o.type)===$.CSVData&&(i==null?void 0:i.type)===$.Prompt&&(d==null?void 0:d.type)===ut.FewShotExample&&(p!=null&&p.headers.includes("input"))&&(p!=null&&p.headers.includes("output"))){await t({source:o.id,target:i.id});return}return{deleteEdgeId:a}}catch{return{deleteEdgeId:a}}},[r,t]);nt(e,n)},iS=g.memo(e=>{var l,u,d;const{id:t,data:r,isConnectable:n}=e;oS(t);const a=er(Lm),o=g.useMemo(()=>{var p,y,m;return`${(p=r.entity)!=null&&p.prefix?`${(y=r.entity)==null?void 0:y.prefix}
`:""}${((m=r.entity)==null?void 0:m.content)||""}`},[(l=r.entity)==null?void 0:l.prefix,(u=r.entity)==null?void 0:u.content]),i=g.useMemo(()=>{var y;const p=/{(.*?)}/g;return((y=o.match(p))==null?void 0:y.map(m=>m.replace("{","").replace("}","")))||[]},[o]),s=o.length>990,c=()=>{a.show({title:"Prompt",content:o})};return f.jsxs("div",{className:"min-w-56",children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(Ue,{id:t}),f.jsxs(gr,{className:"flex justify-center max-w-72",variant:"default",children:[f.jsx(te,{size:24,name:"notepad-text"}),f.jsxs("div",{className:"ml-2 max-w-full break-words break-all",children:[f.jsx(br,{children:`${((d=r.entity)==null?void 0:d.role)||""}`}),f.jsxs(eo,{onClick:s?c:void 0,children:[s?`${o.slice(0,990)}...`:o,s?f.jsx("span",{className:"float-right",children:f.jsx(te,{name:"chevron-right"})}):void 0]}),i!=null&&i.length?i.map((p,y)=>f.jsx(Xr,{className:"mt-2 mr-1",variant:"default",children:p},y)):void 0]})]})]}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})});var sS=R5();const mt=_e(sS);var fc,Bm;function cS(){if(Bm)return fc;Bm=1;function e(t){return t==null}return fc=e,fc}var lS=cS();const ve=_e(lS);var pc,Fm;function uS(){if(Fm)return pc;Fm=1;var e=us(),t=Hn(),r=ds(),n="[object String]";function a(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return pc=a,pc}var dS=uS();const ea=_e(dS);var fS=L5();const de=_e(fS);var pS=to();const rn=_e(pS);var $m={exports:{}},ge={},zm;function hS(){if(zm)return ge;zm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),s=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function h(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case e:switch(v=v.type,v){case r:case a:case n:case l:case u:return v;default:switch(v=v&&v.$$typeof,v){case s:case i:case c:case p:case d:case o:return v;default:return b}}case t:return b}}}return ge.ContextConsumer=i,ge.ContextProvider=o,ge.Element=e,ge.ForwardRef=c,ge.Fragment=r,ge.Lazy=p,ge.Memo=d,ge.Portal=t,ge.Profiler=a,ge.StrictMode=n,ge.Suspense=l,ge.SuspenseList=u,ge.isAsyncMode=function(){return!1},ge.isConcurrentMode=function(){return!1},ge.isContextConsumer=function(v){return h(v)===i},ge.isContextProvider=function(v){return h(v)===o},ge.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},ge.isForwardRef=function(v){return h(v)===c},ge.isFragment=function(v){return h(v)===r},ge.isLazy=function(v){return h(v)===p},ge.isMemo=function(v){return h(v)===d},ge.isPortal=function(v){return h(v)===t},ge.isProfiler=function(v){return h(v)===a},ge.isStrictMode=function(v){return h(v)===n},ge.isSuspense=function(v){return h(v)===l},ge.isSuspenseList=function(v){return h(v)===u},ge.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===l||v===u||v===y||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===d||v.$$typeof===o||v.$$typeof===i||v.$$typeof===c||v.$$typeof===m||v.getModuleId!==void 0)},ge.typeOf=h,ge}var Vm;function mS(){return Vm||(Vm=1,$m.exports=hS()),$m.exports}var yS=mS(),hc,Um;function Hm(){if(Um)return hc;Um=1;var e=us(),t=ds(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return hc=n,hc}var mc,qm;function vS(){if(qm)return mc;qm=1;var e=Hm();function t(r){return e(r)&&r!=+r}return mc=t,mc}var gS=vS();const ta=_e(gS);var bS=Hm();const xS=_e(bS);var St=function(e){return e===0?0:e>0?1:-1},Er=function(e){return ea(e)&&e.indexOf("%")===e.length-1},K=function(e){return xS(e)&&!ta(e)},Ie=function(e){return K(e)||ea(e)},wS=0,wo=function(e){var t=++wS;return"".concat(e||"").concat(t)},Pr=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!K(e)&&!ea(e))return r;var a;if(Er(e)){var o=e.indexOf("%");a=t*parseFloat(e.slice(0,o))/100}else a=+e;return ta(a)&&(a=r),n&&a>t&&(a=t),a},sr=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},jS=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},nn=function(e,t){return K(e)&&K(t)?function(r){return e+r*(t-e)}:function(){return t}};function yc(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):mt(n,t))===r})}function an(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var _S=["viewBox","children"],OS=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Wm=["points","pathLength"],gc={svg:_S,polygon:Wm,polyline:Wm},bc=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jo=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),!rn(r))return null;var n={};return Object.keys(r).forEach(function(a){bc.includes(a)&&(n[a]=t||function(o){return r[a](r,o)})}),n},SS=function(e,t,r){return function(n){return e(t,r,n),null}},_o=function(e,t,r){if(!rn(e)||vc(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(a){var o=e[a];bc.includes(a)&&typeof o=="function"&&(n||(n={}),n[a]=SS(o,t,r))}),n},NS=["children"],ES=["children"];function Xm(e,t){if(e==null)return{};var r=PS(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PS(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Km={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ut=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Gm=null,xc=null,wc=function e(t){if(t===Gm&&Array.isArray(xc))return xc;var r=[];return g.Children.forEach(t,function(n){ve(n)||(yS.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),xc=r,Gm=t,r};function Nt(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ut(a)}):n=[Ut(t)],wc(e).forEach(function(a){var o=mt(a,"type.displayName")||mt(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function dt(e,t){var r=Nt(e,t);return r&&r[0]}var Ym=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!K(r)||r<=0||!K(n)||n<=0)},CS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kS=function(e){return e&&e.type&&ea(e.type)&&CS.indexOf(e.type)>=0},MS=function(e,t,r,n){var a,o=(a=gc==null?void 0:gc[n])!==null&&a!==void 0?a:[];return!de(e)&&(n&&o.includes(t)||OS.includes(t))||r&&bc.includes(t)},ye=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),!rn(n))return null;var a={};return Object.keys(n).forEach(function(o){var i;MS((i=n)===null||i===void 0?void 0:i[o],o,t,r)&&(a[o]=n[o])}),a},jc=function e(t,r){if(t===r)return!0;var n=g.Children.count(t);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Jm(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Jm(o,i))return!1}return!0},Jm=function(e,t){if(ve(e)&&ve(t))return!0;if(!ve(e)&&!ve(t)){var r=e.props||{},n=r.children,a=Xm(r,NS),o=t.props||{},i=o.children,s=Xm(o,ES);return n&&i?an(a,s)&&jc(n,i):!n&&!i?an(a,s):!1}return!1},Zm=function(e,t){var r=[],n={};return wc(e).forEach(function(a,o){if(kS(a))r.push(a);else if(a){var i=Ut(a.type),s=t[i]||{},c=s.handler,l=s.once;if(c&&(!l||!n[i])){var u=c(a,i,o);r.push(u),n[i]=!0}}}),r},AS=function(e){var t=e&&e.type;return t&&Km[t]?Km[t]:null},TS=function(e,t){return wc(t).indexOf(e)},DS=["children","width","height","viewBox","className","style","title","desc"];function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(this,arguments)}function IS(e,t){if(e==null)return{};var r=RS(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RS(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oc(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,c=e.desc,l=IS(e,DS),u=a||{width:r,height:n,x:0,y:0},d=be("recharts-surface",o);return E.createElement("svg",_c({},ye(l,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),E.createElement("title",null,s),E.createElement("desc",null,c),t)}var LS=["children","className"];function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}function BS(e,t){if(e==null)return{};var r=FS(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FS(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Be=E.forwardRef(function(e,t){var r=e.children,n=e.className,a=BS(e,LS),o=be("recharts-layer",n);return E.createElement("g",Sc({className:o},ye(a,!0),{ref:t}),r)}),Ht=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},Nc,Qm;Ss=function(){if(Qm)return Nc;Qm=1;function e(t,r,n){var a=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(o);++a<o;)i[a]=t[a+r];return i}return Nc=e,Nc};var Ec,ey;function $S(){if(ey)return Ec;ey=1;var e=Ss();function t(r,n,a){var o=r.length;return a=a===void 0?o:a,!n&&a>=o?r:e(r,n,a)}return Ec=t,Ec}var Pc,ty;function ry(){if(ty)return Pc;ty=1;var e="\uD800-\uDFFF",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,o="\\ufe0e\\ufe0f",i="\\u200d",s=RegExp("["+i+e+a+o+"]");function c(l){return s.test(l)}return Pc=c,Pc}var Cc,ny;function zS(){if(ny)return Cc;ny=1;function e(t){return t.split("")}return Cc=e,Cc}var kc,ay;function VS(){if(ay)return kc;ay=1;var e="\uD800-\uDFFF",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,o="\\ufe0e\\ufe0f",i="["+e+"]",s="["+a+"]",c="\uD83C[\uDFFB-\uDFFF]",l="(?:"+s+"|"+c+")",u="[^"+e+"]",d="(?:\uD83C[\uDDE6-\uDDFF]){2}",p="[\uD800-\uDBFF][\uDC00-\uDFFF]",y="\\u200d",m=l+"?",h="["+o+"]?",v="(?:"+y+"(?:"+[u,d,p].join("|")+")"+h+m+")*",b=h+m+v,w="(?:"+[u+s+"?",s,d,p,i].join("|")+")",O=RegExp(c+"(?="+c+")|"+w+b,"g");function x(j){return j.match(O)||[]}return kc=x,kc}var Mc,oy;function US(){if(oy)return Mc;oy=1;var e=zS(),t=ry(),r=VS();function n(a){return t(a)?r(a):e(a)}return Mc=n,Mc}var Ac,iy;function HS(){if(iy)return Ac;iy=1;var e=$S(),t=ry(),r=US(),n=B5();function a(o){return function(i){i=n(i);var s=t(i)?r(i):void 0,c=s?s[0]:i.charAt(0),l=s?e(s,1).join(""):i.slice(1);return c[o]()+l}}return Ac=a,Ac}var Tc,sy;function qS(){if(sy)return Tc;sy=1;var e=HS(),t=e("toUpperCase");return Tc=t,Tc}var WS=qS();const Oo=_e(WS);function Se(e){return function(){return e}}const cy=Math.cos,So=Math.sin,Et=Math.sqrt,No=Math.PI,Eo=2*No,Dc=Math.PI,Ic=2*Dc,Cr=1e-6,XS=Ic-Cr;function ly(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function KS(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ly;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class GS{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ly:KS(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,c=n-t,l=a-r,u=i-t,d=s-r,p=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Cr)if(!(Math.abs(d*c-l*u)>Cr)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-i,m=a-s,h=c*c+l*l,v=y*y+m*m,b=Math.sqrt(h),w=Math.sqrt(p),O=o*Math.tan((Dc-Math.acos((h+p-v)/(2*b*w)))/2),x=O/w,j=O/b;Math.abs(x-1)>Cr&&this._append`L${t+x*u},${r+x*d}`,this._append`A${o},${o},0,0,${+(d*y>u*m)},${this._x1=t+j*c},${this._y1=r+j*l}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),l=t+s,u=r+c,d=1^i,p=i?a-o:o-a;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Cr||Math.abs(this._y1-u)>Cr)&&this._append`L${l},${u}`,n&&(p<0&&(p=p%Ic+Ic),p>XS?this._append`A${n},${n},0,1,${d},${t-s},${r-c}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:p>Cr&&this._append`A${n},${n},0,${+(p>=Dc)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Rc(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new GS(t)}function Lc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uy(e){this._context=e}uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Po(e){return new uy(e)}function dy(e){return e[0]}function fy(e){return e[1]}function py(e,t){var r=Se(!0),n=null,a=Po,o=null,i=Rc(s);e=typeof e=="function"?e:e===void 0?dy:Se(e),t=typeof t=="function"?t:t===void 0?fy:Se(t);function s(c){var l,u=(c=Lc(c)).length,d,p=!1,y;for(n==null&&(o=a(y=i())),l=0;l<=u;++l)!(l<u&&r(d=c[l],l,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(d,l,c),+t(d,l,c));if(y)return o=null,y+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Se(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Se(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Se(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(o=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=o=null:o=a(n=c),s):n},s}function Co(e,t,r){var n=null,a=Se(!0),o=null,i=Po,s=null,c=Rc(l);e=typeof e=="function"?e:e===void 0?dy:Se(+e),t=typeof t=="function"?t:Se(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?fy:Se(+r);function l(d){var p,y,m,h=(d=Lc(d)).length,v,b=!1,w,O=new Array(h),x=new Array(h);for(o==null&&(s=i(w=c())),p=0;p<=h;++p){if(!(p<h&&a(v=d[p],p,d))===b)if(b=!b)y=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=p-1;m>=y;--m)s.point(O[m],x[m]);s.lineEnd(),s.areaEnd()}b&&(O[p]=+e(v,p,d),x[p]=+t(v,p,d),s.point(n?+n(v,p,d):O[p],r?+r(v,p,d):x[p]))}if(w)return s=null,w+""||null}function u(){return py().defined(a).curve(i).context(o)}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Se(+d),n=null,l):e},l.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Se(+d),l):e},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Se(+d),l):n},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Se(+d),r=null,l):t},l.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Se(+d),l):t},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Se(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(n).y(t)},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Se(!!d),l):a},l.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),l):i},l.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),l):o},l}class hy{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function YS(e){return new hy(e,!0)}function JS(e){return new hy(e,!1)}const Bc={draw(e,t){const r=Et(t/No);e.moveTo(r,0),e.arc(0,0,r,0,Eo)}},ZS={draw(e,t){const r=Et(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},my=Et(1/3),QS=my*2,eN={draw(e,t){const r=Et(t/QS),n=r*my;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},tN={draw(e,t){const r=Et(t),n=-r/2;e.rect(n,n,r,r)}},rN=.8908130915292852,yy=So(No/10)/So(7*No/10),nN=So(Eo/10)*yy,aN=-cy(Eo/10)*yy,oN={draw(e,t){const r=Et(t*rN),n=nN*r,a=aN*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Eo*o/5,s=cy(i),c=So(i);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},Fc=Et(3),iN={draw(e,t){const r=-Et(t/(Fc*3));e.moveTo(0,r*2),e.lineTo(-Fc*r,-r),e.lineTo(Fc*r,-r),e.closePath()}},yt=-.5,vt=Et(3)/2,$c=1/Et(12),sN=($c/2+1)*3,cN={draw(e,t){const r=Et(t/sN),n=r/2,a=r*$c,o=n,i=r*$c+r,s=-o,c=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,c),e.lineTo(yt*n-vt*a,vt*n+yt*a),e.lineTo(yt*o-vt*i,vt*o+yt*i),e.lineTo(yt*s-vt*c,vt*s+yt*c),e.lineTo(yt*n+vt*a,yt*a-vt*n),e.lineTo(yt*o+vt*i,yt*i-vt*o),e.lineTo(yt*s+vt*c,yt*c-vt*s),e.closePath()}};function lN(e,t){let r=null,n=Rc(a);e=typeof e=="function"?e:Se(e||Bc),t=typeof t=="function"?t:Se(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Se(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Se(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function ko(){}function Mo(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vy(e){this._context=e}vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uN(e){return new vy(e)}function gy(e){this._context=e}gy.prototype={areaStart:ko,areaEnd:ko,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dN(e){return new gy(e)}function by(e){this._context=e}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fN(e){return new by(e)}function xy(e){this._context=e}xy.prototype={areaStart:ko,areaEnd:ko,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pN(e){return new xy(e)}function wy(e){return e<0?-1:1}function jy(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(wy(o)+wy(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function _y(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function zc(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Ao(e){this._context=e}Ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zc(this,this._t0,_y(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zc(this,_y(this,r=jy(this,e,t)),r);break;default:zc(this,this._t0,r=jy(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Oy(e){this._context=new Sy(e)}(Oy.prototype=Object.create(Ao.prototype)).point=function(e,t){Ao.prototype.point.call(this,t,e)};function Sy(e){this._context=e}Sy.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function hN(e){return new Ao(e)}function mN(e){return new Oy(e)}function Ny(e){this._context=e}Ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ey(e),a=Ey(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ey(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function yN(e){return new Ny(e)}function To(e,t){this._context=e,this._t=t}To.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function vN(e){return new To(e,.5)}function gN(e){return new To(e,0)}function bN(e){return new To(e,1)}function on(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Vc(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function xN(e,t){return e[t]}function wN(e){const t=[];return t.key=e,t}function jN(){var e=Se([]),t=Vc,r=on,n=xN;function a(o){var i=Array.from(e.apply(this,arguments),wN),s,c=i.length,l=-1,u;for(const d of o)for(s=0,++l;s<c;++s)(i[s][l]=[0,+n(d,i[s].key,l,o)]).data=d;for(s=0,u=Lc(t(i));s<c;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Se(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Se(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Vc:typeof o=="function"?o:Se(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??on,a):r},a}function _N(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}on(e,t)}}function ON(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}on(e,t)}}function SN(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],d=u[n][1]||0,p=u[n-1][1]||0,y=(d-p)/2,m=0;m<s;++m){var h=e[t[m]],v=h[n][1]||0,b=h[n-1][1]||0;y+=v-b}c+=d,l+=y*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=l/c)}a[n-1][1]+=a[n-1][0]=r,on(e,t)}}function ra(e){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(e)}var NN=["type","size","sizeType"];function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uc.apply(this,arguments)}function Py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(r),!0).forEach(function(n){EN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Py(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EN(e,t,r){return t=PN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PN(e){var t=CN(e,"string");return ra(t)=="symbol"?t:t+""}function CN(e,t){if(ra(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ra(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kN(e,t){if(e==null)return{};var r=MN(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MN(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ky={symbolCircle:Bc,symbolCross:ZS,symbolDiamond:eN,symbolSquare:tN,symbolStar:oN,symbolTriangle:iN,symbolWye:cN},AN=Math.PI/180,TN=function(e){var t="symbol".concat(Oo(e));return ky[t]||Bc},DN=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*AN;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},IN=function(e,t){ky["symbol".concat(Oo(e))]=t},Hc=function(e){var t=e.type,r=t===void 0?"circle":t,n=e.size,a=n===void 0?64:n,o=e.sizeType,i=o===void 0?"area":o,s=kN(e,NN),c=Cy(Cy({},s),{},{type:r,size:a,sizeType:i}),l=function(){var m=TN(r),h=lN().type(m).size(DN(a,i,r));return h()},u=c.className,d=c.cx,p=c.cy,y=ye(c,!0);return d===+d&&p===+p&&a===+a?E.createElement("path",Uc({},y,{className:be("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(p,")"),d:l()})):null};Hc.registerSymbol=IN;function sn(e){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(e)}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}function My(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?My(Object(r),!0).forEach(function(n){na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):My(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ty(n.key),n)}}function FN(e,t,r){return t&&BN(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $N(e,t,r){return t=Do(t),zN(e,Ay()?Reflect.construct(t,r||[],Do(e).constructor):t.apply(e,r))}function zN(e,t){if(t&&(sn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VN(e)}function VN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ay(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ay=function(){return!!e})()}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(e)}function UN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wc(e,t)}function Wc(e,t){return Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wc(e,t)}function na(e,t,r){return t=Ty(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ty(e){var t=HN(e,"string");return sn(t)=="symbol"?t:t+""}function HN(e,t){if(sn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gt=32,Xc=function(e){function t(){return LN(this,t),$N(this,t,arguments)}return UN(t,e),FN(t,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,a=gt/2,o=gt/6,i=gt/3,s=r.inactive?n:r.color;if(r.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:gt,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(gt,"M").concat(2*i,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return E.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(gt/8,"h").concat(gt,"v").concat(gt*3/4,"h").concat(-gt,"z"),className:"recharts-legend-icon"});if(E.isValidElement(r.legendIcon)){var c=RN({},r);return delete c.legendIcon,E.cloneElement(r.legendIcon,c)}return E.createElement(Hc,{fill:s,cx:a,cy:a,size:gt,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,a=n.payload,o=n.iconSize,i=n.layout,s=n.formatter,c=n.inactiveColor,l={x:0,y:0,width:gt,height:gt},u={display:i==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var m=p.formatter||s,h=be(na(na({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=de(p.value)?null:p.value;Ht(!de(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return E.createElement("li",qc({className:h,style:u,key:"legend-item-".concat(y)},_o(r.props,p,y)),E.createElement(Oc,{width:o,height:o,viewBox:l,style:d},r.renderIcon(p)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(v,p,y):v))})}},{key:"render",value:function(){var r=this.props,n=r.payload,a=r.layout,o=r.align;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}(g.PureComponent);na(Xc,"displayName","Legend"),na(Xc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Kc,Dy;function Iy(){if(Dy)return Kc;Dy=1;function e(t,r,n,a){for(var o=t.length,i=n+(a?1:-1);a?i--:++i<o;)if(r(t[i],i,t))return i;return-1}return Kc=e,Kc}var Gc,Ry;function qN(){if(Ry)return Gc;Ry=1;function e(t){return t!==t}return Gc=e,Gc}var Yc,Ly;function WN(){if(Ly)return Yc;Ly=1;function e(t,r,n){for(var a=n-1,o=t.length;++a<o;)if(t[a]===r)return a;return-1}return Yc=e,Yc}var Jc,By;function XN(){if(By)return Jc;By=1;var e=Iy(),t=qN(),r=WN();function n(a,o,i){return o===o?r(a,o,i):e(a,t,i)}return Jc=n,Jc}var Zc,Fy;function KN(){if(Fy)return Zc;Fy=1;var e=XN();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return Zc=t,Zc}var Qc,$y;function GN(){if($y)return Qc;$y=1;function e(t,r,n){for(var a=-1,o=t==null?0:t.length;++a<o;)if(n(r,t[a]))return!0;return!1}return Qc=e,Qc}var el,zy;function YN(){if(zy)return el;zy=1;function e(){}return el=e,el}var tl,Vy;function JN(){if(Vy)return tl;Vy=1;var e=F5(),t=YN(),r=rj(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return tl=a,tl}var rl,Uy;function ZN(){if(Uy)return rl;Uy=1;var e=$5(),t=KN(),r=GN(),n=z5(),a=JN(),o=rj(),i=200;function s(c,l,u){var d=-1,p=t,y=c.length,m=!0,h=[],v=h;if(u)m=!1,p=r;else if(y>=i){var b=l?null:a(c);if(b)return o(b);m=!1,p=n,v=new e}else v=l?[]:h;e:for(;++d<y;){var w=c[d],O=l?l(w):w;if(w=u||w!==0?w:0,m&&O===O){for(var x=v.length;x--;)if(v[x]===O)continue e;l&&v.push(O),h.push(w)}else p(v,O,u)||(v!==h&&v.push(O),h.push(w))}return h}return rl=s,rl}var nl,Hy;function QN(){if(Hy)return nl;Hy=1;var e=xr(),t=ZN();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return nl=r,nl}var eE=QN();const qy=_e(eE);function Wy(e,t,r){return t===!0?qy(e,r):de(t)?qy(e,t):e}function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(e)}var tE=["ref"];function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(r),!0).forEach(function(n){Ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ky(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yy(n.key),n)}}function nE(e,t,r){return t&&Ky(e.prototype,t),r&&Ky(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aE(e,t,r){return t=Io(t),oE(e,Gy()?Reflect.construct(t,r||[],Io(e).constructor):t.apply(e,r))}function oE(e,t){if(t&&(cn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iE(e)}function iE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gy=function(){return!!e})()}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(e)}function sE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&al(e,t)}function al(e,t){return al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},al(e,t)}function Ro(e,t,r){return t=Yy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yy(e){var t=cE(e,"string");return cn(t)=="symbol"?t:t+""}function cE(e,t){if(cn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lE(e,t){if(e==null)return{};var r=uE(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dE(e){return e.value}function fE(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var r=lE(t,tE);return E.createElement(Xc,r)}var Jy=1,ln=function(e){function t(){var r;rE(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=aE(this,t,[].concat(a)),Ro(r,"lastBoundingBox",{width:-1,height:-1}),r}return sE(t,e),nE(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>Jy||Math.abs(n.height-this.lastBoundingBox.height)>Jy)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qt({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,a=n.layout,o=n.align,i=n.verticalAlign,s=n.margin,c=n.chartWidth,l=n.chartHeight,u,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();u={left:((c||0)-p.width)/2}}else u=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(i==="middle"){var y=this.getBBoxSnapshot();d={top:((l||0)-y.height)/2}}else d=i==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0};return qt(qt({},u),d)}},{key:"render",value:function(){var r=this,n=this.props,a=n.content,o=n.width,i=n.height,s=n.wrapperStyle,c=n.payloadUniqBy,l=n.payload,u=qt(qt({position:"absolute",width:o||"auto",height:i||"auto"},this.getDefaultPosition(s)),s);return E.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(d){r.wrapperNode=d}},fE(a,qt(qt({},this.props),{},{payload:Wy(l,c,dE)})))}}],[{key:"getWithHeight",value:function(r,n){var a=qt(qt({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&K(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||n}:null}}])}(g.PureComponent);Ro(ln,"displayName","Legend"),Ro(ln,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ol,Zy;function pE(){if(Zy)return ol;Zy=1;var e=V5(),t=U5(),r=Hn(),n=e?e.isConcatSpreadable:void 0;function a(o){return r(o)||t(o)||!!(n&&o&&o[n])}return ol=a,ol}var il,Qy;js=function(){if(Qy)return il;Qy=1;var e=H5(),t=pE();function r(n,a,o,i,s){var c=-1,l=n.length;for(o||(o=t),s||(s=[]);++c<l;){var u=n[c];a>0&&o(u)?a>1?r(u,a-1,o,i,s):e(s,u):i||(s[s.length]=u)}return s}return il=r,il};var sl,ev;function hE(){if(ev)return sl;ev=1;function e(t){return function(r,n,a){for(var o=-1,i=Object(r),s=a(r),c=s.length;c--;){var l=s[t?c:++o];if(n(i[l],l,i)===!1)break}return r}}return sl=e,sl}var cl,tv;Vf=function(){if(tv)return cl;tv=1;var e=hE(),t=e();return cl=t,cl};var ll,rv;function nv(){if(rv)return ll;rv=1;var e=Vf(),t=nj();function r(n,a){return n&&e(n,a,t)}return ll=r,ll}var ul,av;function mE(){if(av)return ul;av=1;var e=fs();function t(r,n){return function(a,o){if(a==null)return a;if(!e(a))return r(a,o);for(var i=a.length,s=n?i:-1,c=Object(a);(n?s--:++s<i)&&o(c[s],s,c)!==!1;);return a}}return ul=t,ul}var dl,ov;function fl(){if(ov)return dl;ov=1;var e=nv(),t=mE(),r=t(e);return dl=r,dl}var pl,iv;function sv(){if(iv)return pl;iv=1;var e=fl(),t=fs();function r(n,a){var o=-1,i=t(n)?Array(n.length):[];return e(n,function(s,c,l){i[++o]=a(s,c,l)}),i}return pl=r,pl}var hl,cv;function yE(){if(cv)return hl;cv=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return hl=e,hl}var ml,lv;function vE(){if(lv)return ml;lv=1;var e=_f();function t(r,n){if(r!==n){var a=r!==void 0,o=r===null,i=r===r,s=e(r),c=n!==void 0,l=n===null,u=n===n,d=e(n);if(!l&&!d&&!s&&r>n||s&&c&&u&&!l&&!d||o&&c&&u||!a&&u||!i)return 1;if(!o&&!s&&!d&&r<n||d&&a&&i&&!o&&!s||l&&a&&i||!c&&i||!u)return-1}return 0}return ml=t,ml}var yl,uv;function gE(){if(uv)return yl;uv=1;var e=vE();function t(r,n,a){for(var o=-1,i=r.criteria,s=n.criteria,c=i.length,l=a.length;++o<c;){var u=e(i[o],s[o]);if(u){if(o>=l)return u;var d=a[o];return u*(d=="desc"?-1:1)}}return r.index-n.index}return yl=t,yl}var vl,dv;function bE(){if(dv)return vl;dv=1;var e=aj(),t=q5(),r=xr(),n=sv(),a=yE(),o=W5(),i=gE(),s=ro(),c=Hn();function l(u,d,p){d.length?d=e(d,function(h){return c(h)?function(v){return t(v,h.length===1?h[0]:h)}:h}):d=[s];var y=-1;d=e(d,o(r));var m=n(u,function(h,v,b){var w=e(d,function(O){return O(h)});return{criteria:w,index:++y,value:h}});return a(m,function(h,v){return i(h,v,p)})}return vl=l,vl}var gl,fv;Wf=function(){if(fv)return gl;fv=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return gl=e,gl};var bl,pv;zf=function(){if(pv)return bl;pv=1;var e=Wf(),t=Math.max;function r(n,a,o){return a=t(a===void 0?n.length-1:a,0),function(){for(var i=arguments,s=-1,c=t(i.length-a,0),l=Array(c);++s<c;)l[s]=i[a+s];s=-1;for(var u=Array(a+1);++s<a;)u[s]=i[s];return u[a]=o(l),e(n,this,u)}}return bl=r,bl};var xl,hv;function xE(){if(hv)return xl;hv=1;function e(t){return function(){return t}}return xl=e,xl}var wl,mv;function wE(){if(mv)return wl;mv=1;var e=xE(),t=X5(),r=ro(),n=t?function(a,o){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return wl=n,wl}var jl,yv;function jE(){if(yv)return jl;yv=1;var e=800,t=16,r=Date.now;function n(a){var o=0,i=0;return function(){var s=r(),c=t-(s-i);if(i=s,c>0){if(++o>=e)return arguments[0]}else o=0;return a.apply(void 0,arguments)}}return jl=n,jl}var _l,vv;$f=function(){if(vv)return _l;vv=1;var e=wE(),t=jE(),r=t(e);return _l=r,_l};var Ol,gv;Uf=function(){if(gv)return Ol;gv=1;var e=ro(),t=zf(),r=$f();function n(a,o){return r(t(a,o,e),a+"")}return Ol=n,Ol};var Sl,bv;Gr=function(){if(bv)return Sl;bv=1;var e=K5(),t=fs(),r=G5(),n=to();function a(o,i,s){if(!n(s))return!1;var c=typeof i;return(c=="number"?t(s)&&r(i,s.length):c=="string"&&i in s)?e(s[i],o):!1}return Sl=a,Sl};var Nl,xv;function _E(){if(xv)return Nl;xv=1;var e=js(),t=bE(),r=Uf(),n=Gr(),a=r(function(o,i){if(o==null)return[];var s=i.length;return s>1&&n(o,i[0],i[1])?i=[]:s>2&&n(i[0],i[1],i[2])&&(i=[i[0]]),t(o,e(i,1),[])});return Nl=a,Nl}var OE=_E();const El=_e(OE);function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(e)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function SE(e,t){return CE(e)||PE(e,t)||EE(e,t)||NE()}function NE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EE(e,t){if(e){if(typeof e=="string")return wv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wv(e,t)}}function wv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function CE(e){if(Array.isArray(e))return e}function jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jv(Object(r),!0).forEach(function(n){kE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kE(e,t,r){return t=ME(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ME(e){var t=AE(e,"string");return aa(t)=="symbol"?t:t+""}function AE(e,t){if(aa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TE(e){return Array.isArray(e)&&Ie(e[0])&&Ie(e[1])?e.join(" ~ "):e}var DE=function(e){var t=e.separator,r=t===void 0?" : ":t,n=e.contentStyle,a=n===void 0?{}:n,o=e.itemStyle,i=o===void 0?{}:o,s=e.labelStyle,c=s===void 0?{}:s,l=e.payload,u=e.formatter,d=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,m=e.label,h=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(l&&l.length){var C={padding:0,margin:0},N=(d?El(l,d):l).map(function(T,k){if(T.type==="none")return null;var D=Cl({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},i),M=T.formatter||u||TE,I=T.value,F=T.name,V=I,U=F;if(M&&V!=null&&U!=null){var Q=M(I,F,T,k,l);if(Array.isArray(Q)){var q=SE(Q,2);V=q[0],U=q[1]}else V=Q}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:D},Ie(U)?E.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Ie(U)?E.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,E.createElement("span",{className:"recharts-tooltip-item-value"},V),E.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},O=Cl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=Cl({margin:0},c),j=!ve(m),_=j?m:"",S=be("recharts-default-tooltip",p),P=be("recharts-tooltip-label",y);j&&h&&l!==void 0&&l!==null&&(_=h(m,l));var A=b?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",Pl({className:S,style:O},A),E.createElement("p",{className:P,style:x},E.isValidElement(_)?_:"".concat(_)),w())};function oa(e){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oa(e)}function Lo(e,t,r){return t=IE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IE(e){var t=RE(e,"string");return oa(t)=="symbol"?t:t+""}function RE(e,t){if(oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ia="recharts-tooltip-wrapper",LE={visibility:"hidden"};function BE(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return be(ia,Lo(Lo(Lo(Lo({},"".concat(ia,"-right"),K(r)&&t&&K(t.x)&&r>=t.x),"".concat(ia,"-left"),K(r)&&t&&K(t.x)&&r<t.x),"".concat(ia,"-bottom"),K(n)&&t&&K(t.y)&&n>=t.y),"".concat(ia,"-top"),K(n)&&t&&K(t.y)&&n<t.y))}function _v(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(o&&K(o[n]))return o[n];var u=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?u:d;if(i[n]){var p=u,y=c[n];return p<y?Math.max(d,c[n]):Math.max(u,c[n])}var m=d+s,h=c[n]+l;return m>h?Math.max(u,c[n]):Math.max(d,c[n])}function FE(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $E(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,l,u,d;return i.height>0&&i.width>0&&r?(u=_v({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=_v({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),l=FE({translateX:u,translateY:d,useTranslate3d:s})):l=LE,{cssProperties:l,cssClasses:BE({translateX:u,translateY:d,coordinate:r})}}function un(e){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(e)}function Ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ov(Object(r),!0).forEach(function(n){Ml(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ov(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ev(n.key),n)}}function UE(e,t,r){return t&&VE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HE(e,t,r){return t=Bo(t),qE(e,Nv()?Reflect.construct(t,r||[],Bo(e).constructor):t.apply(e,r))}function qE(e,t){if(t&&(un(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WE(e)}function WE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nv=function(){return!!e})()}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(e)}function XE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kl(e,t)}function kl(e,t){return kl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},kl(e,t)}function Ml(e,t,r){return t=Ev(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ev(e){var t=KE(e,"string");return un(t)=="symbol"?t:t+""}function KE(e,t){if(un(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(un(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pv=1,GE=function(e){function t(){var r;zE(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=HE(this,t,[].concat(a)),Ml(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ml(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,c,l,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),r}return XE(t,e),UE(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Pv||Math.abs(r.height-this.state.lastBoundingBox.height)>Pv)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.children,l=n.coordinate,u=n.hasPayload,d=n.isAnimationActive,p=n.offset,y=n.position,m=n.reverseDirection,h=n.useTranslate3d,v=n.viewBox,b=n.wrapperStyle,w=$E({allowEscapeViewBox:o,coordinate:l,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:v}),O=w.cssClasses,x=w.cssProperties,j=Sv(Sv({transition:d&&a?"transform ".concat(i,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&u?"visible":"hidden",position:"absolute",top:0,left:0},b);return E.createElement("div",{tabIndex:-1,className:O,style:j,ref:function(_){r.wrapperNode=_}},c)}}])}(g.PureComponent),YE=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cr={isSsr:YE(),get:function(e){return cr[e]},set:function(e,t){if(typeof e=="string")cr[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(n){cr[n]=e[n]})}}};function dn(e){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}function Cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cv(Object(r),!0).forEach(function(n){Tl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Av(n.key),n)}}function QE(e,t,r){return t&&ZE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eP(e,t,r){return t=Fo(t),tP(e,Mv()?Reflect.construct(t,r||[],Fo(e).constructor):t.apply(e,r))}function tP(e,t){if(t&&(dn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rP(e)}function rP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mv=function(){return!!e})()}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function nP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Al(e,t)}function Al(e,t){return Al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Al(e,t)}function Tl(e,t,r){return t=Av(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Av(e){var t=aP(e,"string");return dn(t)=="symbol"?t:t+""}function aP(e,t){if(dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oP(e){return e.dataKey}function iP(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(DE,t)}var Tt=function(e){function t(){return JE(this,t),eP(this,t,arguments)}return nP(t,e),QE(t,[{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.content,l=n.coordinate,u=n.filterNull,d=n.isAnimationActive,p=n.offset,y=n.payload,m=n.payloadUniqBy,h=n.position,v=n.reverseDirection,b=n.useTranslate3d,w=n.viewBox,O=n.wrapperStyle,x=y??[];u&&x.length&&(x=Wy(y.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),m,oP));var j=x.length>0;return E.createElement(GE,{allowEscapeViewBox:o,animationDuration:i,animationEasing:s,isAnimationActive:d,active:a,coordinate:l,hasPayload:j,offset:p,position:h,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:O},iP(c,kv(kv({},this.props),{},{payload:x})))}}])}(g.PureComponent);Tl(Tt,"displayName","Tooltip"),Tl(Tt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Dl,Tv;function sP(){if(Tv)return Dl;Tv=1;var e=Y5(),t=function(){return e.Date.now()};return Dl=t,Dl}var Il,Dv;function cP(){if(Dv)return Il;Dv=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Il=t,Il}var Rl,Iv;function lP(){if(Iv)return Rl;Iv=1;var e=cP(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Rl=r,Rl}var Ll,Rv;function Lv(){if(Rv)return Ll;Rv=1;var e=lP(),t=to(),r=_f(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt;function c(l){if(typeof l=="number")return l;if(r(l))return n;if(t(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=t(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=o.test(l);return d||i.test(l)?s(l.slice(2),d?2:8):a.test(l)?n:+l}return Ll=c,Ll}var Bl,Bv;qf=function(){if(Bv)return Bl;Bv=1;var e=to(),t=sP(),r=Lv(),n="Expected a function",a=Math.max,o=Math.min;function i(s,c,l){var u,d,p,y,m,h,v=0,b=!1,w=!1,O=!0;if(typeof s!="function")throw new TypeError(n);c=r(c)||0,e(l)&&(b=!!l.leading,w="maxWait"in l,p=w?a(r(l.maxWait)||0,c):p,O="trailing"in l?!!l.trailing:O);function x(k){var D=u,M=d;return u=d=void 0,v=k,y=s.apply(M,D),y}function j(k){return v=k,m=setTimeout(P,c),b?x(k):y}function _(k){var D=k-h,M=k-v,I=c-D;return w?o(I,p-M):I}function S(k){var D=k-h,M=k-v;return h===void 0||D>=c||D<0||w&&M>=p}function P(){var k=t();if(S(k))return A(k);m=setTimeout(P,_(k))}function A(k){return m=void 0,O&&u?x(k):(u=d=void 0,y)}function C(){m!==void 0&&clearTimeout(m),v=0,u=h=d=m=void 0}function N(){return m===void 0?y:A(t())}function T(){var k=t(),D=S(k);if(u=arguments,d=this,h=k,D){if(m===void 0)return j(h);if(w)return clearTimeout(m),m=setTimeout(P,c),x(h)}return m===void 0&&(m=setTimeout(P,c)),y}return T.cancel=C,T.flush=N,T}return Bl=i,Bl};var Fl,Fv;function uP(){if(Fv)return Fl;Fv=1;var e=qf(),t=to(),r="Expected a function";function n(a,o,i){var s=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(i)&&(s="leading"in i?!!i.leading:s,c="trailing"in i?!!i.trailing:c),e(a,o,{leading:s,maxWait:o,trailing:c})}return Fl=n,Fl}var dP=uP();Ns=_e(dP);function sa(e){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(e)}function $v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(r),!0).forEach(function(n){fP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$v(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fP(e,t,r){return t=pP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pP(e){var t=hP(e,"string");return sa(t)=="symbol"?t:t+""}function hP(e,t){if(sa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mP(e,t){return bP(e)||gP(e,t)||vP(e,t)||yP()}function yP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vP(e,t){if(e){if(typeof e=="string")return zv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zv(e,t)}}function zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function bP(e){if(Array.isArray(e))return e}var xP=g.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,c=s===void 0?"100%":s,l=e.minWidth,u=l===void 0?0:l,d=e.minHeight,p=e.maxHeight,y=e.children,m=e.debounce,h=m===void 0?0:m,v=e.id,b=e.className,w=e.onResize,O=e.style,x=O===void 0?{}:O,j=g.useRef(null),_=g.useRef();_.current=w,g.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=g.useState({containerWidth:a.width,containerHeight:a.height}),P=mP(S,2),A=P[0],C=P[1],N=g.useCallback(function(k,D){C(function(M){var I=Math.round(k),F=Math.round(D);return M.containerWidth===I&&M.containerHeight===F?M:{containerWidth:I,containerHeight:F}})},[]);g.useEffect(function(){var k=function(V){var U,Q=V[0].contentRect,q=Q.width,R=Q.height;N(q,R),(U=_.current)===null||U===void 0||U.call(_,q,R)};h>0&&(k=Ns(k,h,{trailing:!0,leading:!1}));var D=new ResizeObserver(k),M=j.current.getBoundingClientRect(),I=M.width,F=M.height;return N(I,F),D.observe(j.current),function(){D.disconnect()}},[N,h]);var T=g.useMemo(function(){var k=A.containerWidth,D=A.containerHeight;if(k<0||D<0)return null;Ht(Er(i)||Er(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Ht(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Er(i)?k:i,I=Er(c)?D:c;r&&r>0&&(M?I=M/r:I&&(M=I*r),p&&I>p&&(I=p)),Ht(M>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,I,i,c,u,d,r);var F=!Array.isArray(y)&&Ut(y.type).endsWith("Chart");return E.Children.map(y,function(V){return E.isValidElement(V)?g.cloneElement(V,$o({width:M,height:I},F?{style:$o({height:"100%",width:"100%",maxHeight:I,maxWidth:M},V.props.style)}:{})):V})},[r,y,c,p,d,u,A,i]);return E.createElement("div",{id:v?"".concat(v):void 0,className:be("recharts-responsive-container",b),style:$o($o({},x),{},{width:i,height:c,minWidth:u,minHeight:d,maxHeight:p}),ref:j},T)}),Vv=function(e){return null};Vv.displayName="Cell";function ca(e){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(e)}function Uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uv(Object(r),!0).forEach(function(n){wP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wP(e,t,r){return t=jP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jP(e){var t=_P(e,"string");return ca(t)=="symbol"?t:t+""}function _P(e,t){if(ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fn={widthCache:{},cacheCount:0},OP=2e3,SP={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Hv="recharts_measurement_span";function NP(e){var t=$l({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var la=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cr.isSsr)return{width:0,height:0};var r=NP(t),n=JSON.stringify({text:e,copyStyle:r});if(fn.widthCache[n])return fn.widthCache[n];try{var a=document.getElementById(Hv);a||(a=document.createElement("span"),a.setAttribute("id",Hv),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=$l($l({},SP),r);Object.assign(a.style,o),a.textContent="".concat(e);var i=a.getBoundingClientRect(),s={width:i.width,height:i.height};return fn.widthCache[n]=s,++fn.cacheCount>OP&&(fn.cacheCount=0,fn.widthCache={}),s}catch{return{width:0,height:0}}},EP=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ua(e){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(e)}function zo(e,t){return MP(e)||kP(e,t)||CP(e,t)||PP()}function PP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CP(e,t){if(e){if(typeof e=="string")return qv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qv(e,t)}}function qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function MP(e){if(Array.isArray(e))return e}function AP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DP(n.key),n)}}function TP(e,t,r){return t&&Wv(e.prototype,t),r&&Wv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DP(e){var t=IP(e,"string");return ua(t)=="symbol"?t:t+""}function IP(e,t){if(ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RP=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LP=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Gv={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BP=Object.keys(Gv),pn="NaN";function FP(e,t){return e*Gv[t]}var Vo=function(){function e(t,r){AP(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!RP.test(r)&&(this.num=NaN,this.unit=""),BP.includes(r)&&(this.num=FP(t,r),this.unit="px")}return TP(e,[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,n=(r=LP.exec(t))!==null&&r!==void 0?r:[],a=zo(n,3),o=a[1],i=a[2];return new e(parseFloat(o),i??"")}}])}();function Yv(e){if(e.includes(pn))return pn;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Xv.exec(t))!==null&&r!==void 0?r:[],a=zo(n,4),o=a[1],i=a[2],s=a[3],c=Vo.parse(o??""),l=Vo.parse(s??""),u=i==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return pn;t=t.replace(Xv,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=Kv.exec(t))!==null&&d!==void 0?d:[],y=zo(p,4),m=y[1],h=y[2],v=y[3],b=Vo.parse(m??""),w=Vo.parse(v??""),O=h==="+"?b.add(w):b.subtract(w);if(O.isNaN())return pn;t=t.replace(Kv,O.toString())}return t}var Jv=/\(([^()]*)\)/;function $P(e){for(var t=e;t.includes("(");){var r=Jv.exec(t),n=zo(r,2),a=n[1];t=t.replace(Jv,Yv(a))}return t}function zP(e){var t=e.replace(/\s+/g,"");return t=$P(t),t=Yv(t),t}function VP(e){try{return zP(e)}catch{return pn}}function zl(e){var t=VP(e.slice(5,-1));return t===pn?"":t}var UP=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],HP=["dx","dy","angle","className","breakAll"];function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}function Zv(e,t){if(e==null)return{};var r=qP(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qP(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qv(e,t){return GP(e)||KP(e,t)||XP(e,t)||WP()}function WP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XP(e,t){if(e){if(typeof e=="string")return eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eg(e,t)}}function eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function GP(e){if(Array.isArray(e))return e}var tg=/[ \f\n\r\t\v\u2028\u2029]+/,rg=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];ve(t)||(r?a=t.toString().split(""):a=t.toString().split(tg));var o=a.map(function(s){return{word:s,width:la(s,n).width}}),i=r?0:la("\xA0",n).width;return{wordsWithComputedWidth:o,spaceWidth:i}}catch{return null}},YP=function(e,t,r,n,a){var o=e.maxLines,i=e.children,s=e.style,c=e.breakAll,l=K(o),u=i,d=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k.reduce(function(D,M){var I=M.word,F=M.width,V=D[D.length-1];if(V&&(n==null||a||V.width+F+r<Number(n)))V.words.push(I),V.width+=F+r;else{var U={words:[I],width:F};D.push(U)}return D},[])},p=d(t),y=function(k){return k.reduce(function(D,M){return D.width>M.width?D:M})};if(!l)return p;for(var m="\u2026",h=function(k){var D=u.slice(0,k),M=rg({breakAll:c,style:s,children:D+m}).wordsWithComputedWidth,I=d(M),F=I.length>o||y(I).width>Number(n);return[F,I]},v=0,b=u.length-1,w=0,O;v<=b&&w<=u.length-1;){var x=Math.floor((v+b)/2),j=x-1,_=h(j),S=Qv(_,2),P=S[0],A=S[1],C=h(x),N=Qv(C,1),T=N[0];if(!P&&!T&&(v=x+1),P&&T&&(b=x-1),!P&&T){O=A;break}w++}return O||p},ng=function(e){var t=ve(e)?[]:e.toString().split(tg);return[{words:t}]},JP=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,o=e.breakAll,i=e.maxLines;if((t||r)&&!cr.isSsr){var s,c,l=rg({breakAll:o,children:n,style:a});if(l){var u=l.wordsWithComputedWidth,d=l.spaceWidth;s=u,c=d}else return ng(n);return YP({breakAll:o,children:n,maxLines:i,style:a},s,c,t,r)}return ng(n)},ag="#808080",Uo=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.lineHeight,i=o===void 0?"1em":o,s=e.capHeight,c=s===void 0?"0.71em":s,l=e.scaleToFit,u=l===void 0?!1:l,d=e.textAnchor,p=d===void 0?"start":d,y=e.verticalAnchor,m=y===void 0?"end":y,h=e.fill,v=h===void 0?ag:h,b=Zv(e,UP),w=g.useMemo(function(){return JP({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:u,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,u,b.style,b.width]),O=b.dx,x=b.dy,j=b.angle,_=b.className,S=b.breakAll,P=Zv(b,HP);if(!Ie(r)||!Ie(a))return null;var A=r+(K(O)?O:0),C=a+(K(x)?x:0),N;switch(m){case"start":N=zl("calc(".concat(c,")"));break;case"middle":N=zl("calc(".concat((w.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:N=zl("calc(".concat(w.length-1," * -").concat(i,")"));break}var T=[];if(u){var k=w[0].width,D=b.width;T.push("scale(".concat((K(D)?D/k:1)/k,")"))}return j&&T.push("rotate(".concat(j,", ").concat(A,", ").concat(C,")")),T.length&&(P.transform=T.join(" ")),E.createElement("text",Vl({},ye(P,!0),{x:A,y:C,className:be("recharts-text",_),textAnchor:p,fill:v.includes("url")?ag:v}),w.map(function(M,I){var F=M.words.join(S?"":" ");return E.createElement("tspan",{x:A,dy:I===0?N:i,key:"".concat(F,"-").concat(I)},F)}))};function lr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZP(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ul(e){let t,r,n;e.length!==2?(t=lr,r=(s,c)=>lr(e(s),c),n=(s,c)=>e(s)-c):(t=e===lr||e===ZP?e:QP,r=e,n=e);function a(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function i(s,c,l=0,u=s.length){const d=a(s,c,l,u-1);return d>l&&n(s[d-1],c)>-n(s[d],c)?d-1:d}return{left:a,center:i,right:o}}function QP(){return 0}function og(e){return e===null?NaN:+e}function*eC(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const tC=Ul(lr),da=tC.right;Ul(og).center;class ig extends Map{constructor(t,r=aC){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(sg(this,t))}has(t){return super.has(sg(this,t))}set(t,r){return super.set(rC(this,t),r)}delete(t){return super.delete(nC(this,t))}}function sg({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function rC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function nC({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function aC(e){return e!==null&&typeof e=="object"?e.valueOf():e}function oC(e=lr){if(e===lr)return cg;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function cg(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iC=Math.sqrt(50),sC=Math.sqrt(10),cC=Math.sqrt(2);function Ho(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=iC?10:o>=sC?5:o>=cC?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=r&&r<2?Ho(e,t,r*2):[s,c,l]}function Hl(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Ho(t,e,r):Ho(e,t,r);if(!(o>=a))return[];const s=o-a+1,c=new Array(s);if(n)if(i<0)for(let l=0;l<s;++l)c[l]=(o-l)/-i;else for(let l=0;l<s;++l)c[l]=(o-l)*i;else if(i<0)for(let l=0;l<s;++l)c[l]=(a+l)/-i;else for(let l=0;l<s;++l)c[l]=(a+l)*i;return c}function ql(e,t,r){return t=+t,e=+e,r=+r,Ho(e,t,r)[2]}function Wl(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ql(t,e,r):ql(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function lg(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ug(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function dg(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?cg:oC(a);n>r;){if(n-r>600){const c=n-r+1,l=t-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),y=Math.max(r,Math.floor(t-l*d/c+p)),m=Math.min(n,Math.floor(t+(c-l)*d/c+p));dg(e,t,y,m,a)}const o=e[t];let i=r,s=n;for(fa(e,r,t),a(e[n],o)>0&&fa(e,r,n);i<s;){for(fa(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?fa(e,r,s):(++s,fa(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function fa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function lC(e,t,r){if(e=Float64Array.from(eC(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ug(e);if(t>=1)return lg(e);var n,a=(n-1)*t,o=Math.floor(a),i=lg(dg(e,o).subarray(0,o+1)),s=ug(e.subarray(o+1));return i+(s-i)*(a-o)}}function uC(e,t,r=og){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function dC(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function bt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Wt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xl=Symbol("implicit");function Kl(){var e=new ig,t=[],r=[],n=Xl;function a(o){let i=e.get(o);if(i===void 0){if(n!==Xl)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new ig;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Kl(t,r).unknown(n)},bt.apply(a,arguments),a}function pa(){var e=Kl().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var p=t().length,y=a<n,m=y?a:n,h=y?n:a;o=(h-m)/Math.max(1,p-c+l*2),s&&(o=Math.floor(o)),m+=(h-m-o*(p-c))*u,i=o*(1-c),s&&(m=Math.round(m),i=Math.round(i));var v=dC(p).map(function(b){return m+o*b});return r(y?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,l=+p),d()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),d()):c},e.paddingOuter=function(p){return arguments.length?(l=+p,d()):l},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),d()):u},e.copy=function(){return pa(t(),[n,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},bt.apply(d(),arguments)}function fg(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fg(t())},e}function ha(){return fg(pa.apply(null,arguments).paddingInner(1))}function fC(e){return function(){return e}}function qo(e){return+e}var pg=[0,1];function Je(e){return e}function Gl(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:fC(isNaN(t)?NaN:.5)}function pC(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function hC(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Gl(a,n),o=r(i,o)):(n=Gl(n,a),o=r(o,i)),function(s){return o(n(s))}}function mC(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Gl(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var c=da(e,s,1,n)-1;return o[c](a[c](s))}}function ma(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wo(){var e=pg,t=pg,r=Yr,n,a,o,i=Je,s,c,l;function u(){var p=Math.min(e.length,t.length);return i!==Je&&(i=pC(e[0],e[p-1])),s=p>2?mC:hC,c=l=null,d}function d(p){return p==null||isNaN(p=+p)?o:(c||(c=s(e.map(n),t,r)))(n(i(p)))}return d.invert=function(p){return i(a((l||(l=s(t,e.map(n),xf)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,qo),u()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=ks,u()},d.clamp=function(p){return arguments.length?(i=p?!0:Je,u()):i!==Je},d.interpolate=function(p){return arguments.length?(r=p,u()):r},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,y){return n=p,a=y,u()}}function Yl(){return Wo()(Je,Je)}function yC(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function hn(e){return e=Xo(Math.abs(e)),e?e[1]:NaN}function vC(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),o.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function gC(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ya(e){if(!(t=bC.exec(e)))throw new Error("invalid format: "+e);var t;return new Jl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ya.prototype=Jl.prototype;function Jl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xC(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var hg;function wC(e,t){var r=Xo(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(hg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Xo(e,Math.max(0,t+o-1))[0]}function mg(e,t){var r=Xo(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const yg={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yC,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mg(e*100,t),r:mg,s:wC,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vg(e){return e}var gg=Array.prototype.map,bg=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function jC(e){var t=e.grouping===void 0||e.thousands===void 0?vg:vC(gg.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?vg:gC(gg.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=ya(d);var p=d.fill,y=d.align,m=d.sign,h=d.symbol,v=d.zero,b=d.width,w=d.comma,O=d.precision,x=d.trim,j=d.type;j==="n"?(w=!0,j="g"):yg[j]||(O===void 0&&(O=12),x=!0,j="g"),(v||p==="0"&&y==="=")&&(v=!0,p="0",y="=");var _=h==="$"?r:h==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=h==="$"?n:/[%p]/.test(j)?i:"",P=yg[j],A=/[defgprs%]/.test(j);O=O===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function C(N){var T=_,k=S,D,M,I;if(j==="c")k=P(N)+k,N="";else{N=+N;var F=N<0||1/N<0;if(N=isNaN(N)?c:P(Math.abs(N),O),x&&(N=xC(N)),F&&+N==0&&m!=="+"&&(F=!1),T=(F?m==="("?m:s:m==="-"||m==="("?"":m)+T,k=(j==="s"?bg[8+hg/3]:"")+k+(F&&m==="("?")":""),A){for(D=-1,M=N.length;++D<M;)if(I=N.charCodeAt(D),48>I||I>57){k=(I===46?a+N.slice(D+1):N.slice(D))+k,N=N.slice(0,D);break}}}w&&!v&&(N=t(N,1/0));var V=T.length+N.length+k.length,U=V<b?new Array(b-V+1).join(p):"";switch(w&&v&&(N=t(U+N,U.length?b-k.length:1/0),U=""),y){case"<":N=T+N+k+U;break;case"=":N=T+U+N+k;break;case"^":N=U.slice(0,V=U.length>>1)+T+N+k+U.slice(V);break;default:N=U+T+N+k;break}return o(N)}return C.toString=function(){return d+""},C}function u(d,p){var y=l((d=ya(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(hn(p)/3)))*3,h=Math.pow(10,-m),v=bg[8+m/3];return function(b){return y(h*b)+v}}return{format:l,formatPrefix:u}}var Ko,Zl,xg;_C({thousands:",",grouping:[3],currency:["$",""]});function _C(e){return Ko=jC(e),Zl=Ko.format,xg=Ko.formatPrefix,Ko}function OC(e){return Math.max(0,-hn(Math.abs(e)))}function SC(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hn(t)/3)))*3-hn(Math.abs(e)))}function NC(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hn(t)-hn(e))+1}function wg(e,t,r,n){var a=Wl(e,t,r),o;switch(n=ya(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=SC(a,i))&&(n.precision=o),xg(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=NC(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=OC(a))&&(n.precision=o-(n.type==="%")*2);break}}return Zl(n)}function ur(e){var t=e.domain;return e.ticks=function(r){var n=t();return Hl(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return wg(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],c,l,u=10;for(s<i&&(l=i,i=s,s=l,l=a,a=o,o=l);u-- >0;){if(l=ql(i,s,r),l===c)return n[a]=i,n[o]=s,t(n);if(l>0)i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l;else if(l<0)i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function Go(){var e=Yl();return e.copy=function(){return ma(e,Go())},bt.apply(e,arguments),ur(e)}function jg(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,qo),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jg(e).unknown(t)},e=arguments.length?Array.from(e,qo):[0,1],ur(r)}function _g(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function Og(e){return Math.log(e)}function Sg(e){return Math.exp(e)}function EC(e){return-Math.log(-e)}function PC(e){return-Math.exp(-e)}function CC(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kC(e){return e===10?CC:e===Math.E?Math.exp:t=>Math.pow(e,t)}function MC(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ng(e){return(t,r)=>-e(-t,r)}function Ql(e){const t=e(Og,Sg),r=t.domain;let n=10,a,o;function i(){return a=MC(n),o=kC(n),r()[0]<0?(a=Ng(a),o=Ng(o),e(EC,PC)):e(Og,Sg),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const c=r();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let p=a(l),y=a(u),m,h;const v=s==null?10:+s;let b=[];if(!(n%1)&&y-p<v){if(p=Math.floor(p),y=Math.ceil(y),l>0){for(;p<=y;++p)for(m=1;m<n;++m)if(h=p<0?m/o(-p):m*o(p),!(h<l)){if(h>u)break;b.push(h)}}else for(;p<=y;++p)for(m=n-1;m>=1;--m)if(h=p>0?m/o(-p):m*o(p),!(h<l)){if(h>u)break;b.push(h)}b.length*2<v&&(b=Hl(l,u,v))}else b=Hl(p,y,Math.min(y-p,v)).map(o);return d?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ya(c)).precision==null&&(c.trim=!0),c=Zl(c)),s===1/0)return c;const l=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/o(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=l?c(u):""}},t.nice=()=>r(_g(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function Eg(){const e=Ql(Wo()).domain([1,10]);return e.copy=()=>ma(e,Eg()).base(e.base()),bt.apply(e,arguments),e}function Pg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Cg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eu(e){var t=1,r=e(Pg(t),Cg(t));return r.constant=function(n){return arguments.length?e(Pg(t=+n),Cg(t)):t},ur(r)}function kg(){var e=eu(Wo());return e.copy=function(){return ma(e,kg()).constant(e.constant())},bt.apply(e,arguments)}function Mg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function AC(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TC(e){return e<0?-e*e:e*e}function tu(e){var t=e(Je,Je),r=1;function n(){return r===1?e(Je,Je):r===.5?e(AC,TC):e(Mg(r),Mg(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ur(t)}function ru(){var e=tu(Wo());return e.copy=function(){return ma(e,ru()).exponent(e.exponent())},bt.apply(e,arguments),e}function DC(){return ru.apply(null,arguments).exponent(.5)}function Ag(e){return Math.sign(e)*e*e}function IC(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Tg(){var e=Yl(),t=[0,1],r=!1,n;function a(o){var i=IC(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(Ag(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,qo)).map(Ag)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Tg(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},bt.apply(a,arguments),ur(a)}function Dg(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=uC(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[da(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(lr),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return Dg().domain(e).range(t).unknown(n)},bt.apply(o,arguments)}function Ig(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(c){return c!=null&&c<=c?a[da(n,c,0,r)]:o}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},i.invertExtent=function(c){var l=a.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,n[0]]:l>=r?[n[r-1],t]:[n[l-1],n[l]]},i.unknown=function(c){return arguments.length&&(o=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Ig().domain([e,t]).range(a).unknown(o)},bt.apply(ur(i),arguments)}function Rg(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[da(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return Rg().domain(e).range(t).unknown(r)},bt.apply(a,arguments)}const nu=new Date,au=new Date;function Re(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const c=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return c;let l;do c.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<i);return c},a.filter=o=>Re(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(nu.setTime(+o),au.setTime(+i),e(nu),e(au),Math.floor(r(nu,au))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Yo=Re(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Re(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yo),Yo.range;const Xt=1e3,xt=Xt*60,Kt=xt*60,Gt=Kt*24,ou=Gt*7,Lg=Gt*30,iu=Gt*365,kr=Re(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xt)},(e,t)=>(t-e)/Xt,e=>e.getUTCSeconds());kr.range;const su=Re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xt)},(e,t)=>{e.setTime(+e+t*xt)},(e,t)=>(t-e)/xt,e=>e.getMinutes());su.range;const cu=Re(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xt)},(e,t)=>(t-e)/xt,e=>e.getUTCMinutes());cu.range;const lu=Re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xt-e.getMinutes()*xt)},(e,t)=>{e.setTime(+e+t*Kt)},(e,t)=>(t-e)/Kt,e=>e.getHours());lu.range;const uu=Re(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kt)},(e,t)=>(t-e)/Kt,e=>e.getUTCHours());uu.range;const va=Re(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xt)/Gt,e=>e.getDate()-1);va.range;const Jo=Re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gt,e=>e.getUTCDate()-1);Jo.range;const Bg=Re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gt,e=>Math.floor(e/Gt));Bg.range;function Mr(e){return Re(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xt)/ou)}const Zo=Mr(0),Qo=Mr(1),RC=Mr(2),LC=Mr(3),mn=Mr(4),BC=Mr(5),FC=Mr(6);Zo.range,Qo.range,RC.range,LC.range,mn.range,BC.range,FC.range;function Ar(e){return Re(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ou)}const ei=Ar(0),ti=Ar(1),$C=Ar(2),zC=Ar(3),yn=Ar(4),VC=Ar(5),UC=Ar(6);ei.range,ti.range,$C.range,zC.range,yn.range,VC.range,UC.range;const du=Re(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());du.range;const fu=Re(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fu.range;const Yt=Re(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Re(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),Yt.range;const Jt=Re(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Jt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Re(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),Jt.range;function Fg(e,t,r,n,a,o){const i=[[kr,1,Xt],[kr,5,5*Xt],[kr,15,15*Xt],[kr,30,30*Xt],[o,1,xt],[o,5,5*xt],[o,15,15*xt],[o,30,30*xt],[a,1,Kt],[a,3,3*Kt],[a,6,6*Kt],[a,12,12*Kt],[n,1,Gt],[n,2,2*Gt],[r,1,ou],[t,1,Lg],[t,3,3*Lg],[e,1,iu]];function s(l,u,d){const p=u<l;p&&([l,u]=[u,l]);const y=d&&typeof d.range=="function"?d:c(l,u,d),m=y?y.range(l,+u+1):[];return p?m.reverse():m}function c(l,u,d){const p=Math.abs(u-l)/d,y=Ul(([,,v])=>v).right(i,p);if(y===i.length)return e.every(Wl(l/iu,u/iu,d));if(y===0)return Yo.every(Math.max(Wl(l,u,d),1));const[m,h]=i[p/i[y-1][2]<i[y][2]/p?y-1:y];return m.every(h)}return[s,c]}const[HC,qC]=Fg(Jt,fu,ei,Bg,uu,cu),[WC,XC]=Fg(Yt,du,Zo,va,lu,su);function pu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hu(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ga(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function KC(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=ba(a),u=xa(a),d=ba(o),p=xa(o),y=ba(i),m=xa(i),h=ba(s),v=xa(s),b=ba(c),w=xa(c),O={a:F,A:V,b:U,B:Q,c:null,d:qg,e:qg,f:vk,g:Ek,G:Ck,H:hk,I:mk,j:yk,L:Wg,m:gk,M:bk,p:q,q:R,Q:Zg,s:Qg,S:xk,u:wk,U:jk,V:_k,w:Ok,W:Sk,x:null,X:null,y:Nk,Y:Pk,Z:kk,"%":Jg},x={a:Y,A:H,b:J,B:ie,c:null,d:Kg,e:Kg,f:Dk,g:Hk,G:Wk,H:Mk,I:Ak,j:Tk,L:Gg,m:Ik,M:Rk,p:W,q:oe,Q:Zg,s:Qg,S:Lk,u:Bk,U:Fk,V:$k,w:zk,W:Vk,x:null,X:null,y:Uk,Y:qk,Z:Xk,"%":Jg},j={a:C,A:N,b:T,B:k,c:D,d:Ug,e:Ug,f:uk,g:Vg,G:zg,H:Hg,I:Hg,j:ik,L:lk,m:ok,M:sk,p:A,q:ak,Q:fk,s:pk,S:ck,u:QC,U:ek,V:tk,w:ZC,W:rk,x:M,X:I,y:Vg,Y:zg,Z:nk,"%":dk};O.x=_(r,O),O.X=_(n,O),O.c=_(t,O),x.x=_(r,x),x.X=_(n,x),x.c=_(t,x);function _(z,G){return function(ee){var B=[],Oe=-1,le=0,Pe=z.length,Ce,Qe,Ur;for(ee instanceof Date||(ee=new Date(+ee));++Oe<Pe;)z.charCodeAt(Oe)===37&&(B.push(z.slice(le,Oe)),(Qe=$g[Ce=z.charAt(++Oe)])!=null?Ce=z.charAt(++Oe):Qe=Ce==="e"?" ":"0",(Ur=G[Ce])&&(Ce=Ur(ee,Qe)),B.push(Ce),le=Oe+1);return B.push(z.slice(le,Oe)),B.join("")}}function S(z,G){return function(ee){var B=ga(1900,void 0,1),Oe=P(B,z,ee+="",0),le,Pe;if(Oe!=ee.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(G&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(le=hu(ga(B.y,0,1)),Pe=le.getUTCDay(),le=Pe>4||Pe===0?ti.ceil(le):ti(le),le=Jo.offset(le,(B.V-1)*7),B.y=le.getUTCFullYear(),B.m=le.getUTCMonth(),B.d=le.getUTCDate()+(B.w+6)%7):(le=pu(ga(B.y,0,1)),Pe=le.getDay(),le=Pe>4||Pe===0?Qo.ceil(le):Qo(le),le=va.offset(le,(B.V-1)*7),B.y=le.getFullYear(),B.m=le.getMonth(),B.d=le.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Pe="Z"in B?hu(ga(B.y,0,1)).getUTCDay():pu(ga(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Pe+5)%7:B.w+B.U*7-(Pe+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,hu(B)):pu(B)}}function P(z,G,ee,B){for(var Oe=0,le=G.length,Pe=ee.length,Ce,Qe;Oe<le;){if(B>=Pe)return-1;if(Ce=G.charCodeAt(Oe++),Ce===37){if(Ce=G.charAt(Oe++),Qe=j[Ce in $g?G.charAt(Oe++):Ce],!Qe||(B=Qe(z,ee,B))<0)return-1}else if(Ce!=ee.charCodeAt(B++))return-1}return B}function A(z,G,ee){var B=l.exec(G.slice(ee));return B?(z.p=u.get(B[0].toLowerCase()),ee+B[0].length):-1}function C(z,G,ee){var B=y.exec(G.slice(ee));return B?(z.w=m.get(B[0].toLowerCase()),ee+B[0].length):-1}function N(z,G,ee){var B=d.exec(G.slice(ee));return B?(z.w=p.get(B[0].toLowerCase()),ee+B[0].length):-1}function T(z,G,ee){var B=b.exec(G.slice(ee));return B?(z.m=w.get(B[0].toLowerCase()),ee+B[0].length):-1}function k(z,G,ee){var B=h.exec(G.slice(ee));return B?(z.m=v.get(B[0].toLowerCase()),ee+B[0].length):-1}function D(z,G,ee){return P(z,t,G,ee)}function M(z,G,ee){return P(z,r,G,ee)}function I(z,G,ee){return P(z,n,G,ee)}function F(z){return i[z.getDay()]}function V(z){return o[z.getDay()]}function U(z){return c[z.getMonth()]}function Q(z){return s[z.getMonth()]}function q(z){return a[+(z.getHours()>=12)]}function R(z){return 1+~~(z.getMonth()/3)}function Y(z){return i[z.getUTCDay()]}function H(z){return o[z.getUTCDay()]}function J(z){return c[z.getUTCMonth()]}function ie(z){return s[z.getUTCMonth()]}function W(z){return a[+(z.getUTCHours()>=12)]}function oe(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var G=_(z+="",O);return G.toString=function(){return z},G},parse:function(z){var G=S(z+="",!1);return G.toString=function(){return z},G},utcFormat:function(z){var G=_(z+="",x);return G.toString=function(){return z},G},utcParse:function(z){var G=S(z+="",!0);return G.toString=function(){return z},G}}}var $g={"-":"",_:" ",0:"0"},Fe=/^\s*\d+/,GC=/^%/,YC=/[\\^$*+?|[\]().{}]/g;function me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function JC(e){return e.replace(YC,"\\$&")}function ba(e){return new RegExp("^(?:"+e.map(JC).join("|")+")","i")}function xa(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ZC(e,t,r){var n=Fe.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QC(e,t,r){var n=Fe.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ek(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tk(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rk(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function zg(e,t,r){var n=Fe.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Vg(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nk(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ak(e,t,r){var n=Fe.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ok(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ug(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ik(e,t,r){var n=Fe.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Hg(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function sk(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ck(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function lk(e,t,r){var n=Fe.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uk(e,t,r){var n=Fe.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dk(e,t,r){var n=GC.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function fk(e,t,r){var n=Fe.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pk(e,t,r){var n=Fe.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function qg(e,t){return me(e.getDate(),t,2)}function hk(e,t){return me(e.getHours(),t,2)}function mk(e,t){return me(e.getHours()%12||12,t,2)}function yk(e,t){return me(1+va.count(Yt(e),e),t,3)}function Wg(e,t){return me(e.getMilliseconds(),t,3)}function vk(e,t){return Wg(e,t)+"000"}function gk(e,t){return me(e.getMonth()+1,t,2)}function bk(e,t){return me(e.getMinutes(),t,2)}function xk(e,t){return me(e.getSeconds(),t,2)}function wk(e){var t=e.getDay();return t===0?7:t}function jk(e,t){return me(Zo.count(Yt(e)-1,e),t,2)}function Xg(e){var t=e.getDay();return t>=4||t===0?mn(e):mn.ceil(e)}function _k(e,t){return e=Xg(e),me(mn.count(Yt(e),e)+(Yt(e).getDay()===4),t,2)}function Ok(e){return e.getDay()}function Sk(e,t){return me(Qo.count(Yt(e)-1,e),t,2)}function Nk(e,t){return me(e.getFullYear()%100,t,2)}function Ek(e,t){return e=Xg(e),me(e.getFullYear()%100,t,2)}function Pk(e,t){return me(e.getFullYear()%1e4,t,4)}function Ck(e,t){var r=e.getDay();return e=r>=4||r===0?mn(e):mn.ceil(e),me(e.getFullYear()%1e4,t,4)}function kk(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+me(t/60|0,"0",2)+me(t%60,"0",2)}function Kg(e,t){return me(e.getUTCDate(),t,2)}function Mk(e,t){return me(e.getUTCHours(),t,2)}function Ak(e,t){return me(e.getUTCHours()%12||12,t,2)}function Tk(e,t){return me(1+Jo.count(Jt(e),e),t,3)}function Gg(e,t){return me(e.getUTCMilliseconds(),t,3)}function Dk(e,t){return Gg(e,t)+"000"}function Ik(e,t){return me(e.getUTCMonth()+1,t,2)}function Rk(e,t){return me(e.getUTCMinutes(),t,2)}function Lk(e,t){return me(e.getUTCSeconds(),t,2)}function Bk(e){var t=e.getUTCDay();return t===0?7:t}function Fk(e,t){return me(ei.count(Jt(e)-1,e),t,2)}function Yg(e){var t=e.getUTCDay();return t>=4||t===0?yn(e):yn.ceil(e)}function $k(e,t){return e=Yg(e),me(yn.count(Jt(e),e)+(Jt(e).getUTCDay()===4),t,2)}function zk(e){return e.getUTCDay()}function Vk(e,t){return me(ti.count(Jt(e)-1,e),t,2)}function Uk(e,t){return me(e.getUTCFullYear()%100,t,2)}function Hk(e,t){return e=Yg(e),me(e.getUTCFullYear()%100,t,2)}function qk(e,t){return me(e.getUTCFullYear()%1e4,t,4)}function Wk(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yn(e):yn.ceil(e),me(e.getUTCFullYear()%1e4,t,4)}function Xk(){return"+0000"}function Jg(){return"%"}function Zg(e){return+e}function Qg(e){return Math.floor(+e/1e3)}var vn,eb,tb;Kk({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kk(e){return vn=KC(e),eb=vn.format,vn.parse,tb=vn.utcFormat,vn.utcParse,vn}function Gk(e){return new Date(e)}function Yk(e){return e instanceof Date?+e:+new Date(+e)}function mu(e,t,r,n,a,o,i,s,c,l){var u=Yl(),d=u.invert,p=u.domain,y=l(".%L"),m=l(":%S"),h=l("%I:%M"),v=l("%I %p"),b=l("%a %d"),w=l("%b %d"),O=l("%B"),x=l("%Y");function j(_){return(c(_)<_?y:s(_)<_?m:i(_)<_?h:o(_)<_?v:n(_)<_?a(_)<_?b:w:r(_)<_?O:x)(_)}return u.invert=function(_){return new Date(d(_))},u.domain=function(_){return arguments.length?p(Array.from(_,Yk)):p().map(Gk)},u.ticks=function(_){var S=p();return e(S[0],S[S.length-1],_??10)},u.tickFormat=function(_,S){return S==null?j:l(S)},u.nice=function(_){var S=p();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?p(_g(S,_)):u},u.copy=function(){return ma(u,mu(e,t,r,n,a,o,i,s,c,l))},u}function Jk(){return bt.apply(mu(WC,XC,Yt,du,Zo,va,lu,su,kr,eb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zk(){return bt.apply(mu(HC,qC,Jt,fu,ei,Jo,uu,cu,kr,tb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ri(){var e=0,t=1,r,n,a,o,i=Je,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(i=d,l):i};function u(d){return function(p){var y,m;return arguments.length?([y,m]=p,i=d(y,m),l):[i(0),i(1)]}}return l.range=u(Yr),l.rangeRound=u(ks),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),l}}function dr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rb(){var e=ur(ri()(Je));return e.copy=function(){return dr(e,rb())},Wt.apply(e,arguments)}function nb(){var e=Ql(ri()).domain([1,10]);return e.copy=function(){return dr(e,nb()).base(e.base())},Wt.apply(e,arguments)}function ab(){var e=eu(ri());return e.copy=function(){return dr(e,ab()).constant(e.constant())},Wt.apply(e,arguments)}function yu(){var e=tu(ri());return e.copy=function(){return dr(e,yu()).exponent(e.exponent())},Wt.apply(e,arguments)}function Qk(){return yu.apply(null,arguments).exponent(.5)}function ob(){var e=[],t=Je;function r(n){if(n!=null&&!isNaN(n=+n))return t((da(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(lr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>lC(e,o/n))},r.copy=function(){return ob(t).domain(e)},Wt.apply(r,arguments)}function ni(){var e=0,t=.5,r=1,n=1,a,o,i,s,c,l=Je,u,d=!1,p;function y(h){return isNaN(h=+h)?p:(h=.5+((h=+u(h))-o)*(n*h<n*o?s:c),l(d?Math.max(0,Math.min(1,h)):h))}y.domain=function(h){return arguments.length?([e,t,r]=h,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,y):[e,t,r]},y.clamp=function(h){return arguments.length?(d=!!h,y):d},y.interpolator=function(h){return arguments.length?(l=h,y):l};function m(h){return function(v){var b,w,O;return arguments.length?([b,w,O]=v,l=Pj(h,[b,w,O]),y):[l(0),l(.5),l(1)]}}return y.range=m(Yr),y.rangeRound=m(ks),y.unknown=function(h){return arguments.length?(p=h,y):p},function(h){return u=h,a=h(e),o=h(t),i=h(r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,y}}function ib(){var e=ur(ni()(Je));return e.copy=function(){return dr(e,ib())},Wt.apply(e,arguments)}function sb(){var e=Ql(ni()).domain([.1,1,10]);return e.copy=function(){return dr(e,sb()).base(e.base())},Wt.apply(e,arguments)}function cb(){var e=eu(ni());return e.copy=function(){return dr(e,cb()).constant(e.constant())},Wt.apply(e,arguments)}function vu(){var e=tu(ni());return e.copy=function(){return dr(e,vu()).exponent(e.exponent())},Wt.apply(e,arguments)}function eM(){return vu.apply(null,arguments).exponent(.5)}const lb=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pa,scaleDiverging:ib,scaleDivergingLog:sb,scaleDivergingPow:vu,scaleDivergingSqrt:eM,scaleDivergingSymlog:cb,scaleIdentity:jg,scaleImplicit:Xl,scaleLinear:Go,scaleLog:Eg,scaleOrdinal:Kl,scalePoint:ha,scalePow:ru,scaleQuantile:Dg,scaleQuantize:Ig,scaleRadial:Tg,scaleSequential:rb,scaleSequentialLog:nb,scaleSequentialPow:yu,scaleSequentialQuantile:ob,scaleSequentialSqrt:Qk,scaleSequentialSymlog:ab,scaleSqrt:DC,scaleSymlog:kg,scaleThreshold:Rg,scaleTime:Jk,scaleUtc:Zk,tickFormat:wg},Symbol.toStringTag,{value:"Module"}));var gu,ub;function db(){if(ub)return gu;ub=1;var e=_f();function t(r,n,a){for(var o=-1,i=r.length;++o<i;){var s=r[o],c=n(s);if(c!=null&&(l===void 0?c===c&&!e(c):a(c,l)))var l=c,u=s}return u}return gu=t,gu}var bu,fb;function tM(){if(fb)return bu;fb=1;function e(t,r){return t>r}return bu=e,bu}var xu,pb;function rM(){if(pb)return xu;pb=1;var e=db(),t=tM(),r=ro();function n(a){return a&&a.length?e(a,r,t):void 0}return xu=n,xu}var nM=rM();const ai=_e(nM);var wu,hb;function aM(){if(hb)return wu;hb=1;function e(t,r){return t<r}return wu=e,wu}var ju,mb;function oM(){if(mb)return ju;mb=1;var e=db(),t=aM(),r=ro();function n(a){return a&&a.length?e(a,r,t):void 0}return ju=n,ju}var iM=oM();const oi=_e(iM);var _u,yb;Hf=function(){if(yb)return _u;yb=1;var e=aj(),t=xr(),r=sv(),n=Hn();function a(o,i){var s=n(o)?e:r;return s(o,t(i,3))}return _u=a,_u};var Ou,vb;function sM(){if(vb)return Ou;vb=1;var e=js(),t=Hf();function r(n,a){return e(t(n,a),1)}return Ou=r,Ou}var cM=sM();const lM=_e(cM);var Su,gb;function uM(){if(gb)return Su;gb=1;var e=J5();function t(r,n){return e(r,n)}return Su=t,Su}var dM=uM();const Nu=_e(dM);var gn=1e9,fM={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cu,Ee=!0,wt="[DecimalError] ",Tr=wt+"Invalid argument: ",Eu=wt+"Exponent out of range: ",bn=Math.floor,Dr=Math.pow,pM=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ft,$e=1e7,Ne=7,bb=9007199254740991,ii=bn(bb/Ne),Z={};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Z.comparedTo=Z.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1},Z.decimalPlaces=Z.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ne;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r},Z.dividedBy=Z.div=function(e){return Zt(this,new this.constructor(e))},Z.dividedToIntegerBy=Z.idiv=function(e){var t=this,r=t.constructor;return je(Zt(t,new r(e),0,1),r.precision)},Z.equals=Z.eq=function(e){return!this.cmp(e)},Z.exponent=function(){return Me(this)},Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0},Z.greaterThanOrEqualTo=Z.gte=function(e){return this.cmp(e)>=0},Z.isInteger=Z.isint=function(){return this.e>this.d.length-2},Z.isNegative=Z.isneg=function(){return this.s<0},Z.isPositive=Z.ispos=function(){return this.s>0},Z.isZero=function(){return this.s===0},Z.lessThan=Z.lt=function(e){return this.cmp(e)<0},Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1},Z.logarithm=Z.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ft))throw Error(wt+"NaN");if(r.s<1)throw Error(wt+(r.s?"NaN":"-Infinity"));return r.eq(ft)?new n(0):(Ee=!1,t=Zt(wa(r,o),wa(e,o),o),Ee=!0,je(t,a))},Z.minus=Z.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_b(t,e):xb(t,(e.s=-e.s,e))},Z.modulo=Z.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(wt+"NaN");return r.s?(Ee=!1,t=Zt(r,e,0,1).times(e),Ee=!0,r.minus(t)):je(new n(r),a)},Z.naturalExponential=Z.exp=function(){return wb(this)},Z.naturalLogarithm=Z.ln=function(){return wa(this)},Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Z.plus=Z.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xb(t,e):_b(t,(e.s=-e.s,e))},Z.precision=Z.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Tr+e);if(t=Me(a)+1,n=a.d.length-1,r=n*Ne+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},Z.squareRoot=Z.sqrt=function(){var e,t,r,n,a,o,i,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(wt+"NaN")}for(e=Me(s),Ee=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=It(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bn((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(o=n,n=o.plus(Zt(s,o,i+2)).times(.5),It(o.d).slice(0,i)===(t=It(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(je(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Ee=!0,je(n,r)},Z.times=Z.mul=function(e){var t,r,n,a,o,i,s,c,l,u=this,d=u.constructor,p=u.d,y=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,c=p.length,l=y.length,c<l&&(o=p,p=y,y=o,i=c,c=l,l=i),o=[],i=c+l,n=i;n--;)o.push(0);for(n=l;--n>=0;){for(t=0,a=c+n;a>n;)s=o[a]+y[n]*p[a-n-1]+t,o[a--]=s%$e|0,t=s/$e|0;o[a]=(o[a]+t)%$e|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Ee?je(e,d.precision):e},Z.toDecimalPlaces=Z.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Dt(e,0,gn),t===void 0?t=n.rounding:Dt(t,0,8),je(r,e+Me(r)+1,t))},Z.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ir(n,!0):(Dt(e,0,gn),t===void 0?t=a.rounding:Dt(t,0,8),n=je(new a(n),e+1,t),r=Ir(n,!0,e+1)),r},Z.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Ir(a):(Dt(e,0,gn),t===void 0?t=o.rounding:Dt(t,0,8),n=je(new o(a),e+Me(a)+1,t),r=Ir(n.abs(),!1,e+Me(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},Z.toInteger=Z.toint=function(){var e=this,t=e.constructor;return je(new t(e),Me(e)+1,t.rounding)},Z.toNumber=function(){return+this},Z.toPower=Z.pow=function(e){var t,r,n,a,o,i,s=this,c=s.constructor,l=12,u=+(e=new c(e));if(!e.s)return new c(ft);if(s=new c(s),!s.s){if(e.s<1)throw Error(wt+"Infinity");return s}if(s.eq(ft))return s;if(n=c.precision,e.eq(ft))return je(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=bb){for(a=new c(ft),t=Math.ceil(n/Ne+4),Ee=!1;r%2&&(a=a.times(s),Ob(a.d,t)),r=bn(r/2),r!==0;)s=s.times(s),Ob(s.d,t);return Ee=!0,e.s<0?new c(ft).div(a):je(a,n)}}else if(o<0)throw Error(wt+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ee=!1,a=e.times(wa(s,n+l)),Ee=!0,a=wb(a),a.s=o,a},Z.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Me(a),n=Ir(a,r<=o.toExpNeg||r>=o.toExpPos)):(Dt(e,1,gn),t===void 0?t=o.rounding:Dt(t,0,8),a=je(new o(a),e,t),r=Me(a),n=Ir(a,e<=r||r<=o.toExpNeg,e)),n},Z.toSignificantDigits=Z.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Dt(e,1,gn),t===void 0?t=n.rounding:Dt(t,0,8)),je(new n(r),e,t)},Z.toString=Z.valueOf=Z.val=Z.toJSON=Z[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Me(e),r=e.constructor;return Ir(e,t<=r.toExpNeg||t>=r.toExpPos)};function xb(e,t){var r,n,a,o,i,s,c,l,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ee?je(t,d):t;if(c=e.d,l=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a,o){for(o<0?(n=c,o=-o,s=l.length):(n=l,a=i,s=c.length),i=Math.ceil(d/Ne),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=c.length,o=l.length,s-o<0&&(o=s,n=l,l=c,c=n),r=0;o;)r=(c[--o]=c[o]+l[o]+r)/$e|0,c[o]%=$e;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Ee?je(t,d):t}function Dt(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Tr+e)}function It(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Ne-n.length,r&&(o+=fr(r)),o+=n;i=e[t],n=i+"",r=Ne-n.length,r&&(o+=fr(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Zt=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%$e|0,i=o/$e|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,c;if(o!=i)c=o>i?1:-1;else for(s=c=0;s<o;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*$e+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,c,l,u,d,p,y,m,h,v,b,w,O,x,j,_,S,P,A=n.constructor,C=n.s==a.s?1:-1,N=n.d,T=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(wt+"Division by zero");for(c=n.e-a.e,S=T.length,j=N.length,y=new A(C),m=y.d=[],l=0;T[l]==(N[l]||0);)++l;if(T[l]>(N[l]||0)&&--c,o==null?w=o=A.precision:i?w=o+(Me(n)-Me(a))+1:w=o,w<0)return new A(0);if(w=w/Ne+2|0,l=0,S==1)for(u=0,T=T[0],w++;(l<j||u)&&w--;l++)O=u*$e+(N[l]||0),m[l]=O/T|0,u=O%T|0;else{for(u=$e/(T[0]+1)|0,u>1&&(T=e(T,u),N=e(N,u),S=T.length,j=N.length),x=S,h=N.slice(0,S),v=h.length;v<S;)h[v++]=0;P=T.slice(),P.unshift(0),_=T[0],T[1]>=$e/2&&++_;do u=0,s=t(T,h,S,v),s<0?(b=h[0],S!=v&&(b=b*$e+(h[1]||0)),u=b/_|0,u>1?(u>=$e&&(u=$e-1),d=e(T,u),p=d.length,v=h.length,s=t(d,h,p,v),s==1&&(u--,r(d,S<p?P:T,p))):(u==0&&(s=u=1),d=T.slice()),p=d.length,p<v&&d.unshift(0),r(h,d,v),s==-1&&(v=h.length,s=t(T,h,S,v),s<1&&(u++,r(h,S<v?P:T,v))),v=h.length):s===0&&(u++,h=[0]),m[l++]=u,s&&h[0]?h[v++]=N[x]||0:(h=[N[x]],v=1);while((x++<j||h[0]!==void 0)&&w--)}return m[0]||m.shift(),y.e=c,je(y,i?o+Me(y)+1:o)}}();function wb(e,t){var r,n,a,o,i,s,c=0,l=0,u=e.constructor,d=u.precision;if(Me(e)>16)throw Error(Eu+Me(e));if(!e.s)return new u(ft);for(t==null?(Ee=!1,s=d):s=t,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(n=Math.log(Dr(2,l))/Math.LN10*2+5|0,s+=n,r=a=o=new u(ft),u.precision=s;;){if(a=je(a.times(e),s),r=r.times(++c),i=o.plus(Zt(a,r,s)),It(i.d).slice(0,s)===It(o.d).slice(0,s)){for(;l--;)o=je(o.times(o),s);return u.precision=d,t==null?(Ee=!0,je(o,d)):o}o=i}}function Me(e){for(var t=e.e*Ne,r=e.d[0];r>=10;r/=10)t++;return t}function Pu(e,t,r){if(t>e.LN10.sd())throw Ee=!0,r&&(e.precision=r),Error(wt+"LN10 precision limit exceeded");return je(new e(e.LN10),t)}function fr(e){for(var t="";e--;)t+="0";return t}function wa(e,t){var r,n,a,o,i,s,c,l,u,d=1,p=10,y=e,m=y.d,h=y.constructor,v=h.precision;if(y.s<1)throw Error(wt+(y.s?"NaN":"-Infinity"));if(y.eq(ft))return new h(0);if(t==null?(Ee=!1,l=v):l=t,y.eq(10))return t==null&&(Ee=!0),Pu(h,l);if(l+=p,h.precision=l,r=It(m),n=r.charAt(0),o=Me(y),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=It(y.d),n=r.charAt(0),d++;o=Me(y),n>1?(y=new h("0."+r),o++):y=new h(n+"."+r.slice(1))}else return c=Pu(h,l+2,v).times(o+""),y=wa(new h(n+"."+r.slice(1)),l-p).plus(c),h.precision=v,t==null?(Ee=!0,je(y,v)):y;for(s=i=y=Zt(y.minus(ft),y.plus(ft),l),u=je(y.times(y),l),a=3;;){if(i=je(i.times(u),l),c=s.plus(Zt(i,new h(a),l)),It(c.d).slice(0,l)===It(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(Pu(h,l+2,v).times(o+""))),s=Zt(s,new h(d),l),h.precision=v,t==null?(Ee=!0,je(s,v)):s;s=c,a+=2}}function jb(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bn(r/Ne),e.d=[],n=(r+1)%Ne,r<0&&(n+=Ne),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ne;n<a;)e.d.push(+t.slice(n,n+=Ne));t=t.slice(n),n=Ne-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ee&&(e.e>ii||e.e<-ii))throw Error(Eu+r)}else e.s=0,e.e=0,e.d=[0];return e}function je(e,t,r){var n,a,o,i,s,c,l,u,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Ne,a=t,l=d[u=0];else{if(u=Math.ceil((n+1)/Ne),o=d.length,u>=o)return e;for(l=o=d[u],i=1;o>=10;o/=10)i++;n%=Ne,a=n-Ne+i}if(r!==void 0&&(o=Dr(10,i-a-1),s=l/o%10|0,c=t<0||d[u+1]!==void 0||l%o,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?l/Dr(10,i-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(o=Me(e),d.length=1,t=t-o-1,d[0]=Dr(10,(Ne-t%Ne)%Ne),e.e=bn(-t/Ne)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,o=1,u--):(d.length=u+1,o=Dr(10,Ne-n),d[u]=a>0?(l/Dr(10,i-a)%Dr(10,a)|0)*o:0),c)for(;;)if(u==0){(d[0]+=o)==$e&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=$e)break;d[u--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Ee&&(e.e>ii||e.e<-ii))throw Error(Eu+Me(e));return e}function _b(e,t){var r,n,a,o,i,s,c,l,u,d,p=e.constructor,y=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ee?je(t,y):t;if(c=e.d,d=t.d,n=t.e,l=e.e,c=c.slice(),i=l-n,i){for(u=i<0,u?(r=c,i=-i,s=d.length):(r=d,n=l,s=c.length),a=Math.max(Math.ceil(y/Ne),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=d.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(c[a]!=d[a]){u=c[a]<d[a];break}i=0}for(u&&(r=c,c=d,d=r,t.s=-t.s),s=c.length,a=d.length-s;a>0;--a)c[s++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(o=a;o&&c[--o]===0;)c[o]=$e-1;--c[o],c[a]+=$e}c[a]-=d[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ee?je(t,y):t):new p(0)}function Ir(e,t,r){var n,a=Me(e),o=It(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+fr(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+fr(-a-1)+o,r&&(n=r-i)>0&&(o+=fr(n))):a>=i?(o+=fr(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+fr(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=fr(n))),e.s<0?"-"+o:o}function Ob(e,t){if(e.length>t)return e.length=t,!0}function Sb(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Tr+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return jb(i,o.toString())}else if(typeof o!="string")throw Error(Tr+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,pM.test(o))jb(i,o);else throw Error(Tr+o)}if(a.prototype=Z,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Sb,a.config=a.set=hM,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function hM(e){if(!e||typeof e!="object")throw Error(wt+"Object expected");var t,r,n,a=["precision",1,gn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bn(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Tr+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Tr+r+": "+n);return this}var Cu=Sb(fM);ft=new Cu(1);const we=Cu;function mM(e){return bM(e)||gM(e)||vM(e)||yM()}function yM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vM(e,t){if(e){if(typeof e=="string")return ku(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ku(e,t)}}function gM(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bM(e){if(Array.isArray(e))return ku(e)}function ku(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xM=function(e){return e},Nb={"@@functional/placeholder":!0},Eb=function(e){return e===Nb},Pb=function(e){return function t(){return arguments.length===0||arguments.length===1&&Eb(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},wM=function e(t,r){return t===1?r:Pb(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==Nb}).length;return i>=t?r.apply(void 0,a):e(t-i,Pb(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=a.map(function(d){return Eb(d)?c.shift():d});return r.apply(void 0,mM(u).concat(c))}))})},si=function(e){return wM(e.length,e)},Mu=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},jM=si(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),_M=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return xM;var n=t.reverse(),a=n[0],o=n.slice(1);return function(){return o.reduce(function(i,s){return s(i)},a.apply(void 0,arguments))}},Au=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Cb=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t&&a.every(function(i,s){return i===t[s]})||(t=a,r=e.apply(void 0,a)),r}};function OM(e){var t;return e===0?t=1:t=Math.floor(new we(e).abs().log(10).toNumber())+1,t}function SM(e,t,r){for(var n=new we(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var NM=si(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),EM=si(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),PM=si(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ci={rangeStep:SM,getDigitCount:OM,interpolateNumber:NM,uninterpolateNumber:EM,uninterpolateTruncation:PM};function Tu(e){return MM(e)||kM(e)||kb(e)||CM()}function CM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kM(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function MM(e){if(Array.isArray(e))return Du(e)}function ja(e,t){return DM(e)||TM(e,t)||kb(e,t)||AM()}function AM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kb(e,t){if(e){if(typeof e=="string")return Du(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Du(e,t)}}function Du(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TM(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,o=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function DM(e){if(Array.isArray(e))return e}function Mb(e){var t=ja(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function Ab(e,t,r){if(e.lte(0))return new we(0);var n=ci.getDigitCount(e.toNumber()),a=new we(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new we(Math.ceil(o.div(i).toNumber())).add(r).mul(i),c=s.mul(a);return t?c:new we(Math.ceil(c))}function IM(e,t,r){var n=1,a=new we(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new we(10).pow(ci.getDigitCount(e)-1),a=new we(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new we(Math.floor(e)))}else e===0?a=new we(Math.floor((t-1)/2)):r||(a=new we(Math.floor(e)));var i=Math.floor((t-1)/2),s=_M(jM(function(c){return a.add(new we(c-i).mul(n)).toNumber()}),Mu);return s(0,t)}function Tb(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new we(0),tickMin:new we(0),tickMax:new we(0)};var o=Ab(new we(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new we(0):(i=new we(e).add(t).div(2),i=i.sub(new we(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),c=Math.ceil(new we(t).sub(i).div(o).toNumber()),l=s+c+1;return l>r?Tb(e,t,r,n,a+1):(l<r&&(c=t>0?c+(r-l):c,s=t>0?s:s+(r-l)),{step:o,tickMin:i.sub(new we(s).mul(o)),tickMax:i.add(new we(c).mul(o))})}function RM(e){var t=ja(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=Mb([r,n]),c=ja(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var d=u===1/0?[l].concat(Tu(Mu(0,a-1).map(function(){return 1/0}))):[].concat(Tu(Mu(0,a-1).map(function(){return-1/0})),[u]);return r>n?Au(d):d}if(l===u)return IM(l,a,o);var p=Tb(l,u,i,o),y=p.step,m=p.tickMin,h=p.tickMax,v=ci.rangeStep(m,h.add(new we(.1).mul(y)),y);return r>n?Au(v):v}function LM(e,t){var r=ja(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Mb([n,a]),s=ja(i,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,a];if(c===l)return[c];var u=Math.max(t,2),d=Ab(new we(l).sub(c).div(u-1),o,0),p=[].concat(Tu(ci.rangeStep(new we(c),new we(l).sub(new we(.99).mul(d)),d)),[l]);return n>a?Au(p):p}var BM=Cb(RM),FM=Cb(LM),$M="Invariant failed";function Rr(e,t){throw new Error($M)}var zM=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xn(e){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(e)}function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(this,arguments)}function VM(e,t){return WM(e)||qM(e,t)||HM(e,t)||UM()}function UM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HM(e,t){if(e){if(typeof e=="string")return Db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Db(e,t)}}function Db(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qM(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function WM(e){if(Array.isArray(e))return e}function XM(e,t){if(e==null)return{};var r=KM(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lb(n.key),n)}}function JM(e,t,r){return t&&YM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZM(e,t,r){return t=ui(t),QM(e,Ib()?Reflect.construct(t,r||[],ui(e).constructor):t.apply(e,r))}function QM(e,t){if(t&&(xn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e2(e)}function e2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ib(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ib=function(){return!!e})()}function ui(e){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ui(e)}function t2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iu(e,t)}function Iu(e,t){return Iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Iu(e,t)}function Rb(e,t,r){return t=Lb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lb(e){var t=r2(e,"string");return xn(t)=="symbol"?t:t+""}function r2(e,t){if(xn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var di=function(e){function t(){return GM(this,t),ZM(this,t,arguments)}return t2(t,e),JM(t,[{key:"render",value:function(){var r=this.props,n=r.offset,a=r.layout,o=r.width,i=r.dataKey,s=r.data,c=r.dataPointFormatter,l=r.xAxis,u=r.yAxis,d=XM(r,zM),p=ye(d,!1);this.props.direction==="x"&&l.type!=="number"&&Rr();var y=s.map(function(m){var h=c(m,i),v=h.x,b=h.y,w=h.value,O=h.errorVal;if(!O)return null;var x=[],j,_;if(Array.isArray(O)){var S=VM(O,2);j=S[0],_=S[1]}else j=_=O;if(a==="vertical"){var P=l.scale,A=b+n,C=A+o,N=A-o,T=P(w-j),k=P(w+_);x.push({x1:k,y1:C,x2:k,y2:N}),x.push({x1:T,y1:A,x2:k,y2:A}),x.push({x1:T,y1:C,x2:T,y2:N})}else if(a==="horizontal"){var D=u.scale,M=v+n,I=M-o,F=M+o,V=D(w-j),U=D(w+_);x.push({x1:I,y1:U,x2:F,y2:U}),x.push({x1:M,y1:V,x2:M,y2:U}),x.push({x1:I,y1:V,x2:F,y2:V})}return E.createElement(Be,li({className:"recharts-errorBar",key:"bar-".concat(x.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),x.map(function(Q){return E.createElement("line",li({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return E.createElement(Be,{className:"recharts-errorBars"},y)}}])}(E.Component);Rb(di,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Rb(di,"displayName","ErrorBar");function _a(e){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){n2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n2(e,t,r){return t=a2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a2(e){var t=o2(e,"string");return _a(t)=="symbol"?t:t+""}function o2(e,t){if(_a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fb=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,o=dt(t,ln);if(!o)return null;var i=ln.defaultProps,s=i!==void 0?Lr(Lr({},i),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(l,u){var d=u.item,p=u.props,y=p.sectors||p.data||[];return l.concat(y.map(function(m){return{type:o.props.iconType||d.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(r||[]).map(function(l){var u=l.item,d=u.type.defaultProps,p=d!==void 0?Lr(Lr({},d),u.props):{},y=p.dataKey,m=p.name,h=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:s.iconType||h||"square",color:Lu(u),value:m||y,payload:p}}),Lr(Lr(Lr({},s),ln.getWithHeight(o,n)),{},{payload:c,item:o})};function Oa(e){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(e)}function $b(e){return l2(e)||c2(e)||s2(e)||i2()}function i2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2(e,t){if(e){if(typeof e=="string")return Ru(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ru(e,t)}}function c2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l2(e){if(Array.isArray(e))return Ru(e)}function Ru(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zb(Object(r),!0).forEach(function(n){wn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wn(e,t,r){return t=u2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u2(e){var t=d2(e,"string");return Oa(t)=="symbol"?t:t+""}function d2(e,t){if(Oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,r){return ve(e)||ve(t)?r:Ie(t)?mt(e,t,r):de(t)?t(e):r}function fi(e,t,r,n){var a=lM(e,function(s){return Rt(s,t)});if(r==="number"){var o=a.filter(function(s){return K(s)||parseFloat(s)});return o.length?[oi(o),ai(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!ve(s)}):a;return i.map(function(s){return Ie(s)||s instanceof Date?s:""})}var f2=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,i=(t=r==null?void 0:r.length)!==null&&t!==void 0?t:0;if(i<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,c=0;c<i;c++){var l=c>0?n[c-1].coordinate:n[i-1].coordinate,u=n[c].coordinate,d=c>=i-1?n[0].coordinate:n[c+1].coordinate,p=void 0;if(St(u-l)!==St(d-u)){var y=[];if(St(d-u)===St(s[1]-s[0])){p=d;var m=u+s[1]-s[0];y[0]=Math.min(m,(m+l)/2),y[1]=Math.max(m,(m+l)/2)}else{p=l;var h=d+s[1]-s[0];y[0]=Math.min(u,(h+u)/2),y[1]=Math.max(u,(h+u)/2)}var v=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){o=n[c].index;break}}else{var b=Math.min(l,d),w=Math.max(l,d);if(e>(b+u)/2&&e<=(w+u)/2){o=n[c].index;break}}}else for(var O=0;O<i;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<i-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===i-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){o=r[O].index;break}return o},Lu=function(e){var t,r=e,n=r.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?ke(ke({},e.type.defaultProps),e.props):e.props,o=a.stroke,i=a.fill,s;switch(n){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:i;break;default:s=i;break}return s},p2=function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=n===void 0?{}:n;if(!a)return{};for(var o={},i=Object.keys(a),s=0,c=i.length;s<c;s++)for(var l=a[i[s]].stackGroups,u=Object.keys(l),d=0,p=u.length;d<p;d++){var y=l[u[d]],m=y.items,h=y.cateAxisId,v=m.filter(function(_){return Ut(_.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?ke(ke({},b),v[0].props):v[0].props,O=w.barSize,x=w[h];o[x]||(o[x]=[]);var j=ve(O)?t:O;o[x].push({item:v[0],stackList:v.slice(1),barSize:ve(j)?void 0:Pr(j,r,0)})}}return o},h2=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,i=e.maxBarSize,s=o.length;if(s<1)return null;var c=Pr(t,n,0,!0),l,u=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=n/s,y=o.reduce(function(O,x){return O+x.barSize||0},0);y+=(s-1)*c,y>=n&&(y-=(s-1)*c,c=0),y>=n&&p>0&&(d=!0,p*=.9,y=s*p);var m=(n-y)/2>>0,h={offset:m-c,size:0};l=o.reduce(function(O,x){var j={item:x.item,position:{offset:h.offset+h.size+c,size:d?p:x.barSize}},_=[].concat($b(O),[j]);return h=_[_.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(S){_.push({item:S,position:h})}),_},u)}else{var v=Pr(r,n,0,!0);n-2*v-(s-1)*c<=0&&(c=0);var b=(n-2*v-(s-1)*c)/s;b>1&&(b>>=0);var w=i===+i?Math.min(b,i):b;l=o.reduce(function(O,x,j){var _=[].concat($b(O),[{item:x.item,position:{offset:v+(b+c)*j+(b-w)/2,size:w}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(S){_.push({item:S,position:_[_.length-1].position})}),_},u)}return l},m2=function(e,t,r,n){var a=r.children,o=r.width,i=r.margin,s=o-(i.left||0)-(i.right||0),c=Fb({children:a,legendWidth:s});if(c){var l=n||{},u=l.width,d=l.height,p=c.align,y=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&K(e[p]))return ke(ke({},e),{},wn({},p,e[p]+(u||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&K(e[y]))return ke(ke({},e),{},wn({},y,e[y]+(d||0)))}return e},y2=function(e,t,r){return ve(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},Vb=function(e,t,r,n,a){var o=t.props.children,i=Nt(o,di).filter(function(c){return y2(n,a,c.props.direction)});if(i&&i.length){var s=i.map(function(c){return c.props.dataKey});return e.reduce(function(c,l){var u=Rt(l,r);if(ve(u))return c;var d=Array.isArray(u)?[oi(u),ai(u)]:[u,u],p=s.reduce(function(y,m){var h=Rt(l,m,0),v=d[0]-Math.abs(Array.isArray(h)?h[0]:h),b=d[1]+Math.abs(Array.isArray(h)?h[1]:h);return[Math.min(v,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},v2=function(e,t,r,n,a){var o=t.map(function(i){return Vb(e,i,r,a,n)}).filter(function(i){return!ve(i)});return o&&o.length?o.reduce(function(i,s){return[Math.min(i[0],s[0]),Math.max(i[1],s[1])]},[1/0,-1/0]):null},Ub=function(e,t,r,n,a){var o=t.map(function(s){var c=s.props.dataKey;return r==="number"&&c&&Vb(e,s,c,n)||fi(e,c,r,a)});if(r==="number")return o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]);var i={};return o.reduce(function(s,c){for(var l=0,u=c.length;l<u;l++)i[c[l]]||(i[c[l]]=!0,s.push(c[l]));return s},[])},Hb=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},qb=function(e,t,r,n){if(n)return e.map(function(s){return s.coordinate});var a,o,i=e.map(function(s){return s.coordinate===t&&(a=!0),s.coordinate===r&&(o=!0),s.coordinate});return a||i.push(t),o||i.push(r),i},Qt=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,o=e.type,i=e.range,s=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,c=(t||r)&&o==="category"&&n.bandwidth?n.bandwidth()/s:0;if(c=e.axisType==="angleAxis"&&(i==null?void 0:i.length)>=2?St(i[0]-i[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var l=(e.ticks||e.niceTicks).map(function(u){var d=a?a.indexOf(u):u;return{coordinate:n(d)+c,value:u,offset:c}});return l.filter(function(u){return!ta(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,d){return{coordinate:n(u)+c,value:u,index:d,offset:c}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(u){return{coordinate:n(u)+c,value:u,offset:c}}):n.domain().map(function(u,d){return{coordinate:n(u)+c,value:a?a[u]:u,index:d,offset:c}})},Bu=new WeakMap,pi=function(e,t){if(typeof t!="function")return e;Bu.has(e)||Bu.set(e,new WeakMap);var r=Bu.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},g2=function(e,t,r){var n=e.scale,a=e.type,o=e.layout,i=e.axisType;if(n==="auto")return o==="radial"&&i==="radiusAxis"?{scale:pa(),realScaleType:"band"}:o==="radial"&&i==="angleAxis"?{scale:Go(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:ha(),realScaleType:"point"}:a==="category"?{scale:pa(),realScaleType:"band"}:{scale:Go(),realScaleType:"linear"};if(ea(n)){var s="scale".concat(Oo(n));return{scale:(lb[s]||ha)(),realScaleType:lb[s]?s:"point"}}return de(n)?{scale:n}:{scale:ha(),realScaleType:"point"}},Wb=1e-4,b2=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Wb,o=Math.max(n[0],n[1])+Wb,i=e(t[0]),s=e(t[r-1]);(i<a||i>o||s<a||s>o)&&e.domain([t[0],t[r-1]])}},x2=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null},w2=function(e,t){if(!t||t.length!==2||!K(t[0])||!K(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!K(e[0])||e[0]<r)&&(a[0]=r),(!K(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},j2=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0,i=0;i<t;++i){var s=ta(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1])}},_2=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0;o<t;++o){var i=ta(e[o][r][1])?e[o][r][0]:e[o][r][1];i>=0?(e[o][r][0]=a,e[o][r][1]=a+i,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},O2={sign:j2,expand:_N,none:on,silhouette:ON,wiggle:SN,positive:_2},S2=function(e,t,r){var n=t.map(function(i){return i.props.dataKey}),a=O2[r],o=jN().keys(n).value(function(i,s){return+Rt(i,s,0)}).order(Vc).offset(a);return o(e)},N2=function(e,t,r,n,a,o){if(!e)return null;var i=o?t.reverse():t,s={},c=i.reduce(function(u,d){var p,y=(p=d.type)!==null&&p!==void 0&&p.defaultProps?ke(ke({},d.type.defaultProps),d.props):d.props,m=y.stackId,h=y.hide;if(h)return u;var v=y[r],b=u[v]||{hasStack:!1,stackGroups:{}};if(Ie(m)){var w=b.stackGroups[m]||{numericAxisId:r,cateAxisId:n,items:[]};w.items.push(d),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[wo("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[d]};return ke(ke({},u),{},wn({},v,b))},s),l={};return Object.keys(c).reduce(function(u,d){var p=c[d];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,h){var v=p.stackGroups[h];return ke(ke({},m),{},wn({},h,{numericAxisId:r,cateAxisId:n,items:v.items,stackedData:S2(e,v.items,a)}))},y)}return ke(ke({},u),{},wn({},d,p))},l)},E2=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,o=t.originalDomain,i=t.allowDecimals,s=r||t.scale;if(s!=="auto"&&s!=="linear")return null;if(a&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var l=BM(c,a,i);return e.domain([oi(l),ai(l)]),{niceTicks:l}}if(a&&n==="number"){var u=e.domain(),d=FM(u,a,i);return{niceTicks:d}}return null},Xb=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,o=e.entry,i=e.index;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var s=Rt(o,t.dataKey,t.domain[i]);return ve(s)?null:t.scale(s)-a/2+n},P2=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},C2=function(e,t){var r,n=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ke(ke({},e.type.defaultProps),e.props):e.props,a=n.stackId;if(Ie(a)){var o=t[a];if(o){var i=o.items.indexOf(e);return i>=0?o.stackedData[i]:null}}return null},k2=function(e){return e.reduce(function(t,r){return[oi(r.concat([t[0]]).filter(K)),ai(r.concat([t[1]]).filter(K))]},[1/0,-1/0])},Kb=function(e,t,r){return Object.keys(e).reduce(function(n,a){var o=e[a],i=o.stackedData,s=i.reduce(function(c,l){var u=k2(l.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},Gb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fu=function(e,t,r){if(de(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(K(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Gb.test(e[0])){var a=+Gb.exec(e[0])[1];n[0]=t[0]-a}else de(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(K(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Yb.test(e[1])){var o=+Yb.exec(e[1])[1];n[1]=t[1]+o}else de(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},hi=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=El(t,function(u){return u.coordinate}),o=1/0,i=1,s=a.length;i<s;i++){var c=a[i],l=a[i-1];o=Math.min((c.coordinate||0)-(l.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Jb=function(e,t,r){return!e||!e.length||Nu(e,mt(r,"type.defaultProps.domain"))?t:e},Zb=function(e,t){var r=e.type.defaultProps?ke(ke({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,o=r.unit,i=r.formatter,s=r.tooltipType,c=r.chartType,l=r.hide;return ke(ke({},ye(e,!1)),{},{dataKey:n,unit:o,formatter:i,name:a||n,color:Lu(e),value:Rt(t,n),type:s,payload:t,chartType:c,hide:l})};function Sa(e){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(e)}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){M2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M2(e,t,r){return t=A2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2(e){var t=T2(e,"string");return Sa(t)=="symbol"?t:t+""}function T2(e,t){if(Sa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mi=Math.PI/180,D2=function(e){return e*180/Math.PI},ze=function(e,t,r,n){return{x:e+Math.cos(-mi*n)*r,y:t+Math.sin(-mi*n)*r}},I2=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-o,2))},R2=function(e,t){var r=e.x,n=e.y,a=t.cx,o=t.cy,i=I2({x:r,y:n},{x:a,y:o});if(i<=0)return{radius:i};var s=(r-a)/i,c=Math.acos(s);return n>o&&(c=2*Math.PI-c),{radius:i,angle:D2(c),angleInRadian:c}},L2=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-o*360,endAngle:r-o*360}},B2=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return e+i*360},t0=function(e,t){var r=e.x,n=e.y,a=R2({x:r,y:n},t),o=a.radius,i=a.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(o===0)return!0;var l=L2(t),u=l.startAngle,d=l.endAngle,p=i,y;if(u<=d){for(;p>d;)p-=360;for(;p<u;)p+=360;y=p>=u&&p<=d}else{for(;p>u;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=u}return y?e0(e0({},t),{},{radius:o,angle:B2(p,t)}):null};function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}var F2=["offset"];function $2(e){return H2(e)||U2(e)||V2(e)||z2()}function z2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V2(e,t){if(e){if(typeof e=="string")return $u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $u(e,t)}}function U2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H2(e){if(Array.isArray(e))return $u(e)}function $u(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q2(e,t){if(e==null)return{};var r=W2(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W2(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r0(Object(r),!0).forEach(function(n){X2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X2(e,t,r){return t=K2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2(e){var t=G2(e,"string");return Na(t)=="symbol"?t:t+""}function G2(e,t){if(Na(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ea.apply(this,arguments)}var Y2=function(e){var t=e.value,r=e.formatter,n=ve(e.children)?t:e.children;return de(r)?r(n):n},J2=function(e,t){var r=St(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Z2=function(e,t,r){var n=e.position,a=e.viewBox,o=e.offset,i=e.className,s=a,c=s.cx,l=s.cy,u=s.innerRadius,d=s.outerRadius,p=s.startAngle,y=s.endAngle,m=s.clockWise,h=(u+d)/2,v=J2(p,y),b=v>=0?1:-1,w,O;n==="insideStart"?(w=p+b*o,O=m):n==="insideEnd"?(w=y-b*o,O=!m):n==="end"&&(w=y+b*o,O=m),O=v<=0?O:!O;var x=ze(c,l,h,w),j=ze(c,l,h,w+(O?1:-1)*359),_="M".concat(x.x,",").concat(x.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(O?0:1,`,
    `).concat(j.x,",").concat(j.y),S=ve(e.id)?wo("recharts-radial-line-"):e.id;return E.createElement("text",Ea({},r,{dominantBaseline:"central",className:be("recharts-radial-bar-label",i)}),E.createElement("defs",null,E.createElement("path",{id:S,d:_})),E.createElement("textPath",{xlinkHref:"#".concat(S)},t))},Q2=function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,o=a.cx,i=a.cy,s=a.innerRadius,c=a.outerRadius,l=a.startAngle,u=a.endAngle,d=(l+u)/2;if(n==="outside"){var p=ze(o,i,c+r,d),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+c)/2,v=ze(o,i,h,d),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},eA=function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,o=t,i=o.x,s=o.y,c=o.width,l=o.height,u=l>=0?1:-1,d=u*n,p=u>0?"end":"start",y=u>0?"start":"end",m=c>=0?1:-1,h=m*n,v=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var w={x:i+c/2,y:s-u*n,textAnchor:"middle",verticalAnchor:p};return Le(Le({},w),r?{height:Math.max(s-r.y,0),width:c}:{})}if(a==="bottom"){var O={x:i+c/2,y:s+l+d,textAnchor:"middle",verticalAnchor:y};return Le(Le({},O),r?{height:Math.max(r.y+r.height-(s+l),0),width:c}:{})}if(a==="left"){var x={x:i-h,y:s+l/2,textAnchor:v,verticalAnchor:"middle"};return Le(Le({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if(a==="right"){var j={x:i+c+h,y:s+l/2,textAnchor:b,verticalAnchor:"middle"};return Le(Le({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:l}:{})}var _=r?{width:c,height:l}:{};return a==="insideLeft"?Le({x:i+h,y:s+l/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?Le({x:i+c-h,y:s+l/2,textAnchor:v,verticalAnchor:"middle"},_):a==="insideTop"?Le({x:i+c/2,y:s+d,textAnchor:"middle",verticalAnchor:y},_):a==="insideBottom"?Le({x:i+c/2,y:s+l-d,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?Le({x:i+h,y:s+d,textAnchor:b,verticalAnchor:y},_):a==="insideTopRight"?Le({x:i+c-h,y:s+d,textAnchor:v,verticalAnchor:y},_):a==="insideBottomLeft"?Le({x:i+h,y:s+l-d,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?Le({x:i+c-h,y:s+l-d,textAnchor:v,verticalAnchor:p},_):rn(a)&&(K(a.x)||Er(a.x))&&(K(a.y)||Er(a.y))?Le({x:i+Pr(a.x,c),y:s+Pr(a.y,l),textAnchor:"end",verticalAnchor:"end"},_):Le({x:i+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},_)},tA=function(e){return"cx"in e&&K(e.cx)};function He(e){var t=e.offset,r=t===void 0?5:t,n=q2(e,F2),a=Le({offset:r},n),o=a.viewBox,i=a.position,s=a.value,c=a.children,l=a.content,u=a.className,d=u===void 0?"":u,p=a.textBreakAll;if(!o||ve(s)&&ve(c)&&!g.isValidElement(l)&&!de(l))return null;if(g.isValidElement(l))return g.cloneElement(l,a);var y;if(de(l)){if(y=g.createElement(l,a),g.isValidElement(y))return y}else y=Y2(a);var m=tA(o),h=ye(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Z2(a,y,h);var v=m?Q2(a):eA(a);return E.createElement(Uo,Ea({className:be("recharts-label",d)},h,v,{breakAll:p}),y)}He.displayName="Label";var n0=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,o=e.endAngle,i=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,d=e.y,p=e.top,y=e.left,m=e.width,h=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(K(m)&&K(h)){if(K(u)&&K(d))return{x:u,y:d,width:m,height:h};if(K(p)&&K(y))return{x:p,y,width:m,height:h}}return K(u)&&K(d)?{x:u,y:d,width:0,height:0}:K(t)&&K(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:o||n||0,innerRadius:c||0,outerRadius:l||s||i||0,clockWise:v}:e.viewBox?e.viewBox:{}},rA=function(e,t){return e?e===!0?E.createElement(He,{key:"label-implicit",viewBox:t}):Ie(e)?E.createElement(He,{key:"label-implicit",viewBox:t,value:e}):g.isValidElement(e)?e.type===He?g.cloneElement(e,{key:"label-implicit",viewBox:t}):E.createElement(He,{key:"label-implicit",content:e,viewBox:t}):de(e)?E.createElement(He,{key:"label-implicit",content:e,viewBox:t}):rn(e)?E.createElement(He,Ea({viewBox:t},e,{key:"label-implicit"})):null:null},nA=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=n0(e),o=Nt(n,He).map(function(s,c){return g.cloneElement(s,{viewBox:t||a,key:"label-".concat(c)})});if(!r)return o;var i=rA(e.label,t||a);return[i].concat($2(o))};He.parseViewBox=n0,He.renderCallByParent=nA;var zu,a0;Bf=function(){if(a0)return zu;a0=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return zu=e,zu};var aA=Bf();Xf=_e(aA);function Pa(e){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(e)}var oA=["valueAccessor"],iA=["data","dataKey","clockWise","id","textBreakAll"];function sA(e){return dA(e)||uA(e)||lA(e)||cA()}function cA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lA(e,t){if(e){if(typeof e=="string")return Vu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vu(e,t)}}function uA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dA(e){if(Array.isArray(e))return Vu(e)}function Vu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function o0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o0(Object(r),!0).forEach(function(n){fA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fA(e,t,r){return t=pA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pA(e){var t=hA(e,"string");return Pa(t)=="symbol"?t:t+""}function hA(e,t){if(Pa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0(e,t){if(e==null)return{};var r=mA(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mA(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yA=function(e){return Array.isArray(e.value)?Xf(e.value):e.value};function Br(e){var t=e.valueAccessor,r=t===void 0?yA:t,n=s0(e,oA),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,c=n.textBreakAll,l=s0(n,iA);return!a||!a.length?null:E.createElement(Be,{className:"recharts-label-list"},a.map(function(u,d){var p=ve(o)?r(u,d):Rt(u&&u.payload,o),y=ve(s)?{}:{id:"".concat(s,"-").concat(d)};return E.createElement(He,yi({},ye(u,!0),l,y,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:He.parseViewBox(ve(i)?u:i0(i0({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Br.displayName="LabelList";function vA(e,t){return e?e===!0?E.createElement(Br,{key:"labelList-implicit",data:t}):E.isValidElement(e)||de(e)?E.createElement(Br,{key:"labelList-implicit",data:t,content:e}):rn(e)?E.createElement(Br,yi({data:t},e,{key:"labelList-implicit"})):null:null}function gA(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Nt(n,Br).map(function(i,s){return g.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=vA(e.label,t);return[o].concat(sA(a))}Br.renderCallByParent=gA;function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function c0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c0(Object(r),!0).forEach(function(n){bA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bA(e,t,r){return t=xA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xA(e){var t=wA(e,"string");return Ca(t)=="symbol"?t:t+""}function wA(e,t){if(Ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jA=function(e,t){var r=St(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},vi=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,o=e.sign,i=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(i?1:-1)+n,u=Math.asin(s/l)/mi,d=c?a:a+o*u,p=ze(t,r,l,d),y=ze(t,r,n,d),m=c?a-o*u:a,h=ze(t,r,l*Math.cos(u*mi),m);return{center:p,circleTangency:y,lineTangency:h,theta:u}},u0=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.startAngle,i=e.endAngle,s=jA(o,i),c=o+s,l=ze(t,r,a,o),u=ze(t,r,a,c),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=ze(t,r,n,o),y=ze(t,r,n,c);d+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},_A=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=St(l-c),d=vi({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:o,cornerIsExternal:s}),p=d.circleTangency,y=d.lineTangency,m=d.theta,h=vi({cx:t,cy:r,radius:a,angle:l,sign:-u,cornerRadius:o,cornerIsExternal:s}),v=h.circleTangency,b=h.lineTangency,w=h.theta,O=s?Math.abs(c-l):Math.abs(c-l)-m-w;if(O<0)return i?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):u0({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:l});var x="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var j=vi({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),_=j.circleTangency,S=j.lineTangency,P=j.theta,A=vi({cx:t,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),C=A.circleTangency,N=A.lineTangency,T=A.theta,k=s?Math.abs(c-l):Math.abs(c-l)-P-T;if(k<0&&o===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},OA={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},d0=function(e){var t=l0(l0({},OA),e),r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,d=t.className;if(o<a||l===u)return null;var p=be("recharts-sector",d),y=o-a,m=Pr(i,y,0,!0),h;return m>0&&Math.abs(l-u)<360?h=_A({cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):h=u0({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}),E.createElement("path",Uu({},ye(t,!0),{className:p,d:h,role:"img"}))};function ka(e){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(e)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hu.apply(this,arguments)}function f0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f0(Object(r),!0).forEach(function(n){SA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SA(e,t,r){return t=NA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NA(e){var t=EA(e,"string");return ka(t)=="symbol"?t:t+""}function EA(e,t){if(ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h0={curveBasisClosed:dN,curveBasisOpen:fN,curveBasis:uN,curveBumpX:YS,curveBumpY:JS,curveLinearClosed:pN,curveLinear:Po,curveMonotoneX:hN,curveMonotoneY:mN,curveNatural:yN,curveStep:vN,curveStepAfter:bN,curveStepBefore:gN},gi=function(e){return e.x===+e.x&&e.y===+e.y},Ma=function(e){return e.x},Aa=function(e){return e.y},PA=function(e,t){if(de(e))return e;var r="curve".concat(Oo(e));return(r==="curveMonotone"||r==="curveBump")&&t?h0["".concat(r).concat(t==="vertical"?"Y":"X")]:h0[r]||Po},CA=function(e){var t=e.type,r=t===void 0?"linear":t,n=e.points,a=n===void 0?[]:n,o=e.baseLine,i=e.layout,s=e.connectNulls,c=s===void 0?!1:s,l=PA(r,i),u=c?a.filter(function(m){return gi(m)}):a,d;if(Array.isArray(o)){var p=c?o.filter(function(m){return gi(m)}):o,y=u.map(function(m,h){return p0(p0({},m),{},{base:p[h]})});return i==="vertical"?d=Co().y(Aa).x1(Ma).x0(function(m){return m.base.x}):d=Co().x(Ma).y1(Aa).y0(function(m){return m.base.y}),d.defined(gi).curve(l),d(y)}return i==="vertical"&&K(o)?d=Co().y(Aa).x1(Ma).x0(o):K(o)?d=Co().x(Ma).y1(Aa).y0(o):d=py().x(Ma).y(Aa),d.defined(gi).curve(l),d(u)},m0=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if((!r||!r.length)&&!n)return null;var o=r&&r.length?CA(e):n;return E.createElement("path",Hu({},ye(e,!1),jo(e),{className:be("recharts-curve",t),d:o,ref:a}))},y0={exports:{}},qu,v0;function kA(){if(v0)return qu;v0=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qu=e,qu}var Wu,g0;function MA(){if(g0)return Wu;g0=1;var e=kA();function t(){}function r(){}return r.resetWarningCache=t,Wu=function(){function n(i,s,c,l,u,d){if(d!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},Wu}var b0;function AA(){return b0||(b0=1,y0.exports=MA()()),y0.exports}var TA=AA();const ce=_e(TA);var DA=Object.getOwnPropertyNames,IA=Object.getOwnPropertySymbols,RA=Object.prototype.hasOwnProperty;function x0(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function bi(e){return function(t,r,n){if(!t||!r||typeof t!="object"||typeof r!="object")return e(t,r,n);var a=n.cache,o=a.get(t),i=a.get(r);if(o&&i)return o===r&&i===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function w0(e){return DA(e).concat(IA(e))}var j0=Object.hasOwn||function(e,t){return RA.call(e,t)};function jn(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var _0="_owner",O0=Object.getOwnPropertyDescriptor,S0=Object.keys;function LA(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function BA(e,t){return jn(e.getTime(),t.getTime())}function N0(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),o=0,i,s;(i=a.next())&&!i.done;){for(var c=t.entries(),l=!1,u=0;(s=c.next())&&!s.done;){var d=i.value,p=d[0],y=d[1],m=s.value,h=m[0],v=m[1];!l&&!n[u]&&(l=r.equals(p,h,o,u,e,t,r)&&r.equals(y,v,p,h,e,t,r))&&(n[u]=!0),u++}if(!l)return!1;o++}return!0}function FA(e,t,r){var n=S0(e),a=n.length;if(S0(t).length!==a)return!1;for(var o;a-- >0;)if(o=n[a],o===_0&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!j0(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function Ta(e,t,r){var n=w0(e),a=n.length;if(w0(t).length!==a)return!1;for(var o,i,s;a-- >0;)if(o=n[a],o===_0&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!j0(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(i=O0(e,o),s=O0(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function $A(e,t){return jn(e.valueOf(),t.valueOf())}function zA(e,t){return e.source===t.source&&e.flags===t.flags}function E0(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),o,i;(o=a.next())&&!o.done;){for(var s=t.values(),c=!1,l=0;(i=s.next())&&!i.done;)!c&&!n[l]&&(c=r.equals(o.value,i.value,o.value,i.value,e,t,r))&&(n[l]=!0),l++;if(!c)return!1}return!0}function VA(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var UA="[object Arguments]",HA="[object Boolean]",qA="[object Date]",WA="[object Map]",XA="[object Number]",KA="[object Object]",GA="[object RegExp]",YA="[object Set]",JA="[object String]",ZA=Array.isArray,P0=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,C0=Object.assign,QA=Object.prototype.toString.call.bind(Object.prototype.toString);function eT(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(l,u,d){if(l===u)return!0;if(l==null||u==null||typeof l!="object"||typeof u!="object")return l!==l&&u!==u;var p=l.constructor;if(p!==u.constructor)return!1;if(p===Object)return a(l,u,d);if(ZA(l))return t(l,u,d);if(P0!=null&&P0(l))return c(l,u,d);if(p===Date)return r(l,u,d);if(p===RegExp)return i(l,u,d);if(p===Map)return n(l,u,d);if(p===Set)return s(l,u,d);var y=QA(l);return y===qA?r(l,u,d):y===GA?i(l,u,d):y===WA?n(l,u,d):y===YA?s(l,u,d):y===KA?typeof l.then!="function"&&typeof u.then!="function"&&a(l,u,d):y===UA?a(l,u,d):y===HA||y===XA||y===JA?o(l,u,d):!1}}function tT(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ta:LA,areDatesEqual:BA,areMapsEqual:n?x0(N0,Ta):N0,areObjectsEqual:n?Ta:FA,arePrimitiveWrappersEqual:$A,areRegExpsEqual:zA,areSetsEqual:n?x0(E0,Ta):E0,areTypedArraysEqual:n?Ta:VA};if(r&&(a=C0({},a,r(a))),t){var o=bi(a.areArraysEqual),i=bi(a.areMapsEqual),s=bi(a.areObjectsEqual),c=bi(a.areSetsEqual);a=C0({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return a}function rT(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function nT(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(s,c){var l=n(),u=l.cache,d=u===void 0?t?new WeakMap:void 0:u,p=l.meta;return r(s,c,{cache:d,equals:a,meta:p,strict:o})};if(t)return function(s,c){return r(s,c,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(s,c){return r(s,c,i)}}var aT=pr();pr({strict:!0}),pr({circular:!0}),pr({circular:!0,strict:!0}),pr({createInternalComparator:function(){return jn}}),pr({strict:!0,createInternalComparator:function(){return jn}}),pr({circular:!0,createInternalComparator:function(){return jn}}),pr({circular:!0,createInternalComparator:function(){return jn},strict:!0});function pr(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,i=o===void 0?!1:o,s=tT(e),c=eT(s),l=n?n(c):rT(c);return nT({circular:r,comparator:c,createState:a,equals:l,strict:i})}function oT(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function k0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):oT(a)};requestAnimationFrame(n)}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function iT(e){return uT(e)||lT(e)||cT(e)||sT()}function sT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cT(e,t){if(e){if(typeof e=="string")return M0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M0(e,t)}}function M0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uT(e){if(Array.isArray(e))return e}function dT(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=iT(i),c=s[0],l=s.slice(1);if(typeof c=="number"){k0(a.bind(null,l),c);return}a(c),k0(a.bind(null,l));return}Xu(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Da(e){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}function A0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A0(Object(r),!0).forEach(function(n){D0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D0(e,t,r){return t=fT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fT(e){var t=pT(e,"string");return Da(t)==="symbol"?t:String(t)}function pT(e,t){if(Da(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Da(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hT=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,n){return r.filter(function(a){return n.includes(a)})})},mT=function(e){return e},yT=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},Ia=function(e,t){return Object.keys(t).reduce(function(r,n){return T0(T0({},r),{},D0({},n,e(n,t[n])))},{})},I0=function(e,t,r){return e.map(function(n){return"".concat(yT(n)," ").concat(t,"ms ").concat(r)}).join(",")};function vT(e,t){return xT(e)||bT(e,t)||R0(e,t)||gT()}function gT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function xT(e){if(Array.isArray(e))return e}function wT(e){return OT(e)||_T(e)||R0(e)||jT()}function jT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R0(e,t){if(e){if(typeof e=="string")return Ku(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ku(e,t)}}function _T(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OT(e){if(Array.isArray(e))return Ku(e)}function Ku(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xi=1e-4,L0=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},B0=function(e,t){return e.map(function(r,n){return r*Math.pow(t,n)}).reduce(function(r,n){return r+n})},F0=function(e,t){return function(r){var n=L0(e,t);return B0(n,r)}},ST=function(e,t){return function(r){var n=L0(e,t),a=[].concat(wT(n.map(function(o,i){return o*i}).slice(1)),[0]);return B0(a,r)}},$0=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],o=t[2],i=t[3];if(t.length===1)switch(t[0]){case"linear":n=0,a=0,o=1,i=1;break;case"ease":n=.25,a=.1,o=.25,i=1;break;case"ease-in":n=.42,a=0,o=1,i=1;break;case"ease-out":n=.42,a=0,o=.58,i=1;break;case"ease-in-out":n=0,a=0,o=.58,i=1;break;default:{var s=t[0].split("(");if(s[0]==="cubic-bezier"&&s[1].split(")")[0].split(",").length===4){var c=s[1].split(")")[0].split(",").map(function(h){return parseFloat(h)}),l=vT(c,4);n=l[0],a=l[1],o=l[2],i=l[3]}}}var u=F0(n,o),d=F0(a,i),p=ST(n,o),y=function(h){return h>1?1:h<0?0:h},m=function(h){for(var v=h>1?1:h,b=v,w=0;w<8;++w){var O=u(b)-v,x=p(b);if(Math.abs(O-v)<xi||x<xi)return d(b);b=y(b-O/x)}return d(b)};return m.isStepper=!1,m},NT=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,n=e.damping,a=n===void 0?8:n,o=e.dt,i=o===void 0?17:o,s=function(c,l,u){var d=-(c-l)*r,p=u*a,y=u+(d-p)*i/1e3,m=u*i/1e3+c;return Math.abs(m-l)<xi&&Math.abs(y)<xi?[l,0]:[m,y]};return s.isStepper=!0,s.dt=i,s},ET=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $0(n);case"spring":return NT();default:if(n.split("(")[0]==="cubic-bezier")return $0(n)}return typeof n=="function"?n:null};function Ra(e){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(e)}function z0(e){return kT(e)||CT(e)||U0(e)||PT()}function PT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kT(e){if(Array.isArray(e))return Yu(e)}function V0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V0(Object(r),!0).forEach(function(n){Gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gu(e,t,r){return t=MT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MT(e){var t=AT(e,"string");return Ra(t)==="symbol"?t:String(t)}function AT(e,t){if(Ra(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ra(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TT(e,t){return RT(e)||IT(e,t)||U0(e,t)||DT()}function DT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0(e,t){if(e){if(typeof e=="string")return Yu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yu(e,t)}}function Yu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function RT(e){if(Array.isArray(e))return e}var wi=function(e,t,r){return e+(t-e)*r},Ju=function(e){var t=e.from,r=e.to;return t!==r},LT=function e(t,r,n){var a=Ia(function(o,i){if(Ju(i)){var s=t(i.from,i.to,i.velocity),c=TT(s,2),l=c[0],u=c[1];return Ve(Ve({},i),{},{from:l,velocity:u})}return i},r);return n<1?Ia(function(o,i){return Ju(i)?Ve(Ve({},i),{},{velocity:wi(i.velocity,a[o].velocity,n),from:wi(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const BT=function(e,t,r,n,a){var o=hT(e,t),i=o.reduce(function(v,b){return Ve(Ve({},v),{},Gu({},b,[e[b],t[b]]))},{}),s=o.reduce(function(v,b){return Ve(Ve({},v),{},Gu({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,l,u,d=function(){return null},p=function(){return Ia(function(v,b){return b.from},s)},y=function(){return!Object.values(s).filter(Ju).length},m=function(v){l||(l=v);var b=v-l,w=b/r.dt;s=LT(r,s,w),a(Ve(Ve(Ve({},e),t),p())),l=v,y()||(c=requestAnimationFrame(d))},h=function(v){u||(u=v);var b=(v-u)/n,w=Ia(function(x,j){return wi.apply(void 0,z0(j).concat([r(b)]))},i);if(a(Ve(Ve(Ve({},e),t),w)),b<1)c=requestAnimationFrame(d);else{var O=Ia(function(x,j){return wi.apply(void 0,z0(j).concat([r(1)]))},i);a(Ve(Ve(Ve({},e),t),O))}};return d=r.isStepper?m:h,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}var FT=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $T(e,t){if(e==null)return{};var r=zT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zT(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Zu(e){return qT(e)||HT(e)||UT(e)||VT()}function VT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UT(e,t){if(e){if(typeof e=="string")return Qu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qu(e,t)}}function HT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qT(e){if(Array.isArray(e))return Qu(e)}function Qu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H0(Object(r),!0).forEach(function(n){La(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function La(e,t,r){return t=q0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q0(n.key),n)}}function KT(e,t,r){return t&&XT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q0(e){var t=GT(e,"string");return _n(t)==="symbol"?t:String(t)}function GT(e,t){if(_n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_n(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ed(e,t)}function ed(e,t){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ed(e,t)}function JT(e){var t=ZT();return function(){var r=ji(e),n;if(t){var a=ji(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return td(this,n)}}function td(e,t){if(t&&(_n(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rd(e)}function rd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ji(e){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ji(e)}var hr=function(e){YT(r,e);var t=JT(r);function r(n,a){var o;WT(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,c=i.attributeName,l=i.from,u=i.to,d=i.steps,p=i.children,y=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(rd(o)),o.changeStyle=o.changeStyle.bind(rd(o)),!s||y<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:u}),td(o);if(d&&d.length)o.state={style:d[0].style};else if(l){if(typeof p=="function")return o.state={style:l},td(o);o.state={style:c?La({},c,l):l}}else o.state={style:{}};return o}return KT(r,[{key:"componentDidMount",value:function(){var n=this.props,a=n.isActive,o=n.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var a=this.props,o=a.isActive,i=a.canBegin,s=a.attributeName,c=a.shouldReAnimate,l=a.to,u=a.from,d=this.state.style;if(i){if(!o){var p={style:s?La({},s,l):l};this.state&&d&&(s&&d[s]!==l||!s&&d!==l)&&this.setState(p);return}if(!(aT(n.to,l)&&n.canBegin&&n.isActive)){var y=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||c?u:n.to;if(this.state&&d){var h={style:s?La({},s,m):m};(s&&d[s]!==m||!s&&d!==m)&&this.setState(h)}this.runAnimation(Pt(Pt({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var a=this,o=n.from,i=n.to,s=n.duration,c=n.easing,l=n.begin,u=n.onAnimationEnd,d=n.onAnimationStart,p=BT(o,i,ET(c),s,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([d,l,y,s,u])}},{key:"runStepAnimation",value:function(n){var a=this,o=n.steps,i=n.begin,s=n.onAnimationStart,c=o[0],l=c.style,u=c.duration,d=u===void 0?0:u,p=function(y,m,h){if(h===0)return y;var v=m.duration,b=m.easing,w=b===void 0?"ease":b,O=m.style,x=m.properties,j=m.onAnimationEnd,_=h>0?o[h-1]:m,S=x||Object.keys(O);if(typeof w=="function"||w==="spring")return[].concat(Zu(y),[a.runJSAnimation.bind(a,{from:_.style,to:O,duration:v,easing:w}),v]);var P=I0(S,v,w),A=Pt(Pt(Pt({},_.style),O),{},{transition:P});return[].concat(Zu(y),[A,v,j]).filter(mT)};return this.manager.start([s].concat(Zu(o.reduce(p,[l,Math.max(d,i)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=dT());var a=n.begin,o=n.duration,i=n.attributeName,s=n.to,c=n.easing,l=n.onAnimationStart,u=n.onAnimationEnd,d=n.steps,p=n.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(n);return}if(d.length>1){this.runStepAnimation(n);return}var m=i?La({},i,s):s,h=I0(Object.keys(m),o,c);y.start([l,a,Pt(Pt({},m),{},{transition:h}),o,u])}},{key:"render",value:function(){var n=this.props,a=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var i=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var s=$T(n,FT),c=g.Children.count(a),l=this.state.style;if(typeof a=="function")return a(l);if(!i||c===0||o<=0)return a;var u=function(d){var p=d.props,y=p.style,m=y===void 0?{}:y,h=p.className,v=g.cloneElement(d,Pt(Pt({},s),{},{style:Pt(Pt({},m),l),className:h}));return v};return c===1?u(g.Children.only(a)):E.createElement("div",null,g.Children.map(a,function(d){return u(d)}))}}]),r}(g.PureComponent);hr.displayName="Animate",hr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},hr.propTypes={from:ce.oneOfType([ce.object,ce.string]),to:ce.oneOfType([ce.object,ce.string]),attributeName:ce.string,duration:ce.number,begin:ce.number,easing:ce.oneOfType([ce.string,ce.func]),steps:ce.arrayOf(ce.shape({duration:ce.number.isRequired,style:ce.object.isRequired,easing:ce.oneOfType([ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ce.func]),properties:ce.arrayOf("string"),onAnimationEnd:ce.func})),children:ce.oneOfType([ce.node,ce.func]),isActive:ce.bool,canBegin:ce.bool,onAnimationEnd:ce.func,shouldReAnimate:ce.bool,onAnimationStart:ce.func,onAnimationReStart:ce.func},ce.object,ce.object,ce.object,ce.element,ce.object,ce.object,ce.object,ce.oneOfType([ce.array,ce.element]),ce.any;function Ba(e){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(e)}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}function QT(e,t){return nD(e)||rD(e,t)||tD(e,t)||eD()}function eD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tD(e,t){if(e){if(typeof e=="string")return W0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W0(e,t)}}function W0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function nD(e){if(Array.isArray(e))return e}function X0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X0(Object(r),!0).forEach(function(n){aD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aD(e,t,r){return t=oD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oD(e){var t=iD(e,"string");return Ba(t)=="symbol"?t:t+""}function iD(e,t){if(Ba(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ba(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G0=function(e,t,r,n,a){var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,l;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0,p=4;d<p;d++)u[d]=a[d]>o?o:a[d];l="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+s*u[0],",").concat(t)),l+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*u[1])),l+="L ".concat(e+r,",").concat(t+n-i*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-s*u[2],",").concat(t+n)),l+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*u[3])),l+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);l="M ".concat(e,",").concat(t+i*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+s*y,",").concat(t,`
            L `).concat(e+r-s*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*y,`
            L `).concat(e+r,",").concat(t+n-i*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-s*y,",").concat(t+n,`
            L `).concat(e+s*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*y," Z")}else l="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},sD=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,o=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var c=Math.min(a,a+i),l=Math.max(a,a+i),u=Math.min(o,o+s),d=Math.max(o,o+s);return r>=c&&r<=l&&n>=u&&n<=d}return!1},cD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nd=function(e){var t=K0(K0({},cD),e),r=g.useRef(),n=g.useState(-1),a=QT(n,2),o=a[0],i=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&i(O)}catch{}},[]);var s=t.x,c=t.y,l=t.width,u=t.height,d=t.radius,p=t.className,y=t.animationEasing,m=t.animationDuration,h=t.animationBegin,v=t.isAnimationActive,b=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||l===0||u===0)return null;var w=be("recharts-rectangle",p);return b?E.createElement(hr,{canBegin:o>0,from:{width:l,height:u,x:s,y:c},to:{width:l,height:u,x:s,y:c},duration:m,animationEasing:y,isActive:b},function(O){var x=O.width,j=O.height,_=O.x,S=O.y;return E.createElement(hr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:m,isActive:v,easing:y},E.createElement("path",_i({},ye(t,!0),{className:w,d:G0(_,S,x,j,d),ref:r})))}):E.createElement("path",_i({},ye(t,!0),{className:w,d:G0(s,c,l,u,d)}))};function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(this,arguments)}var Y0=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,o=be("recharts-dot",a);return t===+t&&r===+r&&n===+n?E.createElement("circle",ad({},ye(e,!1),jo(e),{className:o,cx:t,cy:r,r:n})):null};function Fa(e){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}var lD=["x","y","top","left","width","height","className"];function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}function J0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J0(Object(r),!0).forEach(function(n){dD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dD(e,t,r){return t=fD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fD(e){var t=pD(e,"string");return Fa(t)=="symbol"?t:t+""}function pD(e,t){if(Fa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hD(e,t){if(e==null)return{};var r=mD(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yD=function(e,t,r,n,a,o){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r)},vD=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.top,i=o===void 0?0:o,s=e.left,c=s===void 0?0:s,l=e.width,u=l===void 0?0:l,d=e.height,p=d===void 0?0:d,y=e.className,m=hD(e,lD),h=uD({x:r,y:a,top:i,left:c,width:u,height:p},m);return!K(r)||!K(a)||!K(u)||!K(p)||!K(i)||!K(c)?null:E.createElement("path",od({},ye(h,!0),{className:be("recharts-cross",y),d:yD(r,a,u,p,i,c)}))},id,Z0;Ff=function(){if(Z0)return id;Z0=1;var e=us(),t=Z5(),r=ds(),n="[object Object]",a=Function.prototype,o=Object.prototype,i=a.toString,s=o.hasOwnProperty,c=i.call(Object);function l(u){if(!r(u)||e(u)!=n)return!1;var d=t(u);if(d===null)return!0;var p=s.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&i.call(p)==c}return id=l,id};var gD=Ff();const bD=_e(gD);var sd,Q0;function xD(){if(Q0)return sd;Q0=1;var e=us(),t=ds(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return sd=n,sd}var wD=xD();const jD=_e(wD);function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(this,arguments)}function _D(e,t){return ED(e)||ND(e,t)||SD(e,t)||OD()}function OD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SD(e,t){if(e){if(typeof e=="string")return ex(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ex(e,t)}}function ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ND(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function ED(e){if(Array.isArray(e))return e}function tx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tx(Object(r),!0).forEach(function(n){PD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PD(e,t,r){return t=CD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CD(e){var t=kD(e,"string");return $a(t)=="symbol"?t:t+""}function kD(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nx=function(e,t,r,n,a){var o=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},MD={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AD=function(e){var t=rx(rx({},MD),e),r=g.useRef(),n=g.useState(-1),a=_D(n,2),o=a[0],i=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var s=t.x,c=t.y,l=t.upperWidth,u=t.lowerWidth,d=t.height,p=t.className,y=t.animationEasing,m=t.animationDuration,h=t.animationBegin,v=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||d!==+d||l===0&&u===0||d===0)return null;var b=be("recharts-trapezoid",p);return v?E.createElement(hr,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:c},to:{upperWidth:l,lowerWidth:u,height:d,x:s,y:c},duration:m,animationEasing:y,isActive:v},function(w){var O=w.upperWidth,x=w.lowerWidth,j=w.height,_=w.x,S=w.y;return E.createElement(hr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:m,easing:y},E.createElement("path",Oi({},ye(t,!0),{className:b,d:nx(_,S,O,x,j),ref:r})))}):E.createElement("g",null,E.createElement("path",Oi({},ye(t,!0),{className:b,d:nx(s,c,l,u,d)})))},TD=["option","shapeType","propTransformer","activeClassName","isActive"];function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function DD(e,t){if(e==null)return{};var r=ID(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ID(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ax(Object(r),!0).forEach(function(n){RD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RD(e,t,r){return t=LD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LD(e){var t=BD(e,"string");return za(t)=="symbol"?t:t+""}function BD(e,t){if(za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FD(e,t){return Si(Si({},t),e)}function $D(e,t){return e==="symbols"}function ox(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return E.createElement(nd,r);case"trapezoid":return E.createElement(AD,r);case"sector":return E.createElement(d0,r);case"symbols":if($D(t))return E.createElement(Hc,r);break;default:return null}}function zD(e){return g.isValidElement(e)?e.props:e}function VD(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?FD:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,c=DD(e,TD),l;if(g.isValidElement(t))l=g.cloneElement(t,Si(Si({},c),zD(t)));else if(de(t))l=t(c);else if(bD(t)&&!jD(t)){var u=a(t,c);l=E.createElement(ox,{shapeType:r,elementProps:u})}else{var d=c;l=E.createElement(ox,{shapeType:r,elementProps:d})}return s?E.createElement(Be,{className:i},l):l}function Ni(e,t){return t!=null&&"trapezoids"in e.props}function Ei(e,t){return t!=null&&"sectors"in e.props}function Va(e,t){return t!=null&&"points"in e.props}function UD(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function HD(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function qD(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function WD(e,t){var r;return Ni(e,t)?r=UD:Ei(e,t)?r=HD:Va(e,t)&&(r=qD),r}function XD(e,t){var r;return Ni(e,t)?r="trapezoids":Ei(e,t)?r="sectors":Va(e,t)&&(r="points"),r}function KD(e,t){if(Ni(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ei(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Va(e,t)?t.payload:{}}function GD(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=XD(r,t),o=KD(r,t),i=n.filter(function(c,l){var u=Nu(o,c),d=r.props[a].filter(function(m){var h=WD(r,t);return h(m,t)}),p=r.props[a].indexOf(d[d.length-1]),y=l===p;return u&&y}),s=n.indexOf(i[i.length-1]);return s}var cd,ix;function YD(){if(ix)return cd;ix=1;var e=Math.ceil,t=Math.max;function r(n,a,o,i){for(var s=-1,c=t(e((a-n)/(o||1)),0),l=Array(c);c--;)l[i?c:++s]=n,n+=o;return l}return cd=r,cd}var ld,sx;function cx(){if(sx)return ld;sx=1;var e=Lv(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var o=a<0?-1:1;return o*r}return a===a?a:0}return ld=n,ld}var ud,lx;function JD(){if(lx)return ud;lx=1;var e=YD(),t=Gr(),r=cx();function n(a){return function(o,i,s){return s&&typeof s!="number"&&t(o,i,s)&&(i=s=void 0),o=r(o),i===void 0?(i=o,o=0):i=r(i),s=s===void 0?o<i?1:-1:r(s),e(o,i,s,a)}}return ud=n,ud}var dd,ux;function ZD(){if(ux)return dd;ux=1;var e=JD(),t=e();return dd=t,dd}var QD=ZD();const Pi=_e(QD);function Ua(e){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(e)}function dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dx(Object(r),!0).forEach(function(n){px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function px(e,t,r){return t=eI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eI(e){var t=tI(e,"string");return Ua(t)=="symbol"?t:t+""}function tI(e,t){if(Ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rI=["Webkit","Moz","O","ms"],nI=function(e,t){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),n=rI.reduce(function(a,o){return fx(fx({},a),{},px({},o+r,t))},{});return n[e]=t,n};function On(e){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(e)}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function hx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hx(Object(r),!0).forEach(function(n){pt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vx(n.key),n)}}function oI(e,t,r){return t&&mx(e.prototype,t),r&&mx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iI(e,t,r){return t=ki(t),sI(e,yx()?Reflect.construct(t,r||[],ki(e).constructor):t.apply(e,r))}function sI(e,t){if(t&&(On(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cI(e)}function cI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yx=function(){return!!e})()}function ki(e){return ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ki(e)}function lI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pd(e,t)}function pd(e,t){return pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},pd(e,t)}function pt(e,t,r){return t=vx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vx(e){var t=uI(e,"string");return On(t)=="symbol"?t:t+""}function uI(e,t){if(On(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(On(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dI=function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,o=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=ha().domain(Pi(0,s)).range([a,a+o-i]),l=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(n),scale:c,scaleValues:l}},gx=function(e){return e.changedTouches&&!!e.changedTouches.length},Sn=function(e){function t(r){var n;return aI(this,t),n=iI(this,t,[r]),pt(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),pt(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),pt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),pt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),pt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),pt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),pt(n,"handleSlideDragStart",function(a){var o=gx(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return lI(t,e),oI(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,a=r.endX,o=this.state.scaleValues,i=this.props,s=i.gap,c=i.data,l=c.length-1,u=Math.min(n,a),d=Math.max(n,a),p=t.getIndexInRange(o,u),y=t.getIndexInRange(o,d);return{startIndex:p-p%s,endIndex:y===l?l:y-y%s}}},{key:"getTextOfTick",value:function(r){var n=this.props,a=n.data,o=n.tickFormatter,i=n.dataKey,s=Rt(a[r],i,r);return de(o)?o(s,r):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,a=n.slideMoveStartX,o=n.startX,i=n.endX,s=this.props,c=s.x,l=s.width,u=s.travellerWidth,d=s.startIndex,p=s.endIndex,y=s.onChange,m=r.pageX-a;m>0?m=Math.min(m,c+l-u-i,c+l-u-o):m<0&&(m=Math.max(m,c-o,c-i));var h=this.getIndex({startX:o+m,endX:i+m});(h.startIndex!==d||h.endIndex!==p)&&y&&y(h),this.setState({startX:o+m,endX:i+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var a=gx(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,a=n.brushMoveStartX,o=n.movingTravellerId,i=n.endX,s=n.startX,c=this.state[o],l=this.props,u=l.x,d=l.width,p=l.travellerWidth,y=l.onChange,m=l.gap,h=l.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,u+d-p-c):b<0&&(b=Math.max(b,u-c)),v[o]=c+b;var w=this.getIndex(v),O=w.startIndex,x=w.endIndex,j=function(){var _=h.length-1;return o==="startX"&&(i>s?O%m===0:x%m===0)||i<s&&x===_||o==="endX"&&(i>s?x%m===0:O%m===0)||i>s&&x===_};this.setState(pt(pt({},o,c+b),"brushMoveStartX",r.pageX),function(){y&&j()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var a=this,o=this.state,i=o.scaleValues,s=o.startX,c=o.endX,l=this.state[n],u=i.indexOf(l);if(u!==-1){var d=u+r;if(!(d===-1||d>=i.length)){var p=i[d];n==="startX"&&p>=c||n==="endX"&&p<=s||this.setState(pt({},n,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.fill,c=r.stroke;return E.createElement("rect",{stroke:c,fill:s,x:n,y:a,width:o,height:i})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.data,c=r.children,l=r.padding,u=g.Children.only(c);return u?E.cloneElement(u,{x:n,y:a,width:o,height:i,margin:l,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(r,n){var a,o,i=this,s=this.props,c=s.y,l=s.travellerWidth,u=s.height,d=s.traveller,p=s.ariaLabel,y=s.data,m=s.startIndex,h=s.endIndex,v=Math.max(r,this.props.x),b=fd(fd({},ye(this.props,!1)),{},{x:v,y:c,width:l,height:u}),w=p||"Min value: ".concat((a=y[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[h])===null||o===void 0?void 0:o.name);return E.createElement(Be,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),i.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,b))}},{key:"renderSlide",value:function(r,n){var a=this.props,o=a.y,i=a.height,s=a.stroke,c=a.travellerWidth,l=Math.min(r,n)+c,u=Math.max(Math.abs(n-r)-c,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:l,y:o,width:u,height:i})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,a=r.endIndex,o=r.y,i=r.height,s=r.travellerWidth,c=r.stroke,l=this.state,u=l.startX,d=l.endX,p=5,y={pointerEvents:"none",fill:c};return E.createElement(Be,{className:"recharts-brush-texts"},E.createElement(Uo,Ci({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,d)-p,y:o+i/2},y),this.getTextOfTick(n)),E.createElement(Uo,Ci({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,d)+s+p,y:o+i/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,n=r.data,a=r.className,o=r.children,i=r.x,s=r.y,c=r.width,l=r.height,u=r.alwaysShowText,d=this.state,p=d.startX,y=d.endX,m=d.isTextActive,h=d.isSlideMoving,v=d.isTravellerMoving,b=d.isTravellerFocused;if(!n||!n.length||!K(i)||!K(s)||!K(c)||!K(l)||c<=0||l<=0)return null;var w=be("recharts-brush",a),O=E.Children.count(o)===1,x=nI("userSelect","none");return E.createElement(Be,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||h||v||b||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,a=r.y,o=r.width,i=r.height,s=r.stroke,c=Math.floor(a+i/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:n,y:a,width:o,height:i,fill:s,stroke:"none"}),E.createElement("line",{x1:n+1,y1:c,x2:n+o-1,y2:c,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:n+1,y1:c+2,x2:n+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var a;return E.isValidElement(r)?a=E.cloneElement(r,n):de(r)?a=r(n):a=t.renderDefaultTraveller(n),a}},{key:"getDerivedStateFromProps",value:function(r,n){var a=r.data,o=r.width,i=r.x,s=r.travellerWidth,c=r.updateId,l=r.startIndex,u=r.endIndex;if(a!==n.prevData||c!==n.prevUpdateId)return fd({prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o},a&&a.length?dI({data:a,width:o,x:i,travellerWidth:s,startIndex:l,endIndex:u}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||i!==n.prevX||s!==n.prevTravellerWidth)){n.scale.range([i,i+o-s]);var d=n.scale.domain().map(function(p){return n.scale(p)});return{prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,n){for(var a=r.length,o=0,i=a-1;i-o>1;){var s=Math.floor((o+i)/2);r[s]>n?i=s:o=s}return n>=r[i]?i:o}}])}(g.PureComponent);pt(Sn,"displayName","Brush"),pt(Sn,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hd,bx;function fI(){if(bx)return hd;bx=1;var e=fl();function t(r,n){var a;return e(r,function(o,i,s){return a=n(o,i,s),!a}),!!a}return hd=t,hd}var md,xx;function pI(){if(xx)return md;xx=1;var e=Q5(),t=xr(),r=fI(),n=Hn(),a=Gr();function o(i,s,c){var l=n(i)?e:r;return c&&a(i,s,c)&&(s=void 0),l(i,t(s,3))}return md=o,md}var hI=pI();const mI=_e(hI);var Lt=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},yd,wx;function yI(){if(wx)return yd;wx=1;var e=eB(),t=nv(),r=xr();function n(a,o){var i={};return o=r(o,3),t(a,function(s,c,l){e(i,c,o(s,c,l))}),i}return yd=n,yd}var vI=yI();const gI=_e(vI);var vd,jx;function bI(){if(jx)return vd;jx=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return vd=e,vd}var gd,_x;function xI(){if(_x)return gd;_x=1;var e=fl();function t(r,n){var a=!0;return e(r,function(o,i,s){return a=!!n(o,i,s),a}),a}return gd=t,gd}var bd,Ox;function wI(){if(Ox)return bd;Ox=1;var e=bI(),t=xI(),r=xr(),n=Hn(),a=Gr();function o(i,s,c){var l=n(i)?e:t;return c&&a(i,s,c)&&(s=void 0),l(i,r(s,3))}return bd=o,bd}var jI=wI();const Sx=_e(jI);var _I=["x","y"];function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function Nx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nx(Object(r),!0).forEach(function(n){OI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OI(e,t,r){return t=SI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e){var t=NI(e,"string");return Ha(t)=="symbol"?t:t+""}function NI(e,t){if(Ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EI(e,t){if(e==null)return{};var r=PI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CI(e,t){var r=e.x,n=e.y,a=EI(e,_I),o="".concat(r),i=parseInt(o,10),s="".concat(n),c=parseInt(s,10),l="".concat(t.height||a.height),u=parseInt(l,10),d="".concat(t.width||a.width),p=parseInt(d,10);return qa(qa(qa(qa(qa({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function Ex(e){return E.createElement(VD,xd({shapeType:"rectangle",propTransformer:CI,activeClassName:"recharts-active-bar"},e))}var kI=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,n):(a||Rr(),t)}},MI=["value","background"],Px;function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}function AI(e,t){if(e==null)return{};var r=TI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}function Cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cx(Object(r),!0).forEach(function(n){mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ax(n.key),n)}}function II(e,t,r){return t&&kx(e.prototype,t),r&&kx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RI(e,t,r){return t=Ai(t),LI(e,Mx()?Reflect.construct(t,r||[],Ai(e).constructor):t.apply(e,r))}function LI(e,t){if(t&&(Nn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BI(e)}function BI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mx=function(){return!!e})()}function Ai(e){return Ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ai(e)}function FI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wd(e,t)}function wd(e,t){return wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},wd(e,t)}function mr(e,t,r){return t=Ax(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ax(e){var t=$I(e,"string");return Nn(t)=="symbol"?t:t+""}function $I(e,t){if(Nn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fr=function(e){function t(){var r;DI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=RI(this,t,[].concat(a)),mr(r,"state",{isAnimationFinished:!1}),mr(r,"id",wo("recharts-bar-")),mr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),mr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return FI(t,e),II(t,[{key:"renderRectanglesStatically",value:function(r){var n=this,a=this.props,o=a.shape,i=a.dataKey,s=a.activeIndex,c=a.activeBar,l=ye(this.props,!1);return r&&r.map(function(u,d){var p=d===s,y=p?c:o,m=Ae(Ae(Ae({},l),u),{},{isActive:p,option:y,index:d,dataKey:i,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return E.createElement(Be,Mi({className:"recharts-bar-rectangle"},_o(n.props,u,d),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value)}),E.createElement(Ex,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,a=n.data,o=n.layout,i=n.isAnimationActive,s=n.animationBegin,c=n.animationDuration,l=n.animationEasing,u=n.animationId,d=this.state.prevData;return E.createElement(hr,{begin:s,duration:c,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=a.map(function(h,v){var b=d&&d[v];if(b){var w=nn(b.x,h.x),O=nn(b.y,h.y),x=nn(b.width,h.width),j=nn(b.height,h.height);return Ae(Ae({},h),{},{x:w(y),y:O(y),width:x(y),height:j(y)})}if(o==="horizontal"){var _=nn(0,h.height),S=_(y);return Ae(Ae({},h),{},{y:h.y+h.height-S,height:S})}var P=nn(0,h.width),A=P(y);return Ae(Ae({},h),{},{width:A})});return E.createElement(Be,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&n&&n.length&&(!o||!Nu(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,a=n.data,o=n.dataKey,i=n.activeIndex,s=ye(this.props.background,!1);return a.map(function(c,l){c.value;var u=c.background,d=AI(c,MI);if(!u)return null;var p=Ae(Ae(Ae(Ae(Ae({},d),{},{fill:"#eee"},u),s),_o(r.props,c,l)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:l,className:"recharts-bar-background-rectangle"});return E.createElement(Ex,Mi({key:"background-bar-".concat(l),option:r.props.background,isActive:l===i},p))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,i=a.xAxis,s=a.yAxis,c=a.layout,l=a.children,u=Nt(l,di);if(!u)return null;var d=c==="vertical"?o[0].height/2:o[0].width/2,p=function(m,h){var v=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:v,errorVal:Rt(m,h)}},y={clipPath:r?"url(#clipPath-".concat(n,")"):null};return E.createElement(Be,y,u.map(function(m){return E.cloneElement(m,{key:"error-bar-".concat(n,"-").concat(m.props.dataKey),data:o,xAxis:i,yAxis:s,layout:c,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.data,o=r.className,i=r.xAxis,s=r.yAxis,c=r.left,l=r.top,u=r.width,d=r.height,p=r.isAnimationActive,y=r.background,m=r.id;if(n||!a||!a.length)return null;var h=this.state.isAnimationFinished,v=be("recharts-bar",o),b=i&&i.allowDataOverflow,w=s&&s.allowDataOverflow,O=b||w,x=ve(m)?this.id:m;return E.createElement(Be,{className:v},b||w?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(x)},E.createElement("rect",{x:b?c:c-u/2,y:w?l:l-d/2,width:b?u:u*2,height:w?d:d*2}))):null,E.createElement(Be,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(x,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,x),(!p||h)&&Br.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(g.PureComponent);Px=Fr,mr(Fr,"displayName","Bar"),mr(Fr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),mr(Fr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,y=x2(n,r);if(!y)return null;var m=t.layout,h=r.type.defaultProps,v=h!==void 0?Ae(Ae({},h),r.props):r.props,b=v.dataKey,w=v.children,O=v.minPointSize,x=m==="horizontal"?i:o,j=l?x.scale.domain():null,_=P2({numericAxis:x}),S=Nt(w,Vv),P=d.map(function(A,C){var N,T,k,D,M,I;l?N=w2(l[u+C],j):(N=Rt(A,b),Array.isArray(N)||(N=[_,N]));var F=kI(O,Px.defaultProps.minPointSize)(N[1],C);if(m==="horizontal"){var V,U=[i.scale(N[0]),i.scale(N[1])],Q=U[0],q=U[1];T=Xb({axis:o,ticks:s,bandSize:a,offset:y.offset,entry:A,index:C}),k=(V=q??Q)!==null&&V!==void 0?V:void 0,D=y.size;var R=Q-q;if(M=Number.isNaN(R)?0:R,I={x:T,y:i.y,width:D,height:i.height},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var Y=St(M||F)*(Math.abs(F)-Math.abs(M));k-=Y,M+=Y}}else{var H=[o.scale(N[0]),o.scale(N[1])],J=H[0],ie=H[1];if(T=J,k=Xb({axis:i,ticks:c,bandSize:a,offset:y.offset,entry:A,index:C}),D=ie-J,M=y.size,I={x:o.x,y:k,width:o.width,height:M},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var W=St(D||F)*(Math.abs(F)-Math.abs(D));D+=W}}return Ae(Ae(Ae({},A),{},{x:T,y:k,width:D,height:M,value:l?N:N[1],payload:A,background:I},S&&S[C]&&S[C].props),{},{tooltipPayload:[Zb(r,A)],tooltipPosition:{x:T+D/2,y:k+M/2}})});return Ae({data:P,layout:m},p)});function Wa(e){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}function zI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ix(n.key),n)}}function VI(e,t,r){return t&&Tx(e.prototype,t),r&&Tx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dx(Object(r),!0).forEach(function(n){Ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ti(e,t,r){return t=Ix(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ix(e){var t=UI(e,"string");return Wa(t)=="symbol"?t:t+""}function UI(e,t){if(Wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HI=function(e,t,r,n,a){var o=e.width,i=e.height,s=e.layout,c=e.children,l=Object.keys(t),u={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},d=!!dt(c,Fr);return l.reduce(function(p,y){var m=t[y],h=m.orientation,v=m.domain,b=m.padding,w=b===void 0?{}:b,O=m.mirror,x=m.reversed,j="".concat(h).concat(O?"Mirror":""),_,S,P,A,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=v[1]-v[0],T=1/0,k=m.categoricalDomain.sort();if(k.forEach(function(Y,H){H>0&&(T=Math.min((Y||0)-(k[H-1]||0),T))}),Number.isFinite(T)){var D=T/N,M=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(_=D*M/2),m.padding==="no-gap"){var I=Pr(e.barCategoryGap,D*M),F=D*M/2;_=F-I-(F-I)/M*I}}}n==="xAxis"?S=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:n==="yAxis"?S=s==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:S=m.range,x&&(S=[S[1],S[0]]);var V=g2(m,a,d),U=V.scale,Q=V.realScaleType;U.domain(v).range(S),b2(U);var q=E2(U,Ct(Ct({},m),{},{realScaleType:Q}));n==="xAxis"?(C=h==="top"&&!O||h==="bottom"&&O,P=r.left,A=u[j]-C*m.height):n==="yAxis"&&(C=h==="left"&&!O||h==="right"&&O,P=u[j]-C*m.width,A=r.top);var R=Ct(Ct(Ct({},m),q),{},{realScaleType:Q,x:P,y:A,scale:U,width:n==="xAxis"?r.width:m.width,height:n==="yAxis"?r.height:m.height});return R.bandSize=hi(R,q),!m.hide&&n==="xAxis"?u[j]+=(C?-1:1)*R.height:m.hide||(u[j]+=(C?-1:1)*R.width),Ct(Ct({},p),{},Ti({},y,R))},{})},Rx=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return{x:Math.min(r,a),y:Math.min(n,o),width:Math.abs(a-r),height:Math.abs(o-n)}},qI=function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return Rx({x:t,y:r},{x:n,y:a})},Lx=function(){function e(t){zI(this,e),this.scale=t}return VI(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,a=r.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}],[{key:"create",value:function(t){return new e(t)}}])}();Ti(Lx,"EPS",1e-4);var jd=function(e){var t=Object.keys(e).reduce(function(r,n){return Ct(Ct({},r),{},Ti({},n,Lx.create(e[n])))},{});return Ct(Ct({},t),{},{apply:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;return gI(r,function(i,s){return t[s].apply(i,{bandAware:a,position:o})})},isInRange:function(r){return Sx(r,function(n,a){return t[a].isInRange(n)})}})};function WI(e){return(e%180+180)%180}var XI=function(e){var t=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=WI(n),o=a*Math.PI/180,i=Math.atan(r/t),s=o>i&&o<Math.PI-i?r/Math.sin(o):t/Math.cos(o);return Math.abs(s)},_d,Bx;function KI(){if(Bx)return _d;Bx=1;var e=xr(),t=fs(),r=nj();function n(a){return function(o,i,s){var c=Object(o);if(!t(o)){var l=e(i,3);o=r(o),i=function(d){return l(c[d],d,c)}}var u=a(o,i,s);return u>-1?c[l?o[u]:u]:void 0}}return _d=n,_d}var Od,Fx;function $x(){if(Fx)return Od;Fx=1;var e=cx();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return Od=t,Od}var Sd,zx;function GI(){if(zx)return Sd;zx=1;var e=Iy(),t=xr(),r=$x(),n=Math.max;function a(o,i,s){var c=o==null?0:o.length;if(!c)return-1;var l=s==null?0:r(s);return l<0&&(l=n(c+l,0)),e(o,t(i,3),l)}return Sd=a,Sd}var Nd,Vx;function YI(){if(Vx)return Nd;Vx=1;var e=KI(),t=GI(),r=e(t);return Nd=r,Nd}var JI=YI();const ZI=_e(JI);var QI=tB(),e3=_e(QI)(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ed=g.createContext(void 0),Pd=g.createContext(void 0),Ux=g.createContext(void 0),Hx=g.createContext({}),qx=g.createContext(void 0),Wx=g.createContext(0),Xx=g.createContext(0),Kx=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,o=e.clipPathId,i=e.children,s=e.width,c=e.height,l=e3(a);return E.createElement(Ed.Provider,{value:r},E.createElement(Pd.Provider,{value:n},E.createElement(Hx.Provider,{value:a},E.createElement(Ux.Provider,{value:l},E.createElement(qx.Provider,{value:o},E.createElement(Wx.Provider,{value:c},E.createElement(Xx.Provider,{value:s},i)))))))},t3=function(){return g.useContext(qx)},Gx=function(e){var t=g.useContext(Ed);t==null&&Rr();var r=t[e];return r==null&&Rr(),r},r3=function(){var e=g.useContext(Ed);return sr(e)},n3=function(){var e=g.useContext(Pd),t=ZI(e,function(r){return Sx(r.domain,Number.isFinite)});return t||sr(e)},Yx=function(e){var t=g.useContext(Pd);t==null&&Rr();var r=t[e];return r==null&&Rr(),r},a3=function(){var e=g.useContext(Ux);return e},o3=function(){return g.useContext(Hx)},Cd=function(){return g.useContext(Xx)},kd=function(){return g.useContext(Wx)};function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}function i3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ew(n.key),n)}}function c3(e,t,r){return t&&s3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l3(e,t,r){return t=Di(t),u3(e,Jx()?Reflect.construct(t,r||[],Di(e).constructor):t.apply(e,r))}function u3(e,t){if(t&&(En(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d3(e)}function d3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jx=function(){return!!e})()}function Di(e){return Di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Di(e)}function f3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Md(e,t)}function Md(e,t){return Md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Md(e,t)}function Zx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zx(Object(r),!0).forEach(function(n){Ad(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ad(e,t,r){return t=ew(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ew(e){var t=p3(e,"string");return En(t)=="symbol"?t:t+""}function p3(e,t){if(En(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(En(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h3(e,t){return g3(e)||v3(e,t)||y3(e,t)||m3()}function m3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y3(e,t){if(e){if(typeof e=="string")return tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tw(e,t)}}function tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v3(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function g3(e){if(Array.isArray(e))return e}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}var b3=function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):de(e)?r=e(t):r=E.createElement("line",Td({},t,{className:"recharts-reference-line-line"})),r},x3=function(e,t,r,n,a,o,i,s,c){var l=a.x,u=a.y,d=a.width,p=a.height;if(r){var y=c.y,m=e.y.apply(y,{position:o});if(Lt(c,"discard")&&!e.y.isInRange(m))return null;var h=[{x:l+d,y:m},{x:l,y:m}];return s==="left"?h.reverse():h}if(t){var v=c.x,b=e.x.apply(v,{position:o});if(Lt(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:u+p},{x:b,y:u}];return i==="top"?w.reverse():w}if(n){var O=c.segment,x=O.map(function(j){return e.apply(j,{position:o})});return Lt(c,"discard")&&mI(x,function(j){return!e.isInRange(j)})?null:x}return null};function w3(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,c=e.alwaysShow,l=t3(),u=Gx(a),d=Yx(o),p=a3();if(!l||!p)return null;Ht(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=jd({x:u.scale,y:d.scale}),m=Ie(t),h=Ie(r),v=n&&n.length===2,b=x3(y,m,h,v,p,e.position,u.orientation,d.orientation,e);if(!b)return null;var w=h3(b,2),O=w[0],x=O.x,j=O.y,_=w[1],S=_.x,P=_.y,A=Lt(e,"hidden")?"url(#".concat(l,")"):void 0,C=Qx(Qx({clipPath:A},ye(e,!0)),{},{x1:x,y1:j,x2:S,y2:P});return E.createElement(Be,{className:be("recharts-reference-line",s)},b3(i,C),He.renderCallByParent(e,qI({x1:x,y1:j,x2:S,y2:P})))}var Dd=function(e){function t(){return i3(this,t),l3(this,t,arguments)}return f3(t,e),c3(t,[{key:"render",value:function(){return E.createElement(w3,this.props)}}])}(E.Component);Ad(Dd,"displayName","ReferenceLine"),Ad(Dd,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(this,arguments)}function Pn(e){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(e)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){Ri(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ow(n.key),n)}}function O3(e,t,r){return t&&_3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S3(e,t,r){return t=Ii(t),N3(e,aw()?Reflect.construct(t,r||[],Ii(e).constructor):t.apply(e,r))}function N3(e,t){if(t&&(Pn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E3(e)}function E3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aw=function(){return!!e})()}function Ii(e){return Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ii(e)}function P3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rd(e,t)}function Rd(e,t){return Rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Rd(e,t)}function Ri(e,t,r){return t=ow(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ow(e){var t=C3(e,"string");return Pn(t)=="symbol"?t:t+""}function C3(e,t){if(Pn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k3=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,o=jd({x:n.scale,y:a.scale}),i=o.apply({x:t,y:r},{bandAware:!0});return Lt(e,"discard")&&!o.isInRange(i)?null:i},Li=function(e){function t(){return j3(this,t),S3(this,t,arguments)}return P3(t,e),O3(t,[{key:"render",value:function(){var r=this.props,n=r.x,a=r.y,o=r.r,i=r.alwaysShow,s=r.clipPathId,c=Ie(n),l=Ie(a);if(Ht(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!l)return null;var u=k3(this.props);if(!u)return null;var d=u.x,p=u.y,y=this.props,m=y.shape,h=y.className,v=Lt(this.props,"hidden")?"url(#".concat(s,")"):void 0,b=nw(nw({clipPath:v},ye(this.props,!0)),{},{cx:d,cy:p});return E.createElement(Be,{className:be("recharts-reference-dot",h)},t.renderDot(m,b),He.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(E.Component);Ri(Li,"displayName","ReferenceDot"),Ri(Li,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Ri(Li,"renderDot",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):de(e)?r=e(t):r=E.createElement(Y0,Id({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(this,arguments)}function Cn(e){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(e)}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(n){Fi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lw(n.key),n)}}function T3(e,t,r){return t&&A3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D3(e,t,r){return t=Bi(t),I3(e,cw()?Reflect.construct(t,r||[],Bi(e).constructor):t.apply(e,r))}function I3(e,t){if(t&&(Cn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R3(e)}function R3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cw=function(){return!!e})()}function Bi(e){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bi(e)}function L3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bd(e,t)}function Bd(e,t){return Bd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Bd(e,t)}function Fi(e,t,r){return t=lw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lw(e){var t=B3(e,"string");return Cn(t)=="symbol"?t:t+""}function B3(e,t){if(Cn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F3=function(e,t,r,n,a){var o=a.x1,i=a.x2,s=a.y1,c=a.y2,l=a.xAxis,u=a.yAxis;if(!l||!u)return null;var d=jd({x:l.scale,y:u.scale}),p={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},y={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(c,{position:"end"}):d.y.rangeMax};return Lt(a,"discard")&&(!d.isInRange(p)||!d.isInRange(y))?null:Rx(p,y)},$i=function(e){function t(){return M3(this,t),D3(this,t,arguments)}return L3(t,e),T3(t,[{key:"render",value:function(){var r=this.props,n=r.x1,a=r.x2,o=r.y1,i=r.y2,s=r.className,c=r.alwaysShow,l=r.clipPathId;Ht(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Ie(n),d=Ie(a),p=Ie(o),y=Ie(i),m=this.props.shape;if(!u&&!d&&!p&&!y&&!m)return null;var h=F3(u,d,p,y,this.props);if(!h&&!m)return null;var v=Lt(this.props,"hidden")?"url(#".concat(l,")"):void 0;return E.createElement(Be,{className:be("recharts-reference-area",s)},t.renderRect(m,sw(sw({clipPath:v},ye(this.props,!0)),h)),He.renderCallByParent(this.props,h))}}])}(E.Component);Fi($i,"displayName","ReferenceArea"),Fi($i,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Fi($i,"renderRect",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):de(e)?r=e(t):r=E.createElement(nd,Ld({},t,{className:"recharts-reference-area-rect"})),r});function uw(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function $3(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return XI(n,r)}function z3(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function zi(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function V3(e,t){return uw(e,t+1)}function U3(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,c=0,l=1,u=i,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:uw(n,l)};var m=c,h,v=function(){return h===void 0&&(h=r(y,m)),h},b=y.coordinate,w=c===0||zi(e,b,v,u,s);w||(c=0,u=i,l+=1),w&&(u=b+e*(v()/2+a),c+=l)},p;l<=o.length;)if(p=d(),p)return p.v;return[]}function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){H3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H3(e,t,r){return t=q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q3(e){var t=W3(e,"string");return Xa(t)=="symbol"?t:t+""}function W3(e,t){if(Xa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X3(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,c=t.end,l=function(d){var p=o[d],y,m=function(){return y===void 0&&(y=r(p,d)),y};if(d===i-1){var h=e*(p.coordinate+e*m()/2-c);o[d]=p=qe(qe({},p),{},{tickCoord:h>0?p.coordinate-h*e:p.coordinate})}else o[d]=p=qe(qe({},p),{},{tickCoord:p.coordinate});var v=zi(e,p.tickCoord,m,s,c);v&&(c=p.tickCoord-e*(m()/2+a),o[d]=qe(qe({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)l(u);return o}function K3(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,c=t.start,l=t.end;if(o){var u=n[s-1],d=r(u,s-1),p=e*(u.coordinate+e*d/2-l);i[s-1]=u=qe(qe({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var y=zi(e,u.tickCoord,function(){return d},c,l);y&&(l=u.tickCoord-e*(d/2+a),i[s-1]=qe(qe({},u),{},{isShow:!0}))}for(var m=o?s-1:s,h=function(b){var w=i[b],O,x=function(){return O===void 0&&(O=r(w,b)),O};if(b===0){var j=e*(w.coordinate-e*x()/2-c);i[b]=w=qe(qe({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else i[b]=w=qe(qe({},w),{},{tickCoord:w.coordinate});var _=zi(e,w.tickCoord,x,c,l);_&&(c=w.tickCoord+e*(x()/2+a),i[b]=qe(qe({},w),{},{isShow:!0}))},v=0;v<m;v++)h(v);return i}function Fd(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(K(c)||cr.isSsr)return V3(a,typeof c=="number"&&K(c)?c:0);var p=[],y=s==="top"||s==="bottom"?"width":"height",m=u&&y==="width"?la(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=function(w,O){var x=de(l)?l(w.value,O):w.value;return y==="width"?$3(la(x,{fontSize:t,letterSpacing:r}),m,d):la(x,{fontSize:t,letterSpacing:r})[y]},v=a.length>=2?St(a[1].coordinate-a[0].coordinate):1,b=z3(o,v,y);return c==="equidistantPreserveStart"?U3(v,b,h,a,i):(c==="preserveStart"||c==="preserveStartEnd"?p=K3(v,b,h,a,i,c==="preserveStartEnd"):p=X3(v,b,h,a,i),p.filter(function(w){return w.isShow}))}var G3=["viewBox"],Y3=["viewBox"],J3=["ticks"];function kn(e){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(e)}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mn.apply(this,arguments)}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){Vd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $d(e,t){if(e==null)return{};var r=Z3(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mw(n.key),n)}}function eR(e,t,r){return t&&pw(e.prototype,t),r&&pw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tR(e,t,r){return t=Vi(t),rR(e,hw()?Reflect.construct(t,r||[],Vi(e).constructor):t.apply(e,r))}function rR(e,t){if(t&&(kn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nR(e)}function nR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hw=function(){return!!e})()}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vi(e)}function aR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zd(e,t)}function zd(e,t){return zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zd(e,t)}function Vd(e,t,r){return t=mw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mw(e){var t=oR(e,"string");return kn(t)=="symbol"?t:t+""}function oR(e,t){if(kn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var An=function(e){function t(r){var n;return Q3(this,t),n=tR(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return aR(t,e),eR(t,[{key:"shouldComponentUpdate",value:function(r,n){var a=r.viewBox,o=$d(r,G3),i=this.props,s=i.viewBox,c=$d(i,Y3);return!an(a,s)||!an(o,c)||!an(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,c=n.orientation,l=n.tickSize,u=n.mirror,d=n.tickMargin,p,y,m,h,v,b,w=u?-1:1,O=r.tickSize||l,x=K(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=y=r.coordinate,h=o+ +!u*s,m=h-w*O,b=m-w*d,v=x;break;case"left":m=h=r.coordinate,y=a+ +!u*i,p=y-w*O,v=p-w*d,b=x;break;case"right":m=h=r.coordinate,y=a+ +u*i,p=y+w*O,v=p+w*d,b=x;break;default:p=y=r.coordinate,h=o+ +u*s,m=h+w*O,b=m+w*d,v=x;break}return{line:{x1:p,y1:m,x2:y,y2:h},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o;switch(n){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.orientation,c=r.mirror,l=r.axisLine,u=Ze(Ze(Ze({},ye(this.props,!1)),ye(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!c||s==="bottom"&&c);u=Ze(Ze({},u),{},{x1:n,y1:a+d*i,x2:n+o,y2:a+d*i})}else{var p=+(s==="left"&&!c||s==="right"&&c);u=Ze(Ze({},u),{},{x1:n+p*o,y1:a,x2:n+p*o,y2:a+i})}return E.createElement("line",Mn({},u,{className:be("recharts-cartesian-axis-line",mt(l,"className"))}))}},{key:"renderTicks",value:function(r,n,a){var o=this,i=this.props,s=i.tickLine,c=i.stroke,l=i.tick,u=i.tickFormatter,d=i.unit,p=Fd(Ze(Ze({},this.props),{},{ticks:r}),n,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),h=ye(this.props,!1),v=ye(l,!1),b=Ze(Ze({},h),{},{fill:"none"},ye(s,!1)),w=p.map(function(O,x){var j=o.getTickLineCoord(O),_=j.line,S=j.tick,P=Ze(Ze(Ze(Ze({textAnchor:y,verticalAnchor:m},h),{},{stroke:"none",fill:c},v),S),{},{index:x,payload:O,visibleTicksCount:p.length,tickFormatter:u});return E.createElement(Be,Mn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},_o(o.props,O,x)),s&&E.createElement("line",Mn({},b,_,{className:be("recharts-cartesian-axis-tick-line",mt(s,"className"))})),l&&t.renderTickItem(l,P,"".concat(de(u)?u(O.value,x):O.value).concat(d||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,n=this.props,a=n.axisLine,o=n.width,i=n.height,s=n.ticksGenerator,c=n.className,l=n.hide;if(l)return null;var u=this.props,d=u.ticks,p=$d(u,J3),y=d;return de(s)&&(y=d&&d.length>0?s(this.props):s(p)),o<=0||i<=0||!y||!y.length?null:E.createElement(Be,{className:be("recharts-cartesian-axis",c),ref:function(m){r.layerReference=m}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),He.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,a){var o;return E.isValidElement(r)?o=E.cloneElement(r,n):de(r)?o=r(n):o=E.createElement(Uo,Mn({},n,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(g.Component);Vd(An,"displayName","CartesianAxis"),Vd(An,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iR=["x1","y1","x2","y2","key"],sR=["offset"];function $r(e){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(e)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){cR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cR(e,t,r){return t=lR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lR(e){var t=uR(e,"string");return $r(t)=="symbol"?t:t+""}function uR(e,t){if($r(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($r(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zr.apply(this,arguments)}function vw(e,t){if(e==null)return{};var r=dR(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fR=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.ry;return E.createElement("rect",{x:n,y:a,ry:s,width:o,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gw(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(de(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,c=vw(t,iR),l=ye(c,!1);l.offset;var u=vw(l,sR);r=E.createElement("line",zr({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function pR(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=We(We({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return gw(a,l)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function hR(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=We(We({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return gw(a,l)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function mR(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,c=e.horizontal,l=c===void 0?!0:c;if(!l||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,y){return p-y});a!==u[0]&&u.unshift(0);var d=u.map(function(p,y){var m=!u[y+1],h=m?a+i-p:u[y+1]-p;if(h<=0)return null;var v=y%t.length;return E.createElement("rect",{key:"react-".concat(y),y:p,x:n,height:h,width:o,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function yR(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,c=e.height,l=e.verticalPoints;if(!r||!n||!n.length)return null;var u=l.map(function(p){return Math.round(p+o-o)}).sort(function(p,y){return p-y});o!==u[0]&&u.unshift(0);var d=u.map(function(p,y){var m=!u[y+1],h=m?o+s-p:u[y+1]-p;if(h<=0)return null;var v=y%n.length;return E.createElement("rect",{key:"react-".concat(y),x:p,y:i,width:h,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var vR=function(e,t){var r=e.xAxis,n=e.width,a=e.height,o=e.offset;return qb(Fd(We(We(We({},An.defaultProps),r),{},{ticks:Qt(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.left,o.left+o.width,t)},gR=function(e,t){var r=e.yAxis,n=e.width,a=e.height,o=e.offset;return qb(Fd(We(We(We({},An.defaultProps),r),{},{ticks:Qt(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.top,o.top+o.height,t)},Tn={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function bw(e){var t,r,n,a,o,i,s=Cd(),c=kd(),l=o3(),u=We(We({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Tn.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Tn.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Tn.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Tn.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Tn.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Tn.verticalFill,x:K(e.x)?e.x:l.left,y:K(e.y)?e.y:l.top,width:K(e.width)?e.width:l.width,height:K(e.height)?e.height:l.height}),d=u.x,p=u.y,y=u.width,m=u.height,h=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,w=r3(),O=n3();if(!K(y)||y<=0||!K(m)||m<=0||!K(d)||d!==+d||!K(p)||p!==+p)return null;var x=u.verticalCoordinatesGenerator||vR,j=u.horizontalCoordinatesGenerator||gR,_=u.horizontalPoints,S=u.verticalPoints;if((!_||!_.length)&&de(j)){var P=v&&v.length,A=j({yAxis:O?We(We({},O),{},{ticks:P?v:O.ticks}):void 0,width:s,height:c,offset:l},P?!0:h);Ht(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($r(A),"]")),Array.isArray(A)&&(_=A)}if((!S||!S.length)&&de(x)){var C=b&&b.length,N=x({xAxis:w?We(We({},w),{},{ticks:C?b:w.ticks}):void 0,width:s,height:c,offset:l},C?!0:h);Ht(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($r(N),"]")),Array.isArray(N)&&(S=N)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(fR,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),E.createElement(pR,zr({},u,{offset:l,horizontalPoints:_,xAxis:w,yAxis:O})),E.createElement(hR,zr({},u,{offset:l,verticalPoints:S,xAxis:w,yAxis:O})),E.createElement(mR,zr({},u,{horizontalPoints:_})),E.createElement(yR,zr({},u,{verticalPoints:S})))}bw.displayName="CartesianGrid";function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}function bR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jw(n.key),n)}}function wR(e,t,r){return t&&xR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jR(e,t,r){return t=Ui(t),_R(e,xw()?Reflect.construct(t,r||[],Ui(e).constructor):t.apply(e,r))}function _R(e,t){if(t&&(Dn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OR(e)}function OR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xw=function(){return!!e})()}function Ui(e){return Ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ui(e)}function SR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ud(e,t)}function Ud(e,t){return Ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ud(e,t)}function ww(e,t,r){return t=jw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jw(e){var t=NR(e,"string");return Dn(t)=="symbol"?t:t+""}function NR(e,t){if(Dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(this,arguments)}function ER(e){var t=e.xAxisId,r=Cd(),n=kd(),a=Gx(t);return a==null?null:E.createElement(An,Hd({},a,{className:be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Qt(o,!0)}}))}var Hi=function(e){function t(){return bR(this,t),jR(this,t,arguments)}return SR(t,e),wR(t,[{key:"render",value:function(){return E.createElement(ER,this.props)}}])}(E.Component);ww(Hi,"displayName","XAxis"),ww(Hi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}function PR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sw(n.key),n)}}function kR(e,t,r){return t&&CR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MR(e,t,r){return t=qi(t),AR(e,_w()?Reflect.construct(t,r||[],qi(e).constructor):t.apply(e,r))}function AR(e,t){if(t&&(In(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TR(e)}function TR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_w=function(){return!!e})()}function qi(e){return qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qi(e)}function DR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qd(e,t)}function qd(e,t){return qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},qd(e,t)}function Ow(e,t,r){return t=Sw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sw(e){var t=IR(e,"string");return In(t)=="symbol"?t:t+""}function IR(e,t){if(In(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(In(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(this,arguments)}var RR=function(e){var t=e.yAxisId,r=Cd(),n=kd(),a=Yx(t);return a==null?null:E.createElement(An,Wd({},a,{className:be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Qt(o,!0)}}))},Xd=function(e){function t(){return PR(this,t),MR(this,t,arguments)}return DR(t,e),kR(t,[{key:"render",value:function(){return E.createElement(RR,this.props)}}])}(E.Component);Ow(Xd,"displayName","YAxis"),Ow(Xd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Nw(e){return $R(e)||FR(e)||BR(e)||LR()}function LR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BR(e,t){if(e){if(typeof e=="string")return Kd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kd(e,t)}}function FR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $R(e){if(Array.isArray(e))return Kd(e)}function Kd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gd=function(e,t,r,n,a){var o=Nt(e,Dd),i=Nt(e,Li),s=[].concat(Nw(o),Nw(i)),c=Nt(e,$i),l="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce(function(m,h){if(h.props[l]===r&&Lt(h.props,"extendDomain")&&K(h.props[u])){var v=h.props[u];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},d)),c.length){var p="".concat(u,"1"),y="".concat(u,"2");d=c.reduce(function(m,h){if(h.props[l]===r&&Lt(h.props,"extendDomain")&&K(h.props[p])&&K(h.props[y])){var v=h.props[p],b=h.props[y];return[Math.min(m[0],v,b),Math.max(m[1],v,b)]}return m},d)}return a&&a.length&&(d=a.reduce(function(m,h){return K(h)?[Math.min(m[0],h),Math.max(m[1],h)]:m},d)),d},Ew={exports:{}},Pw;function zR(){return Pw||(Pw=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,d,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var y=new a(u,d||c,p),m=r?r+l:l;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],y]:c._events[m].push(y):(c._events[m]=y,c._eventsCount++),c}function i(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],l,u;if(this._eventsCount===0)return c;for(u in l=this._events)t.call(l,u)&&c.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},s.prototype.listeners=function(c){var l=r?r+c:c,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,p=u.length,y=new Array(p);d<p;d++)y[d]=u[d].fn;return y},s.prototype.listenerCount=function(c){var l=r?r+c:c,u=this._events[l];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,l,u,d,p,y){var m=r?r+c:c;if(!this._events[m])return!1;var h=this._events[m],v=arguments.length,b,w;if(h.fn){switch(h.once&&this.removeListener(c,h.fn,void 0,!0),v){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,l),!0;case 3:return h.fn.call(h.context,l,u),!0;case 4:return h.fn.call(h.context,l,u,d),!0;case 5:return h.fn.call(h.context,l,u,d,p),!0;case 6:return h.fn.call(h.context,l,u,d,p,y),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];h.fn.apply(h.context,b)}else{var O=h.length,x;for(w=0;w<O;w++)switch(h[w].once&&this.removeListener(c,h[w].fn,void 0,!0),v){case 1:h[w].fn.call(h[w].context);break;case 2:h[w].fn.call(h[w].context,l);break;case 3:h[w].fn.call(h[w].context,l,u);break;case 4:h[w].fn.call(h[w].context,l,u,d);break;default:if(!b)for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];h[w].fn.apply(h[w].context,b)}}return!0},s.prototype.on=function(c,l,u){return o(this,c,l,u,!1)},s.prototype.once=function(c,l,u){return o(this,c,l,u,!0)},s.prototype.removeListener=function(c,l,u,d){var p=r?r+c:c;if(!this._events[p])return this;if(!l)return i(this,p),this;var y=this._events[p];if(y.fn)y.fn===l&&(!d||y.once)&&(!u||y.context===u)&&i(this,p);else{for(var m=0,h=[],v=y.length;m<v;m++)(y[m].fn!==l||d&&!y[m].once||u&&y[m].context!==u)&&h.push(y[m]);h.length?this._events[p]=h.length===1?h[0]:h:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var l;return c?(l=r?r+c:c,this._events[l]&&i(this,l)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(Ew)),Ew.exports}var VR=zR();const UR=_e(VR);var Yd=new UR,Jd="recharts.syncMouseEvents";function Ka(e){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}function HR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cw(n.key),n)}}function WR(e,t,r){return t&&qR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zd(e,t,r){return t=Cw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cw(e){var t=XR(e,"string");return Ka(t)=="symbol"?t:t+""}function XR(e,t){if(Ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KR=function(){function e(){HR(this,e),Zd(this,"activeIndex",0),Zd(this,"coordinateList",[]),Zd(this,"layout","horizontal")}return WR(e,[{key:"setDetails",value:function(t){var r,n=t.coordinateList,a=n===void 0?null:n,o=t.container,i=o===void 0?null:o,s=t.layout,c=s===void 0?null:s,l=t.offset,u=l===void 0?null:l,d=t.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=i??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),a=n.x,o=n.y,i=n.height,s=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,l=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=a+s+c,d=o+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:u,pageY:d})}}}])}();function GR(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&K(n)&&K(a))return!0}return!1}function YR(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function kw(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=ze(t,r,n,a),s=ze(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function JR(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.angle,p=ze(s,c,l,d),y=ze(s,c,u,d);n=p.x,a=p.y,o=y.x,i=y.y}else return kw(t);return[{x:n,y:a},{x:o,y:i}]}function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){ZR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZR(e,t,r){return t=QR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QR(e){var t=eL(e,"string");return Ga(t)=="symbol"?t:t+""}function eL(e,t){if(Ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tL(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,c=e.offset,l=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,y=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!o||!i||p!=="ScatterChart"&&a!=="axis")return null;var m,h=m0;if(p==="ScatterChart")m=i,h=vD;else if(p==="BarChart")m=YR(d,i,c,u),h=nd;else if(d==="radial"){var v=kw(i),b=v.cx,w=v.cy,O=v.radius,x=v.startAngle,j=v.endAngle;m={cx:b,cy:w,startAngle:x,endAngle:j,innerRadius:O,outerRadius:O},h=d0}else m={points:JR(d,i,c)},h=m0;var _=Wi(Wi(Wi(Wi({stroke:"#ccc",pointerEvents:"none"},c),m),ye(y,!1)),{},{payload:s,payloadIndex:l,className:be("recharts-tooltip-cursor",y.className)});return g.isValidElement(y)?g.cloneElement(y,_):g.createElement(h,_)}var rL=["item"],nL=["children","className","width","height","style","compact","title","desc"];function Rn(e){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(e)}function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ln.apply(this,arguments)}function Aw(e,t){return iL(e)||oL(e,t)||Iw(e,t)||aL()}function aL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function iL(e){if(Array.isArray(e))return e}function Tw(e,t){if(e==null)return{};var r=sL(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lw(n.key),n)}}function uL(e,t,r){return t&&lL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dL(e,t,r){return t=Xi(t),fL(e,Dw()?Reflect.construct(t,r||[],Xi(e).constructor):t.apply(e,r))}function fL(e,t){if(t&&(Rn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pL(e)}function pL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dw=function(){return!!e})()}function Xi(e){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xi(e)}function hL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qd(e,t)}function Qd(e,t){return Qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Qd(e,t)}function Bn(e){return vL(e)||yL(e)||Iw(e)||mL()}function mL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iw(e,t){if(e){if(typeof e=="string")return ef(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ef(e,t)}}function yL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vL(e){if(Array.isArray(e))return ef(e)}function ef(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ae(e,t,r){return t=Lw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lw(e){var t=gL(e,"string");return Rn(t)=="symbol"?t:t+""}function gL(e,t){if(Rn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bL={xAxis:["bottom","top"],yAxis:["left","right"]},xL={width:"100%",height:"100%"},Bw={x:0,y:0};function Ki(e){return e}var wL=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},jL=function(e,t,r,n){var a=t.find(function(l){return l&&l.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,i=n.radius;return L(L(L({},n),ze(n.cx,n.cy,i,o)),{},{angle:o,radius:i})}var s=a.coordinate,c=n.angle;return L(L(L({},n),ze(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return Bw},Gi=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,o=(r??[]).reduce(function(i,s){var c=s.props.data;return c&&c.length?[].concat(Bn(i),Bn(c)):i},[]);return o.length>0?o:e&&e.length&&K(n)&&K(a)?e.slice(n,a+1):[]};function Fw(e){return e==="number"?[0,"auto"]:void 0}var tf=function(e,t,r,n){var a=e.graphicalItems,o=e.tooltipAxis,i=Gi(t,e);return r<0||!a||!a.length||r>=i.length?null:a.reduce(function(s,c){var l,u=(l=c.props.data)!==null&&l!==void 0?l:t;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=u===void 0?i:u;d=yc(p,o.dataKey,n)}else d=u&&u[r]||i[r];return d?[].concat(Bn(s),[Zb(c,d)]):s},[])},$w=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},o=wL(a,r),i=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=f2(o,i,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,d=tf(e,t,l,u),p=jL(r,i,l,a);return{activeTooltipIndex:l,activeLabel:u,activePayload:d,activeCoordinate:p}}return null},_L=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=e.stackOffset,p=Hb(l,a);return r.reduce(function(y,m){var h,v=m.type.defaultProps!==void 0?L(L({},m.type.defaultProps),m.props):m.props,b=v.type,w=v.dataKey,O=v.allowDataOverflow,x=v.allowDuplicatedCategory,j=v.scale,_=v.ticks,S=v.includeHidden,P=v[o];if(y[P])return y;var A=Gi(e.data,{graphicalItems:n.filter(function(q){var R,Y=o in q.props?q.props[o]:(R=q.type.defaultProps)===null||R===void 0?void 0:R[o];return Y===P}),dataStartIndex:s,dataEndIndex:c}),C=A.length,N,T,k;GR(v.domain,O,b)&&(N=Fu(v.domain,null,O),p&&(b==="number"||j!=="auto")&&(k=fi(A,w,"category")));var D=Fw(b);if(!N||N.length===0){var M,I=(M=v.domain)!==null&&M!==void 0?M:D;if(w){if(N=fi(A,w,b),b==="category"&&p){var F=jS(N);x&&F?(T=N,N=Pi(0,C)):x||(N=Jb(I,N,m).reduce(function(q,R){return q.indexOf(R)>=0?q:[].concat(Bn(q),[R])},[]))}else if(b==="category")x?N=N.filter(function(q){return q!==""&&!ve(q)}):N=Jb(I,N,m).reduce(function(q,R){return q.indexOf(R)>=0||R===""||ve(R)?q:[].concat(Bn(q),[R])},[]);else if(b==="number"){var V=v2(A,n.filter(function(q){var R,Y,H=o in q.props?q.props[o]:(R=q.type.defaultProps)===null||R===void 0?void 0:R[o],J="hide"in q.props?q.props.hide:(Y=q.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return H===P&&(S||!J)}),w,a,l);V&&(N=V)}p&&(b==="number"||j!=="auto")&&(k=fi(A,w,"category"))}else p?N=Pi(0,C):i&&i[P]&&i[P].hasStack&&b==="number"?N=d==="expand"?[0,1]:Kb(i[P].stackGroups,s,c):N=Ub(A,n.filter(function(q){var R=o in q.props?q.props[o]:q.type.defaultProps[o],Y="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return R===P&&(S||!Y)}),b,l,!0);if(b==="number")N=Gd(u,N,P,a,_),I&&(N=Fu(I,N,O));else if(b==="category"&&I){var U=I,Q=N.every(function(q){return U.indexOf(q)>=0});Q&&(N=U)}}return L(L({},y),{},ae({},P,L(L({},v),{},{axisType:a,domain:N,categoricalDomain:k,duplicateDomain:T,originalDomain:(h=v.domain)!==null&&h!==void 0?h:D,isCategorical:p,layout:l})))},{})},OL=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=Gi(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:c}),p=d.length,y=Hb(l,a),m=-1;return r.reduce(function(h,v){var b=v.type.defaultProps!==void 0?L(L({},v.type.defaultProps),v.props):v.props,w=b[o],O=Fw("number");if(!h[w]){m++;var x;return y?x=Pi(0,p):i&&i[w]&&i[w].hasStack?(x=Kb(i[w].stackGroups,s,c),x=Gd(u,x,w,a)):(x=Fu(O,Ub(d,r.filter(function(j){var _,S,P=o in j.props?j.props[o]:(_=j.type.defaultProps)===null||_===void 0?void 0:_[o],A="hide"in j.props?j.props.hide:(S=j.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===w&&!A}),"number",l),n.defaultProps.allowDataOverflow),x=Gd(u,x,w,a)),L(L({},h),{},ae({},w,L(L({axisType:a},n.defaultProps),{},{hide:!0,orientation:mt(bL,"".concat(a,".").concat(m%2),null),domain:x,originalDomain:O,isCategorical:y,layout:l})))}return h},{})},SL=function(e,t){var r=t.axisType,n=r===void 0?"xAxis":r,a=t.AxisComp,o=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(n,"Id"),d=Nt(l,a),p={};return d&&d.length?p=_L(e,{axes:d,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(p=OL(e,{Axis:a,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c})),p},NL=function(e){var t=sr(e),r=Qt(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:El(r,function(n){return n.coordinate}),tooltipAxis:t,tooltipAxisBandSize:hi(t,r)}},zw=function(e){var t=e.children,r=e.defaultShowTooltip,n=dt(t,Sn),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},EL=function(e){return!e||!e.length?!1:e.some(function(t){var r=Ut(t&&t.type);return r&&r.indexOf("Bar")>=0})},Vw=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},PL=function(e,t){var r=e.props,n=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,i=e.yAxisMap,s=i===void 0?{}:i,c=r.width,l=r.height,u=r.children,d=r.margin||{},p=dt(u,Sn),y=dt(u,ln),m=Object.keys(s).reduce(function(x,j){var _=s[j],S=_.orientation;return!_.mirror&&!_.hide?L(L({},x),{},ae({},S,x[S]+_.width)):x},{left:d.left||0,right:d.right||0}),h=Object.keys(o).reduce(function(x,j){var _=o[j],S=_.orientation;return!_.mirror&&!_.hide?L(L({},x),{},ae({},S,mt(x,"".concat(S))+_.height)):x},{top:d.top||0,bottom:d.bottom||0}),v=L(L({},h),m),b=v.bottom;p&&(v.bottom+=p.props.height||Sn.defaultProps.height),y&&t&&(v=m2(v,n,r,t));var w=c-v.left-v.right,O=l-v.top-v.bottom;return L(L({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(O,0)})},CL=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},kL=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=n===void 0?"axis":n,o=e.validateTooltipEventTypes,i=o===void 0?["axis"]:o,s=e.axisComponents,c=e.legendContent,l=e.formatAxisMap,u=e.defaultProps,d=function(h,v){var b=v.graphicalItems,w=v.stackGroups,O=v.offset,x=v.updateId,j=v.dataStartIndex,_=v.dataEndIndex,S=h.barSize,P=h.layout,A=h.barGap,C=h.barCategoryGap,N=h.maxBarSize,T=Vw(P),k=T.numericAxisName,D=T.cateAxisName,M=EL(b),I=[];return b.forEach(function(F,V){var U=Gi(h.data,{graphicalItems:[F],dataStartIndex:j,dataEndIndex:_}),Q=F.type.defaultProps!==void 0?L(L({},F.type.defaultProps),F.props):F.props,q=Q.dataKey,R=Q.maxBarSize,Y=Q["".concat(k,"Id")],H=Q["".concat(D,"Id")],J={},ie=s.reduce(function(Hr,qr){var Ja=v["".concat(qr.axisType,"Map")],A1=Q["".concat(qr.axisType,"Id")];Ja&&Ja[A1]||qr.axisType==="zAxis"||Rr();var T1=Ja[A1];return L(L({},Hr),{},ae(ae({},qr.axisType,T1),"".concat(qr.axisType,"Ticks"),Qt(T1)))},J),W=ie[D],oe=ie["".concat(D,"Ticks")],z=w&&w[Y]&&w[Y].hasStack&&C2(F,w[Y].stackGroups),G=Ut(F.type).indexOf("Bar")>=0,ee=hi(W,oe),B=[],Oe=M&&p2({barSize:S,stackGroups:w,totalSize:CL(ie,D)});if(G){var le,Pe,Ce=ve(R)?N:R,Qe=(le=(Pe=hi(W,oe,!0))!==null&&Pe!==void 0?Pe:Ce)!==null&&le!==void 0?le:0;B=h2({barGap:A,barCategoryGap:C,bandSize:Qe!==ee?Qe:ee,sizeList:Oe[H],maxBarSize:Ce}),Qe!==ee&&(B=B.map(function(Hr){return L(L({},Hr),{},{position:L(L({},Hr.position),{},{offset:Hr.position.offset-Qe/2})})}))}var Ur=F&&F.type&&F.type.getComposedData;Ur&&I.push({props:L(L({},Ur(L(L({},ie),{},{displayedData:U,props:h,dataKey:q,item:F,bandSize:ee,barPosition:B,offset:O,stackedData:z,layout:P,dataStartIndex:j,dataEndIndex:_}))),{},ae(ae(ae({key:F.key||"item-".concat(V)},k,ie[k]),D,ie[D]),"animationId",x)),childIndex:TS(F,h.children),item:F})}),I},p=function(h,v){var b=h.props,w=h.dataStartIndex,O=h.dataEndIndex,x=h.updateId;if(!Ym({props:b}))return null;var j=b.children,_=b.layout,S=b.stackOffset,P=b.data,A=b.reverseStackOrder,C=Vw(_),N=C.numericAxisName,T=C.cateAxisName,k=Nt(j,r),D=N2(P,k,"".concat(N,"Id"),"".concat(T,"Id"),S,A),M=s.reduce(function(Q,q){var R="".concat(q.axisType,"Map");return L(L({},Q),{},ae({},R,SL(b,L(L({},q),{},{graphicalItems:k,stackGroups:q.axisType===N&&D,dataStartIndex:w,dataEndIndex:O}))))},{}),I=PL(L(L({},M),{},{props:b,graphicalItems:k}),v==null?void 0:v.legendBBox);Object.keys(M).forEach(function(Q){M[Q]=l(b,M[Q],I,Q.replace("Map",""),t)});var F=M["".concat(T,"Map")],V=NL(F),U=d(b,L(L({},M),{},{dataStartIndex:w,dataEndIndex:O,updateId:x,graphicalItems:k,stackGroups:D,offset:I}));return L(L({formattedGraphicalItems:U,graphicalItems:k,offset:I,stackGroups:D},V),M)},y=function(h){function v(b){var w,O,x;return cL(this,v),x=dL(this,v,[b]),ae(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ae(x,"accessibilityManager",new KR),ae(x,"handleLegendBBoxUpdate",function(j){if(j){var _=x.state,S=_.dataStartIndex,P=_.dataEndIndex,A=_.updateId;x.setState(L({legendBBox:j},p({props:x.props,dataStartIndex:S,dataEndIndex:P,updateId:A},L(L({},x.state),{},{legendBBox:j}))))}}),ae(x,"handleReceiveSyncEvent",function(j,_,S){if(x.props.syncId===j){if(S===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(_)}}),ae(x,"handleBrushChange",function(j){var _=j.startIndex,S=j.endIndex;if(_!==x.state.dataStartIndex||S!==x.state.dataEndIndex){var P=x.state.updateId;x.setState(function(){return L({dataStartIndex:_,dataEndIndex:S},p({props:x.props,dataStartIndex:_,dataEndIndex:S,updateId:P},x.state))}),x.triggerSyncEvent({dataStartIndex:_,dataEndIndex:S})}}),ae(x,"handleMouseEnter",function(j){var _=x.getMouseInfo(j);if(_){var S=L(L({},_),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var P=x.props.onMouseEnter;de(P)&&P(S,j)}}),ae(x,"triggeredAfterMouseMove",function(j){var _=x.getMouseInfo(j),S=_?L(L({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var P=x.props.onMouseMove;de(P)&&P(S,j)}),ae(x,"handleItemMouseEnter",function(j){x.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ae(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ae(x,"handleMouseMove",function(j){j.persist(),x.throttleTriggeredAfterMouseMove(j)}),ae(x,"handleMouseLeave",function(j){x.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};x.setState(_),x.triggerSyncEvent(_);var S=x.props.onMouseLeave;de(S)&&S(_,j)}),ae(x,"handleOuterEvent",function(j){var _=AS(j),S=mt(x.props,"".concat(_));if(_&&de(S)){var P,A;/.*touch.*/i.test(_)?A=x.getMouseInfo(j.changedTouches[0]):A=x.getMouseInfo(j),S((P=A)!==null&&P!==void 0?P:{},j)}}),ae(x,"handleClick",function(j){var _=x.getMouseInfo(j);if(_){var S=L(L({},_),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var P=x.props.onClick;de(P)&&P(S,j)}}),ae(x,"handleMouseDown",function(j){var _=x.props.onMouseDown;if(de(_)){var S=x.getMouseInfo(j);_(S,j)}}),ae(x,"handleMouseUp",function(j){var _=x.props.onMouseUp;if(de(_)){var S=x.getMouseInfo(j);_(S,j)}}),ae(x,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ae(x,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.handleMouseDown(j.changedTouches[0])}),ae(x,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.handleMouseUp(j.changedTouches[0])}),ae(x,"triggerSyncEvent",function(j){x.props.syncId!==void 0&&Yd.emit(Jd,x.props.syncId,j,x.eventEmitterSymbol)}),ae(x,"applySyncEvent",function(j){var _=x.props,S=_.layout,P=_.syncMethod,A=x.state.updateId,C=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)x.setState(L({dataStartIndex:C,dataEndIndex:N},p({props:x.props,dataStartIndex:C,dataEndIndex:N,updateId:A},x.state)));else if(j.activeTooltipIndex!==void 0){var T=j.chartX,k=j.chartY,D=j.activeTooltipIndex,M=x.state,I=M.offset,F=M.tooltipTicks;if(!I)return;if(typeof P=="function")D=P(F,j);else if(P==="value"){D=-1;for(var V=0;V<F.length;V++)if(F[V].value===j.activeLabel){D=V;break}}var U=L(L({},I),{},{x:I.left,y:I.top}),Q=Math.min(T,U.x+U.width),q=Math.min(k,U.y+U.height),R=F[D]&&F[D].value,Y=tf(x.state,x.props.data,D),H=F[D]?{x:S==="horizontal"?F[D].coordinate:Q,y:S==="horizontal"?q:F[D].coordinate}:Bw;x.setState(L(L({},j),{},{activeLabel:R,activeCoordinate:H,activePayload:Y,activeTooltipIndex:D}))}else x.setState(j)}),ae(x,"renderCursor",function(j){var _,S=x.state,P=S.isTooltipActive,A=S.activeCoordinate,C=S.activePayload,N=S.offset,T=S.activeTooltipIndex,k=S.tooltipAxisBandSize,D=x.getTooltipEventType(),M=(_=j.props.active)!==null&&_!==void 0?_:P,I=x.props.layout,F=j.key||"_recharts-cursor";return E.createElement(tL,{key:F,activeCoordinate:A,activePayload:C,activeTooltipIndex:T,chartName:t,element:j,isActive:M,layout:I,offset:N,tooltipAxisBandSize:k,tooltipEventType:D})}),ae(x,"renderPolarAxis",function(j,_,S){var P=mt(j,"type.axisType"),A=mt(x.state,"".concat(P,"Map")),C=j.type.defaultProps,N=C!==void 0?L(L({},C),j.props):j.props,T=A&&A[N["".concat(P,"Id")]];return g.cloneElement(j,L(L({},T),{},{className:be(P,T.className),key:j.key||"".concat(_,"-").concat(S),ticks:Qt(T,!0)}))}),ae(x,"renderPolarGrid",function(j){var _=j.props,S=_.radialLines,P=_.polarAngles,A=_.polarRadius,C=x.state,N=C.radiusAxisMap,T=C.angleAxisMap,k=sr(N),D=sr(T),M=D.cx,I=D.cy,F=D.innerRadius,V=D.outerRadius;return g.cloneElement(j,{polarAngles:Array.isArray(P)?P:Qt(D,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(A)?A:Qt(k,!0).map(function(U){return U.coordinate}),cx:M,cy:I,innerRadius:F,outerRadius:V,key:j.key||"polar-grid",radialLines:S})}),ae(x,"renderLegend",function(){var j=x.state.formattedGraphicalItems,_=x.props,S=_.children,P=_.width,A=_.height,C=x.props.margin||{},N=P-(C.left||0)-(C.right||0),T=Fb({children:S,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!T)return null;var k=T.item,D=Tw(T,rL);return g.cloneElement(k,L(L({},D),{},{chartWidth:P,chartHeight:A,margin:C,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ae(x,"renderTooltip",function(){var j,_=x.props,S=_.children,P=_.accessibilityLayer,A=dt(S,Tt);if(!A)return null;var C=x.state,N=C.isTooltipActive,T=C.activeCoordinate,k=C.activePayload,D=C.activeLabel,M=C.offset,I=(j=A.props.active)!==null&&j!==void 0?j:N;return g.cloneElement(A,{viewBox:L(L({},M),{},{x:M.left,y:M.top}),active:I,label:D,payload:I?k:[],coordinate:T,accessibilityLayer:P})}),ae(x,"renderBrush",function(j){var _=x.props,S=_.margin,P=_.data,A=x.state,C=A.offset,N=A.dataStartIndex,T=A.dataEndIndex,k=A.updateId;return g.cloneElement(j,{key:j.key||"_recharts-brush",onChange:pi(x.handleBrushChange,j.props.onChange),data:P,x:K(j.props.x)?j.props.x:C.left,y:K(j.props.y)?j.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:K(j.props.width)?j.props.width:C.width,startIndex:N,endIndex:T,updateId:"brush-".concat(k)})}),ae(x,"renderReferenceElement",function(j,_,S){if(!j)return null;var P=x,A=P.clipPathId,C=x.state,N=C.xAxisMap,T=C.yAxisMap,k=C.offset,D=j.type.defaultProps||{},M=j.props,I=M.xAxisId,F=I===void 0?D.xAxisId:I,V=M.yAxisId,U=V===void 0?D.yAxisId:V;return g.cloneElement(j,{key:j.key||"".concat(_,"-").concat(S),xAxis:N[F],yAxis:T[U],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:A})}),ae(x,"renderActivePoints",function(j){var _=j.item,S=j.activePoint,P=j.basePoint,A=j.childIndex,C=j.isRange,N=[],T=_.props.key,k=_.item.type.defaultProps!==void 0?L(L({},_.item.type.defaultProps),_.item.props):_.item.props,D=k.activeDot,M=k.dataKey,I=L(L({index:A,dataKey:M,cx:S.x,cy:S.y,r:4,fill:Lu(_.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},ye(D,!1)),jo(D));return N.push(v.renderActiveDot(D,I,"".concat(T,"-activePoint-").concat(A))),P?N.push(v.renderActiveDot(D,L(L({},I),{},{cx:P.x,cy:P.y}),"".concat(T,"-basePoint-").concat(A))):C&&N.push(null),N}),ae(x,"renderGraphicChild",function(j,_,S){var P=x.filterFormatItem(j,_,S);if(!P)return null;var A=x.getTooltipEventType(),C=x.state,N=C.isTooltipActive,T=C.tooltipAxis,k=C.activeTooltipIndex,D=C.activeLabel,M=x.props.children,I=dt(M,Tt),F=P.props,V=F.points,U=F.isRange,Q=F.baseLine,q=P.item.type.defaultProps!==void 0?L(L({},P.item.type.defaultProps),P.item.props):P.item.props,R=q.activeDot,Y=q.hide,H=q.activeBar,J=q.activeShape,ie=!!(!Y&&N&&I&&(R||H||J)),W={};A!=="axis"&&I&&I.props.trigger==="click"?W={onClick:pi(x.handleItemMouseEnter,j.props.onClick)}:A!=="axis"&&(W={onMouseLeave:pi(x.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:pi(x.handleItemMouseEnter,j.props.onMouseEnter)});var oe=g.cloneElement(j,L(L({},P.props),W));function z(Ja){return typeof T.dataKey=="function"?T.dataKey(Ja.payload):null}if(ie)if(k>=0){var G,ee;if(T.dataKey&&!T.allowDuplicatedCategory){var B=typeof T.dataKey=="function"?z:"payload.".concat(T.dataKey.toString());G=yc(V,B,D),ee=U&&Q&&yc(Q,B,D)}else G=V==null?void 0:V[k],ee=U&&Q&&Q[k];if(J||H){var Oe=j.props.activeIndex!==void 0?j.props.activeIndex:k;return[g.cloneElement(j,L(L(L({},P.props),W),{},{activeIndex:Oe})),null,null]}if(!ve(G))return[oe].concat(Bn(x.renderActivePoints({item:P,activePoint:G,basePoint:ee,childIndex:k,isRange:U})))}else{var le,Pe=(le=x.getItemByXY(x.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:oe},Ce=Pe.graphicalItem,Qe=Ce.item,Ur=Qe===void 0?j:Qe,Hr=Ce.childIndex,qr=L(L(L({},P.props),W),{},{activeIndex:Hr});return[g.cloneElement(Ur,qr),null,null]}return U?[oe,null,null]:[oe,null]}),ae(x,"renderCustomized",function(j,_,S){return g.cloneElement(j,L(L({key:"recharts-customized-".concat(S)},x.props),x.state))}),ae(x,"renderMap",{CartesianGrid:{handler:Ki,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Ki},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Ki},YAxis:{handler:Ki},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:wo("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=Ns(x.triggeredAfterMouseMove,(O=b.throttleDelay)!==null&&O!==void 0?O:1e3/60),x.state={},x}return hL(v,h),uL(v,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,O=b.data,x=b.height,j=b.layout,_=dt(w,Tt);if(_){var S=_.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,A=tf(this.state,O,S,P),C=this.state.tooltipTicks[S].coordinate,N=(this.state.offset.top+x)/2,T=j==="horizontal",k=T?{x:C,y:N}:{y:C,x:N},D=this.state.formattedGraphicalItems.find(function(I){var F=I.item;return F.type.name==="Scatter"});D&&(k=L(L({},k),D.props.points[S].tooltipPosition),A=D.props.points[S].tooltipPayload);var M={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:k};this.setState(M),this.renderCursor(_),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var O,x;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(b){jc([dt(b.children,Tt)],[dt(this.props.children,Tt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=dt(this.props.children,Tt);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return i.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,O=w.getBoundingClientRect(),x=EP(O),j={chartX:Math.round(b.pageX-x.left),chartY:Math.round(b.pageY-x.top)},_=O.width/w.offsetWidth||1,S=this.inRange(j.chartX,j.chartY,_);if(!S)return null;var P=this.state,A=P.xAxisMap,C=P.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&A&&C){var T=sr(A).scale,k=sr(C).scale,D=T&&T.invert?T.invert(j.chartX):null,M=k&&k.invert?k.invert(j.chartY):null;return L(L({},j),{},{xValue:D,yValue:M})}var I=$w(this.state,this.props.data,this.props.layout,S);return I?L(L({},j),I):null}},{key:"inRange",value:function(b,w){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,j=b/O,_=w/O;if(x==="horizontal"||x==="vertical"){var S=this.state.offset,P=j>=S.left&&j<=S.left+S.width&&_>=S.top&&_<=S.top+S.height;return P?{x:j,y:_}:null}var A=this.state,C=A.angleAxisMap,N=A.radiusAxisMap;if(C&&N){var T=sr(C);return t0({x:j,y:_},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),O=dt(b,Tt),x={};O&&w==="axis"&&(O.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var j=jo(this.props,this.handleOuterEvent);return L(L({},j),x)}},{key:"addListener",value:function(){Yd.on(Jd,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yd.removeListener(Jd,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,O){for(var x=this.state.formattedGraphicalItems,j=0,_=x.length;j<_;j++){var S=x[j];if(S.item===b||S.props.key===b.key||w===Ut(S.item.type)&&O===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,O=w.left,x=w.top,j=w.height,_=w.width;return E.createElement("defs",null,E.createElement("clipPath",{id:b},E.createElement("rect",{x:O,y:x,height:j,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,O){var x=Aw(O,2),j=x[0],_=x[1];return L(L({},w),{},ae({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,O){var x=Aw(O,2),j=x[0],_=x[1];return L(L({},w),{},ae({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,O=w.formattedGraphicalItems,x=w.activeItem;if(O&&O.length)for(var j=0,_=O.length;j<_;j++){var S=O[j],P=S.props,A=S.item,C=A.type.defaultProps!==void 0?L(L({},A.type.defaultProps),A.props):A.props,N=Ut(A.type);if(N==="Bar"){var T=(P.data||[]).find(function(I){return sD(b,I)});if(T)return{graphicalItem:S,payload:T}}else if(N==="RadialBar"){var k=(P.data||[]).find(function(I){return t0(b,I)});if(k)return{graphicalItem:S,payload:k}}else if(Ni(S,x)||Ei(S,x)||Va(S,x)){var D=GD({graphicalItem:S,activeTooltipItem:x,itemData:C.data}),M=C.activeIndex===void 0?D:C.activeIndex;return{graphicalItem:L(L({},S),{},{childIndex:M}),payload:Va(S,x)?C.data[D]:S.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!Ym(this))return null;var w=this.props,O=w.children,x=w.className,j=w.width,_=w.height,S=w.style,P=w.compact,A=w.title,C=w.desc,N=Tw(w,nL),T=ye(N,!1);if(P)return E.createElement(Kx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(Oc,Ln({},T,{width:j,height:_,title:A,desc:C}),this.renderClipPath(),Zm(O,this.renderMap)));if(this.props.accessibilityLayer){var k,D;T.tabIndex=(k=this.props.tabIndex)!==null&&k!==void 0?k:0,T.role=(D=this.props.role)!==null&&D!==void 0?D:"application",T.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},T.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return E.createElement(Kx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",Ln({className:be("recharts-wrapper",x),style:L({position:"relative",cursor:"default",width:j,height:_},S)},M,{ref:function(I){b.container=I}}),E.createElement(Oc,Ln({},T,{width:j,height:_,title:A,desc:C,style:xL}),this.renderClipPath(),Zm(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);ae(y,"displayName",t),ae(y,"defaultProps",L({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),ae(y,"getDerivedStateFromProps",function(h,v){var b=h.dataKey,w=h.data,O=h.children,x=h.width,j=h.height,_=h.layout,S=h.stackOffset,P=h.margin,A=v.dataStartIndex,C=v.dataEndIndex;if(v.updateId===void 0){var N=zw(h);return L(L(L({},N),{},{updateId:0},p(L(L({props:h},N),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:j,prevLayout:_,prevStackOffset:S,prevMargin:P,prevChildren:O})}if(b!==v.prevDataKey||w!==v.prevData||x!==v.prevWidth||j!==v.prevHeight||_!==v.prevLayout||S!==v.prevStackOffset||!an(P,v.prevMargin)){var T=zw(h),k={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},D=L(L({},$w(v,w,_)),{},{updateId:v.updateId+1}),M=L(L(L({},T),k),D);return L(L(L({},M),p(L({props:h},M),v)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:j,prevLayout:_,prevStackOffset:S,prevMargin:P,prevChildren:O})}if(!jc(O,v.prevChildren)){var I,F,V,U,Q=dt(O,Sn),q=Q&&(I=(F=Q.props)===null||F===void 0?void 0:F.startIndex)!==null&&I!==void 0?I:A,R=Q&&(V=(U=Q.props)===null||U===void 0?void 0:U.endIndex)!==null&&V!==void 0?V:C,Y=q!==A||R!==C,H=!ve(w),J=H&&!Y?v.updateId:v.updateId+1;return L(L({updateId:J},p(L(L({props:h},v),{},{updateId:J,dataStartIndex:q,dataEndIndex:R}),v)),{},{prevChildren:O,dataStartIndex:q,dataEndIndex:R})}return null}),ae(y,"renderActiveDot",function(h,v,b){var w;return g.isValidElement(h)?w=g.cloneElement(h,v):de(h)?w=h(v):w=E.createElement(Y0,v),E.createElement(Be,{className:"recharts-active-dot",key:b},w)});var m=g.forwardRef(function(h,v){return E.createElement(y,Ln({},h,{ref:v}))});return m.displayName=y.displayName,m},ML=kL({chartName:"BarChart",GraphicalChild:Fr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hi},{axisType:"yAxis",AxisComp:Xd}],formatAxisMap:HI});const AL={light:"",dark:".dark"},Uw=g.createContext(null);function Hw(){const e=g.useContext(Uw);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const qw=g.forwardRef(({id:e,className:t,children:r,config:n,...a},o)=>{const i=g.useId(),s=`chart-${e||i.replace(/:/g,"")}`;return f.jsx(Uw.Provider,{value:{config:n},children:f.jsxs("div",{"data-chart":s,ref:o,className:X("flex aspect-video justify-center text-xs",t),...a,children:[f.jsx(TL,{id:s,config:n}),f.jsx(xP,{children:r})]})})});qw.displayName="Chart";const TL=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?f.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(AL).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([o,i])=>{var c;const s=((c=i.theme)==null?void 0:c[n])||i.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},DL=Tt,Ww=g.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:o=!1,label:i,labelFormatter:s,labelClassName:c,formatter:l,color:u,nameKey:d,labelKey:p},y)=>{const{config:m}=Hw(),h=g.useMemo(()=>{var j;if(a||!(t!=null&&t.length))return null;const[b]=t,w=`${p||b.dataKey||b.name||"value"}`,O=rf(m,b,w),x=!p&&typeof i=="string"?((j=m[i])==null?void 0:j.label)||i:O==null?void 0:O.label;return s?f.jsx("div",{className:X("font-medium",c),children:s(x,t)}):x?f.jsx("div",{className:X("font-medium",c),children:x}):null},[i,s,t,a,c,m,p]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return f.jsxs("div",{ref:y,className:X("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:h,f.jsx("div",{className:"grid gap-1.5",children:t.map((b,w)=>{const O=`${d||b.name||b.dataKey||"value"}`,x=rf(m,b,O),j=u||b.payload.fill||b.color;return f.jsx("div",{className:X("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:l&&(b==null?void 0:b.value)!==void 0&&b.name?l(b.value,b.name,b,w,b.payload):f.jsxs(f.Fragment,{children:[x!=null&&x.icon?f.jsx(x.icon,{}):!o&&f.jsx("div",{className:X("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),f.jsxs("div",{className:X("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[f.jsxs("div",{className:"grid gap-1.5",children:[v?h:null,f.jsx("span",{className:"text-muted-foreground",children:(x==null?void 0:x.label)||b.name})]}),b.value&&f.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});Ww.displayName="ChartTooltip";const IL=g.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},o)=>{const{config:i}=Hw();return r!=null&&r.length?f.jsx("div",{ref:o,className:X("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(s=>{const c=`${a||s.dataKey||"value"}`,l=rf(i,s,c);return f.jsxs("div",{className:X("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[l!=null&&l.icon&&!t?f.jsx(l.icon,{}):f.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),l==null?void 0:l.label]},s.value)})}):null});IL.displayName="ChartLegend";function rf(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const Xw=e=>{const t=["Bytes","KB","MB","GB","TB"];if(e===void 0)return"Unknown size";if(e===0)return"0 Byte";const r=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,r))} ${t[r]}`},RL=g.memo(()=>{const{t:e}=se("flows"),[t,r]=g.useState(),n=vr(m=>m.cachedLLMURLs),a=st(m=>m.currentSession),[o,i]=g.useState(),[s,c]=g.useState(""),[l,u]=g.useState(),d=g.useMemo(()=>({nodes:{label:e("session_info_node.entities.nodes"),color:"#2563eb"},edges:{label:e("session_info_node.entities.edges"),color:"#34d399"},threads:{label:e("session_info_node.entities.threads"),color:"#fbbf24"},llms:{label:e("session_info_node.entities.llms"),color:"#f87171"},prompts:{label:e("session_info_node.entities.prompts"),color:"#a78bfa"},tools:{label:e("session_info_node.entities.tools"),color:"#ffcccb"},schemas:{label:e("session_info_node.entities.schemas"),color:"#ffb6c1"},vectorDatabases:{label:e("session_info_node.entities.vector_databases"),color:"#ff69b4"},jsonlDatas:{label:e("session_info_node.entities.jsonl_data"),color:"#ff1493"},csvDatas:{label:e("session_info_node.entities.csv_data"),color:"#db7093"}}),[e]);g.useEffect(()=>{tt(async()=>{const{functionCallingModelIds:m,prebuiltAppConfig:h}=await import("./index-Di-3OKZb.js").then(async v=>(await v.__tla,v));return{functionCallingModelIds:m,prebuiltAppConfig:h}},__vite__mapDeps([0,1,2,3,4])).then(({functionCallingModelIds:m,prebuiltAppConfig:h})=>{r(n==null?void 0:n.map(v=>{const b=h.model_list.find(w=>v.includes(w.model));if(b)return{model_id:(b==null?void 0:b.model_id)||"",info:b,isFunctionCalling:m.includes((b==null?void 0:b.model_id)||"")}}))})},[n,a==null?void 0:a.id]);const p=g.useCallback(async()=>{navigator.storage.estimate().then(m=>{m&&c(e("session_info_node.used_bytes",{used:Xw(m.usage),total:Xw(m==null?void 0:m.quota)}))}),a!=null&&a.id&&(Promise.all([ne("FlowNode").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("FlowEdge").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("Thread").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("Prompt").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("LLM").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("Schema").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("ToolDefinition").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("VectorDatabase").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("JSONLData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),ne("CSVData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}})]).then(m=>{const h=m.reduce((v,b)=>b!=null&&b.updated_at&&(!v||new Date(b.updated_at)>v)?new Date(b.updated_at):v,a.updated_at?new Date(a.updated_at):void 0);i(h)}),Promise.all([ne("FlowNode").count({where:{session_id:a==null?void 0:a.id}}),ne("FlowEdge").count({where:{session_id:a==null?void 0:a.id}}),ne("Thread").count({where:{session_id:a==null?void 0:a.id}}),ne("Prompt").count({where:{session_id:a==null?void 0:a.id}}),ne("LLM").count({where:{session_id:a==null?void 0:a.id}}),ne("ToolDefinition").count({where:{session_id:a==null?void 0:a.id}}),ne("Schema").count({where:{session_id:a==null?void 0:a.id}}),ne("VectorDatabase").count({where:{session_id:a==null?void 0:a.id}}),ne("JSONLData").count({where:{session_id:a==null?void 0:a.id}}),ne("CSVData").count({where:{session_id:a==null?void 0:a.id}})]).then(([m,h,v,b,w,O,x,j,_,S])=>{u([{name:e("session_info_node.count_info.title"),nodes:m||0,edges:h||0,threads:v||0,prompts:b||0,llms:w||0,tools:O||0,schemas:x||0,vectorDatabases:j||0,jsonlDatas:_||0,csvDatas:S||0}])}))},[a==null?void 0:a.id,a==null?void 0:a.updated_at,e]),y=g.useCallback(()=>{p()},[p]);return g.useEffect(()=>{p()},[p]),f.jsxs(De,{className:"w-96",children:[f.jsxs(Ge,{children:[f.jsx(at,{children:e("session_info_node.title")}),f.jsx(Tp,{children:o||a!=null&&a.updated_at?j5(o||(a==null?void 0:a.updated_at)).fromNow():""})]}),f.jsxs(Ye,{className:"grid gap-4",children:[f.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsx("p",{className:"text-sm font-medium leading-none",children:e("session_info_node.disk_size")}),f.jsx("p",{className:"text-sm text-muted-foreground",children:s})]})}),f.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsxs("div",{className:"text-sm font-medium leading-none",children:[e("session_info_node.cached_llms"),f.jsx(Xr,{className:"ml-2",children:(t==null?void 0:t.length)||0})]}),t==null?void 0:t.map(m=>f.jsxs("div",{className:"text-sm text-muted-foreground gap-1",children:[m==null?void 0:m.model_id,f.jsx("div",{className:"max-w-full gap-1 flex flex-wrap mt-1",children:f.jsx(ss,{model:m==null?void 0:m.info,isFunctionCalling:(m==null?void 0:m.isFunctionCalling)||!1,isCached:!0})})]},m==null?void 0:m.model_id))]})}),f.jsx("div",{children:f.jsx(qw,{config:d,className:"min-h-28 w-full",children:f.jsxs(ML,{accessibilityLayer:!0,data:l,children:[f.jsx(bw,{vertical:!1}),f.jsx(Hi,{dataKey:"name",tickLine:!1,tickMargin:10,axisLine:!1}),f.jsx(DL,{content:f.jsx(Ww,{})}),Object.entries(d).map(([m,h])=>f.jsx(Fr,{dataKey:m,fill:h.color,radius:4},m))]})})})]}),f.jsx(rr,{children:f.jsxs(Te,{className:"w-full",onClick:y,children:[f.jsx(te,{size:24,name:"refresh-ccw"}),e("session_info_node.reload")]})})]})}),LL=e=>{const t=(r,n=null)=>{let a=`{
`;return r.filter(o=>o.parent_id===n).forEach(o=>{if(o.type==="object"){const i=e.filter(c=>c.parent_id===o.id),s=t(i,o.id);a+=`  ${o.name}${o.required?"":"?"}: ${s}
`}else a+=`  // ${o.description||""}
  ${o.name}${o.required?"":"?"}: ${o.type};
`}),a+="}",a};return t(e)},BL=e=>{const t=(n,a=null)=>{let o="";return n.filter(i=>i.parent_id===a).forEach(i=>{if(i.type==="object"){const s=t(n,i.id);o+=`    ${i.name}: z.object({
${s}    })${i.required?"":".optional()"}.describe('${i.description||""}'),
`}else o+=`    ${i.name}: z.${i.type}()${i.required?"":".optional()"}.describe('${i.description||""}'),
`}),o};let r=`const schema = z.object({
`;return r+=t(e),r+="});",r};var nf="Tabs",[FL,eF]=Vn(nf,[qn]),Kw=qn(),[$L,af]=FL(nf),Gw=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:s,activationMode:c="automatic",...l}=e,u=no(s),[d,p]=kt({prop:n,onChange:a,defaultProp:o});return f.jsx($L,{scope:r,baseId:rt(),value:d,onValueChange:p,orientation:i,dir:u,activationMode:c,children:f.jsx(fe.div,{dir:u,"data-orientation":i,...l,ref:t})})});Gw.displayName=nf;var Yw="TabsList",Jw=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=af(Yw,r),i=Kw(r);return f.jsx(Sf,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:f.jsx(fe.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});Jw.displayName=Yw;var Zw="TabsTrigger",Qw=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,i=af(Zw,r),s=Kw(r),c=r1(i.baseId,n),l=n1(i.baseId,n),u=n===i.value;return f.jsx(Nf,{asChild:!0,...s,focusable:!a,active:u,children:f.jsx(fe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ue(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:ue(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:ue(e.onFocus,()=>{const d=i.activationMode!=="manual";!u&&!a&&d&&i.onValueChange(n)})})})});Qw.displayName=Zw;var e1="TabsContent",t1=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=e,s=af(e1,r),c=r1(s.baseId,n),l=n1(s.baseId,n),u=n===s.value,d=g.useRef(u);return g.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(es,{present:a||u,children:({present:p})=>f.jsx(fe.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:l,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:p&&o})})});t1.displayName=e1;function r1(e,t){return`${e}-trigger-${t}`}function n1(e,t){return`${e}-content-${t}`}var zL=Gw,a1=Jw,o1=Qw,i1=t1;const s1=zL,of=g.forwardRef(({className:e,...t},r)=>f.jsx(a1,{ref:r,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));of.displayName=a1.displayName;const Fn=g.forwardRef(({className:e,...t},r)=>f.jsx(o1,{ref:r,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Fn.displayName=o1.displayName;const $n=g.forwardRef(({className:e,...t},r)=>f.jsx(i1,{ref:r,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));$n.displayName=i1.displayName;const VL=e=>{const t=g.useCallback(async({edgeId:r})=>{try{return{deleteEdgeId:r}}catch{return{deleteEdgeId:r}}},[]);nt(e,t)},UL=g.memo(e=>{var c,l;const{t}=se("flows"),{id:r,data:n,isConnectable:a}=e,o=g.useRef(!1),i=Xe(r),s=re(u=>u.updateNodes);return VL(r),g.useEffect(()=>{var d;const u=n==null?void 0:n.entity;!u||!i||o.current||(d=u==null?void 0:u.schema_items)!=null&&d.length||n.loaded||(o.current=!0,ne("SchemaItem").find({where:{schema_id:u.id}}).then(p=>{s([{id:i.id,type:"replace",item:{...i,data:{...(i==null?void 0:i.data)||{},loaded:!0,entity:{...n.entity,schema_items:p}}}}])}).finally(()=>{o.current=!1}))},[n.entity,n.loaded,i,s]),f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsx(Ue,{id:r}),f.jsxs(s1,{defaultValue:"account",className:"w-[400px]",children:[f.jsxs(of,{className:"grid w-full grid-cols-2",children:[f.jsx(Fn,{value:"account",children:t("schema_node.typescript")}),f.jsx(Fn,{value:"password",children:t("schema_node.zod")})]}),f.jsx($n,{value:"account",children:f.jsx(De,{className:"p-4",children:f.jsx("pre",{children:LL(((c=n==null?void 0:n.entity)==null?void 0:c.schema_items)||[])})})}),f.jsx($n,{value:"password",children:f.jsx(De,{className:"p-4",children:f.jsx("pre",{children:BL(((l=n==null?void 0:n.entity)==null?void 0:l.schema_items)||[])})})})]})]}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:a})]})}),c1=({className:e,...t})=>f.jsx("nav",{role:"navigation","aria-label":"pagination",className:X("mx-auto flex w-full justify-center",e),...t});c1.displayName="Pagination";const l1=g.forwardRef(({className:e,...t},r)=>f.jsx("ul",{ref:r,className:X("flex flex-row items-center gap-1",e),...t}));l1.displayName="PaginationContent";const zn=g.forwardRef(({className:e,...t},r)=>f.jsx("li",{ref:r,className:X("",e),...t}));zn.displayName="PaginationItem";const Yi=({className:e,isActive:t,size:r="icon",...n})=>f.jsx("a",{"aria-current":t?"page":void 0,className:X(HB({variant:t?"outline":"ghost",size:r}),e),...n});Yi.displayName="PaginationLink";const u1=({className:e,...t})=>{const{t:r}=se("atoms");return f.jsxs(Yi,{"aria-label":"Go to previous page",size:"default",className:X("gap-1 pl-2.5",e),...t,children:[f.jsx(te,{name:"chevron-left",className:"h-4 w-4"}),f.jsx("span",{children:r("pagination.previous")})]})};u1.displayName="PaginationPrevious";const d1=({className:e,...t})=>{const{t:r}=se("atoms");return f.jsxs(Yi,{"aria-label":"Go to next page",size:"default",className:X("gap-1 pr-2.5",e),...t,children:[f.jsx("span",{children:r("pagination.next")}),f.jsx(te,{name:"chevron-right",className:"h-4 w-4"})]})};d1.displayName="PaginationNext";const sf=({className:e,...t})=>{const{t:r}=se("atoms");return f.jsxs("span",{"aria-hidden":!0,className:X("flex h-9 w-9 items-center justify-center",e),...t,children:[f.jsx(te,{name:"ellipsis",className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:r("pagination.more_pages")})]})};sf.displayName="PaginationEllipsis";const f1=g.memo(e=>{const{data:t,headers:r,limitLengthByColumns:n,showPerPage:a=7,paginationShowLimit:o=1,contentLengthLimit:i=64}=e,[s,c]=g.useState({page:1,maxPage:1}),l=er(Lm);g.useEffect(()=>{c(y=>({...y,maxPage:Math.ceil(t.length/a)}))},[t.length,a]);const u=g.useMemo(()=>t.slice((s.page-1)*a,s.page*a),[t,s.page,a]),d=g.useMemo(()=>{let y=!1,m=!1;return f.jsx(c1,{className:"mt-4 mb-4 ml-4 mr-4 w-full",children:f.jsxs(l1,{children:[s.page>1?f.jsx(zn,{onClick:()=>c(h=>({...h,page:h.page-1})),children:f.jsx(u1,{})}):null,Array.from({length:s.maxPage},(h,v)=>{const b=v+1,w=v===0||v===s.maxPage-1;return!w&&b>s.page+o&&m?null:!w&&b>s.page+o?(m=!0,f.jsx(zn,{children:f.jsx(sf,{})},v)):!w&&b<s.page-o&&y?null:!w&&b<s.page-o?(y=!0,f.jsx(zn,{children:f.jsx(sf,{})},v)):f.jsx(zn,{onClick:()=>c(O=>({...O,page:b})),children:f.jsx(Yi,{isActive:v+1===s.page,children:v+1})},v)}),s.page<s.maxPage?f.jsx(zn,{onClick:()=>c(h=>({...h,page:h.page+1})),children:f.jsx(d1,{})}):null]})})},[s.maxPage,s.page,o]),p=(y,m)=>{if(!y)return;const h=Array.isArray(y)?y:r.map(v=>y[v]);return f.jsxs(Nr,{children:[f.jsx(tn,{children:f.jsx("div",{className:"font-bold",children:m+1})}),h.map((v,b)=>{const w=typeof v=="string"?v:JSON.stringify(v),O=r[b],x=(n==null?void 0:n[O])||i,j=w.length>x;return f.jsx(tn,{className:"p-4",children:f.jsxs("div",{onClick:j?()=>l.show({title:O,content:w}):void 0,className:"flex gap-4",children:[j?`${w.substring(0,x)}...`:w,j?f.jsx(te,{className:"w-6 mt-[-2px]",name:"chevron-right"}):null]})},`${b}`)})]},`${m}`)};return f.jsxs(f.Fragment,{children:[f.jsxs(mo,{className:"w-full",children:[f.jsx(yo,{children:f.jsxs(Nr,{children:[f.jsx(en,{},"index"),r?r.map(y=>f.jsx(en,{children:f.jsx("div",{className:"font-bold",children:y})},y)):void 0]})}),f.jsx(vo,{children:u!=null&&u.length?u==null?void 0:u.map(p):void 0})]}),d]})}),HL=g.memo(e=>{var o,i;const{id:t,data:r,isConnectable:n}=e,a=g.useMemo(()=>{if(!(r!=null&&r.entity))return{headers:[],rows:[]};const s=K1(r.entity.csv);return{headers:bf(r.entity.headers),rows:s.map(c=>bf(c))}},[r==null?void 0:r.entity]);return f.jsxs("div",{children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(Ue,{id:t}),f.jsxs(De,{className:"min-w-32 min-h-16 p-4",children:[f.jsx(Ge,{className:"!p-0",children:f.jsxs("div",{className:"pt-2 flex !flex-row",children:[f.jsx(te,{name:"file-spreadsheet",className:"mr-2"}),f.jsxs(xe,{className:"!font-medium leading-none tracking-tight pr-8",children:[$.CSVData," ",(o=a==null?void 0:a.rows)!=null&&o.length?`(${((i=a==null?void 0:a.rows)==null?void 0:i.length)||0})`:""]})]})}),f.jsx(Ye,{className:"pb-0",children:f.jsx(f1,{data:a.rows,headers:a.headers})})]})]}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),qL=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=g.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.Schema&&(o==null?void 0:o.type)===$.ToolDefinition){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},WL=g.memo(({id:e,data:t,isConnectable:r})=>{var n,a;return qL(e),f.jsxs("div",{children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:r}),f.jsx("div",{children:f.jsxs(gr,{className:"flex justify-center",children:[f.jsx(te,{size:24,name:"wrench"}),f.jsxs("div",{className:"ml-2",children:[f.jsx(br,{children:`${((n=t.entity)==null?void 0:n.name)||""}`}),f.jsx(eo,{children:`${((a=t.entity)==null?void 0:a.description)||""}`})]})]})}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:r})]})}),XL=e=>{const t=g.useCallback(async({edgeId:r})=>({deleteEdgeId:r}),[]);nt(e,t)},KL=g.memo(e=>{const{id:t,data:r,isConnectable:n}=e;return XL(t),f.jsxs("div",{children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),f.jsx("div",{children:f.jsxs(gr,{className:"flex justify-center max-w-80",variant:"default",children:[f.jsx(Za,{name:r.model||"brain",className:"w-7 h-7"}),f.jsx("div",{className:"ml-2 pr-4 flex items-center",children:f.jsx(br,{children:`${r.model||""}`})})]})}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})});class GL{async loadAndSplit(t){if(t===void 0)throw new Error("You must pass a text splitter to use this method.");const r=await this.load();return t.invoke(r)}}class YL extends GL{constructor(t,{splitPages:r=!0,pdfjs:n=JL,parsedItemSeparator:a=""}={}){super(),Object.defineProperty(this,"blob",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"splitPages",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"pdfjs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parsedItemSeparator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.blob=t,this.splitPages=r??this.splitPages,this.pdfjs=n,this.parsedItemSeparator=a}async load(){const{getDocument:t,version:r}=await this.pdfjs(),n=await t({data:new Uint8Array(await this.blob.arrayBuffer()),useWorkerFetch:!1,isEvalSupported:!1,useSystemFonts:!0}).promise,a=await n.getMetadata().catch(()=>null),o=[];for(let i=1;i<=n.numPages;i+=1){const s=await(await n.getPage(i)).getTextContent();if(s.items.length===0)continue;let c;const l=[];for(const d of s.items)"str"in d&&(c===d.transform[5]||!c?l.push(d.str):l.push(`
${d.str}`),c=d.transform[5]);const u=l.join(this.parsedItemSeparator);o.push(new os({pageContent:u,metadata:{pdf:{version:r,info:a==null?void 0:a.info,metadata:a==null?void 0:a.metadata,totalPages:n.numPages},loc:{pageNumber:i}}}))}return this.splitPages?o:o.length===0?[]:[new os({pageContent:o.map(i=>i.pageContent).join(`

`),metadata:{pdf:{version:r,info:a==null?void 0:a.info,metadata:a==null?void 0:a.metadata,totalPages:n.numPages}}})]}}async function JL(){try{const{default:e}=await tt(async()=>{const{default:n}=await import("./pdf--I_duekA.js").then(async a=>(await a.__tla,a)).then(a=>a.p);return{default:n}},__vite__mapDeps([10,2,3])),{getDocument:t,version:r}=e;return{getDocument:t,version:r}}catch(e){throw console.error(e),new Error("Failed to load pdf-parse. Please install it with eg. `npm install pdf-parse`.")}}const ZL=`Use the following pieces of context to answer the question at the end.
If you don't know the answer, just say that you don't know, don't try to make up an answer.
Use three sentences maximum and keep the answer as concise as possible.

{context}
`,QL=rs(e=>{const{source:t,documents:r}=e,n=er(),{toast:a}=ct(),{t:o}=se("dialogs"),{loading:i,createPrompt:s}=qh(),c=async l=>{try{if(!l.content||!l.content.includes("{context}")){a({title:o("create_vector_database_prompt.errors.fill_context"),variant:"destructive"});return}const u=l.content.replace("{context}",r.map(d=>`<document>${d.pageContent}</document>`).join(`
`));return await s(t,{...l,content:u}),n.hide(),!0}catch{a({title:o("create_vector_database_prompt.errors.create_failed"),variant:"destructive"})}};return f.jsx(hs,{open:n.visible,onOpenChange:n.hide,children:f.jsxs(ms,{className:"sm:max-w-[425px]",children:[f.jsx(ys,{children:f.jsxs("div",{className:"flex",children:[f.jsx(te,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx(vs,{children:o("create_vector_database_prompt.title")})]})}),f.jsxs("div",{className:"flex gap-4 py-4 flex-col",children:[f.jsx(tc,{onSubmit:c,loading:i,hidePromptType:!0,defaultPromptRole:"system",defaultPromptContent:ZL}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm items-center",children:[f.jsx(te,{name:"info",className:"mr-2",size:14}),o("create_vector_database_prompt.fill_content_note")]})]})]})})}),e4=()=>{const e=st(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=g.useState(!1),n=re(i=>i.createOrUpdateFlowNode),a=re(i=>i.createOrUpdateFlowEdge),o=g.useCallback(async({prompt:i,source:s,metadata:c})=>{var l,u,d,p;try{const y=(l=s==null?void 0:s.data)==null?void 0:l.entity;if(!y||!e)throw new Error("Source or Session not found");r(!0);const m=((u=s.position)==null?void 0:u.x)||0,h=(((d=s.position)==null?void 0:d.y)||0)+(((p=s.measured)==null?void 0:p.height)||0),v=await ne("Prompt").save({...i,status:(i==null?void 0:i.status)||Bt.Started,role:(i==null?void 0:i.role)||lt.System,type:(i==null?void 0:i.type)||ut.Chat,content:(i==null?void 0:i.content)||"{context}",session_id:e});if(!v)throw new Error("Failed to save prompt");const b=await n({source_id:v.id,source_type:"Prompt",node_type:$.Prompt,x:m,y:h+20});if(!b)throw new Error("Failed to save prompt node");const w=await ne("FlowNodePlaceholder").save({placeholder:`Retriever for ${y.name}`,placeholder_type:ls.VECTOR_DATABASE_RETREIVER,session_id:e,metadata:c});if(!w)throw new Error("Failed to save node placeholder");const O=await n({source_id:w.id,source_type:"FlowNodePlaceholder",node_type:$.PlaceHolder,x:m,y:h+40});if(!O)throw new Error("Failed to save node placeholder node");await a({source:b.id,target:O.id}),await a({source:s.id,target:O.id})}finally{r(!1)}},[e,n,a]);return{loading:t,createVectorDatabaseRetriever:o}},t4=`Use the following pieces of context to answer the question at the end.
If you don't know the answer, just say that you don't know, don't try to make up an answer.
----------------
{context}
`,r4=rs(e=>{const{source:t}=e,r=er(),{toast:n}=ct(),{t:a}=se("dialogs"),[o,i]=g.useState(1),[s,c]=g.useState(void 0),{loading:l,createVectorDatabaseRetriever:u}=e4(),d=async m=>{try{const h=m.content;if(!h||!h.includes("{context}")){n({title:a("create_vector_database_retriever.errors.fill_context"),variant:"destructive"});return}return await u({source:t,prompt:{content:h},metadata:{k:o,minimalScore:s}}),r.hide(),!0}catch{n({title:a("create_vector_database_retriever.errors.create_failed"),variant:"destructive"})}},p=m=>{i(m.target.value?Number(m.target.value):void 0)},y=m=>{c(m.target.value?Number(m.target.value):void 0)};return f.jsx(hs,{open:r.visible,onOpenChange:r.hide,children:f.jsxs(ms,{className:"sm:max-w-[425px]",children:[f.jsx(ys,{children:f.jsxs("div",{className:"flex",children:[f.jsx(te,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx(vs,{children:a("create_vector_database_retriever.title")})]})}),f.jsxs("div",{className:"flex gap-4 py-4 flex-col",children:[f.jsx(tc,{onSubmit:d,loading:l,hidePromptType:!0,defaultPromptRole:"system",defaultPromptContent:t4}),f.jsxs(De,{children:[f.jsx(Ge,{children:f.jsx(at,{children:a("create_vector_database_retriever.retriever_settings")})}),f.jsxs(Ye,{children:[f.jsx(xe,{children:a("create_vector_database_retriever.retriever_k")}),f.jsx(_t,{value:o||"",type:"number",onChange:p,placeholder:a("create_vector_database_retriever.retriever_k_placeholder")}),f.jsx(xe,{children:a("create_vector_database_retriever.retriever_minimum_score")}),f.jsx(_t,{value:s||"",type:"number",onChange:y,placeholder:a("create_vector_database_retriever.retriever_minimum_score_placeholder")})]})]}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm items-center",children:[f.jsx(te,{name:"info",className:"mr-2",size:14}),a("create_vector_database_retriever.fill_content_note")]})]})]})})}),n4=e=>{const t=re(a=>a.createOrUpdateFlowEdge),r=as(a=>a.index),n=g.useCallback(async({edgeId:a,target:o,source:i})=>{var s,c;try{const l=(s=o==null?void 0:o.data)==null?void 0:s.entity;if((i==null?void 0:i.type)===$.CSVData&&(o==null?void 0:o.type)===$.VectorDatabase){const u=(c=i==null?void 0:i.data)==null?void 0:c.entity;if(!u||!l)return{deleteEdgeId:a};const{rows:d}=W1(u.headers,u.csv),p=d.map(y=>new os({pageContent:`${y.text}`}));await r({databaseId:l.id,dataSourceId:u.id,dataSourceType:"CSVData"},p),await t({source:i.id,target:o.id});return}return{deleteEdgeId:a}}catch{return{deleteEdgeId:a}}},[t,r]);nt(e,n)};var cf,p1;function a4(){if(p1)return cf;p1=1;var e=Ss(),t=Gr(),r=$x(),n=Math.ceil,a=Math.max;function o(i,s,c){(c?t(i,s,c):s===void 0)?s=1:s=a(r(s),0);var l=i==null?0:i.length;if(!l||s<1)return[];for(var u=0,d=0,p=Array(n(l/s));u<l;)p[d++]=e(i,u,u+=s);return p}return cf=o,cf}var o4=a4();const i4=_e(o4),s4=e=>{var y,m;const[t,r]=g.useState(!1),{t:n}=se("flows"),{toast:a}=ct(),o=Xe(e),{getNode:i,getHandleConnections:s}=tr(),c=re(h=>h.updateNodes),l=as(h=>h.index),u=as(h=>h.similaritySearchWithScore),d=g.useCallback(async(h,v)=>{var b,w,O;try{const x=(b=o==null?void 0:o.data)==null?void 0:b.entity;if(!x){a({variant:"destructive",title:n("vector_database_node.errors.vector_database_not_found")});return}const j=(O=(w=s({nodeId:e,type:"target"}).map(_=>i(_.source)).find(_=>(_==null?void 0:_.type)&&[$.JSONLData,$.CSVData].includes(_==null?void 0:_.type)))==null?void 0:w.data)==null?void 0:O.entity;if(!j&&x.storage==="DataNode"){a({variant:"destructive",title:n("vector_database_node.errors.data_node_not_found")});return}return r(!0),await u({databaseId:x.id,dataSourceId:j.id,dataSourceType:gf(j)},h,v==null?void 0:v.k)}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[(y=o==null?void 0:o.data)==null?void 0:y.entity,s,e,u,a,n,i]),p=g.useCallback(async(h,v)=>{var b,w,O;try{const x=h.content?[new os({pageContent:h.content,id:h.id,metadata:{id:h.id}})]:h.documents;if(!(x!=null&&x.length)){a({variant:"destructive",title:n("vector_database_node.errors.content_not_found")});return}const j=(b=o==null?void 0:o.data)==null?void 0:b.entity;if(!j){a({variant:"destructive",title:n("vector_database_node.errors.vector_database_not_found")});return}const _=s({nodeId:e,type:"target"}).map(N=>i(N.source)).find(N=>(N==null?void 0:N.type)&&[$.JSONLData,$.CSVData].includes(N==null?void 0:N.type)),S=(w=_==null?void 0:_.data)==null?void 0:w.entity;if(!S&&j.storage==="DataNode"){a({variant:"destructive",title:n("vector_database_node.errors.data_node_not_found")});return}r(!0);const P=gf(S),A=i4(x,10);let C=0;for(const N of A){if((O=v==null?void 0:v.onProgressReport)==null||O.call(v,{handling:N.length,handled:C,total:x.length}),await l({databaseId:j.id,dataSourceId:S.id,dataSourceType:P},N),P&&_){const T=await ne(P).findOne({where:{id:S.id}});c([{type:"replace",id:_.id,item:{..._,data:{..._.data,entity:T}}}])}C+=N.length}}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[(m=o==null?void 0:o.data)==null?void 0:m.entity,s,e,l,a,n,i,c]);return{loading:t,indexData:p,similaritySearchWithScore:d}},c4=[1,2,3,4,5,6,7,8,9,10],l4=g.memo(e=>{const{t}=se("flows"),[r,n]=g.useState(""),[a,o]=g.useState([]),[i,s]=g.useState("1"),{loading:c,onSimilaritySearch:l,onCreatePrompt:u,onCreateRetriever:d}=e,p=async()=>{o(await l(r,+i)),n("")},y=async m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),p())};return f.jsxs("div",{className:"mt-4 max-w-full",children:[f.jsx("div",{className:"bg-black/5 dark:bg-white/5 rounded-xl relative",children:f.jsxs("div",{className:"relative px-2 py-1 pb-2",children:[f.jsxs(Ft,{value:`${i}`,onValueChange:m=>s(m),children:[f.jsx(Mt,{className:"absolute left-0 !w-14 top-[2px] rounded-xl bg-transparent border-none focus:outline-none focus:ring-0 focus:border-opacity-0 focus:ring-transparent",children:f.jsx($t,{placeholder:t("vector_database_node.k_select_placeholder")})}),f.jsx(At,{children:c4.map(m=>f.jsx(it,{value:`${m}`,children:m},`${m}`))})]}),f.jsx(Wr,{value:r,disabled:c,placeholder:t("vector_database_node.similarity_search_placeholder"),className:X("w-full rounded-xl px-2 pl-11 border-none resize-none bg-transparent","min-h-8 max-h-8"),onKeyDown:y,onChange:m=>{n(m.target.value)}}),f.jsx("button",{type:"button",disabled:c,onClick:p,className:"absolute right-3 top-5 -translate-y-1/2 rounded-xl bg-black/5 dark:bg-white/5 p-1",children:f.jsx(te,{name:c?"loader-circle":"arrow-right",className:X("w-4 h-4 dark:text-white",r?"opacity-100":"opacity-30",c?"animate-spin":"")})})]})}),f.jsx(am,{type:"single",collapsible:!0,children:a==null?void 0:a.map(([m,h],v)=>f.jsxs(sc,{value:`${v}`,children:[f.jsxs(cc,{children:[`[${h.toFixed(2)}] ${m.pageContent}`.substring(0,32),"..."]}),f.jsx(lc,{children:m.pageContent})]},`${v}`))}),f.jsxs("div",{className:"w-full mt-4 flex flex-col gap-1",children:[f.jsx(Te,{disabled:c,onClick:d,className:"w-full",children:t("vector_database_node.to_retriever")}),a!=null&&a.length&&u?f.jsx(Te,{disabled:c,onClick:()=>u(a),className:"w-full",children:t("vector_database_node.create_prompt")}):void 0]})]})}),u4=g.memo(({loading:e,onCreateData:t})=>{const{t:r}=se("flows"),[n,a]=g.useState(""),[o,i]=g.useState(""),s=async()=>{o&&(await t({id:n,content:o}),a(""),i(""))};return f.jsxs("div",{className:"min-w-80",children:[f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(xe,{htmlFor:"name",children:r("vector_database_node.add_text.id")}),f.jsx(_t,{value:n,disabled:e,onChange:c=>a(c.target.value||""),placeholder:r("vector_database_node.add_text.id_placeholder"),className:"mb-4"}),f.jsxs(xe,{htmlFor:"name",children:[r("vector_database_node.add_text.content")," ",f.jsx("span",{className:"text-red-600",children:"*"})]}),f.jsx(Wr,{value:o,disabled:e,onChange:c=>i(c.target.value||""),placeholder:r("vector_database_node.add_text.content_placeholder")})]}),f.jsx("div",{className:"flex justify-between mt-6",children:f.jsx(ht,{loading:e,disabled:!(o!=null&&o.length),onClick:s,className:"w-full",children:r("vector_database_node.add_text.add")})})]})});function d4({accept:e,maxSize:t}){const{t:r}=se("atoms"),[n,a]=g.useState(""),[o,i]=g.useState(""),s=g.useRef(null),[c,l]=g.useState(0),u=p=>{var m;const y=(m=p.target.files)==null?void 0:m[0];d(y)},d=p=>{if(i(""),p){if(t&&p.size>t*1024*1024){i(r("file_upload_input.errors.max_size",{maxSize:t,fileSize:(p.size/1024/1024).toFixed(2)}));return}const y=e==null?void 0:e.split(",").map(m=>m.replace(".","").trim());if(e&&!p.type.match(e.replace("/*",""))&&!(y!=null&&y.some(m=>p.type.includes(m)))){i(r("file_upload_input.errors.accept",{accept:e}));return}return l(p.size),a(p.name),p}};return{fileName:n,error:o,fileInputRef:s,handleFileSelect:u,validateAndSetFile:d,clearFile:()=>{a(""),i(""),l(0),s.current&&(s.current.value="")},fileSize:c}}function f4({file:e,setFile:t,loading:r,progress:n,fileOptions:a}){const{toast:o}=ct(),{t:i}=se("atoms"),[s,c]=g.useState(!1),{fileName:l,fileInputRef:u,clearFile:d,error:p,validateAndSetFile:y,fileSize:m}=d4({accept:(a==null?void 0:a.accept)||"image/*",maxSize:(a==null?void 0:a.maxSize)||3});g.useEffect(()=>{e||d()},[d,e]),g.useEffect(()=>{p&&o({title:p,variant:"destructive"})},[p,o]);function h(x){const j=y(x);j&&t(j)}function v(x){x.preventDefault(),c(!1);const j=x.dataTransfer.files[0];j&&h(j)}function b(x){var _;const j=(_=x.target.files)==null?void 0:_[0];j&&h(j)}function w(){d(),t(void 0)}const O=g.useMemo(()=>{if(!e)return f.jsx("div",{className:"w-16 h-16 rounded-lg bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center",children:f.jsx(te,{name:"file-text",className:"w-8 h-8 text-zinc-400"})});const x=e.type.startsWith("image/");return f.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden",children:x?f.jsx("img",{src:URL.createObjectURL(e),alt:"Preview",className:"w-full h-full object-cover"}):f.jsx(te,{className:"w-14 h-14",name:"file-text"})})},[e]);return f.jsx(f.Fragment,{children:f.jsxs("div",{className:X("relative group cursor-pointer","rounded-lg border-2 border-dashed","transition-colors duration-200",s?"border-indigo-500 bg-indigo-50/50 dark:bg-indigo-500/10":"border-zinc-200 dark:border-zinc-800"),onDragOver:x=>{x.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onDrop:v,onClick:()=>{var x;return(x=u.current)==null?void 0:x.click()},onKeyDown:x=>{var j;(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),(j=u.current)==null||j.click())},"aria-label":"Upload file",children:[f.jsx("input",{ref:u,type:"file",disabled:r||!!(n&&n<1),accept:(a==null?void 0:a.accept)||"image/*",onChange:b,className:"hidden"}),f.jsx("div",{className:"p-8 space-y-4",children:l?f.jsxs("div",{className:"flex items-center gap-4",children:[O,f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:"text-sm font-medium truncate",children:[l||"No file selected"," ",f.jsx("span",{className:"text-xs text-zinc-500 leading-5",children:m?`(${(m/1024/1024).toFixed(2)} MB)`:""})]}),n&&n<1?f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsxs("p",{children:[(n*100).toFixed(2)," %"]}),f.jsx("div",{className:"h-1 flex-1 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden items-center flex",children:f.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-200",style:{width:`${n*100}%`}})})]}):void 0]}),f.jsx("button",{type:"button",disabled:r||!!(n&&n<1),onClick:x=>{x.stopPropagation(),w()},className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded",children:f.jsx(te,{name:"x",className:"w-5 h-5 text-zinc-400"})}),n&&n<1?f.jsx(go,{className:"rounded-lg"}):void 0]}):f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(te,{name:"upload",className:"w-8 h-8 text-zinc-400 dark:text-zinc-500"}),f.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:i("file_upload_input.drop_file")})]})})]})})}function p4({onFileSubmit:e,fileOptions:t,progress:r,loading:n}){const{t:a}=se("flows"),[o,i]=g.useState(),s=async()=>{o&&(await e(o),i(void 0))};return f.jsxs("div",{className:"w-full max-w-md space-y-2 mt-4",children:[f.jsx("div",{className:"mb-6",children:f.jsx(f4,{progress:r,loading:n,fileOptions:t,setFile:i,file:o})}),f.jsx(ht,{loading:n,disabled:!o,onClick:s,className:"w-full mt-4",children:a("vector_database_node.add_file.index")})]})}const h4=g.memo(e=>{var j;const{t}=se("flows"),[r,n]=g.useState(0),[a,o]=g.useState("search"),i=Xe(e.id),{id:s,data:c,isConnectable:l}=e,{loading:u,similaritySearchWithScore:d,indexData:p}=s4(s),y=er(QL),m=er(r4);n4(s);const h=g.useCallback(async(..._)=>{i&&await p(..._)},[p,i]),v=g.useCallback(async(_,S)=>{const P=_.trim(),A=await d(P,{k:S});if(A!=null&&A.length)return A},[d]),b=g.useCallback(_=>{y.show({source:i,documents:_.map(([S])=>S)})},[y,i]),w=g.useCallback(async()=>{m.show({source:i})},[m,i]),O=g.useCallback(async _=>{if(_.type.includes("text")||_.type.includes("txt")){const S=new FileReader;S.onload=async P=>{var C;const A=(C=P.target)==null?void 0:C.result;await h({content:A})},S.readAsText(_)}else if(_.type.endsWith("pdf")){const S=new Blob([_],{type:"application/pdf"}),P=await new YL(S,{pdfjs:async()=>{const A=await tt(()=>import("./pdf.min-D_qi5qLl.js").then(async C=>(await C.__tla,C)),__vite__mapDeps([11,2,3,1,4]));return await tt(()=>import("./pdf.worker.min-xRYQrKQg.js").then(async C=>(await C.__tla,C)),__vite__mapDeps([12,1,2,3,4])),A.GlobalWorkerOptions.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString(),A},parsedItemSeparator:" "}).load();await h({documents:P},{onProgressReport:A=>{n((A.handled+A.handling)/A.total)}})}},[h]),x=g.useMemo(()=>{switch(a){case"search":return f.jsx($n,{value:"search",children:f.jsx(l4,{loading:u,onSimilaritySearch:v,onCreatePrompt:b,onCreateRetriever:w})});case"new":return f.jsx($n,{className:"min-w-80",value:"new",children:f.jsx(u4,{loading:u,onCreateData:h})});case"file":return f.jsx($n,{value:"file",children:f.jsx(p4,{loading:u,progress:r,onFileSubmit:O,fileOptions:{accept:".pdf,.txt,.text",maxSize:1}})})}},[h,b,w,O,v,u,a,r]);return f.jsxs("div",{className:"min-w-72 max-w-md",children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:l}),f.jsxs("div",{className:"max-w-full",children:[f.jsx(Ue,{id:s}),f.jsxs(gr,{className:"flex justify-center",variant:"default",children:[f.jsx(te,{size:24,name:"database-zap"}),f.jsxs("div",{className:"ml-2 max-w-full",children:[f.jsx(br,{children:`${((j=c.entity)==null?void 0:j.name)||""}`}),f.jsxs(s1,{value:a,onValueChange:o,defaultValue:"search",className:"w-full mt-4",children:[f.jsxs(of,{className:"grid w-full grid-cols-3",children:[f.jsx(Fn,{value:"search",children:t("vector_database_node.search")}),f.jsx(Fn,{value:"new",children:t("vector_database_node.text")}),f.jsx(Fn,{value:"file",children:t("vector_database_node.file")})]}),x]})]})]})]}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:l})]})}),m4={embedding:32},y4=g.memo(e=>{var o,i,s;const{id:t,data:r,isConnectable:n}=e,a=g.useMemo(()=>{var u;if(!((u=r==null?void 0:r.entity)!=null&&u.jsonl))return{headers:[],rows:[]};const c=bf(r.entity.headers||""),l=K1(r.entity.jsonl);return{headers:c,rows:l.map(d=>{try{return JSON.parse(d)}catch{return[]}})}},[(o=r==null?void 0:r.entity)==null?void 0:o.jsonl,r.entity.headers]);return f.jsxs("div",{className:"min-w-80",children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(Ue,{id:t}),f.jsxs(De,{className:"min-w-32 min-h-16 p-4",children:[f.jsx(Ge,{className:"!p-0",children:f.jsxs("div",{className:"pt-2 flex !flex-row",children:[f.jsx(te,{name:"file-json",className:"mr-2"}),f.jsxs(xe,{className:"!font-medium leading-none tracking-tight pr-8",children:[$.JSONLData," ",(i=a==null?void 0:a.rows)!=null&&i.length?`(${((s=a==null?void 0:a.rows)==null?void 0:s.length)||0})`:""]})]})}),f.jsx(Ye,{className:"pb-0",children:f.jsx(f1,{data:a.rows,headers:a.headers,limitLengthByColumns:m4})})]})]}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),h1=60,m1=140,v4=Y1("supports-backdrop-blur:bg-white/10 supports-backdrop-blur:dark:bg-black/10 mx-auto flex h-[58px] w-max gap-2 rounded-lg border p-2 backdrop-blur-md"),y1=E.forwardRef(({className:e,children:t,magnification:r=h1,distance:n=m1,direction:a="bottom",...o},i)=>{const s=Cs(1/0),c=()=>E.Children.map(t,l=>E.isValidElement(l)&&l.type===Ya?E.cloneElement(l,{...l.props,mouseX:s,magnification:r,distance:n}):l);return f.jsx(G1.div,{ref:i,onMouseMove:l=>s.set(l.pageX),onMouseLeave:()=>s.set(1/0),...o,className:X(v4({className:e}),{"items-start":a==="top","items-center":a==="middle","items-end":a==="bottom"}),children:c()})});y1.displayName="Dock";const Ya=({magnification:e=h1,distance:t=m1,mouseX:r,className:n,children:a,...o})=>{const i=g.useRef(null),s=ep(r||new _5,u=>{var p;const d=((p=i.current)==null?void 0:p.getBoundingClientRect())??{x:0,width:0};return u-d.x-d.width/2}),c=ep(s,[-t,0,t],[40,e,40]),l=jj(c,{mass:.1,stiffness:150,damping:12});return f.jsx(G1.div,{ref:i,style:{width:l},className:X("flex aspect-square cursor-pointer items-center justify-center rounded-full",n),...o,children:a})};Ya.displayName="DockIcon";const g4={[$.Shape]:{width:100,height:100},[$.CircleShape]:{width:100,height:100},[$.TriangleShape]:{width:100,height:100},[$.EditorApp]:{width:1240,height:400}},b4=e=>{const t=Xe(e),r=st(s=>s.currentSession),[n,a]=g.useState(!1),o=re(s=>s.createOrUpdateFlowNode),i=g.useCallback(async s=>{var c,l,u;try{if(a(!0),t&&(r==null?void 0:r.id)){const d=((c=t.position)==null?void 0:c.x)||0,p=(((l=t.position)==null?void 0:l.y)||0)+(((u=t.measured)==null?void 0:u.height)||0),y=await ne("FlowNodeData").save({data:{},session_id:r.id});if(!y)throw new Error("Failed to save node data");if(!await o({node_type:s,data:{},source_id:y.id,source_type:"FlowNodeData",x:d,y:p+20,...g4[s]||{}}))throw new Error("Failed to save node")}}finally{a(!1)}},[o,r==null?void 0:r.id,t]);return{loading:n,createNode:i}},lf={applications:[{key:$.EditorApp,icon:"notebook-text",label:"application_bar.note"},{key:$.VSLiteApp,icon:"square-terminal",label:"application_bar.vslite"}],shapes:[{key:$.Shape,icon:"square",label:"application_bar.square"},{key:$.CircleShape,icon:"circle",label:"application_bar.circle"},{key:$.TriangleShape,icon:"triangle",label:"application_bar.triangle"}],old:[{key:$.CodeContainerApp,icon:"file-code-2",label:"application_bar.code_editor"}]},x4=g.memo(e=>{const{t}=se("flows"),{toast:r}=ct(),{loading:n,createNode:a}=b4(e.id),o=async i=>{try{if(n)return;await a(i)}catch{r({description:t("application_bar.errors.add_node_failed"),variant:"destructive"})}};return f.jsx(qB,{children:f.jsxs(y1,{direction:"middle",children:[lf.applications.map(i=>f.jsx(Ya,{children:f.jsxs(Pf,{children:[f.jsx(Cf,{children:f.jsx(te,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(kf,{children:f.jsx("p",{children:t(i.label)})})]})},i.label)),f.jsx(pj,{orientation:"vertical",className:"h-full"}),lf.shapes.map(i=>f.jsx(Ya,{children:f.jsxs(Pf,{children:[f.jsx(Cf,{children:f.jsx(te,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(kf,{children:f.jsx("p",{children:t(i.label)})})]})},i.label)),f.jsx(pj,{orientation:"vertical",className:"h-full"}),lf.old.map(i=>f.jsx(Ya,{children:f.jsxs(Pf,{children:[f.jsx(Cf,{children:f.jsx(te,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(kf,{children:f.jsx("p",{children:t(i.label)})})]})},i.label))]})})}),Ji=g.memo(e=>{const{lineClassName:t,handleClassName:r,...n}=e;return f.jsx(rB,{lineClassName:X("!border-1.5",t),handleClassName:X("!w-2 !h-2 !border-2 !rounded-full",r),...n})}),w4=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=g.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([$.CircleShape,$.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===$.Shape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},j4=g.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return w4(t),f.jsxs(f.Fragment,{children:[f.jsx(Ji,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),f.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border border",children:f.jsx(Ue,{id:t})}),f.jsx(pe,{type:"source",position:he.Bottom,isConnectable:n})]})}),_4=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=g.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([$.Shape,$.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===$.CircleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},O4=g.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return _4(t),f.jsxs(f.Fragment,{children:[f.jsx(Ji,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),f.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border rounded-full border",children:f.jsx(Ue,{id:t})}),f.jsx(pe,{type:"source",position:he.Bottom,isConnectable:n})]})}),S4=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=g.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([$.CircleShape,$.Shape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===$.TriangleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},N4=g.memo(e=>{const{id:t,selected:r,width:n,height:a,isConnectable:o}=e;return S4(t),f.jsxs(f.Fragment,{children:[f.jsx(Ji,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(pe,{type:"target",position:he.Top,isConnectable:o}),f.jsx("div",{className:"w-0 h-0 border-l-transparent border-r-transparent border-b-border",style:{borderLeftWidth:(n||0)/2,borderRightWidth:(n||0)/2,borderBottomWidth:a||0}}),f.jsx(Ue,{id:t,className:"absolute top-0 right-0"}),f.jsx(pe,{type:"source",position:he.Bottom,isConnectable:o})]})}),E4=e=>{const t=re(n=>n.createOrUpdateFlowEdge),r=g.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.LLM&&(o==null?void 0:o.type)===$.EditorApp){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);nt(e,r)},P4=e=>{const t=Xe(e),{t:r}=se("flows"),n=g.useRef(null),{toast:a}=ct(),{getNode:o,getHandleConnections:i}=tr(),s=vr(l=>l.stream),c=g.useCallback(async l=>{t&&(clearTimeout(n.current),n.current=setTimeout(async()=>{await ne("FlowNode").update(t.id,{data:l})},150))},[t]);return{createMessage:g.useCallback(async(l,u)=>{if(t){const d=i({nodeId:e,type:"target"}).find(y=>{var m;return((m=o(y.source))==null?void 0:m.type)===$.LLM}),p=d?o(d==null?void 0:d.source):void 0;if(p){if(p.data.status!==jt.Loaded)return a({variant:"destructive",description:r("editor_node.errors.llm_not_loaded_yet")})}else return a({variant:"destructive",description:r("editor_node.errors.llm_not_found")});try{const y=s(l);if(!y)throw new Error("Stream is not supported");const m=[];for await(const h of y)h&&Array.isArray(h)&&(m.push(...h.map(v=>v.content)),h!=null&&h.length&&(u==null||u(h.map(v=>v.content).join(""))));return m.join("")}catch(y){if(y instanceof Error&&y.message.includes("LLM_NOT_LOADED_YET"))return a({title:r("editor_node.errors.llm_not_loaded_yet")});a({variant:"destructive",title:r("editor_node.errors.stream_message_failed")})}}},[t,i,e,o,a,r,s]),updateEditorContent:c}},C4=g.lazy(()=>tt(()=>import("./PlateEditor-B5n1UqjW.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([13,2,3,1,4,8,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105]))),k4=g.memo(e=>{var c;const{id:t,data:r,selected:n,isConnectable:a}=e;E4(t);const{createMessage:o,updateEditorContent:i}=P4(t),s=g.useCallback(l=>{i(l)},[i]);return f.jsxs("div",{className:"w-full min-w-[1240px] h-full",children:[f.jsx(Ji,{isVisible:!!n,minWidth:1240,minHeight:400}),f.jsx(pe,{type:"target",position:he.Top,isConnectable:a}),f.jsxs("div",{className:"min-w-10 min-h-10 w-full h-full rounded-lg border bg-background",children:[f.jsx(Ue,{className:"!z-[100]",id:t}),f.jsx(g.Suspense,{fallback:f.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:f.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx("div",{className:"h-full w-ful rounded-lg","data-registry":"plate",children:f.jsx(C4,{defaultValue:(c=r==null?void 0:r.flowNode)==null?void 0:c.data,onValueChange:s,copilotStream:o})})})]}),f.jsx(pe,{type:"source",position:he.Bottom,isConnectable:a})]})}),M4=e=>{const t=g.useCallback(async({edgeId:r})=>{try{return{deleteEdgeId:r}}catch{return{deleteEdgeId:r}}},[]);nt(e,t)},A4=g.memo(e=>{var i,s;const{id:t,data:r,isConnectable:n}=e,{t:a}=se("flows");M4(t);let o="";switch((i=r.entity)==null?void 0:i.placeholder_type){case"VECTOR_DATABASE_RETREIVER":o=a("placeholder_node.vector_database_retriever");break}return f.jsxs("div",{children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:n}),f.jsxs(gr,{className:"flex justify-center max-w-80",variant:"default",children:[f.jsx(Ue,{id:t}),f.jsx(te,{name:"land-plot",className:"w-7 h-7"}),f.jsxs("div",{className:"ml-2 pr-4",children:[f.jsx(br,{children:`${((s=r.entity)==null?void 0:s.placeholder)||""}`}),f.jsx(eo,{children:o?f.jsx(Xr,{children:o}):void 0})]})]}),f.jsx(pe,{type:"source",position:he.Bottom,id:"a",isConnectable:n})]})}),T4=g.lazy(()=>tt(()=>import("./CodeContainerApp-D5QmzuIo.js").then(async e=>(await e.__tla,e)).then(e=>e.C),__vite__mapDeps([106,2,3,1,4,104,107,7,108,15,109,110]))),D4=g.memo(e=>{const{id:t,isConnectable:r}=e;return f.jsxs("div",{className:"w-[1380px] h-[600px]",children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:r}),f.jsxs("div",{className:"w-full h-full rounded-lg border bg-card overflow-hidden",children:[f.jsx(Ue,{id:t}),f.jsx(g.Suspense,{fallback:f.jsx("div",{className:"h-full w-full flex justify-center items-center",children:f.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx(T4,{...e})})]}),f.jsx(pe,{type:"source",position:he.Bottom,isConnectable:r})]})});Mf=function(e,t=""){const r=[];for(const[n,a]of Object.entries(e)){const o=O5(),i=[t,n].filter(Boolean).join("/"),s="file"in a&&"contents"in a.file?a.file:void 0,c={id:o,isSelectable:!0,content:typeof(s==null?void 0:s.contents)=="string"?s.contents:void 0,file:i,name:n,children:[]};"directory"in a&&(c.children=Mf(a.directory,i)),r.push(c)}return r},Af=function(e){const t=e.trim().split(`
`),r={};return t.forEach(n=>{const{file:a,content:o}=JSON.parse(n),i=a.split("/");let s=r;for(let c=0;c<i.length;c++){const l=i[c];c===i.length-1?s[l]={file:{contents:o}}:(s[l]||(s[l]={directory:{}}),s=s[l].directory)}}),r},Yf=function(e){const t=[];function r(n,a=[]){for(const[o,i]of Object.entries(n))if("file"in i){const s=[...a,o].join("/");if("contents"in i.file){const c=i.file.contents;t.push(JSON.stringify({file:s,content:c}))}}else"directory"in i&&r(i.directory,[...a,o])}return r(e),t.join(`
`)},Tf=function(e,t,r){const n=t.replace(/^\.\//,"").split("/");let a=e;for(let o=0;o<n.length;o++){const i=n[o];if(o===n.length-1)i in a&&"file"in a[i]?a[i].file.contents=r:ts(`Path "${t}" is not a file.`);else if(i in a&&"directory"in a[i])a=a[i].directory;else return ts(`Path "${t}" does not exist.`),e}return e};let v1,g1,b1,x1,w1,j1;v1=["vite-vue","shadcn-react-vite"],g1=async e=>{switch(e){case"vite-vue":return tt(()=>import("./vite-vue-QLmMXcee.js"),[]).then(t=>t.VITE_VUE_BASE);case"shadcn-react-vite":return tt(()=>import("./shadcn-react-vite-eg07VqhU.js"),[]).then(t=>t.SHADCN_REACT_VITE_BASE);default:throw new Error(`Unknown source base: ${e}`)}},Df=g.memo(({className:e,onUpdateSourceBase:t})=>{const{t:r}=se("components"),[n,a]=g.useState();return f.jsxs(De,{className:X("mw-full",e),children:[f.jsx(Ge,{className:"p-4",children:f.jsx(at,{children:r("add_source_base.title")})}),f.jsx(Ye,{className:"p-4",children:f.jsxs("div",{className:"flex items-center justify-center w-full h-full flex-col",children:[f.jsxs(Ft,{onValueChange:o=>a(o),children:[f.jsx(Mt,{className:"w-full mb-4",children:f.jsx($t,{placeholder:r("add_source_base.source_base_select_placeholder")})}),f.jsx(At,{children:v1.map(o=>f.jsx(it,{value:`${o}`,children:r(`add_source_base.sourcebases.${o.toLowerCase()}`)},`${o}`))})]}),f.jsx(Te,{className:"w-full",onClick:async()=>n&&t(await g1(n)),children:r("add_source_base.update_source")})]})})]})}),b1=e=>(Xe(e),{updateCodeContainerData:g.useCallback(async(t,r)=>{await ne("FlowNode").update(t,{raw:Yf(r)})},[])}),x1=g.lazy(()=>tt(()=>import("./index-GwfS3PYU.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([111,2,3,104,4,107,1,112]))),w1=g.memo(e=>{var l,u,d;const{id:t,isConnectable:r,data:n}=e,[a,o]=g.useState((l=n==null?void 0:n.flowNode)!=null&&l.raw?Af(n.flowNode.raw):void 0),{updateCodeContainerData:i}=b1(t),s=g.useCallback(async p=>{var y,m;(y=n==null?void 0:n.flowNode)!=null&&y.id&&(await i((m=n==null?void 0:n.flowNode)==null?void 0:m.id,p),o(p))},[(u=n==null?void 0:n.flowNode)==null?void 0:u.id,i]),c=g.useCallback(async(p,y)=>{o(m=>{var v;if(!m)return m;const h=Tf(m,p,y);return i((v=n==null?void 0:n.flowNode)==null?void 0:v.id,h),h})},[(d=n==null?void 0:n.flowNode)==null?void 0:d.id,i]);return a?f.jsxs("div",{className:"w-[1380px] h-[600px]",children:[f.jsx(pe,{type:"target",position:he.Top,isConnectable:r}),f.jsxs("div",{className:"w-full h-full rounded-lg border bg-card overflow-hidden",children:[f.jsx(Ue,{id:t,className:"z-50"}),f.jsx(g.Suspense,{fallback:f.jsx("div",{className:"h-full w-full flex justify-center items-center",children:f.jsx(te,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx(x1,{fileSystemTree:a,onUpdateFileContent:c})})]}),f.jsx(pe,{type:"source",position:he.Bottom,isConnectable:r})]}):f.jsx("div",{className:"h-full flex justify-center items-center",children:f.jsx(Df,{className:"w-64",onUpdateSourceBase:s})})}),j1={[$.LLM]:_m,[$.Toolbox]:ym,[$.Thread]:ZO,[$.Message]:aS,[$.Prompt]:iS,[$.SessionInfo]:RL,[$.Schema]:UL,[$.CSVData]:HL,[$.ToolDefinition]:WL,[$.DefaultEmbeddingModel]:KL,[$.VectorDatabase]:h4,[$.JSONLData]:y4,[$.ApplicationBar]:x4,[$.Shape]:j4,[$.CircleShape]:O4,[$.TriangleShape]:N4,[$.EditorApp]:k4,[$.PlaceHolder]:A4,[$.CodeContainerApp]:D4,[$.VSLiteApp]:w1};function I4(e,t=[]){let r=[];function n(o,i){const s=g.createContext(i),c=r.length;r=[...r,i];function l(d){const{scope:p,children:y,...m}=d,h=(p==null?void 0:p[e][c])||s,v=g.useMemo(()=>m,Object.values(m));return f.jsx(h.Provider,{value:v,children:y})}function u(d,p){const y=(p==null?void 0:p[e][c])||s,m=g.useContext(y);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,u]}const a=()=>{const o=r.map(i=>g.createContext(i));return function(i){const s=(i==null?void 0:i[e])||o;return g.useMemo(()=>({[`__scope${e}`]:{...i,[e]:s}}),[i,s])}};return a.scopeName=e,[n,R4(a,...t)]}function R4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const o=n.reduce((i,{useScope:s,scopeName:c})=>{const l=s(a)[`__scope${c}`];return{...i,...l}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var L4="Toggle",uf=g.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:a,...o}=e,[i=!1,s]=kt({prop:r,onChange:a,defaultProp:n});return f.jsx(fe.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:ue(e.onClick,()=>{e.disabled||s(!i)})})});uf.displayName=L4;let df,Vr,ff,pf,Zi;df=uf,Vr="ToggleGroup",[ff,vj]=I4(Vr,[qn]),pf=qn(),Zi=E.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return f.jsx(B4,{...a,ref:t})}if(r==="multiple"){const a=n;return f.jsx(F4,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Vr}\``)}),Zi.displayName=Vr;var[_1,O1]=ff(Vr),B4=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i,s]=kt({prop:r,defaultProp:n,onChange:a});return f.jsx(_1,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:s,onItemDeactivate:E.useCallback(()=>s(""),[s]),children:f.jsx(S1,{...o,ref:t})})}),F4=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i=[],s]=kt({prop:r,defaultProp:n,onChange:a}),c=E.useCallback(u=>s((d=[])=>[...d,u]),[s]),l=E.useCallback(u=>s((d=[])=>d.filter(p=>p!==u)),[s]);return f.jsx(_1,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:l,children:f.jsx(S1,{...o,ref:t})})});Zi.displayName=Vr;var[$4,z4]=ff(Vr),S1=E.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:o,dir:i,loop:s=!0,...c}=e,l=pf(r),u=no(i),d={role:"group",dir:u,...c};return f.jsx($4,{scope:r,rovingFocus:a,disabled:n,children:a?f.jsx(Sf,{asChild:!0,...l,orientation:o,dir:u,loop:s,children:f.jsx(fe.div,{...d,ref:t})}):f.jsx(fe.div,{...d,ref:t})})}),Qi="ToggleGroupItem",N1=E.forwardRef((e,t)=>{const r=O1(Qi,e.__scopeToggleGroup),n=z4(Qi,e.__scopeToggleGroup),a=pf(e.__scopeToggleGroup),o=r.value.includes(e.value),i=n.disabled||e.disabled,s={...e,pressed:o,disabled:i},c=E.useRef(null);return n.rovingFocus?f.jsx(Nf,{asChild:!0,...a,focusable:!i,active:o,ref:c,children:f.jsx(hf,{...s,ref:t})}):f.jsx(hf,{...s,ref:t})});N1.displayName=Qi;let hf;hf=E.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,o=O1(Qi,r),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=o.type==="single"?i:void 0;return f.jsx(uf,{...s,...a,ref:t,onPressedChange:c=>{c?o.onItemActivate(n):o.onItemDeactivate(n)}})}),ws=Zi,xs=N1;const E1=Y1("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),V4=g.forwardRef(({className:e,variant:t,size:r,...n},a)=>f.jsx(df,{ref:a,className:X(E1({variant:t,size:r,className:e})),...n}));V4.displayName=df.displayName;const P1=g.createContext({size:"default",variant:"default"}),C1=g.forwardRef(({className:e,variant:t,size:r,children:n,...a},o)=>f.jsx(ws,{ref:o,className:X("flex items-center justify-center gap-1",e),...a,children:f.jsx(P1.Provider,{value:{variant:t,size:r},children:n})}));C1.displayName=ws.displayName;const k1=g.forwardRef(({className:e,children:t,variant:r,size:n,...a},o)=>{const i=g.useContext(P1);return f.jsx(xs,{ref:o,className:X(E1({variant:i.variant||r,size:i.size||n}),e),...a,children:t})});k1.displayName=xs.displayName;function U4(){const e=nB(t=>`x: ${t.transform[0].toFixed(2)}, y: ${t.transform[1].toFixed(2)}, zoom: ${t.transform[2].toFixed(2)}`);return f.jsx("div",{children:e})}function H4({change:e}){var n,a,o,i;const t="id"in e?e.id:"-",{type:r}=e;return f.jsxs("div",{className:"mb-3",children:[f.jsxs("div",{children:["node id: ",t]}),f.jsxs("div",{children:[r==="add"?JSON.stringify(e.item,null,2):null,r==="dimensions"?`dimensions: ${(n=e.dimensions)==null?void 0:n.width} \xD7 ${(a=e.dimensions)==null?void 0:a.height}`:null,r==="position"?`position: ${(o=e.position)==null?void 0:o.x.toFixed(1)}, ${(i=e.position)==null?void 0:i.y.toFixed(1)}`:null,r==="remove"?"remove":null,r==="select"?e.selected?"select":"unselect":null]})]})}function q4({limit:e=20}){const[t,r]=g.useState([]),n=aB(),a=g.useCallback(i=>{r(s=>[...i,...s].slice(0,e))},[e]);g.useEffect(()=>(n.setState({onNodesChange:a}),()=>n.setState({onNodesChange:void 0})),[a,n]);const o=()=>f.jsx("div",{children:"No Changes Triggered"});return f.jsx(f.Fragment,{children:t.length===0?f.jsx(o,{}):t.map((i,s)=>f.jsx(H4,{change:i},s))})}function W4(){const{getInternalNode:e}=tr(),t=oB();return f.jsx(iB,{children:f.jsx("div",{className:"text-secondary-foreground",children:t.map(r=>{var o,i;const n=e(r.id);if(!n)return null;const a=n==null?void 0:n.internals.positionAbsolute;return f.jsx(X4,{id:r.id,selected:!!r.selected,type:r.type||"default",position:r.position,absPosition:a,width:((o=r.measured)==null?void 0:o.width)??0,height:((i=r.measured)==null?void 0:i.height)??0,data:r.data},r.id)})})})}function X4({id:e,type:t,selected:r,position:n,absPosition:a,width:o,height:i,data:s}){if(!o||!i)return null;const c=`translate(${a.x}px, ${a.y+i}px)`,l=`${n.x.toFixed(1)}, ${n.y.toFixed(1)}`,u=`${o} \xD7 ${i}`,d=r?"Selected":"Not Selected";return f.jsxs("div",{style:{position:"absolute",transform:c,width:o*2},className:"text-xs",children:[f.jsxs("div",{children:["id: ",e]}),f.jsxs("div",{children:["type: ",t]}),f.jsxs("div",{children:["selected: ",d]}),f.jsxs("div",{children:["position: ",l]}),f.jsxs("div",{children:["dimensions: ",u]}),f.jsxs("div",{children:["data: ",JSON.stringify(s,null,2)]})]})}function K4({tools:e}){return f.jsx(Of,{position:"top-left",className:"bg-card p-1 border rounded shadow-sm",children:f.jsx(C1,{type:"multiple",children:e.map(({active:t,setActive:r,label:n,value:a})=>f.jsx(k1,{value:a,onClick:()=>r(o=>!o),"aria-pressed":t,className:"bg-card text-card-foreground transition-colors duration-300 hover:bg-secondary hover:text-secondary-foreground",children:n},a))})})}function M1(){const[e,t]=g.useState(!1),[r,n]=g.useState(!1),[a,o]=g.useState(!1),i=[{active:e,setActive:t,label:"Node Inspector",value:"node-inspector"},{active:r,setActive:n,label:"Change Logger",value:"change-logger"},{active:a,setActive:o,label:"Viewport Logger",value:"viewport-logger"}];return f.jsxs(f.Fragment,{children:[f.jsx(K4,{tools:i}),r&&f.jsx(Of,{className:"text-xs p-5 bg-white rounded shadow-md overflow-y-auto max-h-[50%] mt-20",position:"bottom-right",children:f.jsx(q4,{})}),e&&f.jsx(W4,{}),a&&f.jsx(Of,{position:"bottom-left",className:"text-secondary-foreground",children:f.jsx(U4,{})})]})}M1.displayName="DevTools";const G4=()=>{const e=g.useRef({}),t=g.useRef({}),r=re(C=>C.flowEdges),n=st(C=>C.currentSession),a=re(C=>C.setNodes),o=re(C=>C.updateNodes),i=re(C=>C.updateEdges),s=re(C=>C.addConnectionToEdges),c=re(C=>C.reset),l=re(C=>C.findFlowEdges),u=re(C=>C.deleteFlowNode),d=re(C=>C.deleteFlowEdge),p=re(C=>C.updateFlowNode),y=re(C=>C.getNodes),m=re(C=>C.findFlowNodesWithSource),h=g.useRef(r),v=g.useRef(),[b,w]=g.useState({loading:!1});h.current=r;const O=g.useCallback(async(C,N)=>{try{v.current=C,c(),await(N==null?void 0:N())}catch{v.current=void 0}},[c]),x=g.useCallback(async C=>{try{if(!(n!=null&&n.id))return;w(k=>({...k,loading:!0}));const N=await m({...C,where:{...C.where,session_id:n.id}}),T=await l({where:[{source:Qa(N.map(k=>k.id))},{target:Qa(N.map(k=>k.id))}]});return{flowNodes:N,flowEdges:T}}finally{w(N=>({...N,loading:!1}))}},[m,l,n==null?void 0:n.id]),j=g.useCallback(async C=>{var N,T;for(const k of C)if("id"in k&&Object.values(sB).includes(k.id)&&k.type!=="remove")o([k]);else if(k.type==="position"&&k.position&&!isNaN(k.position.x)&&!isNaN(k.position.y)){o([k]);const D=k.position.x,M=k.position.y;clearTimeout(e.current[k.id]),e.current[k.id]=setTimeout(async()=>{e.current[k.id]=void 0,await p({id:k.id,x:D,y:M},{silent:!0})},200)}else if(k.type==="remove"){const D=(N=y([k.id]))==null?void 0:N[0];if(!(D!=null&&D.type)||cB.includes(D.type))return;await u({id:k.id})}else if(k.type==="dimensions"&&k.dimensions&&!isNaN(k.dimensions.width)&&!isNaN(k.dimensions.height)){const D=(T=y([k.id]))==null?void 0:T[0];if(!(D!=null&&D.width)&&!(D!=null&&D.height))return;o([k]),clearTimeout(t.current[k.id]);const M=k.dimensions.width,I=k.dimensions.height;t.current[k.id]=setTimeout(async()=>{await p({id:k.id,width:M,height:I},{silent:!0})},200)}else k.type==="select"&&o([k])},[o,p,y,u]),_=g.useCallback(C=>{Promise.all(C.map(async N=>{if(N.type==="remove")return d({id:N.id})})),i(C)},[d,i]),S=g.useCallback(C=>{s(C)},[s]),P=g.useCallback(()=>{var C;(C=h.current)==null||C.length},[]),A=g.useCallback(C=>{a(N=>{var M,I;let T;if(typeof C=="function"?T=C(N):T=C,!T)return N;const k=N==null?void 0:N.find(F=>F.id===T.id),D={id:T.id,item:k?lB(k,T):{...T,position:{x:((M=T.position)==null?void 0:M.x)||0,y:((I=T.position)==null?void 0:I.y)||0}},type:k?"replace":"add"};return uB([D],N)})},[a]);return{syncEdges:P,initialFlow:O,loadingState:b,prepareFlowInfo:x,updateNodeChanges:j,updateEdgeChanges:_,updateOrCreateNode:A,currentSessionIdRef:v,updateEdgeConnection:S}},Y4=e=>{const t=st(u=>{var d;return(d=u.currentSession)==null?void 0:d.id}),{loadingState:r,prepareFlowInfo:n,syncEdges:a,initialFlow:o,currentSessionIdRef:i}=e,s=re(u=>u.ready),c=re(u=>u.removeSyncNodeQueue),l=re(u=>u.removeSyncEdgeQueue);g.useLayoutEffect(()=>{},[t]),g.useEffect(()=>{r.loading||!s||!t||i.current===t||o(t,async()=>{await n({where:{session_id:t}})})},[o,n,r.loading,i,s,t]),g.useEffect(()=>{const u=re.subscribe(p=>p.syncNodeQueue,async(p,y)=>{var v;const m=y.map(b=>b.timestamp),h=p.filter(b=>!m.includes(b.timestamp));if(h.length){c(h.map(b=>b.timestamp));for(const b of h){const w=await n(b.query);switch(b.syncType){case"Thread":{const O=(v=w==null?void 0:w.flowNodes)==null?void 0:v.map(x=>{if(x.source_id&&x.source_type==="Thread")return x.source_id}).filter(Boolean);if(O!=null&&O.length){const x=await ne("Message").find({where:{thread_id:Qa(O)}});await n({where:{source_type:"Message",source_id:Qa(x.map(j=>j.id))}})}}break}}}}),d=re.subscribe(p=>p.syncEdgeQueue,async(p,y)=>{const m=y.map(v=>v.timestamp),h=p.filter(v=>!m.includes(v.timestamp));h.length&&(l(h.map(v=>v.timestamp)),a())});return()=>{u(),d()}},[n,l,c,a])},J4=()=>{const[e,t]=g.useState(!0),r=G4(),n=vr(u=>u.selectedModel),a=g.useRef(n),o=vr(u=>u.setInitProgressCallback),{updateOrCreateNode:i,updateNodeChanges:s,updateEdgeChanges:c,updateEdgeConnection:l}=r;return Y4(r),a.current=n,g.useEffect(()=>{const u=o==null?void 0:o(d=>{if(!a.current)return;const p=`${a.current}`;i(y=>{const m=y==null?void 0:y.find(h=>{var v;return(v=h.data)!=null&&v.entity&&typeof h.data.entity=="object"&&"name"in h.data.entity?h.data.entity.name===p:!1});if(m)return m.data.label=d.text,m.data.status=jt.Loading,d.progress===100&&(m.data.label="",m.data.status=jt.Loaded),m})});return()=>{u==null||u()}},[o,i]),g.useMemo(()=>({updateNodeChanges:s,updateEdgeChanges:c,initializing:e,setInitializing:t,updateEdgeConnection:l}),[s,c,e,t,l])},Z4=()=>{const e=q1(l=>l.theme),t=re(l=>l.nodes),r=re(l=>l.edges),{updateNodeChanges:n,updateEdgeChanges:a,updateEdgeConnection:o}=J4(),i=g.useCallback(l=>{n(l)},[n]),s=g.useCallback(l=>{a(l)},[a]),c=g.useCallback(l=>{o(l)},[o]);return f.jsxs(dB,{nodes:t,edges:r,nodeTypes:j1,onNodesChange:i,onEdgesChange:s,onConnect:c,panOnScroll:!0,panOnScrollMode:fB.Free,colorMode:e,fitView:!0,children:[f.jsx(pB,{variant:hB.Dots,gap:24,size:1}),f.jsx(mB,{}),f.jsx(yB,{}),S5?f.jsx(M1,{}):void 0]})},Q4=g.memo(Z4);function e5(){return f.jsx(Q4,{})}mj=Object.freeze(Object.defineProperty({__proto__:null,default:e5},Symbol.toStringTag,{value:"Module"}))});export{hj as A,gs as B,bs as C,Mf as D,Af as E,Tf as F,Df as G,If as H,xs as I,Rf as J,Kr as K,ht as L,wr as M,mj as N,Lf as P,ws as R,yj as T,XB as __tla,Bf as a,Ff as b,js as c,$f as d,zf as e,Vf as f,Uf as g,Gr as h,Hf as i,qf as j,Wf as k,Xf as l,vj as m,Kf as n,_s as o,Gf as p,Os as q,Ss as r,nt as s,Ns as t,re as u,Yf as v,Es as w,Jf as x,Zf as y,Ps as z};
