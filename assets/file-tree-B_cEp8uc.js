import{cm as u,cn as h,co as y,cp as g,cq as m,cr as b,cs as j,ct as O,__tla as S}from"./routes-ByuVeuLL.js";import{a7 as E,__tla as L}from"./index-Co7wP9ul.js";let f,d,p,_,M=Promise.all([(()=>{try{return S}catch{}})(),(()=>{try{return L}catch{}})()]).then(async()=>{d=Object.freeze(Object.defineProperty({__proto__:null,LoggerWithoutDebug:u,Model:j,ModelManager:O,ModelValidationStatus:b,POLYFILL_ETAG:m,Wllama:g,WllamaAbortError:y,WllamaError:h},Symbol.toStringTag,{value:"Module"})),f=function(l){const i=l.trim().split(`
`),n={};return i.forEach(c=>{const{file:a,content:r}=JSON.parse(c),t=a.split("/");let o=n;for(let e=0;e<t.length;e++){const s=t[e];e===t.length-1?o[s]={file:{contents:r}}:(o[s]||(o[s]={directory:{}}),o=o[s].directory)}}),n},p=function(l){const i=[];function n(c,a=[]){for(const[r,t]of Object.entries(c))if("file"in t){const o=[...a,r].join("/");if("contents"in t.file){const e=t.file.contents;i.push(JSON.stringify({file:o,content:e}))}}else"directory"in t&&n(t.directory,[...a,r])}return n(l),i.join(`
`)},_=function(l,i){return E(`[UpdateCodeContainerFile] Changes ${i.map(n=>`${n.type||"create_or_update"}:${n.path}`).join(", ")}`),i.forEach(({path:n,content:c,type:a="create_or_update"})=>{const r=n.replace(/^\.\//,"").split("/");let t=l;for(let o=0;o<r.length;o++){const e=r[o];if(o===r.length-1)a==="delete"?e in t&&"file"in t[e]?delete t[e]:console.warn(`Path "${n}" is not a file or does not exist.`):e in t&&"file"in t[e]?t[e].file.contents=c:t[e]={file:{contents:c}};else if(e in t&&"directory"in t[e])t=t[e].directory;else if(a==="delete"){console.warn(`Path "${n}" does not exist.`);break}else t[e]={directory:{}},t=t[e].directory}}),l}});export{M as __tla,f as a,d as i,p,_ as u};
