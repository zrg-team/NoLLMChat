import{y,__tla as u}from"./routes-BC22d4F8.js";import{N as _,__tla as m}from"./index-D_ELiTRG.js";let d,f,p,h,g=Promise.all([(()=>{try{return u}catch{}})(),(()=>{try{return m}catch{}})()]).then(async()=>{f=function(l,c=""){const i=[];for(const[s,o]of Object.entries(l)){const r=y(),t=[c,s].filter(Boolean).join("/"),n="file"in o&&"contents"in o.file?o.file:void 0,e={id:r,isSelectable:!0,content:typeof(n==null?void 0:n.contents)=="string"?n.contents:void 0,file:t,name:s,children:[]};"directory"in o&&(e.children=f(o.directory,t)),i.push(e)}return i},d=function(l){const c=l.trim().split(`
`),i={};return c.forEach(s=>{const{file:o,content:r}=JSON.parse(s),t=o.split("/");let n=i;for(let e=0;e<t.length;e++){const a=t[e];e===t.length-1?n[a]={file:{contents:r}}:(n[a]||(n[a]={directory:{}}),n=n[a].directory)}}),i},p=function(l){const c=[];function i(s,o=[]){for(const[r,t]of Object.entries(s))if("file"in t){const n=[...o,r].join("/");if("contents"in t.file){const e=t.file.contents;c.push(JSON.stringify({file:n,content:e}))}}else"directory"in t&&i(t.directory,[...o,r])}return i(l),c.join(`
`)},h=function(l,c){return _(`[UpdateCodeContainerFile] Changes ${c.map(i=>`${i.type||"create_or_update"}:${i.path}`).join(", ")}`),c.forEach(({path:i,content:s,type:o="create_or_update"})=>{const r=i.replace(/^\.\//,"").split("/");let t=l;for(let n=0;n<r.length;n++){const e=r[n];if(n===r.length-1)o==="delete"?e in t&&"file"in t[e]?delete t[e]:console.warn(`Path "${i}" is not a file or does not exist.`):e in t&&"file"in t[e]?t[e].file.contents=s:t[e]={file:{contents:s}};else if(e in t&&"directory"in t[e])t=t[e].directory;else if(o==="delete"){console.warn(`Path "${i}" does not exist.`);break}else t[e]={directory:{}},t=t[e].directory}}),l}});export{g as __tla,d as a,f as c,p,h as u};
