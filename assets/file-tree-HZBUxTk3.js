import{cw as u,cx as y,cy as h,cz as g,cA as m,cB as b,cC as j,cD as E,cE as O,__tla as S}from"./routes-CTo4wjkf.js";import{Q as M,__tla as P}from"./index-DZC_xMPJ.js";let f,d,_,p,$=Promise.all([(()=>{try{return S}catch{}})(),(()=>{try{return P}catch{}})()]).then(async()=>{d=Object.freeze(Object.defineProperty({__proto__:null,LoggerWithoutDebug:y,Model:E,ModelManager:O,ModelValidationStatus:j,POLYFILL_ETAG:b,Wllama:m,WllamaAbortError:g,WllamaError:h,isValidGgufFile:u},Symbol.toStringTag,{value:"Module"})),f=function(l){const i=l.trim().split(`
`),n={};return i.forEach(c=>{const{file:a,content:r}=JSON.parse(c),e=a.split("/");let o=n;for(let t=0;t<e.length;t++){const s=e[t];t===e.length-1?o[s]={file:{contents:r}}:(o[s]||(o[s]={directory:{}}),o=o[s].directory)}}),n},_=function(l){const i=[];function n(c,a=[]){for(const[r,e]of Object.entries(c))if("file"in e){const o=[...a,r].join("/");if("contents"in e.file){const t=e.file.contents;i.push(JSON.stringify({file:o,content:t}))}}else"directory"in e&&n(e.directory,[...a,r])}return n(l),i.join(`
`)},p=function(l,i){return M(`[UpdateCodeContainerFile] Changes ${i.map(n=>`${n.type||"create_or_update"}:${n.path}`).join(", ")}`),i.forEach(({path:n,content:c,type:a="create_or_update"})=>{const r=n.replace(/^\.\//,"").split("/");let e=l;for(let o=0;o<r.length;o++){const t=r[o];if(o===r.length-1)a==="delete"?t in e&&"file"in e[t]?delete e[t]:console.warn(`Path "${n}" is not a file or does not exist.`):t in e&&"file"in e[t]?e[t].file.contents=c:e[t]={file:{contents:c}};else if(t in e&&"directory"in e[t])e=e[t].directory;else if(a==="delete"){console.warn(`Path "${n}" does not exist.`);break}else e[t]={directory:{}},e=e[t].directory}}),l}});export{$ as __tla,f as a,d as i,_ as p,p as u};
