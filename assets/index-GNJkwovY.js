const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-COgZMq7t.js","assets/home-DY1OnNLZ.js","assets/index-B1uyMJb5.js","assets/index-Cto61xuP.css","assets/index-Dd_D46El.js","assets/index-SsI0ztyB.js","assets/index-Ux8lesU9.css","assets/pdf-D7Kjwexy.js","assets/pdf.min-BXjMnVAy.js","assets/pdf.worker.min-CV_ZpyL5.js","assets/plate-editor-B5njA3M4.js","assets/routes-RIB_pvGL.js","assets/chevron-down-BsUXmYaS.js","assets/createLucideIcon-C8oITyWr.js","assets/chevron-right-2y9Baq1l.js","assets/check-D-4ijtHd.js","assets/ellipsis-Bgc71OHp.js","assets/keyboard-b79pn4ec.js","assets/superscript-npn6-THn.js","assets/subscript-CxkH_W0Q.js","assets/align-left-CvuBJBqS.js","assets/align-center-tqLXpzqr.js","assets/align-right-DozWAHXf.js","assets/align-justify-l-XijsoG.js","assets/plus-C7x19NGG.js","assets/eraser-CD-6hqIR.js","assets/star-0jyOaSWI.js","assets/flag-G8d5nAte.js","assets/apple-Dmf9t_kl.js","assets/clock-bfeIq0FF.js","assets/leaf-DIXVJpbm.js","assets/lightbulb-9KEeNCvf.js","assets/smile-V0RQk2tU.js","assets/compass-D0-d6bqu.js","assets/music-BSW9IYM9.js","assets/x-B5hZZB0F.js","assets/search-DNgoOhTD.js","assets/external-link-DS75tMck.js","assets/redo-2-DLEn6VaO.js","assets/undo-2-ZIkWhpGU.js","assets/list-ofjxiq6E.js","assets/list-ordered-CkZUcc0m.js","assets/list-todo-WNk-aR0m.js","assets/indent-increase-D5cKlvqX.js","assets/pilcrow-DRgVnrcm.js","assets/heading-1-DtFLbrr9.js","assets/heading-2-D8PDVqhC.js","assets/heading-3-Dko0-rrX.js","assets/table-UrCi0mJA.js","assets/file-code-CGnxfci-.js","assets/quote-DKOlzyq1.js","assets/minus-DmUXOAbH.js","assets/square-B2nRJnyz.js","assets/image-DkoiaJ8q.js","assets/table-of-contents-BmQICchh.js","assets/columns-3-C5AKwclk.js","assets/link-2-CBJP5XuP.js","assets/calendar-D1r_hGAF.js","assets/wrap-text-yA1EBX2i.js","assets/link-BuPc_IN9.js","assets/pen-DlSQkgiY.js","assets/eye-DSV6Obr3.js","assets/indent-decrease-C-Z3AIlD.js","assets/trash-CGedXOFz.js","assets/rectangle-vertical-BNDyCfb6.js","assets/rectangle-horizontal-Cx_YyFuD.js","assets/list-collapse-Cd0mW3BM.js","assets/pointer-D0iF5N9k.js","assets/wand-sparkles-DWobOmVE.js","assets/bold-Cdj_oK6Q.js","assets/italic-DHLLt4Zz.js","assets/underline-JglYcCKx.js","assets/strikethrough-klL8hNjm.js","assets/code-xml-CKZsX6NF.js","assets/baseline-BTLTG5ui.js","assets/paint-bucket-DVQ169Dt.js","assets/highlighter-_HUQFdWS.js","assets/arrow-up-to-line-CJSpuuY0.js","assets/circle-DA5ik-lK.js","assets/text-C1VTj0bf.js","assets/unlink-DCgApKSI.js","assets/arrow-left-DOrwke7J.js","assets/arrow-right-BernwXQL.js","assets/download-Cf7bm70Y.js","assets/chevrons-up-down-CMtQO_04.js","assets/trash-2-CcPdiElY.js","assets/chevron-left-D_t8ShKr.js","assets/sparkles-B81gvK-r.js","assets/combine-CoFtnayK.js","assets/ungroup-mo1ytRFU.js","assets/grip-vertical-CriebyMq.js","assets/pen-line-C9N52LTC.js","assets/badge-help-Du31gbxO.js","assets/wand-MGW3kzWu.js","assets/list-end-BSZs50jK.js","assets/list-plus-BC5llLos.js","assets/list-minus-73bL1Rhz.js","assets/feather-B5BEKnO0.js","assets/album-CVppveRt.js","assets/corner-up-left-Cogl-tAb.js","assets/loader-circle-C4NK7O_i.js","assets/plate-editor-D7XtzYg9.css"])))=>i.map(i=>d[i]);
import{r as v,j as f,y as cd,c as Gn,b as Mt,P as fe,f as et,d as le,g as H,L as ee,q as rr,x as oe,e as ms,S as lx,D as ux,l as dx,h as ys,u as Er,m as fx,V as AB,i as TB,p as ue,w as Bt,Q as nr,_ as Pr,K as ld,C as E,T as kr,U as DB,W as px,X as hx,Y as IB,Z as RB,s as mx,$ as yx,a0 as ud,a1 as vx,a2 as LB,t as gx,v as oo,B as ke,a3 as ve,a4 as BB,a5 as bx,a6 as dd,a7 as vs,a8 as fd,a9 as xx,__tla as zB}from"./index-B1uyMJb5.js";import{c as FB,i as pd,a as wx,b as jx,d as $B,u as pe,L as At,e as hd,f as gs,F as $,s as UB,g as tt,H as VB,P as we,h as tn,I as HB,j as bs,k as qB,o as Ox,l as _x,_ as xs,m as Yn,n as ws,p as _t,q as Zn,r as de,t as WB,v as XB,w as Sx,x as KB,y as GB,z as Nr,A as YB,B as ZB,C as JB,D as Ex,E as js,G as md,J as Px,K as QB,M as ez,N as io,O as tz,Q as rz,R as nz,S as Os,T as az,U as oz,V as iz,W as sz,X as cz,Y as lz,Z as uz,$ as dz,a0 as fz,a1 as pz,a2 as hz,a3 as mz,a4 as yz,a5 as vz,__tla as gz}from"./home-DY1OnNLZ.js";import{M as yd,u as _s,P as bz,a as vd,L as xz,m as wz,c as jz,f as kx,i as Oz,b as gd,d as Nx,e as _z,g as Sz,h as Ez,j as Jn,k as so,R as bd,I as xd,A as Pz,C as kz,G as Nz,l as Cz,n as Mz,o as Az,p as Tz,q as Dz,r as Iz,S as Rz,s as Lz,t as Bz,v as zz,w as rt,x as Fz,y as $z,z as Ss,B as wd,D as Cx,E as Mx,F as Ax,H as Tx,J as Dx,K as Ix,N as Rx,O as Uz,Q as Vz,T as Hz,U as qz,V as je,W as Se,X as Lx,Y as Wz,Z as Xz,_ as Kz,$ as Gz,a0 as ar,a1 as Es,a2 as Bx,a3 as zx,a4 as Fx,a5 as $x,a6 as Yz,a7 as Zz,a8 as Jz,a9 as Ux,aa as Vx,ab as Hx,ac as Qz,__tla as eF}from"./routes-RIB_pvGL.js";let qx,Ps,ks,jd,Ns,Wx,Cs,Ms,Od,_d,Sd,Ed,rn,Pd,Xx,kd,Nd,Kx,Cd,Gx,Md,As,Ad,Ts,Yx,Ds,tF=Promise.all([(()=>{try{return zB}catch{}})(),(()=>{try{return gz}catch{}})(),(()=>{try{return eF}catch{}})()]).then(async()=>{var or=(e=>(e.Started="started",e.Inprogress="inprogress",e.Success="success",e.Failed="failed",e))(or||{}),ft=(e=>(e.Human="human",e.User="user",e.AI="ai",e.System="system",e.Assistant="assistant",e.Tool="tool",e.FewShotExample="few_shot_example",e))(ft||{}),co=(e=>(e.Started="started",e.Inprogress="inprogress",e.Done="done",e))(co||{}),ot=(e=>(e.Chat="chat",e.FewShotExample="few_shot_example",e))(ot||{});class Zx extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Jx({children:e,isPresent:t}){const r=v.useId(),n=v.useRef(null),a=v.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=v.useContext(yd);return v.useInsertionEffect(()=>{const{width:i,height:s,top:c,left:l}=a.current;if(t||!n.current||!i||!s)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),f.jsx(Zx,{isPresent:t,childRef:n,sizeRef:a,children:v.cloneElement(e,{ref:n})})}const Qx=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:o,mode:i})=>{const s=_s(ew),c=v.useId(),l=v.useCallback(d=>{s.set(d,!0);for(const p of s.values())if(!p)return;n&&n()},[s,n]),u=v.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:l,register:d=>(s.set(d,!1),()=>s.delete(d))}),o?[Math.random(),l]:[r,l]);return v.useMemo(()=>{s.forEach((d,p)=>s.set(p,!1))},[r]),v.useEffect(()=>{!r&&!s.size&&n&&n()},[r]),i==="popLayout"&&(e=f.jsx(Jx,{isPresent:r,children:e})),f.jsx(bz.Provider,{value:u,children:e})};function ew(){return new Map}const lo=e=>e.key||"";function Td(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const tw=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const s=v.useMemo(()=>Td(e),[e]),c=s.map(lo),l=v.useRef(!0),u=v.useRef(s),d=_s(()=>new Map),[p,m]=v.useState(s),[y,h]=v.useState(s);vd(()=>{l.current=!1,u.current=s;for(let w=0;w<y.length;w++){const _=lo(y[w]);c.includes(_)?d.delete(_):d.get(_)!==!0&&d.set(_,!1)}},[y,c.length,c.join("-")]);const g=[];if(s!==p){let w=[...s];for(let _=0;_<y.length;_++){const x=y[_],j=lo(x);c.includes(j)||(w.splice(_,0,x),g.push(x))}i==="wait"&&g.length&&(w=g),h(Td(w)),m(s);return}const{forceRender:b}=v.useContext(xz);return f.jsx(f.Fragment,{children:y.map(w=>{const _=lo(w),x=s===y||c.includes(_),j=()=>{if(d.has(_))d.set(_,!0);else return;let O=!0;d.forEach(S=>{S||(O=!1)}),O&&(b==null||b(),h(u.current),a&&a())};return f.jsx(Qx,{isPresent:x,initial:!l.current||n?void 0:!1,custom:x?void 0:r,presenceAffectsLayout:o,mode:i,onExitComplete:x?void 0:j,children:w},_)})})};function Is(e){const t=_s(()=>wz(e)),{isStatic:r}=v.useContext(yd);if(r){const[,n]=v.useState(e);v.useEffect(()=>t.on("change",n),[])}return t}function Dd(e,t){const r=Is(t()),n=()=>r.set(t());return n(),vd(()=>{const a=()=>kx.preRender(n,!1,!0),o=e.map(i=>i.on("change",a));return()=>{o.forEach(i=>i()),jz(n)}}),r}const rw=e=>e&&typeof e=="object"&&e.mix,nw=e=>rw(e)?e.mix:void 0;function aw(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],o=e[2+r],i=e[3+r],s=Oz(a,o,{mixer:nw(o[0]),...i});return t?s(n):s}function ow(e){gd.current=[],e();const t=Dd(gd.current,e);return gd.current=void 0,t}function Id(e,t,r,n){if(typeof e=="function")return ow(e);const a=typeof t=="function"?t:aw(t,r,n);return Array.isArray(e)?Rd(e,a):Rd([e],([o])=>a(o))}function Rd(e,t){const r=_s(()=>[]);return Dd(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function Ld(e){return typeof e=="number"?e:parseFloat(e)}function iw(e,t={}){const{isStatic:r}=v.useContext(yd),n=v.useRef(null),a=Is(Nx(e)?Ld(e.get()):e),o=v.useRef(a.get()),i=v.useRef(()=>{}),s=()=>{const l=n.current;l&&l.time===0&&l.sample(_z.delta),c(),n.current=Sz({keyframes:[a.get(),o.current],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:i.current})},c=()=>{n.current&&n.current.stop()};return v.useInsertionEffect(()=>a.attach((l,u)=>r?u(l):(o.current=l,i.current=u,kx.update(s),a.get()),c),[JSON.stringify(t)]),vd(()=>{if(Nx(e))return e.on("change",l=>a.set(Ld(l)))},[a]),a}function sw(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function cw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lw(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=nn(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function uw(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function dw(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=nn(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}function nn(e,t){var r=typeof t,n;return t==null||r==="boolean"?FB(t):(r==="number"?pd:r==="string"?(n=wx(t))?(t=n,jx):$B:t instanceof wx?jx:t instanceof Date?uw:cw(t)?sw:Array.isArray(t)?lw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dw:pd)(e,t)}function Rs(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fw(e,t){t===void 0&&(t=e,e=nn);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}var uo="Menubar",[Ls,pw,hw]=cd(uo),[Bd,rF]=Gn(uo,[hw,Jn]),Ye=Ez(),zd=Jn(),[mw,Bs]=Bd(uo),Fd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,value:n,onValueChange:a,defaultValue:o,loop:i=!0,dir:s,...c}=e,l=so(s),u=zd(r),[d="",p]=Mt({prop:n,onChange:a,defaultProp:o}),[m,y]=v.useState(null);return f.jsx(mw,{scope:r,value:d,onMenuOpen:v.useCallback(h=>{p(h),y(h)},[p]),onMenuClose:v.useCallback(()=>p(""),[p]),onMenuToggle:v.useCallback(h=>{p(g=>g?"":h),y(h)},[p]),dir:l,loop:i,children:f.jsx(Ls.Provider,{scope:r,children:f.jsx(Ls.Slot,{scope:r,children:f.jsx(bd,{asChild:!0,...u,orientation:"horizontal",loop:i,dir:l,currentTabStopId:m,onCurrentTabStopIdChange:y,children:f.jsx(fe.div,{role:"menubar",...c,ref:t})})})})})});Fd.displayName=uo;var zs="MenubarMenu",[yw,$d]=Bd(zs),Ud=e=>{const{__scopeMenubar:t,value:r,...n}=e,a=rt(),o=r||a||"LEGACY_REACT_AUTO_VALUE",i=Bs(zs,t),s=Ye(t),c=v.useRef(null),l=v.useRef(!1),u=i.value===o;return v.useEffect(()=>{u||(l.current=!1)},[u]),f.jsx(yw,{scope:t,value:o,triggerId:rt(),triggerRef:c,contentId:rt(),wasKeyboardTriggerOpenRef:l,children:f.jsx(Fz,{...s,open:u,onOpenChange:d=>{d||i.onMenuClose()},modal:!1,dir:i.dir,...n})})};Ud.displayName=zs;var Fs="MenubarTrigger",Vd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,disabled:n=!1,...a}=e,o=zd(r),i=Ye(r),s=Bs(Fs,r),c=$d(Fs,r),l=v.useRef(null),u=et(t,l,c.triggerRef),[d,p]=v.useState(!1),m=s.value===c.value;return f.jsx(Ls.ItemSlot,{scope:r,value:c.value,disabled:n,children:f.jsx(xd,{asChild:!0,...o,focusable:!n,tabStopId:c.value,children:f.jsx(Pz,{asChild:!0,...i,children:f.jsx(fe.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":m,"aria-controls":m?c.contentId:void 0,"data-highlighted":d?"":void 0,"data-state":m?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:u,onPointerDown:le(e.onPointerDown,y=>{!n&&y.button===0&&y.ctrlKey===!1&&(s.onMenuOpen(c.value),m||y.preventDefault())}),onPointerEnter:le(e.onPointerEnter,()=>{var y;s.value&&!m&&(s.onMenuOpen(c.value),(y=l.current)==null||y.focus())}),onKeyDown:le(e.onKeyDown,y=>{n||(["Enter"," "].includes(y.key)&&s.onMenuToggle(c.value),y.key==="ArrowDown"&&s.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(y.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,y.preventDefault()))}),onFocus:le(e.onFocus,()=>p(!0)),onBlur:le(e.onBlur,()=>p(!1))})})})})});Vd.displayName=Fs;var vw="MenubarPortal",Hd=e=>{const{__scopeMenubar:t,...r}=e,n=Ye(t);return f.jsx($z,{...n,...r})};Hd.displayName=vw;var $s="MenubarContent",qd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,align:n="start",...a}=e,o=Ye(r),i=Bs($s,r),s=$d($s,r),c=pw(r),l=v.useRef(!1);return f.jsx(kz,{id:s.contentId,"aria-labelledby":s.triggerId,"data-radix-menubar-content":"",...o,...a,ref:t,align:n,onCloseAutoFocus:le(e.onCloseAutoFocus,u=>{var d;!i.value&&!l.current&&((d=s.triggerRef.current)==null||d.focus()),l.current=!1,u.preventDefault()}),onFocusOutside:le(e.onFocusOutside,u=>{const d=u.target;c().some(p=>{var m;return(m=p.ref.current)==null?void 0:m.contains(d)})&&u.preventDefault()}),onInteractOutside:le(e.onInteractOutside,()=>{l.current=!0}),onEntryFocus:u=>{s.wasKeyboardTriggerOpenRef.current||u.preventDefault()},onKeyDown:le(e.onKeyDown,u=>{if(["ArrowRight","ArrowLeft"].includes(u.key)){const d=u.target,p=d.hasAttribute("data-radix-menubar-subtrigger"),m=d.closest("[data-radix-menubar-content]")!==u.currentTarget,y=(i.dir==="rtl"?"ArrowRight":"ArrowLeft")===u.key;if(!y&&p||m&&y)return;let h=c().filter(w=>!w.disabled).map(w=>w.value);y&&h.reverse();const g=h.indexOf(s.value);h=i.loop?Aw(h,g+1):h.slice(g+1);const[b]=h;b&&i.onMenuOpen(b)}},{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});qd.displayName=$s;var gw="MenubarGroup",bw=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Nz,{...a,...n,ref:t})});bw.displayName=gw;var xw="MenubarLabel",Wd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Cz,{...a,...n,ref:t})});Wd.displayName=xw;var ww="MenubarItem",Xd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Mz,{...a,...n,ref:t})});Xd.displayName=ww;var jw="MenubarCheckboxItem",Kd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Az,{...a,...n,ref:t})});Kd.displayName=jw;var Ow="MenubarRadioGroup",_w=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Tz,{...a,...n,ref:t})});_w.displayName=Ow;var Sw="MenubarRadioItem",Gd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Dz,{...a,...n,ref:t})});Gd.displayName=Sw;var Ew="MenubarItemIndicator",Yd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Iz,{...a,...n,ref:t})});Yd.displayName=Ew;var Pw="MenubarSeparator",Zd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Rz,{...a,...n,ref:t})});Zd.displayName=Pw;var kw="MenubarArrow",Nw=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Lz,{...a,...n,ref:t})});Nw.displayName=kw;var Cw="MenubarSubTrigger",Jd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(Bz,{"data-radix-menubar-subtrigger":"",...a,...n,ref:t})});Jd.displayName=Cw;var Mw="MenubarSubContent",Qd=v.forwardRef((e,t)=>{const{__scopeMenubar:r,...n}=e,a=Ye(r);return f.jsx(zz,{...a,"data-radix-menubar-content":"",...n,ref:t,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});Qd.displayName=Mw;function Aw(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ef=Fd,Tw=Ud,tf=Vd,Dw=Hd,rf=qd,nf=Wd,af=Xd,of=Kd,sf=Gd,cf=Yd,lf=Zd,uf=Jd,df=Qd;const Us=Tw,ff=v.forwardRef(({className:e,...t},r)=>f.jsx(ef,{ref:r,className:H("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",e),...t}));ff.displayName=ef.displayName;const Vs=v.forwardRef(({className:e,...t},r)=>f.jsx(tf,{ref:r,className:H("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e),...t}));Vs.displayName=tf.displayName;const Iw=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>f.jsxs(uf,{ref:a,className:H("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,f.jsx(ee,{name:"chevron-right",className:"ml-auto h-4 w-4"})]}));Iw.displayName=uf.displayName;const Rw=v.forwardRef(({className:e,...t},r)=>f.jsx(df,{ref:r,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Rw.displayName=df.displayName;const pf=v.forwardRef(({className:e,align:t="start",alignOffset:r=-4,sideOffset:n=8,...a},o)=>f.jsx(Dw,{children:f.jsx(rf,{ref:o,align:t,alignOffset:r,sideOffset:n,className:H("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));pf.displayName=rf.displayName;const hf=v.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(af,{ref:n,className:H("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));hf.displayName=af.displayName;const Lw=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>f.jsxs(of,{ref:a,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(cf,{children:f.jsx(ee,{name:"check",className:"h-4 w-4"})})}),t]}));Lw.displayName=of.displayName;const Bw=v.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(sf,{ref:n,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(cf,{children:f.jsx(ee,{name:"circle",className:"h-2 w-2 fill-current"})})}),t]}));Bw.displayName=sf.displayName;const zw=v.forwardRef(({className:e,inset:t,...r},n)=>f.jsx(nf,{ref:n,className:H("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));zw.displayName=nf.displayName;const Fw=v.forwardRef(({className:e,...t},r)=>f.jsx(lf,{ref:r,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));Fw.displayName=lf.displayName;const He=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:H("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));He.displayName="Card";const it=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:H("flex flex-col space-y-1.5 p-6",e),...t}));it.displayName="CardHeader";const pt=v.forwardRef(({className:e,...t},r)=>f.jsx("h3",{ref:r,className:H("text-2xl font-semibold leading-none tracking-tight",e),...t}));pt.displayName="CardTitle";const mf=v.forwardRef(({className:e,...t},r)=>f.jsx("p",{ref:r,className:H("text-sm text-muted-foreground",e),...t}));mf.displayName="CardDescription";const st=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:H("p-6 pt-0",e),...t}));st.displayName="CardContent";const ir=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:H("flex items-center p-6 pt-0",e),...t}));ir.displayName="CardFooter";const $w=()=>{const e=rr(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=pe(i=>i.pushSyncNodeQueue),a=pe(i=>i.createOrUpdateFlowNode),o=v.useCallback(async(i,s)=>{try{if(!e)throw new Error("Session not found");r(!0);const c=await oe("LLM").findOne({where:{name:s.name,session_id:e}});return c?(n("LLM",{where:{source_type:"LLM",source_id:c.id}}),c):oe("LLM").save({name:`${s.name}`,status:At.Started,session_id:e,provider:hd.WebLLM,metadata:JSON.stringify({}),model_type:s.model_type||gs.LLM,...s}).then(async l=>{var u,d,p;return await a({source_id:l.id,source_type:"LLM",node_type:$.LLM,x:(u=i.position)==null?void 0:u.x,y:((d=i.position)==null?void 0:d.y)+(((p=i.measured)==null?void 0:p.height)||0)+30}),l})}finally{r(!1)}},[a,n,e]);return{loading:t,createDatabaseLLM:o}};var Hs="Popover",[yf,nF]=Gn(Hs,[Ss]),Qn=Ss(),[Uw,sr]=yf(Hs),vf=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,s=Qn(t),c=v.useRef(null),[l,u]=v.useState(!1),[d=!1,p]=Mt({prop:n,defaultProp:a,onChange:o});return f.jsx(Rx,{...s,children:f.jsx(Uw,{scope:t,contentId:rt(),triggerRef:c,open:d,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:l,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:i,children:r})})};vf.displayName=Hs;let qs;qs="PopoverAnchor",Ts=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=sr(qs,r),o=Qn(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:s}=a;return v.useEffect(()=>(i(),()=>s()),[i,s]),f.jsx(wd,{...o,...n,ref:t})}),Ts.displayName=qs;var gf="PopoverTrigger",Ws=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=sr(gf,r),o=Qn(r),i=et(t,a.triggerRef),s=f.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Of(a.open),...n,ref:i,onClick:le(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:f.jsx(wd,{asChild:!0,...o,children:s})});Ws.displayName=gf;var Xs="PopoverPortal",[Vw,Hw]=yf(Xs,{forceMount:void 0}),bf=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=sr(Xs,t);return f.jsx(Vw,{scope:t,forceMount:r,children:f.jsx(ms,{present:r||o.open,children:f.jsx(dx,{asChild:!0,container:a,children:n})})})};bf.displayName=Xs;var an="PopoverContent",xf=v.forwardRef((e,t)=>{const r=Hw(an,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=sr(an,e.__scopePopover);return f.jsx(ms,{present:n||o.open,children:o.modal?f.jsx(qw,{...a,ref:t}):f.jsx(Ww,{...a,ref:t})})});xf.displayName=an;var qw=v.forwardRef((e,t)=>{const r=sr(an,e.__scopePopover),n=v.useRef(null),a=et(t,n),o=v.useRef(!1);return v.useEffect(()=>{const i=n.current;if(i)return Cx(i)},[]),f.jsx(Mx,{as:lx,allowPinchZoom:!0,children:f.jsx(wf,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),o.current||((s=r.triggerRef.current)==null||s.focus())}),onPointerDownOutside:le(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,l=s.button===2||c;o.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:le(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ww=v.forwardRef((e,t)=>{const r=sr(an,e.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return f.jsx(wf,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,s;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||((s=r.triggerRef.current)==null||s.focus()),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var s,c;(s=e.onInteractOutside)==null||s.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;(c=r.triggerRef.current)!=null&&c.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),wf=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,...d}=e,p=sr(an,r),m=Qn(r);return Ax(),f.jsx(Tx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:f.jsx(ux,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>p.onOpenChange(!1),children:f.jsx(Dx,{"data-state":Of(p.open),role:"dialog",id:p.contentId,...m,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),jf="PopoverClose",Xw=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=sr(jf,r);return f.jsx(fe.button,{type:"button",...n,ref:t,onClick:le(e.onClick,()=>a.onOpenChange(!1))})});Xw.displayName=jf;var Kw="PopoverArrow",Gw=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qn(r);return f.jsx(Ix,{...a,...n,ref:t})});Gw.displayName=Kw;function Of(e){return e?"open":"closed"}Md=vf,qx=Ts,Wx=Ws,jd=bf,Ps=xf;const Yw=Md,_f=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>f.jsx(jd,{children:f.jsx(Ps,{ref:a,align:t,sideOffset:r,className:H("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));_f.displayName=Ps.displayName;var Sf=1,Zw=.9,Jw=.8,Qw=.17,Ks=.1,Gs=.999,e1=.9999,t1=.99,r1=/[\\\/_+.#"@\[\(\{&]/,n1=/[\\\/_+.#"@\[\(\{&]/g,a1=/[\s-]/,Ef=/[\s-]/g;function Ys(e,t,r,n,a,o,i){if(o===t.length)return a===e.length?Sf:t1;var s=`${a},${o}`;if(i[s]!==void 0)return i[s];for(var c=n.charAt(o),l=r.indexOf(c,a),u=0,d,p,m,y;l>=0;)d=Ys(e,t,r,n,l+1,o+1,i),d>u&&(l===a?d*=Sf:r1.test(e.charAt(l-1))?(d*=Jw,m=e.slice(a,l-1).match(n1),m&&a>0&&(d*=Math.pow(Gs,m.length))):a1.test(e.charAt(l-1))?(d*=Zw,y=e.slice(a,l-1).match(Ef),y&&a>0&&(d*=Math.pow(Gs,y.length))):(d*=Qw,a>0&&(d*=Math.pow(Gs,l-a))),e.charAt(l)!==t.charAt(o)&&(d*=e1)),(d<Ks&&r.charAt(l-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(l-1)!==n.charAt(o))&&(p=Ys(e,t,r,n,l+1,o+2,i),p*Ks>d&&(d=p*Ks)),d>u&&(u=d),l=r.indexOf(c,l+1);return i[s]=u,u}function Pf(e){return e.toLowerCase().replace(Ef," ")}function o1(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Ys(e,t,Pf(e),Pf(t),0,0,{})}var ea='[cmdk-group=""]',Zs='[cmdk-group-items=""]',i1='[cmdk-group-heading=""]',Js='[cmdk-item=""]',kf=`${Js}:not([aria-disabled="true"])`,Qs="cmdk-item-select",Cr="data-value",s1=(e,t,r)=>o1(e,t,r),Nf=v.createContext(void 0),ta=()=>v.useContext(Nf),Cf=v.createContext(void 0),ec=()=>v.useContext(Cf),Mf=v.createContext(void 0),Af=v.forwardRef((e,t)=>{let r=on(()=>{var A,K;return{search:"",value:(K=(A=e.value)!=null?A:e.defaultValue)!=null?K:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=on(()=>new Set),a=on(()=>new Map),o=on(()=>new Map),i=on(()=>new Set),s=Tf(e),{label:c,children:l,value:u,onValueChange:d,filter:p,shouldFilter:m,loop:y,disablePointerSelection:h=!1,vimBindings:g=!0,...b}=e,w=rt(),_=rt(),x=rt(),j=v.useRef(null),O=g1();Mr(()=>{if(u!==void 0){let A=u.trim();r.current.value=A,S.emit()}},[u]),Mr(()=>{O(6,R)},[]);let S=v.useMemo(()=>({subscribe:A=>(i.current.add(A),()=>i.current.delete(A)),snapshot:()=>r.current,setState:(A,K,Q)=>{var Y,ne,q;if(!Object.is(r.current[A],K)){if(r.current[A]=K,A==="search")C(),M(),O(1,k);else if(A==="value"&&(Q||O(5,R),((Y=s.current)==null?void 0:Y.value)!==void 0)){let ae=K??"";(q=(ne=s.current).onValueChange)==null||q.call(ne,ae);return}S.emit()}},emit:()=>{i.current.forEach(A=>A())}}),[]),P=v.useMemo(()=>({value:(A,K,Q)=>{var Y;K!==((Y=o.current.get(A))==null?void 0:Y.value)&&(o.current.set(A,{value:K,keywords:Q}),r.current.filtered.items.set(A,N(K,Q)),O(2,()=>{M(),S.emit()}))},item:(A,K)=>(n.current.add(A),K&&(a.current.has(K)?a.current.get(K).add(A):a.current.set(K,new Set([A]))),O(3,()=>{C(),M(),r.current.value||k(),S.emit()}),()=>{o.current.delete(A),n.current.delete(A),r.current.filtered.items.delete(A);let Q=T();O(4,()=>{C(),(Q==null?void 0:Q.getAttribute("id"))===A&&k(),S.emit()})}),group:A=>(a.current.has(A)||a.current.set(A,new Set),()=>{o.current.delete(A),a.current.delete(A)}),filter:()=>s.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:w,inputId:x,labelId:_,listInnerRef:j}),[]);function N(A,K){var Q,Y;let ne=(Y=(Q=s.current)==null?void 0:Q.filter)!=null?Y:s1;return A?ne(A,r.current.search,K):0}function M(){if(!r.current.search||s.current.shouldFilter===!1)return;let A=r.current.filtered.items,K=[];r.current.filtered.groups.forEach(Y=>{let ne=a.current.get(Y),q=0;ne.forEach(ae=>{let U=A.get(ae);q=Math.max(U,q)}),K.push([Y,q])});let Q=j.current;I().sort((Y,ne)=>{var q,ae;let U=Y.getAttribute("id"),X=ne.getAttribute("id");return((q=A.get(X))!=null?q:0)-((ae=A.get(U))!=null?ae:0)}).forEach(Y=>{let ne=Y.closest(Zs);ne?ne.appendChild(Y.parentElement===ne?Y:Y.closest(`${Zs} > *`)):Q.appendChild(Y.parentElement===Q?Y:Y.closest(`${Zs} > *`))}),K.sort((Y,ne)=>ne[1]-Y[1]).forEach(Y=>{var ne;let q=(ne=j.current)==null?void 0:ne.querySelector(`${ea}[${Cr}="${encodeURIComponent(Y[0])}"]`);q==null||q.parentElement.appendChild(q)})}function k(){let A=I().find(Q=>Q.getAttribute("aria-disabled")!=="true"),K=A==null?void 0:A.getAttribute(Cr);S.setState("value",K||void 0)}function C(){var A,K,Q,Y;if(!r.current.search||s.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ne=0;for(let q of n.current){let ae=(K=(A=o.current.get(q))==null?void 0:A.value)!=null?K:"",U=(Y=(Q=o.current.get(q))==null?void 0:Q.keywords)!=null?Y:[],X=N(ae,U);r.current.filtered.items.set(q,X),X>0&&ne++}for(let[q,ae]of a.current)for(let U of ae)if(r.current.filtered.items.get(U)>0){r.current.filtered.groups.add(q);break}r.current.filtered.count=ne}function R(){var A,K,Q;let Y=T();Y&&(((A=Y.parentElement)==null?void 0:A.firstChild)===Y&&((Q=(K=Y.closest(ea))==null?void 0:K.querySelector(i1))==null||Q.scrollIntoView({block:"nearest"})),Y.scrollIntoView({block:"nearest"}))}function T(){var A;return(A=j.current)==null?void 0:A.querySelector(`${Js}[aria-selected="true"]`)}function I(){var A;return Array.from(((A=j.current)==null?void 0:A.querySelectorAll(kf))||[])}function L(A){let K=I()[A];K&&S.setState("value",K.getAttribute(Cr))}function F(A){var K;let Q=T(),Y=I(),ne=Y.findIndex(ae=>ae===Q),q=Y[ne+A];(K=s.current)!=null&&K.loop&&(q=ne+A<0?Y[Y.length-1]:ne+A===Y.length?Y[0]:Y[ne+A]),q&&S.setState("value",q.getAttribute(Cr))}function D(A){let K=T(),Q=K==null?void 0:K.closest(ea),Y;for(;Q&&!Y;)Q=A>0?y1(Q,ea):v1(Q,ea),Y=Q==null?void 0:Q.querySelector(kf);Y?S.setState("value",Y.getAttribute(Cr)):F(A)}let V=()=>L(I().length-1),Z=A=>{A.preventDefault(),A.metaKey?V():A.altKey?D(1):F(1)},G=A=>{A.preventDefault(),A.metaKey?L(0):A.altKey?D(-1):F(-1)};return v.createElement(fe.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:A=>{var K;if((K=b.onKeyDown)==null||K.call(b,A),!A.defaultPrevented)switch(A.key){case"n":case"j":{g&&A.ctrlKey&&Z(A);break}case"ArrowDown":{Z(A);break}case"p":case"k":{g&&A.ctrlKey&&G(A);break}case"ArrowUp":{G(A);break}case"Home":{A.preventDefault(),L(0);break}case"End":{A.preventDefault(),V();break}case"Enter":if(!A.nativeEvent.isComposing&&A.keyCode!==229){A.preventDefault();let Q=T();if(Q){let Y=new Event(Qs);Q.dispatchEvent(Y)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:x1},c),fo(e,A=>v.createElement(Cf.Provider,{value:S},v.createElement(Nf.Provider,{value:P},A))))}),c1=v.forwardRef((e,t)=>{var r,n;let a=rt(),o=v.useRef(null),i=v.useContext(Mf),s=ta(),c=Tf(e),l=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;Mr(()=>{if(!l)return s.item(a,i==null?void 0:i.id)},[l]);let u=Df(a,o,[e.value,e.children,o],e.keywords),d=ec(),p=Ar(O=>O.value&&O.value===u.current),m=Ar(O=>l||s.filter()===!1?!0:O.search?O.filtered.items.get(a)>0:!0);v.useEffect(()=>{let O=o.current;if(!(!O||e.disabled))return O.addEventListener(Qs,y),()=>O.removeEventListener(Qs,y)},[m,e.onSelect,e.disabled]);function y(){var O,S;h(),(S=(O=c.current).onSelect)==null||S.call(O,u.current)}function h(){d.setState("value",u.current,!0)}if(!m)return null;let{disabled:g,value:b,onSelect:w,forceMount:_,keywords:x,...j}=e;return v.createElement(fe.div,{ref:ra([o,t]),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!p,"data-disabled":!!g,"data-selected":!!p,onPointerMove:g||s.getDisablePointerSelection()?void 0:h,onClick:g?void 0:y},e.children)}),l1=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...o}=e,i=rt(),s=v.useRef(null),c=v.useRef(null),l=rt(),u=ta(),d=Ar(m=>a||u.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);Mr(()=>u.group(i),[]),Df(i,s,[e.value,e.heading,c]);let p=v.useMemo(()=>({id:i,forceMount:a}),[a]);return v.createElement(fe.div,{ref:ra([s,t]),...o,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:l},r),fo(e,m=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?l:void 0},v.createElement(Mf.Provider,{value:p},m))))}),u1=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=v.useRef(null),o=Ar(i=>!i.search);return!r&&!o?null:v.createElement(fe.div,{ref:ra([a,t]),...n,"cmdk-separator":"",role:"separator"})}),d1=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,o=ec(),i=Ar(u=>u.search),s=Ar(u=>u.value),c=ta(),l=v.useMemo(()=>{var u;let d=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${Js}[${Cr}="${encodeURIComponent(s)}"]`);return d==null?void 0:d.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),v.createElement(fe.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),f1=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=v.useRef(null),i=v.useRef(null),s=ta();return v.useEffect(()=>{if(i.current&&o.current){let c=i.current,l=o.current,u,d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let p=c.offsetHeight;l.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return d.observe(c),()=>{cancelAnimationFrame(u),d.unobserve(c)}}},[]),v.createElement(fe.div,{ref:ra([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":n,id:s.listId},fo(e,c=>v.createElement("div",{ref:ra([i,s.listInnerRef]),"cmdk-list-sizer":""},c)))}),p1=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:o,container:i,...s}=e;return v.createElement(Uz,{open:r,onOpenChange:n},v.createElement(Vz,{container:i},v.createElement(Hz,{"cmdk-overlay":"",className:a}),v.createElement(qz,{"aria-label":e.label,"cmdk-dialog":"",className:o},v.createElement(Af,{ref:t,...s}))))}),h1=v.forwardRef((e,t)=>Ar(r=>r.filtered.count===0)?v.createElement(fe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),m1=v.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return v.createElement(fe.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},fo(e,i=>v.createElement("div",{"aria-hidden":!0},i)))}),nt=Object.assign(Af,{List:f1,Item:c1,Input:d1,Group:l1,Separator:u1,Dialog:p1,Empty:h1,Loading:m1});function y1(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function v1(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Tf(e){let t=v.useRef(e);return Mr(()=>{t.current=e}),t}var Mr=typeof window>"u"?v.useEffect:v.useLayoutEffect;function on(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function ra(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Ar(e){let t=ec(),r=()=>e(t.snapshot());return UB.useSyncExternalStore(t.subscribe,r,r)}function Df(e,t,r,n=[]){let a=v.useRef(),o=ta();return Mr(()=>{var i;let s=(()=>{var l;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(l=u.current.textContent)==null?void 0:l.trim():a.current}})(),c=n.map(l=>l.trim());o.value(e,s,c),(i=t.current)==null||i.setAttribute(Cr,s),a.current=s}),a}var g1=()=>{let[e,t]=v.useState(),r=on(()=>new Map);return Mr(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function b1(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function fo({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(b1(t),{ref:t.ref},r(t.props.children)):r(t)}var x1={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const If=v.forwardRef(({className:e,...t},r)=>f.jsx(nt,{ref:r,className:H("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));If.displayName=nt.displayName;const Rf=v.forwardRef(({className:e,...t},r)=>f.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[f.jsx(ee,{name:"search",className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx(nt.Input,{ref:r,className:H("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Rf.displayName=nt.Input.displayName;const Lf=v.forwardRef(({className:e,...t},r)=>f.jsx(nt.List,{ref:r,className:H("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Lf.displayName=nt.List.displayName;const Bf=v.forwardRef((e,t)=>f.jsx(nt.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Bf.displayName=nt.Empty.displayName;const zf=v.forwardRef(({className:e,...t},r)=>f.jsx(nt.Group,{ref:r,className:H("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));zf.displayName=nt.Group.displayName;const w1=v.forwardRef(({className:e,...t},r)=>f.jsx(nt.Separator,{ref:r,className:H("-mx-1 h-px bg-border",e),...t}));w1.displayName=nt.Separator.displayName;const Ff=v.forwardRef(({className:e,...t},r)=>f.jsx(nt.Item,{ref:r,className:H("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Ff.displayName=nt.Item.displayName;const j1=ys("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Te({className:e,variant:t,...r}){return f.jsx("div",{className:H(j1({variant:t}),e),...r})}function $f(e,[t,r]){return Math.min(r,Math.max(t,e))}function Uf(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var O1=[" ","Enter","ArrowUp","ArrowDown"],_1=[" ","Enter"],na="Select",[po,ho,S1]=cd(na),[sn,aF]=Gn(na,[S1,Ss]),mo=Ss(),[E1,cr]=sn(na),[P1,k1]=sn(na),Vf=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:s,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:p,required:m,form:y}=e,h=mo(t),[g,b]=v.useState(null),[w,_]=v.useState(null),[x,j]=v.useState(!1),O=so(l),[S=!1,P]=Mt({prop:n,defaultProp:a,onChange:o}),[N,M]=Mt({prop:i,defaultProp:s,onChange:c}),k=v.useRef(null),C=g?y||!!g.closest("form"):!0,[R,T]=v.useState(new Set),I=Array.from(R).map(L=>L.props.value).join(";");return f.jsx(Rx,{...h,children:f.jsxs(E1,{required:m,scope:t,trigger:g,onTriggerChange:b,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:x,onValueNodeHasChildrenChange:j,contentId:rt(),value:N,onValueChange:M,open:S,onOpenChange:P,dir:O,triggerPointerDownPosRef:k,disabled:p,children:[f.jsx(po.Provider,{scope:t,children:f.jsx(P1,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(L=>{T(F=>new Set(F).add(L))},[]),onNativeOptionRemove:v.useCallback(L=>{T(F=>{const D=new Set(F);return D.delete(L),D})},[]),children:r})}),C?f.jsxs(hp,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:N,onChange:L=>M(L.target.value),disabled:p,form:y,children:[N===void 0?f.jsx("option",{value:""}):null,Array.from(R)]},I):null]})})};Vf.displayName=na;var Hf="SelectTrigger",qf=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=mo(r),i=cr(Hf,r),s=i.disabled||n,c=et(t,i.onTriggerChange),l=ho(r),u=v.useRef("touch"),[d,p,m]=mp(h=>{const g=l().filter(_=>!_.disabled),b=g.find(_=>_.value===i.value),w=yp(g,h,b);w!==void 0&&i.onValueChange(w.value)}),y=h=>{s||(i.onOpenChange(!0),m()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return f.jsx(wd,{asChild:!0,...o,children:f.jsx(fe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":pp(i.value)?"":void 0,...a,ref:c,onClick:le(a.onClick,h=>{h.currentTarget.focus(),u.current!=="mouse"&&y(h)}),onPointerDown:le(a.onPointerDown,h=>{u.current=h.pointerType;const g=h.target;g.hasPointerCapture(h.pointerId)&&g.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(y(h),h.preventDefault())}),onKeyDown:le(a.onKeyDown,h=>{const g=d.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(g&&h.key===" ")&&O1.includes(h.key)&&(y(),h.preventDefault())})})})});qf.displayName=Hf;var Wf="SelectValue",Xf=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...s}=e,c=cr(Wf,r),{onValueNodeHasChildrenChange:l}=c,u=o!==void 0,d=et(t,c.onValueNodeChange);return Er(()=>{l(u)},[l,u]),f.jsx(fe.span,{...s,ref:d,style:{pointerEvents:"none"},children:pp(c.value)?f.jsx(f.Fragment,{children:i}):o})});Xf.displayName=Wf;var N1="SelectIcon",Kf=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return f.jsx(fe.span,{"aria-hidden":!0,...a,ref:t,children:n||"\u25BC"})});Kf.displayName=N1;var C1="SelectPortal",Gf=e=>f.jsx(dx,{asChild:!0,...e});Gf.displayName=C1;var Tr="SelectContent",Yf=v.forwardRef((e,t)=>{const r=cr(Tr,e.__scopeSelect),[n,a]=v.useState();if(Er(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?fx.createPortal(f.jsx(Zf,{scope:e.__scopeSelect,children:f.jsx(po.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),o):null}return f.jsx(Jf,{...e,ref:t})});Yf.displayName=Tr;var St=10,[Zf,lr]=sn(Tr),M1="SelectContentImpl",Jf=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:h,avoidCollisions:g,...b}=e,w=cr(Tr,r),[_,x]=v.useState(null),[j,O]=v.useState(null),S=et(t,q=>x(q)),[P,N]=v.useState(null),[M,k]=v.useState(null),C=ho(r),[R,T]=v.useState(!1),I=v.useRef(!1);v.useEffect(()=>{if(_)return Cx(_)},[_]),Ax();const L=v.useCallback(q=>{const[ae,...U]=C().map(z=>z.ref.current),[X]=U.slice(-1),te=document.activeElement;for(const z of q)if(z===te||(z==null||z.scrollIntoView({block:"nearest"}),z===ae&&j&&(j.scrollTop=0),z===X&&j&&(j.scrollTop=j.scrollHeight),z==null||z.focus(),document.activeElement!==te))return},[C,j]),F=v.useCallback(()=>L([P,_]),[L,P,_]);v.useEffect(()=>{R&&F()},[R,F]);const{onOpenChange:D,triggerPointerDownPosRef:V}=w;v.useEffect(()=>{if(_){let q={x:0,y:0};const ae=X=>{var te,z;q={x:Math.abs(Math.round(X.pageX)-(((te=V.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(X.pageY)-(((z=V.current)==null?void 0:z.y)??0))}},U=X=>{q.x<=10&&q.y<=10?X.preventDefault():_.contains(X.target)||D(!1),document.removeEventListener("pointermove",ae),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",U,{capture:!0})}}},[_,D,V]),v.useEffect(()=>{const q=()=>D(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[D]);const[Z,G]=mp(q=>{const ae=C().filter(te=>!te.disabled),U=ae.find(te=>te.ref.current===document.activeElement),X=yp(ae,q,U);X&&setTimeout(()=>X.ref.current.focus())}),A=v.useCallback((q,ae,U)=>{const X=!I.current&&!U;(w.value!==void 0&&w.value===ae||X)&&(N(q),X&&(I.current=!0))},[w.value]),K=v.useCallback(()=>_==null?void 0:_.focus(),[_]),Q=v.useCallback((q,ae,U)=>{const X=!I.current&&!U;(w.value!==void 0&&w.value===ae||X)&&k(q)},[w.value]),Y=n==="popper"?tc:Qf,ne=Y===tc?{side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:h,avoidCollisions:g}:{};return f.jsx(Zf,{scope:r,content:_,viewport:j,onViewportChange:O,itemRefCallback:A,selectedItem:P,onItemLeave:K,itemTextRefCallback:Q,focusSelectedItem:F,selectedItemText:M,position:n,isPositioned:R,searchRef:Z,children:f.jsx(Mx,{as:lx,allowPinchZoom:!0,children:f.jsx(Tx,{asChild:!0,trapped:w.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:le(a,q=>{var ae;(ae=w.trigger)==null||ae.focus({preventScroll:!0}),q.preventDefault()}),children:f.jsx(ux,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:f.jsx(Y,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:q=>q.preventDefault(),...b,...ne,onPlaced:()=>T(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:le(b.onKeyDown,q=>{const ae=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!ae&&q.key.length===1&&G(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let U=C().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(q.key)&&(U=U.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const X=q.target,te=U.indexOf(X);U=U.slice(te+1)}setTimeout(()=>L(U)),q.preventDefault()}})})})})})})});Jf.displayName=M1;var A1="SelectItemAlignedPosition",Qf=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=cr(Tr,r),i=lr(Tr,r),[s,c]=v.useState(null),[l,u]=v.useState(null),d=et(t,S=>u(S)),p=ho(r),m=v.useRef(!1),y=v.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:b,focusSelectedItem:w}=i,_=v.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&l&&h&&g&&b){const S=o.trigger.getBoundingClientRect(),P=l.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),M=b.getBoundingClientRect();if(o.dir!=="rtl"){const X=M.left-P.left,te=N.left-X,z=S.left-te,_e=S.width+z,ce=Math.max(_e,P.width),Me=window.innerWidth-St,Ae=$f(te,[St,Math.max(St,Me-ce)]);s.style.minWidth=_e+"px",s.style.left=Ae+"px"}else{const X=P.right-M.right,te=window.innerWidth-N.right-X,z=window.innerWidth-S.right-te,_e=S.width+z,ce=Math.max(_e,P.width),Me=window.innerWidth-St,Ae=$f(te,[St,Math.max(St,Me-ce)]);s.style.minWidth=_e+"px",s.style.right=Ae+"px"}const k=p(),C=window.innerHeight-St*2,R=h.scrollHeight,T=window.getComputedStyle(l),I=parseInt(T.borderTopWidth,10),L=parseInt(T.paddingTop,10),F=parseInt(T.borderBottomWidth,10),D=parseInt(T.paddingBottom,10),V=I+L+R+D+F,Z=Math.min(g.offsetHeight*5,V),G=window.getComputedStyle(h),A=parseInt(G.paddingTop,10),K=parseInt(G.paddingBottom,10),Q=S.top+S.height/2-St,Y=C-Q,ne=g.offsetHeight/2,q=g.offsetTop+ne,ae=I+L+q,U=V-ae;if(ae<=Q){const X=k.length>0&&g===k[k.length-1].ref.current;s.style.bottom="0px";const te=l.clientHeight-h.offsetTop-h.offsetHeight,z=Math.max(Y,ne+(X?K:0)+te+F),_e=ae+z;s.style.height=_e+"px"}else{const X=k.length>0&&g===k[0].ref.current;s.style.top="0px";const te=Math.max(Q,I+h.offsetTop+(X?A:0)+ne)+U;s.style.height=te+"px",h.scrollTop=ae-Q+h.offsetTop}s.style.margin=`${St}px 0`,s.style.minHeight=Z+"px",s.style.maxHeight=C+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,s,l,h,g,b,o.dir,n]);Er(()=>_(),[_]);const[x,j]=v.useState();Er(()=>{l&&j(window.getComputedStyle(l).zIndex)},[l]);const O=v.useCallback(S=>{S&&y.current===!0&&(_(),w==null||w(),y.current=!1)},[_,w]);return f.jsx(D1,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:O,children:f.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:f.jsx(fe.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Qf.displayName=A1;var T1="SelectPopperPosition",tc=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=St,...o}=e,i=mo(r);return f.jsx(Dx,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tc.displayName=T1;var[D1,rc]=sn(Tr,{}),nc="SelectViewport",ep=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=lr(nc,r),i=rc(nc,r),s=et(t,o.onViewportChange),c=v.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(po.Slot,{scope:r,children:f.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:le(a.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&d){const m=Math.abs(c.current-u.scrollTop);if(m>0){const y=window.innerHeight-St*2,h=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),b=Math.max(h,g);if(b<y){const w=b+m,_=Math.min(y,w),x=w-_;d.style.height=_+"px",d.style.bottom==="0px"&&(u.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});ep.displayName=nc;var tp="SelectGroup",[I1,R1]=sn(tp),L1=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=rt();return f.jsx(I1,{scope:r,id:a,children:f.jsx(fe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});L1.displayName=tp;var rp="SelectLabel",np=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=R1(rp,r);return f.jsx(fe.div,{id:a.id,...n,ref:t})});np.displayName=rp;var yo="SelectItem",[B1,ap]=sn(yo),op=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,s=cr(yo,r),c=lr(yo,r),l=s.value===n,[u,d]=v.useState(o??""),[p,m]=v.useState(!1),y=et(t,w=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,w,n,a)}),h=rt(),g=v.useRef("touch"),b=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(B1,{scope:r,value:n,disabled:a,textId:h,isSelected:l,onItemTextChange:v.useCallback(w=>{d(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:f.jsx(po.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:f.jsx(fe.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":l&&p,"data-state":l?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:y,onFocus:le(i.onFocus,()=>m(!0)),onBlur:le(i.onBlur,()=>m(!1)),onClick:le(i.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:le(i.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:le(i.onPointerDown,w=>{g.current=w.pointerType}),onPointerMove:le(i.onPointerMove,w=>{var _;g.current=w.pointerType,a?(_=c.onItemLeave)==null||_.call(c):g.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(i.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:le(i.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(_1.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});op.displayName=yo;var aa="SelectItemText",ip=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=cr(aa,r),s=lr(aa,r),c=ap(aa,r),l=k1(aa,r),[u,d]=v.useState(null),p=et(t,b=>d(b),c.onItemTextChange,b=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,b,c.value,c.disabled)}),m=u==null?void 0:u.textContent,y=v.useMemo(()=>f.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:h,onNativeOptionRemove:g}=l;return Er(()=>(h(y),()=>g(y)),[h,g,y]),f.jsxs(f.Fragment,{children:[f.jsx(fe.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?fx.createPortal(o.children,i.valueNode):null]})});ip.displayName=aa;var sp="SelectItemIndicator",cp=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return ap(sp,r).isSelected?f.jsx(fe.span,{"aria-hidden":!0,...n,ref:t}):null});cp.displayName=sp;var ac="SelectScrollUpButton",lp=v.forwardRef((e,t)=>{const r=lr(ac,e.__scopeSelect),n=rc(ac,e.__scopeSelect),[a,o]=v.useState(!1),i=et(t,n.onScrollButtonChange);return Er(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollTop>0;o(l)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?f.jsx(dp,{...e,ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});lp.displayName=ac;var oc="SelectScrollDownButton",up=v.forwardRef((e,t)=>{const r=lr(oc,e.__scopeSelect),n=rc(oc,e.__scopeSelect),[a,o]=v.useState(!1),i=et(t,n.onScrollButtonChange);return Er(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;o(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?f.jsx(dp,{...e,ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});up.displayName=oc;var dp=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=lr("SelectScrollButton",r),i=v.useRef(null),s=ho(r),c=v.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Er(()=>{var l,u;(u=(l=s().find(d=>d.ref.current===document.activeElement))==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),f.jsx(fe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:le(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:le(a.onPointerMove,()=>{var l;(l=o.onItemLeave)==null||l.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:le(a.onPointerLeave,()=>{c()})})}),z1="SelectSeparator",fp=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(fe.div,{"aria-hidden":!0,...n,ref:t})});fp.displayName=z1;var ic="SelectArrow",F1=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mo(r),o=cr(ic,r),i=lr(ic,r);return o.open&&i.position==="popper"?f.jsx(Ix,{...a,...n,ref:t}):null});F1.displayName=ic;function pp(e){return e===""||e===void 0}var hp=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=v.useRef(null),o=et(t,a),i=Uf(r);return v.useEffect(()=>{const s=a.current,c=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&l){const u=new Event("change",{bubbles:!0});l.call(s,r),s.dispatchEvent(u)}},[i,r]),f.jsx(AB,{asChild:!0,children:f.jsx("select",{...n,ref:o,defaultValue:r})})});hp.displayName="BubbleSelect";function mp(e){const t=TB(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(i=>{const s=r.current+i;t(s),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(s)},[t]),o=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function yp(e,t,r){const n=t.length>1&&Array.from(t).every(s=>s===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=$1(e,Math.max(a,0));n.length===1&&(o=o.filter(s=>s!==r));const i=o.find(s=>s.textValue.toLowerCase().startsWith(n.toLowerCase()));return i!==r?i:void 0}function $1(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var U1=Vf,vp=qf,V1=Xf,H1=Kf,q1=Gf,gp=Yf,W1=ep,bp=np,xp=op,X1=ip,K1=cp,wp=lp,jp=up,Op=fp;const ur=U1,dr=V1,zt=v.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(vp,{ref:n,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,f.jsx(H1,{asChild:!0,children:f.jsx(ee,{name:"chevron-down",className:"h-4 w-4 opacity-50"})})]}));zt.displayName=vp.displayName;const _p=v.forwardRef(({className:e,...t},r)=>f.jsx(wp,{ref:r,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(ee,{name:"chevron-up",className:"h-4 w-4"})}));_p.displayName=wp.displayName;const Sp=v.forwardRef(({className:e,...t},r)=>f.jsx(jp,{ref:r,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(ee,{name:"chevron-down",className:"h-4 w-4"})}));Sp.displayName=jp.displayName;const Ft=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>f.jsx(q1,{children:f.jsxs(gp,{ref:a,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(_p,{}),f.jsx(W1,{className:H("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(Sp,{})]})}));Ft.displayName=gp.displayName;const G1=v.forwardRef(({className:e,...t},r)=>f.jsx(bp,{ref:r,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));G1.displayName=bp.displayName;const ct=v.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(xp,{ref:n,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(K1,{children:f.jsx(ee,{name:"check",className:"h-4 w-4"})})}),f.jsx(X1,{children:t})]}));ct.displayName=xp.displayName;const Y1=v.forwardRef(({className:e,...t},r)=>f.jsx(Op,{ref:r,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));Y1.displayName=Op.displayName;const Z1=[hd.WebLLM],vo=["Qwen2.5-1.5B-Instruct-q4f32_1-MLC","Qwen2.5-Coder-1.5B-Instruct-q4f16_1-MLC","stablelm-2-zephyr-1_6b-q4f16_1-MLC-1k","Phi-3.5-mini-instruct-q4f16_1-MLC-1k","Llama-3.2-3B-Instruct-q4f32_1-MLC"];function J1(e){var T,I,L,F;const{id:t,setDialog:r}=e,{t:n}=ue("components"),{toast:a}=Bt(),o=tt(t),[i,s]=v.useState(""),[c,l]=v.useState(!1),[u,d]=v.useState(""),[p,m]=v.useState(hd.WebLLM),[y,h]=v.useState(!1),[g,b]=v.useState(),w=nr(D=>D.syncCachedLLMURLs),_=nr(D=>D.cachedLLMURLs),{loading:x,createDatabaseLLM:j}=$w();v.useEffect(()=>{Pr(()=>import("./index-COgZMq7t.js").then(async D=>(await D.__tla,D)),__vite__mapDeps([0,1,2,3])).then(async({functionCallingModelIds:D,prebuiltAppConfig:V})=>{const Z=V.model_list;b({modelList:Z,functionCallingModelIds:D})})},[]),v.useEffect(()=>{w()},[w]);const O=v.useMemo(()=>!(g!=null&&g.functionCallingModelIds)||!(g!=null&&g.modelList)?[]:((u?g==null?void 0:g.modelList.filter(D=>D.model_id.toLowerCase().includes(u.toLowerCase())):g==null?void 0:g.modelList)||[]).sort((D,V)=>{const Z=_.some(ne=>ne.includes(D.model_id)),G=_.some(ne=>ne.includes(V.model_id));if(Z&&!G)return-1;if(!Z&&G)return 1;const A=vo.includes(D.model_id),K=vo.includes(V.model_id);if(A&&!K)return-1;if(!A&&K)return 1;const Q=g==null?void 0:g.functionCallingModelIds.includes(D.model_id),Y=g==null?void 0:g.functionCallingModelIds.includes(V.model_id);return Q&&!Y?-1:!Q&&Y?1:D.vram_required_MB&&V.vram_required_MB&&D.vram_required_MB!==V.vram_required_MB?D.vram_required_MB-V.vram_required_MB:D.model_id.localeCompare(V.model_id)}),[g==null?void 0:g.modelList,g==null?void 0:g.functionCallingModelIds,u,_]),S=v.useMemo(()=>{if(!(!i||!(g!=null&&g.modelList)))return g==null?void 0:g.modelList.find(D=>D.model_id===i)},[i,g==null?void 0:g.modelList]);v.useEffect(()=>{!(S!=null&&S.model_id)||!_||h(_.some(D=>D.includes(S.model_id)))},[_,S==null?void 0:S.model_id]);const P=v.useCallback(D=>D===1?"add_llm_card.model_types.embedding":D===2?"add_llm_card.model_types.vlm":"add_llm_card.model_types.llm",[]),N=v.useCallback(D=>D===1?gs.embedding:D===2?gs.VLM:gs.LLM,[]),M=v.useCallback(D=>{s(D),l(!1)},[]),k=v.useCallback(D=>{d(D)},[]),C=v.useCallback(D=>{m(D)},[]),R=async()=>{var D;if(o)try{await j(o,{name:i,model_type:N(S==null?void 0:S.model_type),function_calling:S!=null&&S.model_id?(D=g==null?void 0:g.functionCallingModelIds)==null?void 0:D.includes(S==null?void 0:S.model_id):!1}),r==null||r(!1)}catch{a({description:n("add_llm_card.errors.failed_to_create")})}finally{s("")}};return f.jsxs(He,{className:"w-f",children:[f.jsx(it,{children:f.jsx(pt,{children:n("add_llm_card.title")})}),f.jsxs(st,{children:[f.jsxs("div",{className:"grid w-full gap-1.5",children:[f.jsx(je,{children:n("add_llm_card.provider")}),f.jsxs(ur,{value:p,onValueChange:C,children:[f.jsx(zt,{className:"w-full mb-4",children:f.jsx(dr,{placeholder:n("add_llm_card.provider_select_placeholder")})}),f.jsx(Ft,{children:Object.values(Z1).map(D=>f.jsx(ct,{value:D,children:n(`add_llm_card.providers.${D.toLowerCase()}`)},D))})]}),f.jsx(je,{children:n("add_llm_card.model_name")}),f.jsxs(Yw,{open:c,onOpenChange:l,children:[f.jsx(Ws,{asChild:!0,children:f.jsxs(Se,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[i?S==null?void 0:S.model_id:n("add_llm_card.select_model_placeholder"),f.jsx(ee,{name:"chevrons-up-down",className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),f.jsx(_f,{className:"w-full p-0",children:f.jsxs(If,{children:[f.jsx(Rf,{onValueChange:k,placeholder:n("add_llm_card.search_placeholder")}),f.jsxs(Lf,{children:[f.jsx(Bf,{children:n("add_llm_card.no_model")}),f.jsx(zf,{children:O.map(D=>{var V;return f.jsxs(Ff,{value:D.model_id,onSelect:M,children:[i===D.model_id?f.jsx(ee,{name:"check",className:"mr-2 h-4 w-4"}):f.jsx("div",{className:"mr-2 h-4 w-4"}),f.jsxs("span",{children:[f.jsx(Te,{className:"mr-1",children:n(P(D.model_type))}),D.model_id,_.some(Z=>Z.includes(D.model_id))?f.jsx(Te,{className:"ml-1 mb-1",variant:"outline",children:n("add_llm_card.cached")}):null,vo.some(Z=>Z.includes(D.model_id))?f.jsx(Te,{className:"ml-1 mb-1",variant:"outline",children:n("add_llm_card.recommended")}):null,(V=g==null?void 0:g.functionCallingModelIds)!=null&&V.includes(D.model_id)?f.jsx(Te,{className:"ml-1 mb-1",variant:"outline",children:n("add_llm_card.function_calling")}):null,D.low_resource_required?f.jsx(Te,{className:"ml-1",variant:"outline",children:n("add_llm_card.low_resource_required")}):null,D.vram_required_MB?f.jsxs(Te,{className:"ml-1",variant:"outline",children:["VRAM: ",D.vram_required_MB.toLocaleString("en-US")," MB"]}):null]})]},D.model_id)})})]})]})})]})]}),S?f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{className:"mt-4 text-sm text-muted-foreground center flex gap-1",children:[y?f.jsx(Te,{className:"mb-1",variant:"default",children:n("add_llm_card.has_model_cache")}):null,(T=g==null?void 0:g.functionCallingModelIds)!=null&&T.includes(S.model_id)?f.jsx(Te,{className:"mb-1",variant:"default",children:n("add_llm_card.function_calling")}):null,S.low_resource_required?f.jsx(Te,{className:"mb-1",variant:"default",children:n("add_llm_card.low_resource_required")}):null]}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground center flex",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_type")}),n(P(S.model_type))]}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_url")}),S.model]}),S.vram_required_MB?f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_vram")}),(I=S.vram_required_MB)==null?void 0:I.toLocaleString("en-US")," MB"]}):null,(L=S.overrides)!=null&&L.context_window_size?f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[f.jsx("span",{className:"font-bold mr-2",children:n("add_llm_card.model_context_window_size")}),(F=S.overrides.context_window_size)==null?void 0:F.toLocaleString("en-US")]}):null]}):null]}),f.jsx(ir,{className:"flex justify-between",children:f.jsx(Se,{onClick:R,disabled:!i||x,className:"w-full",children:x?f.jsx(ee,{className:"animate-spin",size:24,name:"loader-circle"}):n(y?"add_llm_card.button_add":"add_llm_card.button_download_and_add")})})]})}const Ep=()=>{const e=rr(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=v.useState(!1),n=pe(o=>o.createOrUpdateFlowNode),a=v.useCallback(async(o,i)=>{var s,c,l;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const u=((s=o.position)==null?void 0:s.x)||0,d=(((c=o.position)==null?void 0:c.y)||0)+(((l=o.measured)==null?void 0:l.height)||0),p=await oe("Prompt").save({content:i.content,prefix:i.prefix,role:i.role||ft.System,status:or.Started,session_id:e,type:i.type||ot.Chat});if(!p)throw new Error("Failed to save prompt");if(!await n({source_id:p.id,source_type:"Prompt",node_type:$.Prompt,x:u,y:d+20}))throw new Error("Failed to save prompt node")}finally{r(!1)}},[e,n]);return{loading:t,createPrompt:a}},$t=v.forwardRef(({className:e,...t},r)=>f.jsx("textarea",{className:H("flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));$t.displayName="Textarea";const Q1={[ot.Chat]:{label:"add_prompt_card.prompt_types.chat",value:ot.Chat},[ot.FewShotExample]:{label:"add_prompt_card.prompt_types.few_shot_example",value:ot.FewShotExample}},ej={[ft.System]:{label:"add_prompt_card.prompt_roles.system",value:ft.System},[ft.Human]:{label:"add_prompt_card.prompt_roles.human",value:ft.Human},[ft.AI]:{label:"add_prompt_card.prompt_roles.ai",value:ft.AI}},Pp=v.memo(({defaultPromptContent:e,defaultPromptRole:t,defaultPromptType:r,hidePromptRole:n,hidePromptType:a,loading:o,onSubmit:i})=>{const[s,c]=v.useState(e||""),[l,u]=v.useState(r||ot.Chat),[d,p]=v.useState(t),[m,y]=v.useState(""),{t:h}=ue("components"),g=v.useCallback(j=>{c(j.target.value)},[]),b=v.useCallback(j=>{y(j.target.value)},[]),w=v.useCallback(j=>{j===ot.FewShotExample&&c(`Question: {input}
Answer: {output}`),u(j)},[]),_=v.useCallback(j=>{p(j)},[]),x=async()=>{await i({content:s,role:d,prefix:m,type:l}),c(""),p(void 0),u("chat"),y("")};return f.jsxs("div",{children:[f.jsxs("div",{className:"grid w-full gap-1.5",children:[a?void 0:f.jsxs(f.Fragment,{children:[f.jsx(je,{children:h("add_prompt_card.prompt_type")}),f.jsxs(ur,{value:l,onValueChange:w,children:[f.jsx(zt,{className:"w-full mb-4",children:f.jsx(dr,{placeholder:h("add_prompt_card.type_select_placeholder")})}),f.jsx(Ft,{children:Object.values(Q1).map(j=>f.jsx(ct,{value:j.value,children:h(j.label)},j.value))})]})]}),n?void 0:f.jsxs(f.Fragment,{children:[f.jsx(je,{children:h("add_prompt_card.prompt_role")}),f.jsxs(ur,{value:d,onValueChange:_,children:[f.jsx(zt,{className:"w-full mb-4",children:f.jsx(dr,{placeholder:h("add_prompt_card.role_select_placeholder")})}),f.jsx(Ft,{children:Object.values(ej).map(j=>f.jsx(ct,{value:j.value,children:h(j.label)},j.value))})]})]}),l===ot.FewShotExample&&f.jsxs(f.Fragment,{children:[f.jsx(je,{children:h("add_prompt_card.prompt_prefix")}),f.jsx($t,{value:m,onChange:b,disabled:!1,className:"h-20",placeholder:h("add_prompt_card.placeholder"),id:"message"}),f.jsx(je,{children:h("add_prompt_card.prompt_content")}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm justify-end items-center",children:[f.jsx(ee,{name:"info",className:"mr-2",size:14}),h("add_prompt_card.few_shot_example_note")]})]}),f.jsx($t,{value:s,onChange:g,disabled:!1,placeholder:h("add_prompt_card.placeholder"),id:"message"})]}),f.jsx("div",{children:f.jsx(Se,{onClick:x,disabled:!(s!=null&&s.length),className:"w-full mt-4",children:o?f.jsx(ee,{name:"loader-circle",className:"animate-spin"}):h("add_prompt_card.button")})})]})}),tj=v.memo(e=>{const{id:t,thread:r,setDialog:n}=e,{t:a}=ue("components"),{toast:o}=Bt(),i=tt(t),{createPrompt:s,loading:c}=Ep(),l=async u=>{if(i)try{if(!(u!=null&&u.content))throw new Error("Prompt data is missing");await s(i,{...u,content:u.content,thread:r}),n==null||n(!1)}catch(d){o({title:`${d}`})}};return f.jsxs(He,{className:"mw-full",children:[f.jsx(it,{children:f.jsx(pt,{children:a("add_prompt_card.title")})}),f.jsx(st,{children:f.jsx(Pp,{onSubmit:l,loading:c,defaultPromptRole:"system",defaultPromptType:"chat"})})]})}),rj=()=>{const e=rr(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=pe(i=>i.createOrUpdateFlowNode),a=v.useCallback((i,s,c,l)=>{var u;if(e){for(const d of s)(u=d.data)!=null&&u.length?a(i,d.data,c,d.id):c.push({name:d.name,type:d.type,enum:d.enum?JSON.stringify(d.enum):"",required:d.required,description:d.description,id:d.id||ld(),parent_id:l,schema_id:i,session_id:e});return c}},[e]),o=v.useCallback(async(i,s)=>{var c,l,u;try{if(!i||!e)throw new Error("Source or Session not found");r(!0);const d=((c=i.position)==null?void 0:c.x)||0,p=(((l=i.position)==null?void 0:l.y)||0)+(((u=i.measured)==null?void 0:u.height)||0),m=await oe("Schema").save({name:"Untitled Schema",session_id:e});if(!m)throw new Error("Failed to save schema");const y=a(m.id,s,[],void 0);if(!(y!=null&&y.length))throw new Error("Failed to convert schema items");if(await oe("SchemaItem").save(y),!await n({source_id:m.id,source_type:"Schema",node_type:$.Schema,x:d,y:p+20}))throw new Error("Failed to save schema node")}finally{r(!1)}},[e,a,n]);return{loading:t,createSchema:o}};var Ut="Accordion",nj=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[sc,aj,oj]=cd(Ut),[go,oF]=Gn(Ut,[oj,Lx]),cc=Lx(),kp=E.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,o=n;return f.jsx(sc.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?f.jsx(lj,{...o,ref:t}):f.jsx(cj,{...a,ref:t})})});kp.displayName=Ut;var[Np,ij]=go(Ut),[Cp,sj]=go(Ut,{collapsible:!1}),cj=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:o=!1,...i}=e,[s,c]=Mt({prop:r,defaultProp:n,onChange:a});return f.jsx(Np,{scope:e.__scopeAccordion,value:s?[s]:[],onItemOpen:c,onItemClose:E.useCallback(()=>o&&c(""),[o,c]),children:f.jsx(Cp,{scope:e.__scopeAccordion,collapsible:o,children:f.jsx(Mp,{...i,ref:t})})})}),lj=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i=[],s]=Mt({prop:r,defaultProp:n,onChange:a}),c=E.useCallback(u=>s((d=[])=>[...d,u]),[s]),l=E.useCallback(u=>s((d=[])=>d.filter(p=>p!==u)),[s]);return f.jsx(Np,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:l,children:f.jsx(Cp,{scope:e.__scopeAccordion,collapsible:!0,children:f.jsx(Mp,{...o,ref:t})})})}),[uj,bo]=go(Ut),Mp=E.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:o="vertical",...i}=e,s=E.useRef(null),c=et(s,t),l=aj(r),u=so(a)==="ltr",d=le(e.onKeyDown,p=>{var S;if(!nj.includes(p.key))return;const m=p.target,y=l().filter(P=>{var N;return!((N=P.ref.current)!=null&&N.disabled)}),h=y.findIndex(P=>P.ref.current===m),g=y.length;if(h===-1)return;p.preventDefault();let b=h;const w=0,_=g-1,x=()=>{b=h+1,b>_&&(b=w)},j=()=>{b=h-1,b<w&&(b=_)};switch(p.key){case"Home":b=w;break;case"End":b=_;break;case"ArrowRight":o==="horizontal"&&(u?x():j());break;case"ArrowDown":o==="vertical"&&x();break;case"ArrowLeft":o==="horizontal"&&(u?j():x());break;case"ArrowUp":o==="vertical"&&j();break}const O=b%g;(S=y[O].ref.current)==null||S.focus()});return f.jsx(uj,{scope:r,disabled:n,direction:a,orientation:o,children:f.jsx(sc.Slot,{scope:r,children:f.jsx(fe.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:d})})})}),xo="AccordionItem",[dj,lc]=go(xo),Ap=E.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,o=bo(xo,r),i=ij(xo,r),s=cc(r),c=rt(),l=n&&i.value.includes(n)||!1,u=o.disabled||e.disabled;return f.jsx(dj,{scope:r,open:l,disabled:u,triggerId:c,children:f.jsx(Wz,{"data-orientation":o.orientation,"data-state":Bp(l),...s,...a,ref:t,disabled:u,open:l,onOpenChange:d=>{d?i.onItemOpen(n):i.onItemClose(n)}})})});Ap.displayName=xo;var Tp="AccordionHeader",Dp=E.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=bo(Ut,r),o=lc(Tp,r);return f.jsx(fe.h3,{"data-orientation":a.orientation,"data-state":Bp(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});Dp.displayName=Tp;var uc="AccordionTrigger",Ip=E.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=bo(Ut,r),o=lc(uc,r),i=sj(uc,r),s=cc(r);return f.jsx(sc.ItemSlot,{scope:r,children:f.jsx(Xz,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...s,...n,ref:t})})});Ip.displayName=uc;var Rp="AccordionContent",Lp=E.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=bo(Ut,r),o=lc(Rp,r),i=cc(r);return f.jsx(Kz,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Lp.displayName=Rp;function Bp(e){return e?"open":"closed"}var fj=kp,pj=Ap,hj=Dp,zp=Ip,Fp=Lp;const $p=fj,dc=v.forwardRef(({className:e,...t},r)=>f.jsx(pj,{ref:r,className:H("border-b",e),...t}));dc.displayName="AccordionItem";const fc=v.forwardRef(({className:e,children:t,...r},n)=>f.jsx(hj,{className:"flex",children:f.jsxs(zp,{ref:n,className:H("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,f.jsx(ee,{name:"chevron-down",className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));fc.displayName=zp.displayName;const pc=v.forwardRef(({className:e,children:t,...r},n)=>f.jsx(Fp,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:f.jsx("div",{className:H("pb-4 pt-0",e),children:t})}));pc.displayName=Fp.displayName;var hc="Checkbox",[mj,iF]=Gn(hc),[yj,vj]=mj(hc),Up=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:s,value:c="on",onCheckedChange:l,form:u,...d}=e,[p,m]=v.useState(null),y=et(t,x=>m(x)),h=v.useRef(!1),g=p?u||!!p.closest("form"):!0,[b=!1,w]=Mt({prop:a,defaultProp:o,onChange:l}),_=v.useRef(b);return v.useEffect(()=>{const x=p==null?void 0:p.form;if(x){const j=()=>w(_.current);return x.addEventListener("reset",j),()=>x.removeEventListener("reset",j)}},[p,w]),f.jsxs(yj,{scope:r,state:b,disabled:s,children:[f.jsx(fe.button,{type:"button",role:"checkbox","aria-checked":fr(b)?"mixed":b,"aria-required":i,"data-state":qp(b),"data-disabled":s?"":void 0,disabled:s,value:c,...d,ref:y,onKeyDown:le(e.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:le(e.onClick,x=>{w(j=>fr(j)?!0:!j),g&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})}),g&&f.jsx(gj,{control:p,bubbles:!h.current,name:n,value:c,checked:b,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"},defaultChecked:fr(o)?!1:o})]})});Up.displayName=hc;var Vp="CheckboxIndicator",Hp=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=vj(Vp,r);return f.jsx(ms,{present:n||fr(o.state)||o.state===!0,children:f.jsx(fe.span,{"data-state":qp(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Hp.displayName=Vp;var gj=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,i=v.useRef(null),s=Uf(r),c=Gz(t);v.useEffect(()=>{const u=i.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});u.indeterminate=fr(r),p.call(u,fr(r)?!1:r),u.dispatchEvent(m)}},[s,r,n]);const l=v.useRef(fr(r)?!1:r);return f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??l.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fr(e){return e==="indeterminate"}function qp(e){return fr(e)?"indeterminate":e?"checked":"unchecked"}As=Up,Ad=Hp;const Wp=v.forwardRef(({className:e,...t},r)=>f.jsx(As,{ref:r,className:H("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:f.jsx(Ad,{className:H("flex items-center justify-center text-current"),children:f.jsx(ee,{name:"check",className:"h-4 w-4"})})}));Wp.displayName=As.displayName;const Xp=v.memo(({setData:e,data:t,id:r})=>{const{t:n}=ue("components"),[a,o]=v.useState({name:"",description:"",type:"string",required:!1,data:[]}),i=v.useMemo(()=>r&&t.find(h=>h.id===r)||a,[t,a,r]),s=v.useCallback(h=>{h.target.value&&!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(h.target.value)||(r?e(g=>[...g.map(b=>b.id===r?{...b,name:h.target.value||""}:b)]):o(g=>({...g,name:h.target.value||""})))},[r,e]),c=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,description:h.target.value||""}:b)]):o(g=>({...g,description:h.target.value||""}))},[r,e]),l=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,type:h||""}:b)]):o(g=>({...g,type:h||"string"}))},[r,e]),u=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,required:!!h||!1}:b)]):o(g=>({...g,required:!!h||!1}))},[r,e]),d=v.useCallback(h=>{r?e(g=>[...g.map(b=>b.id===r?{...b,enum:h.target.value||""}:b)]):o(g=>({...g,enum:h.target.value||""}))},[r,e]),p=v.useCallback(()=>{if(t.find(h=>h.name===a.name))return kr({variant:"destructive",content:"Name already exists"});a.id=ld(),e(h=>[...h,{...a}]),o({name:"",description:"",type:"string",required:!1,id:ld(),parent:r||void 0,data:[]})},[t,a,e,r]),m=v.useCallback(h=>{e(g=>[...g.map(b=>b.id===r?{...b,data:h(b.data||[])}:b)])},[r,e]),y=["object","array"].includes(i.type);return f.jsxs("div",{className:"w-full p-1",children:[f.jsxs("div",{children:[f.jsx(je,{children:n("add_schema_card.field.name")}),f.jsx(ar,{id:"name",onChange:s,placeholder:n("add_schema_card.field.name_placeholder"),value:(i==null?void 0:i.name)||""})]}),f.jsxs("div",{children:[f.jsx(je,{children:n("add_schema_card.field.description")}),f.jsx(ar,{id:"description",placeholder:n("add_schema_card.field.description_placeholder"),onChange:c,value:(i==null?void 0:i.description)||""})]}),f.jsxs("div",{children:[f.jsx(je,{children:n("add_schema_card.field.type")}),f.jsxs(ur,{onValueChange:l,value:(i==null?void 0:i.type)||"",children:[f.jsx(zt,{children:f.jsx(dr,{placeholder:n("add_schema_card.field.type_placeholder")})}),f.jsxs(Ft,{children:[f.jsx(ct,{value:"string",children:n("add_schema_card.types.string")}),f.jsx(ct,{value:"boolean",children:n("add_schema_card.types.boolean")}),f.jsx(ct,{value:"number",children:n("add_schema_card.types.number")}),f.jsx(ct,{value:"object",children:n("add_schema_card.types.object")}),f.jsx(ct,{value:"array",children:n("add_schema_card.types.array")})]})]})]}),f.jsxs("div",{className:"flex items-center h-10",children:[f.jsx(je,{children:n("add_schema_card.field.required")}),f.jsx(Wp,{className:"ml-2","aria-label":"Select row",onCheckedChange:u,checked:i==null?void 0:i.required})]}),y?f.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[f.jsx(je,{children:n("add_schema_card.children")}),f.jsx(Kp,{data:(i==null?void 0:i.data)||[],setData:m})]}):null,(i==null?void 0:i.type)==="enum"?f.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[f.jsx(je,{children:n("add_schema_card.field.enum")}),f.jsx(ar,{id:"enum",onChange:d,placeholder:"Enum"})]}):null,r?null:f.jsx("div",{className:"w-full flex justify-end mt-2",children:f.jsx(Se,{variant:"secondary",disabled:!i.name||!i.description||!i.type,onClick:p,className:"w-full",children:n("add_schema_card.field.add_field")})})]})}),bj=v.memo(({data:e,setData:t})=>f.jsxs($p,{type:"single",collapsible:!0,children:[e.map(r=>f.jsxs(dc,{value:`${r.id}`,children:[f.jsx(fc,{children:r.name}),f.jsx(pc,{children:f.jsx(Xp,{setData:t,data:e,id:r.id})})]},r.id||"new")),f.jsx(He,{className:"p-2 mt-4",children:f.jsx(Xp,{setData:t,data:e})})]})),Kp=bj,xj=v.memo(e=>{const{t}=ue("components"),{id:r}=e,n=tt(r),[a,o]=v.useState([]),{createSchema:i,loading:s}=rj(),c=async()=>{if(n&&(a!=null&&a.length))try{await i(n,a),o([])}catch(l){kr({title:`${l}`})}};return f.jsxs(He,{className:"max-w-lg",children:[f.jsx(it,{children:f.jsx(pt,{children:t("add_schema_card.title")})}),f.jsx(st,{className:"min-w-96",children:f.jsx(Kp,{setData:o,data:a})}),f.jsx(ir,{className:"flex justify-between",children:f.jsx(Se,{disabled:s||!(a!=null&&a.length),onClick:c,className:"w-full",children:s?f.jsx(ee,{name:"loader-circle",className:"animate-spin"}):t("add_schema_card.create")})})]})}),Gp=()=>{const e=rr(o=>{var i;return(i=o.currentSession)==null?void 0:i.id}),[t,r]=v.useState(!1),n=pe(o=>o.createOrUpdateFlowNode),a=v.useCallback(async(o,i,s)=>{var c,l,u;try{if(!o||!e)throw new Error("Source or Session not found");r(!0);const d=((c=o.position)==null?void 0:c.x)||0,p=(((l=o.position)==null?void 0:l.y)||0)+(((u=o.measured)==null?void 0:u.height)||0),m=DB(i,s),y=await oe("CSVData").save({headers:m.headers,csv:m.data,session_id:e});if(!y)throw new Error("Failed to save");if(!await n({source_id:y.id,source_type:"CSVData",node_type:$.CSVData,x:d,y:p+20}))throw new Error("Failed to save node")}finally{r(!1)}},[e,n]);return{loading:t,createCSVData:a}},wo=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:r,className:H("w-full caption-bottom text-sm",e),...t})}));wo.displayName="Table";const jo=v.forwardRef(({className:e,...t},r)=>f.jsx("thead",{ref:r,className:H("[&_tr]:border-b",e),...t}));jo.displayName="TableHeader";const Oo=v.forwardRef(({className:e,...t},r)=>f.jsx("tbody",{ref:r,className:H("[&_tr:last-child]:border-0",e),...t}));Oo.displayName="TableBody";const wj=v.forwardRef(({className:e,...t},r)=>f.jsx("tfoot",{ref:r,className:H("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));wj.displayName="TableFooter";const Dr=v.forwardRef(({className:e,...t},r)=>f.jsx("tr",{ref:r,className:H("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Dr.displayName="TableRow";const cn=v.forwardRef(({className:e,...t},r)=>f.jsx("th",{ref:r,className:H("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));cn.displayName="TableHead";const ln=v.forwardRef(({className:e,...t},r)=>f.jsx("td",{ref:r,className:H("align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ln.displayName="TableCell";const jj=v.forwardRef(({className:e,...t},r)=>f.jsx("caption",{ref:r,className:H("mt-4 text-sm text-muted-foreground",e),...t}));jj.displayName="TableCaption";function Oj({data:e}){const{t}=ue("components");return f.jsxs(wo,{className:"w-full",children:[f.jsx(jo,{children:f.jsxs(Dr,{children:[f.jsx(cn,{children:t("add_few_shot_example_card.input")}),f.jsx(cn,{children:t("add_few_shot_example_card.output")})]})}),f.jsx(Oo,{children:e==null?void 0:e.map((r,n)=>f.jsxs(Dr,{children:[f.jsx(ln,{className:"p-4",children:r.input}),f.jsx(ln,{className:"p-4",children:r.output})]},`${r.input}_${r.output}_${n}`))})]})}const _j=v.memo(e=>{const{id:t}=e,{t:r}=ue("components"),[n,a]=v.useState([]),[o,i]=v.useState(""),[s,c]=v.useState(""),l=tt(t),{createCSVData:u,loading:d}=Gp(),p=()=>{a(y=>[...y,{input:o,output:s}]),i(""),c("")},m=async()=>{l&&await u(l,["input","output"],n.map(y=>[y.input,y.output]))};return f.jsxs(He,{className:"mw-full",children:[f.jsx(it,{children:f.jsx(pt,{children:r("add_few_shot_example_card.title")})}),f.jsxs(st,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(je,{htmlFor:"name",children:r("add_few_shot_example_card.input")}),f.jsx(ar,{value:o,onChange:y=>i(y.target.value||""),id:"name",placeholder:r("add_few_shot_example_card.input_placeholder")})]}),f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(je,{htmlFor:"name",children:r("add_few_shot_example_card.output")}),f.jsx($t,{value:s,onChange:y=>c(y.target.value||""),placeholder:r("add_few_shot_example_card.output_placeholder")})]}),f.jsx("div",{className:"w-full flex mt-4 justify-end",children:f.jsx(Se,{disabled:!o||!s,onClick:p,className:"w-40",children:r("add_few_shot_example_card.add")})}),f.jsx(Oj,{data:n||[]})]}),f.jsx(ir,{className:"flex justify-between",children:f.jsx(Se,{onClick:m,disabled:d||!(n!=null&&n.length),className:"w-full",children:d?f.jsx(ee,{name:"loader-circle",className:"animate-spin"}):r("add_few_shot_example_card.create")})})]})}),Sj=()=>{const e=rr(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=pe(i=>i.createOrUpdateFlowNode),a=pe(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async(i,s,c)=>{var l,u,d;try{if(!i||!e)throw new Error("Source or Session not found");if(!s.name||!s.description)throw new Error("Name is required");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,m=(((u=i.position)==null?void 0:u.y)||0)+(((d=i.measured)==null?void 0:d.height)||0),y=await oe("ToolDefinition").save({...s,name:`${s.name}`,description:`${s.description}`,session_id:e});if(!y)throw new Error("Failed create tool.");const h=await n({source_id:y.id,source_type:"ToolDefinition",node_type:$.ToolDefinition,x:p,y:m+20});if(!h)throw new Error("Failed to save node");c!=null&&c.schemaNode&&await a({source:c.schemaNode.id,target:h.id})}finally{r(!1)}},[e,n,a]);return{loading:t,createTool:o}},Ej=v.memo(e=>{const{t}=ue("components"),{toast:r}=Bt(),{id:n}=e,a=tt(n),[o,i]=v.useState(""),[s,c]=v.useState(""),{createTool:l,loading:u}=Sj(),d=y=>{i(y.target.value)},p=y=>{c(y.target.value)},m=async()=>{if(a&&o&&s)try{await l(a,{name:o,description:s}),i(""),c("")}catch(y){console.warn(y),r({title:t("add_tool_card.errors.create_tool_failed")})}};return f.jsxs(He,{className:"mw-full",children:[f.jsx(it,{children:f.jsx(pt,{children:t("add_tool_card.title")})}),f.jsxs(st,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5",children:[f.jsx(je,{htmlFor:"name",children:t("add_tool_card.tool_name")}),f.jsx(ar,{onChange:d,id:"name",placeholder:t("add_tool_card.name_placeholder")})]}),f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(je,{htmlFor:"name",children:t("add_tool_card.tool_description")}),f.jsx($t,{onChange:p,placeholder:t("add_tool_card.description_placeholder")})]})]}),f.jsx(ir,{className:"flex justify-between",children:f.jsx(Se,{onClick:m,disabled:u,className:"w-full",children:u?f.jsx(ee,{name:"loader-circle",className:"animate-spin"}):t("add_tool_card.create")})})]})}),oa=[px.Memory],ia=[hx.DataNode],Pj=["TokenTextSplitter","CharacterTextSplitter","RecursiveCharacterTextSplitter"],kj=()=>{const e=rr(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=pe(i=>i.createOrUpdateFlowNode),a=pe(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async(i,s,c)=>{var l,u,d;try{if(!(s!=null&&s.name)||!i||!e)throw new Error("Source or Session not found");r(!0);const p=((l=i.position)==null?void 0:l.x)||0,m=(((u=i.position)==null?void 0:u.y)||0)+(((d=i.measured)==null?void 0:d.height)||0),y=await oe("JSONLData").save({headers:IB(["content","embedding","metadata"]),jsonl:"",session_id:e});if(!y)throw new Error("Failed to save databaseSource");const h=await n({source_id:y.id,source_type:"JSONLData",node_type:$.JSONLData,x:p+80,y:m+30});if(!h)throw new Error("Failed to save databaseSource node");const g=await oe("VectorDatabase").save({...s,name:`${s.name}`,type:s.type||RB.Local,storage:s.storage||hx.DataNode,provider:s.provider||px.Memory,session_id:e,metadata:c?JSON.stringify({textSplitter:c}):void 0});if(!g)throw new Error("Failed to save vectorDatabase");const b=await n({source_id:g.id,source_type:"VectorDatabase",node_type:$.VectorDatabase,x:p,y:m+30});if(!b)throw new Error("Failed to save vectorDatabase node");return await a({source:h.id,target:b.id}),{vectorDatabase:g,vectorDatabaseNode:b}}finally{r(!1)}},[e,n,a]);return{loading:t,createVectorDatabase:o}},Nj=v.memo(e=>{const{t}=ue("components"),{id:r}=e,n=tt(r),{toast:a}=Bt(),[o,i]=v.useState(""),[s,c]=v.useState(oa[0]),[l,u]=v.useState(ia[0]),[d,p]=v.useState({}),{loading:m,createVectorDatabase:y}=kj(),h=v.useCallback(O=>{c(O)},[]),g=v.useCallback(O=>{u(O)},[]),b=v.useCallback(O=>{p(S=>({...S,type:O,chunkSize:500,chunkOverlap:40}))},[]),w=v.useCallback(O=>{i(O.target.value||"")},[]),_=v.useCallback(O=>{p(S=>({...S,chunkSize:Number(O.target.value)}))},[]),x=v.useCallback(O=>{p(S=>({...S,chunkOverlap:Number(O.target.value)}))},[]),j=async()=>{try{if(!n)return;await y(n,{name:o,provider:s,storage:l},d!=null&&d.type?{type:d.type,chunkSize:d.chunkSize||500,chunkOverlap:d.chunkOverlap||0}:void 0),i(""),p({})}catch{a({description:t("create_vector_database_card.errors.create_failed")})}};return f.jsxs(He,{className:"mw-full",children:[f.jsx(it,{children:f.jsx(pt,{children:t("create_vector_database_card.title")})}),f.jsx(st,{children:f.jsxs("div",{className:"grid w-full gap-1.5",children:[f.jsx(je,{children:t("create_vector_database_card.name")}),f.jsx(ar,{className:"mb-4",value:o,onChange:w}),(ia==null?void 0:ia.length)>1?f.jsxs(f.Fragment,{children:[f.jsx(je,{children:t("create_vector_database_card.storage_type")}),f.jsxs(ur,{value:l,onValueChange:g,children:[f.jsx(zt,{className:"w-full mb-4",children:f.jsx(dr,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),f.jsx(Ft,{children:Object.values(ia).map(O=>f.jsx(ct,{value:O,children:t(`create_vector_database_card.storage_types.${O.toLowerCase()}`)},O))})]})]}):void 0,(oa==null?void 0:oa.length)>1?f.jsxs(f.Fragment,{children:[f.jsx(je,{children:t("create_vector_database_card.provider")}),f.jsxs(ur,{value:s,onValueChange:h,children:[f.jsx(zt,{className:"w-full mb-4",children:f.jsx(dr,{placeholder:t("create_vector_database_card.provider_select_placeholder")})}),f.jsx(Ft,{children:Object.values(oa).map(O=>f.jsx(ct,{value:O,children:t(`create_vector_database_card.providers.${O.toLowerCase()}`)},O))})]})]}):void 0,f.jsx(je,{children:t("create_vector_database_card.text_splitter")}),f.jsxs(ur,{value:d.type,onValueChange:b,children:[f.jsx(zt,{className:"w-full mb-4",children:f.jsx(dr,{placeholder:t("create_vector_database_card.text_splitter_select_placeholder")})}),f.jsx(Ft,{children:Object.values(Pj).map(O=>f.jsx(ct,{value:O,children:t(`create_vector_database_card.text_splitters.${O.toLowerCase()}`)},O))})]}),d.type?f.jsxs(He,{children:[f.jsx(it,{children:f.jsx(pt,{children:t("create_vector_database_card.text_splitter_configuration")})}),f.jsxs(st,{children:[f.jsx(je,{children:t("create_vector_database_card.text_splitter_chunksize")}),f.jsx(ar,{value:d.chunkSize,onChange:_,placeholder:t("create_vector_database_card.text_splitter_chunksize_placeholder")}),f.jsx(je,{children:t("create_vector_database_card.text_splitter_chunkoverlap")}),f.jsx(ar,{value:d.chunkOverlap,onChange:x,placeholder:t("create_vector_database_card.text_splitter_chunkoverlap_placeholder")})]})]}):void 0]})}),f.jsx(ir,{className:"flex justify-between",children:f.jsx(Se,{disabled:!d.type||!o,onClick:j,className:"w-full",children:m?f.jsx(ee,{name:"loader-circle",className:"animate-spin"}):t("create_vector_database_card.create")})})]})}),Cj=e=>v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"64 64 384.000000 384.000000",preserveAspectRatio:"xMidYMid meet",fill:"#000000",...e},v.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",stroke:"none"},v.createElement("path",{d:"M1953 3948 c-13 -21 -16 -289 -4 -369 15 -97 39 -193 62 -247 l18 -42 -69 -133 -69 -132 32 -22 c18 -12 40 -25 49 -28 24 -9 13 -25 -18 -25 -13 0 -24 -4 -24 -9 0 -13 40 -60 61 -71 10 -6 107 -15 215 -21 175 -9 198 -8 214 6 10 9 33 18 51 21 31 4 40 -1 92 -52 64 -63 70 -88 25 -114 -22 -12 -33 -12 -58 -3 -34 13 -41 0 -9 -17 24 -13 73 -5 89 15 10 12 17 11 43 -6 41 -24 59 -24 88 2 l24 20 -28 -17 c-26 -16 -31 -16 -62 -1 -58 27 -55 54 11 120 65 65 90 71 145 34 31 -20 41 -21 114 -15 44 4 129 10 190 14 107 6 110 7 142 39 39 39 42 55 8 55 -37 0 -31 17 14 40 22 11 42 24 46 30 7 11 -13 51 -90 184 -54 95 -54 95 -39 131 8 20 27 84 41 143 24 95 27 126 28 284 0 125 -4 180 -12 189 -30 30 -262 -126 -372 -250 l-62 -70 -42 16 c-67 25 -247 28 -332 6 l-70 -19 -86 86 c-96 96 -180 160 -272 207 -70 37 -73 38 -84 21z m1117 -261 c0 -2 -9 -14 -20 -27 -11 -13 -20 -19 -20 -15 0 5 7 17 17 27 15 17 23 22 23 15z m-830 -97 c6 -11 7 -20 2 -20 -6 0 -12 9 -15 20 -3 11 -3 20 -1 20 2 0 8 -9 14 -20z m744 -15 c-9 -14 -18 -25 -21 -25 -5 0 5 18 20 38 17 22 18 13 1 -13z m-654 -534 c0 -27 4 -61 10 -75 8 -21 7 -26 -6 -26 -38 0 -100 67 -119 128 -6 21 -4 22 54 22 l61 0 0 -49z m700 39 c0 -44 -80 -140 -117 -140 -12 0 -14 7 -9 31 3 17 6 51 6 75 l0 44 60 0 c35 0 60 -4 60 -10z m-587 -35 c15 -14 27 -30 27 -34 0 -18 -42 -60 -69 -69 -29 -10 -30 -10 -20 14 5 14 9 45 9 70 0 51 12 56 53 19z m411 -37 c3 -34 4 -64 1 -66 -15 -15 -85 53 -85 82 0 7 61 46 71 46 3 0 9 -28 13 -62z"}),v.createElement("path",{d:"M1590 3717 c0 -2 15 -16 33 -33 l32 -29 -29 33 c-28 30 -36 37 -36 29z"}),v.createElement("path",{d:"M1723 2863 c26 -2 68 -2 95 0 26 2 4 3 -48 3 -52 0 -74 -1 -47 -3z"}),v.createElement("path",{d:"M3403 2863 c31 -2 83 -2 115 0 31 2 5 3 -58 3 -63 0 -89 -1 -57 -3z"}),v.createElement("path",{d:"M3258 2853 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M2010 2830 c4 -8 20 -26 35 -40 l27 -25 -24 -6 c-16 -4 -7 -7 32 -13 58 -7 245 20 305 44 30 12 30 12 7 21 -23 9 -190 25 -324 32 -57 2 -65 1 -58 -13z"}),v.createElement("path",{d:"M3165 2844 c-148 -9 -306 -28 -293 -35 8 -6 -3 -9 -32 -10 -39 -1 -36 -3 25 -11 39 -5 79 -13 90 -18 33 -15 173 -32 197 -24 13 4 37 7 53 7 29 0 29 0 3 4 -33 5 -35 14 -7 39 29 26 44 55 27 52 -7 -1 -35 -3 -63 -4z"}),v.createElement("path",{d:"M2300 2749 c-63 -10 -130 -19 -147 -20 -37 -3 -40 -7 -17 -24 14 -9 -3 -19 -100 -60 -63 -27 -114 -51 -112 -53 3 -2 57 19 121 47 l117 50 41 -30 c51 -37 105 -61 121 -53 6 3 -11 -14 -39 -38 -172 -148 -266 -262 -325 -392 -16 -35 -36 -66 -45 -70 -9 -3 -55 -6 -102 -6 -94 0 -130 -16 -158 -70 -20 -39 -19 -80 10 -341 32 -287 32 -264 -5 -242 -56 33 -110 97 -139 168 -43 104 -99 136 -175 100 -122 -58 -74 -289 92 -450 65 -63 155 -118 231 -140 l59 -18 6 -56 c4 -31 15 -71 26 -89 39 -64 1 -62 962 -62 848 0 874 1 905 20 61 37 61 34 119 556 58 521 58 539 12 581 -44 40 -62 43 -242 43 l-176 0 -40 82 c-73 146 -155 247 -294 356 l-77 61 43 22 c23 12 60 33 81 47 32 21 41 23 63 13 36 -16 44 -13 12 5 -32 17 -36 31 -10 37 9 3 -2 5 -24 6 -23 0 -77 7 -120 15 -90 16 -164 26 -164 21 0 -2 31 -13 70 -25 63 -20 69 -23 60 -41 -23 -42 -111 -99 -194 -124 -99 -30 -148 -31 -236 -5 -73 22 -182 87 -200 119 -12 23 -15 21 85 60 59 24 54 24 -95 0z m1414 -684 c35 -23 56 -65 56 -112 1 -65 -91 -906 -103 -947 -7 -22 -24 -48 -40 -60 -28 -21 -34 -21 -900 -24 -851 -2 -873 -2 -904 17 -18 11 -39 30 -47 43 -15 23 -39 208 -71 538 -9 85 -22 211 -30 280 -22 184 -21 194 19 238 34 37 35 37 133 43 54 4 494 6 979 4 823 -2 883 -4 908 -20z"}),v.createElement("path",{d:"M1973 2743 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),v.createElement("path",{d:"M3263 2743 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),v.createElement("path",{d:"M1908 2733 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M2435 2730 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0 -8 -4 -11 -10z"}),v.createElement("path",{d:"M3328 2733 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M1848 2723 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3383 2723 c9 -2 23 -2 30 0 6 3 -1 5 -18 5 -16 0 -22 -2 -12 -5z"}),v.createElement("path",{d:"M1798 2713 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3438 2713 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),v.createElement("path",{d:"M1738 2703 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3488 2703 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),v.createElement("path",{d:"M1688 2693 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"}),v.createElement("path",{d:"M3538 2693 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"}),v.createElement("path",{d:"M3170 2660 c8 -5 20 -10 25 -10 6 0 3 5 -5 10 -8 5 -19 10 -25 10 -5 0 -3 -5 5 -10z"}),v.createElement("path",{d:"M3230 2635 c14 -8 30 -14 35 -14 6 0 -1 6 -15 14 -14 8 -29 14 -35 14 -5 0 1 -6 15 -14z"}),v.createElement("path",{d:"M3349 2584 c41 -19 76 -33 78 -31 4 5 -133 67 -145 66 -4 0 26 -16 67 -35z"}),v.createElement("path",{d:"M1860 2570 c-8 -5 -10 -10 -5 -10 6 0 17 5 25 10 8 5 11 10 5 10 -5 0 -17 -5 -25 -10z"}),v.createElement("path",{d:"M1764 2524 c-18 -14 -18 -14 6 -3 31 14 36 19 24 19 -6 0 -19 -7 -30 -16z"}),v.createElement("path",{d:"M3470 2530 c8 -5 20 -10 25 -10 6 0 3 5 -5 10 -8 5 -19 10 -25 10 -5 0 -3 -5 5 -10z"})));function Mj({data:e}){const{t}=ue("components");return f.jsxs(wo,{className:"w-full",children:[f.jsx(jo,{children:f.jsx(Dr,{children:f.jsx(cn,{children:t("add_text_data.text")})})}),f.jsx(Oo,{children:e==null?void 0:e.map((r,n)=>f.jsx(Dr,{children:f.jsx(ln,{className:"p-4",children:r.text})},`${r.text}_${n}`))})]})}const Aj=v.memo(e=>{const{id:t}=e,{t:r}=ue("components"),[n,a]=v.useState([]),[o,i]=v.useState(""),s=tt(t),{createCSVData:c,loading:l}=Gp(),u=()=>{a(p=>[...p,{text:o}]),i("")},d=async()=>{s&&await c(s,["text"],n.map(p=>[p.text]))};return f.jsxs(He,{className:"mw-full",children:[f.jsx(it,{children:f.jsx(pt,{children:r("add_text_data.title")})}),f.jsxs(st,{children:[f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(je,{htmlFor:"name",children:r("add_text_data.text")}),f.jsx($t,{value:o,onChange:p=>i(p.target.value||""),placeholder:r("add_text_data.text_placeholder")})]}),f.jsx("div",{className:"w-full flex mt-4 justify-end",children:f.jsx(Se,{disabled:!o,onClick:u,className:"w-40",children:r("add_text_data.add")})}),f.jsx(Mj,{data:n||[]})]}),f.jsx(ir,{className:"flex justify-between",children:f.jsx(Se,{onClick:d,disabled:l||!(n!=null&&n.length),className:"w-full",children:l?f.jsx(ee,{name:"loader-circle",className:"animate-spin"}):r("add_text_data.create")})})]})});var Vt=(e=>(e.ADD_LLM="ADD_LLM",e.ADD_PROMPT="ADD_PROMPT",e.ADD_TOOL_DEFINITION="ADD_TOOL_DEFINITION",e.ADD_SCHEMA="ADD_SCHEMA",e.ADD_FEW_SHOT_EXAMPLE="ADD_FEW_SHOT_EXAMPLE",e.ADD_VECTOR_DATABASE="ADD_VECTOR_DATABASE",e.ADD_TEXT_DATA="ADD_TEXT_DATA",e))(Vt||{});const Tj=["ADD_LLM","ADD_PROMPT","ADD_SCHEMA","ADD_VECTOR_DATABASE",{key:"more",label:"more",icon:"ellipsis",children:["ADD_TOOL_DEFINITION","ADD_FEW_SHOT_EXAMPLE"]}],Dj=()=>{const e="_coolMode_effect",t=document.getElementById(e);if(t)return t;const r=document.createElement("div");return r.setAttribute("id",e),r.setAttribute("style","overflow:hidden; position:fixed; height:100%; top:0; left:0; right:0; bottom:0; pointer-events:none; z-index:2147483647"),document.body.appendChild(r),r};let Yp=0;const Ij=(e,t)=>{Yp++;const r=(t==null?void 0:t.particle)||"circle",n=[15,20,25,35,45],a=45;let o=[],i=!1,s=0,c=0;const l=Dj();function u(){const S=(t==null?void 0:t.size)||n[Math.floor(Math.random()*n.length)],P=(t==null?void 0:t.speedHorz)||Math.random()*10,N=(t==null?void 0:t.speedUp)||Math.random()*25,M=Math.random()*360,k=Math.random()*35*(Math.random()<=.5?-1:1),C=c-S/2,R=s-S/2,T=Math.random()<=.5?-1:1,I=document.createElement("div");if(r==="circle"){const L="http://www.w3.org/2000/svg",F=document.createElementNS(L,"svg"),D=document.createElementNS(L,"circle");D.setAttributeNS(null,"cx",(S/2).toString()),D.setAttributeNS(null,"cy",(S/2).toString()),D.setAttributeNS(null,"r",(S/2).toString()),D.setAttributeNS(null,"fill",`hsl(${Math.random()*360}, 70%, 50%)`),F.appendChild(D),F.setAttribute("width",S.toString()),F.setAttribute("height",S.toString()),I.appendChild(F)}else I.innerHTML=`<img src="${r}" width="${S}" height="${S}" style="border-radius: 50%">`;I.style.position="absolute",I.style.transform=`translate3d(${R}px, ${C}px, 0px) rotate(${M}deg)`,l.appendChild(I),o.push({direction:T,element:I,left:R,size:S,speedHorz:P,speedUp:N,spinSpeed:k,spinVal:M,top:C})}function d(){o.forEach(S=>{S.left=S.left-S.speedHorz*S.direction,S.top=S.top-S.speedUp,S.speedUp=Math.min(S.size,S.speedUp-1),S.spinVal=S.spinVal+S.spinSpeed,S.top>=Math.max(window.innerHeight,document.body.clientHeight)+S.size&&(o=o.filter(P=>P!==S),S.element.remove()),S.element.setAttribute("style",["position:absolute","will-change:transform",`top:${S.top}px`,`left:${S.left}px`,`transform:rotate(${S.spinVal}deg)`].join(";"))})}let p,m=0;const y=30;function h(){const S=performance.now();i&&o.length<a&&S-m>y&&(u(),m=S),d(),p=requestAnimationFrame(h)}h();const g="ontouchstart"in window,b=g?"touchstart":"mousedown",w=g?"touchend":"mouseup",_=g?"touchmove":"mousemove",x=S=>{var P,N;"touches"in S?(s=(P=S.touches)==null?void 0:P[0].clientX,c=(N=S.touches)==null?void 0:N[0].clientY):(s=S.clientX,c=S.clientY)},j=S=>{x(S),i=!0},O=()=>{i=!1};return e.addEventListener(_,x,{passive:!0}),e.addEventListener(b,j,{passive:!0}),e.addEventListener(w,O,{passive:!0}),e.addEventListener("mouseleave",O,{passive:!0}),()=>{e.removeEventListener(_,x),e.removeEventListener(b,j),e.removeEventListener(w,O),e.removeEventListener("mouseleave",O);const S=setInterval(()=>{p&&o.length===0&&(cancelAnimationFrame(p),clearInterval(S),--Yp===0&&l.remove())},500)}},Rj=({children:e,options:t})=>{const r=v.useRef(null);return v.useEffect(()=>{if(r.current)return Ij(r.current,t)},[t]),E.cloneElement(e,{ref:r})},Lj=v.memo(e=>{const{t}=ue("flows"),r=mx(s=>s.theme),[n,a]=v.useState(`${Vt.ADD_LLM}`),o=v.useMemo(()=>f.jsxs(ff,{children:[f.jsx(Us,{children:f.jsx(Rj,{children:f.jsx(Se,{variant:"link",className:"!p-0 !pl-3",children:f.jsx(Cj,{width:32,height:32,className:H(r==="dark"?"fill-white":"fill-black")})})})}),Tj.map(s=>typeof s=="object"?f.jsxs(Us,{children:[f.jsx(Vs,{children:s.icon?f.jsx(ee,{name:s.icon}):t(`supported_nodes.${s.label}`)}),f.jsx(pf,{children:s.children.map(c=>f.jsx(hf,{onClick:()=>a(c),children:t(`supported_nodes.${c.toLowerCase()}`)},c))})]},s.key):f.jsx(Us,{children:f.jsx(Vs,{value:s,onClick:()=>a(s),children:t(`supported_nodes.${s.toLowerCase()}`)})},s))]}),[t,r]),i=v.useMemo(()=>{switch(n){case Vt.ADD_LLM:return f.jsx(J1,{...e});case Vt.ADD_PROMPT:return f.jsx(tj,{...e});case Vt.ADD_SCHEMA:return f.jsx(xj,{...e});case Vt.ADD_FEW_SHOT_EXAMPLE:return f.jsx(_j,{...e});case Vt.ADD_TOOL_DEFINITION:return f.jsx(Ej,{...e});case Vt.ADD_VECTOR_DATABASE:return f.jsx(Nj,{...e});case Vt.ADD_TEXT_DATA:return f.jsx(Aj,{...e})}},[e,n]);return f.jsxs(f.Fragment,{children:[o,f.jsx("div",{className:"mt-4",children:i})]})}),Bj=ys("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pr=v.forwardRef(({className:e,variant:t,...r},n)=>f.jsx("div",{ref:n,role:"alert",className:H(Bj({variant:t}),e),...r}));pr.displayName="Alert";const hr=v.forwardRef(({className:e,...t},r)=>f.jsx("h5",{ref:r,className:H("mb-1 font-medium leading-none tracking-tight",e),...t}));hr.displayName="AlertTitle";const sa=v.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:H("text-sm [&_p]:leading-relaxed",e),...t}));sa.displayName="AlertDescription";const ht=v.memo(({id:e,className:t})=>{const{t:r}=ue("common"),n=pe(s=>s.updateNodes),a=pe(s=>s.updateEdges),{toast:o}=Bt(),i=v.useCallback(async()=>{await oe("FlowNode").delete(e);const s=await oe("FlowEdge").find({where:[{source:e},{target:e}]});await Promise.all(s.map(c=>oe("FlowEdge").delete(c.id))),await n([{id:e,type:"remove"}]),await a(s.map(c=>({id:c.id,type:"remove"}))),o({description:r("deleted")})},[e,n,a,o,r]);return f.jsx("div",{className:H("absolute z-10 right-0 top-0 w-10 h-10",t),children:f.jsx(Se,{className:"!rounded-none !px-2",onClick:i,variant:"ghost",children:f.jsx(ee,{name:"trash-2",size:16})})})}),mc=({className:e,size:t=200,duration:r=15,anchor:n=90,borderWidth:a=1.5,colorFrom:o="#ffaa40",colorTo:i="#9c40ff",delay:s=0})=>f.jsx("div",{style:{"--size":t,"--duration":r,"--anchor":n,"--border-width":a,"--color-from":o,"--color-to":i,"--delay":`-${s}s`},className:H("pointer-events-none absolute inset-0 rounded-[inherit] [border:calc(var(--border-width)*1px)_solid_transparent]","![mask-clip:padding-box,border-box] ![mask-composite:intersect] [mask:linear-gradient(transparent,transparent),linear-gradient(white,white)]","after:absolute after:aspect-square after:w-[calc(var(--size)*1px)] after:animate-border-beam after:[animation-delay:var(--delay)] after:[background:linear-gradient(to_left,var(--color-from),var(--color-to),transparent)] after:[offset-anchor:calc(var(--anchor)*1%)_50%] after:[offset-path:rect(0_auto_auto_0_round_calc(var(--size)*1px))]",e)}),Oe=v.memo(e=>{const{className:t,...r}=e;return f.jsx(VB,{className:H("!w-2 !h-2 !border-none !rounded-full !bg-slate-700",e.position===we.Top?"!top-[-2px]":"",t),...r})}),zj=()=>{const e=rr(i=>{var s;return(s=i.currentSession)==null?void 0:s.id}),[t,r]=v.useState(!1),n=pe(i=>i.createOrUpdateFlowNode),a=pe(i=>i.createOrUpdateFlowEdge),o=v.useCallback(async(i,s)=>{var c,l,u,d,p;r(!0);try{const m=(c=i.data)==null?void 0:c.entity;if(!m||!e)throw new Error("LLM or Session not found");const y=await((d=(u=(l=s==null?void 0:s.connectedNodes)==null?void 0:l.find(x=>x.type===$.Schema))==null?void 0:u.data)==null?void 0:d.entity),h=i.position.x,g=i.position.y+(((p=i.measured)==null?void 0:p.height)||0),b=await oe("Thread").save({initial_llm_id:m.id,title:`New thread with ${m.name}`,status:co.Started,messages:[],session_id:e,schema_id:y==null?void 0:y.id}),w=await n({source_id:b.id,source_type:"Thread",node_type:$.Thread,x:h,y:g+60});if(!w)throw new Error("Failed to create thread node");const _=await a({source:i.id,target:w.id});return{thread:b,flowNode:w,flowEdge:_}}finally{r(!1)}},[a,n,e]);return{loading:t,createThread:o}},Fj=(e,t)=>{var x;const{t:r}=ue("flows"),{toast:n}=Bt(),[a,o]=v.useState(!1),[i,s]=v.useState(!1),c=tt(e),l=nr(j=>j.loadModel),{createThread:u,loading:d}=zj(),p=pe(j=>j.updateNodes),m=pe(j=>j.pushSyncNodeQueue),{getNode:y,getNodes:h,getHandleConnections:g}=tn(),b=v.useCallback(async()=>{try{if(s(!0),t.entity.id){const j=await oe("Thread").find({where:{initial_llm_id:t.entity.id}});m("Thread",{where:{source_type:"Thread",source_id:HB(j.map(O=>O.id))}})}}finally{s(!1)}},[(x=t==null?void 0:t.entity)==null?void 0:x.id,m]),w=v.useCallback(async()=>{try{if(o(!0),t.entity&&c){await(l==null?void 0:l(`${t.entity.name}`));const j=h().filter(O=>O.type===$.LLM).map(O=>(O.data.status=At.Started,{id:O.id,type:"replace",item:O}));c.data.status=At.Loading,j.push({id:e,type:"replace",item:c}),p(j),await b()}}catch(j){console.warn(j),n({variant:"destructive",description:r("llm_node.errors.loading_model")})}finally{o(!1)}},[t.entity,h,e,l,c,b,r,n,p]),_=v.useCallback(async()=>{if(t.entity&&c){const j=g({type:"target",nodeId:c.id}).map(O=>y(O.source)).filter(Boolean);await(u==null?void 0:u(c,{connectedNodes:j}))}},[t.entity,c,g,u,y]);return{loadingModel:a,creatingThread:d,queringThreads:i,loadModel:w,createThread:_,queryThreads:b}},mt=(e,t)=>{const[r,n]=v.useState(!1),[a,o]=v.useState([]),{deleteElements:i,getNode:s}=tn();bs({type:"target",nodeId:e,onConnect:l=>{l!=null&&l.length&&o(u=>[...u,...qB(l)])}});const c=v.useCallback(async(l,u,d,p)=>{try{return await t({id:e,edgeId:l,source:u,target:d,connection:p})}catch{return{deleteEdgeId:l}}},[t,e]);v.useEffect(()=>{!(a!=null&&a.length)||r||(async()=>{try{n(!0);const l=[...a];o([]);const u=[],d=s(e);await Promise.all(l.map(async p=>{const m="edgeId"in p?p.edgeId:void 0,y=s(p.source);if(!y||!d)return;const h=await c(`${m}`,y,d,p);h!=null&&h.deleteEdgeId&&u.push(...Array.isArray(h.deleteEdgeId)?h.deleteEdgeId:[h.deleteEdgeId])})),u!=null&&u.length&&await i({edges:u.map(p=>({id:p}))})}finally{n(!1)}})()},[i,s,e,r,c,a])},$j=e=>{const t=v.useCallback(async()=>{},[]);mt(e,t)},Uj=v.memo(e=>{var h,g,b,w,_,x,j,O;const{id:t,data:r,isConnectable:n}=e,[a,o]=v.useState(),{t:i}=ue("flows"),{createThread:s,loadModel:c,queringThreads:l,queryThreads:u,loadingModel:d}=Fj(t,r);$j(t);const p=[At.Loading,At.Downloading].includes(r.status);v.useEffect(()=>{var S;a||!((S=r==null?void 0:r.entity)!=null&&S.name)||Pr(()=>import("./index-COgZMq7t.js").then(async P=>(await P.__tla,P)),__vite__mapDeps([0,1,2,3])).then(async({hasModelInCache:P,functionCallingModelIds:N,prebuiltAppConfig:M})=>{var C,R;const k=await P((C=r==null?void 0:r.entity)==null?void 0:C.name);o({hasCache:k,isFunctionCalling:N.includes((R=r==null?void 0:r.entity)==null?void 0:R.name),info:M.model_list.find(T=>{var I;return T.model_id===((I=r==null?void 0:r.entity)==null?void 0:I.name)})})})},[(h=r==null?void 0:r.entity)==null?void 0:h.name,a]);const m=v.useMemo(()=>{switch(r.status){case At.Downloading:return f.jsx(ee,{className:"animate-spin",size:24,name:"arrow-big-down-dash"});case At.Loaded:return f.jsx(ee,{size:24,name:"brain"});case At.Loading:return f.jsx(ee,{className:"animate-spin",size:24,name:"loader-circle"});default:return f.jsx(ee,{size:24,name:"brain"})}},[r.status]),y=v.useMemo(()=>p?null:d?f.jsx(Se,{disabled:!0,className:"w-full mt-4",children:f.jsx(ee,{className:"animate-spin",size:24,name:"loader-circle"})}):r.status===At.Loaded?f.jsx(Se,{onClick:s,className:"mt-4 w-full",children:i("llm_node.create_thread_button")}):f.jsxs("div",{className:"flex gap-2 mt-4",children:[a!=null&&a.hasCache?f.jsx(Se,{disabled:l,onClick:u,className:"",children:f.jsx(ee,{size:24,className:H(l?"animate-spin":void 0),name:l?"loader-circle":"message-square-more"})}):null,f.jsx(Se,{disabled:d,onClick:c,className:"w-full",children:i(a!=null&&a.hasCache?"llm_node.load_model_button":"llm_node.download_model_button")})]}),[p,d,r.status,a==null?void 0:a.hasCache,l,u,c,i,s]);return f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsx(ht,{id:t}),f.jsxs(pr,{className:"flex justify-center",children:[m,f.jsxs("div",{className:"ml-2 pt-1 max-w-lg",children:[f.jsx(hr,{className:"flex gap-2 items-center pr-6",children:`${((g=r==null?void 0:r.entity)==null?void 0:g.name)||""}`}),f.jsx(sa,{className:"max-w-full",children:`${r.label||""}`}),f.jsxs("div",{className:"max-w-full",children:[vo.some(S=>{var P;return S.includes((P=r==null?void 0:r.entity)==null?void 0:P.name)})?f.jsx(Te,{className:"ml-1 mb-1",variant:"outline",children:i("llm_node.recommended")}):null,a!=null&&a.isFunctionCalling?f.jsx(Te,{className:"ml-1 mb-1",variant:"outline",children:i("llm_node.function_calling")}):null,(b=a==null?void 0:a.info)!=null&&b.low_resource_required?f.jsx(Te,{className:"ml-1",variant:"outline",children:i("llm_node.low_resource_required")}):null,(_=(w=a==null?void 0:a.info)==null?void 0:w.overrides)!=null&&_.context_window_size?f.jsxs(Te,{className:"ml-1",variant:"outline",children:[(j=(x=a==null?void 0:a.info)==null?void 0:x.overrides)==null?void 0:j.context_window_size.toLocaleString("en-US")," Tokens"]}):null,(O=a==null?void 0:a.info)!=null&&O.vram_required_MB?f.jsxs(Te,{className:"ml-1",variant:"outline",children:["VRAM: ",a==null?void 0:a.info.vram_required_MB.toLocaleString("en-US")," MB"]}):null]}),y]})]}),p?f.jsx(mc,{className:"rounded-lg"}):void 0]}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:n})]})});function Vj({minHeight:e,maxHeight:t}){const r=v.useRef(null),n=v.useCallback(a=>{const o=r.current;if(!o)return;if(a){o.style.height=`${e}px`;return}o.style.height=`${e}px`;const i=Math.max(e,Math.min(o.scrollHeight,t??Number.POSITIVE_INFINITY));o.style.height=`${i}px`},[e,t]);return v.useEffect(()=>{const a=r.current;a&&(a.style.height=`${e}px`)},[e]),v.useEffect(()=>{const a=()=>n();return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[n]),{textareaRef:r,adjustHeight:n}}const Hj=48,Zp=164;function qj({onSubmit:e,disabled:t,enableTool:r,enableFile:n,placeholder:a}){const[o,i]=v.useState(!1),[s,c]=v.useState(""),{textareaRef:l,adjustHeight:u}=Vj({minHeight:Hj,maxHeight:Zp}),[d,p]=v.useState(!0),m=async()=>{try{i(!0),await e(s)}finally{i(!1)}};return f.jsx("div",{className:"w-full py-4",children:f.jsx("div",{className:"relative max-w-xl w-full mx-auto",children:f.jsxs("div",{className:"relative flex flex-col",children:[f.jsx("div",{className:"overflow-y-auto",style:{maxHeight:`${Zp}px`},children:f.jsx($t,{id:"ai-input-04",value:s,disabled:t||o,placeholder:a,className:"w-full rounded-xl rounded-b-none px-4 py-3 bg-black/5 dark:bg-white/5 border-none dark:text-white placeholder:text-black/70 dark:placeholder:text-white/70 resize-none focus-visible:ring-0 leading-[1.2]",ref:l,onKeyDown:y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),m())},onChange:y=>{c(y.target.value),u()}})}),f.jsxs("div",{className:"h-12 bg-black/5 dark:bg-white/5 rounded-b-xl",children:[f.jsxs("div",{className:"absolute left-3 bottom-3 flex items-center gap-2",children:[n?f.jsxs("label",{className:"cursor-pointer rounded-lg p-2 bg-black/5 dark:bg-white/5",children:[f.jsx("input",{type:"file",className:"hidden"}),f.jsx(ee,{name:"paperclip",className:"w-4 h-4 text-black/40 dark:text-white/40 hover:text-black dark:hover:text-white transition-colors"})]}):void 0,r?f.jsxs("button",{type:"button",onClick:()=>{p(!d)},className:H("rounded-full transition-all flex items-center gap-2 px-1.5 py-1 border h-8",d?"bg-sky-500/15 border-sky-400 text-sky-500":"bg-black/5 dark:bg-white/5 border-transparent text-black/40 dark:text-white/40 hover:text-black dark:hover:text-white"),children:[f.jsx("div",{className:"w-4 h-4 flex items-center justify-center flex-shrink-0",children:f.jsx(Es.div,{animate:{rotate:d?180:0,scale:d?1.1:1},whileHover:{rotate:d?180:15,scale:1.1,transition:{type:"spring",stiffness:300,damping:10}},transition:{type:"spring",stiffness:260,damping:25},children:f.jsx(ee,{name:"globe",className:H("w-4 h-4",d?"text-sky-500":"text-inherit")})})}),f.jsx(tw,{children:d&&f.jsx(Es.span,{initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},exit:{width:0,opacity:0},transition:{duration:.2},className:"text-sm overflow-hidden whitespace-nowrap text-sky-500 flex-shrink-0",children:"Search"})})]}):void 0]}),f.jsx("div",{className:"absolute right-3 bottom-3",children:f.jsx("button",{type:"button",disabled:t||o,onClick:m,className:H("rounded-lg p-2",s?"bg-sky-500/15 text-sky-500":"bg-black/5 dark:bg-white/5 text-black/40 dark:text-white/40 hover:text-black dark:hover:text-white"),children:f.jsx(ee,{name:"send",className:"w-4 h-4"})})})]})]})})})}const yc=v.memo(({tags:e,disabled:t,loading:r,onSubmit:n})=>{const{t:a}=ue("components"),o=async i=>{try{return await n(i),!0}catch{return!1}};return f.jsxs(He,{className:"min-w-80",children:[f.jsx(it,{children:f.jsx(pt,{children:a("add_message_card.title")})}),f.jsxs(st,{children:[f.jsx("div",{className:"grid w-full gap-1.5",children:f.jsx(qj,{onSubmit:o,disabled:t||r,placeholder:a("add_message_card.placeholder")})}),e?f.jsx("div",{className:"mt-2 gap-1 flex flex-wrap",children:e}):null]})]})}),Wj=e=>{const t=[];return e.forEach(r=>{var o,i,s;const{node:n,connectedNodes:a}=r;if((o=n.data)!=null&&o.entity){if(n.type===$.Message){const c=n.data.entity;switch(c.role){case"human":t.push(new ud(c.content));break;case"ai":t.push(new yx(c.content));break}}else if(n.type===$.Prompt){const c=n.data.entity;let l=`${c.prefix?`${c.prefix}
`:""}`;if(c.type===ot.FewShotExample){const u=(s=(i=a.find(d=>d.type===$.CSVData))==null?void 0:i.data)==null?void 0:s.entity;if(u){const{rows:d}=vx(u.headers,u.csv);d.forEach(p=>{l+=`${c.content.replace(/{([^{}]*)}/g,(m,y)=>`${p[y]}`)}
`})}}else l+=c.content;switch(c.suffix&&(l+=`
${c.suffix}`),c.role){case"human":t.push(new ud(l));break;case"system":t.push(new LB(l));break;default:t.push(new yx(l));break}}}}),t},Jp=()=>{const{t:e}=ue("create_new_message"),[t,r]=v.useState(!1),n=pe(y=>y.createOrUpdateFlowNode),a=pe(y=>y.createOrUpdateFlowEdge),o=nr(y=>y.toolsCallingStream),i=nr(y=>y.structuredStream),s=nr(y=>y.getCurrentModelInfo),c=nr(y=>y.stream),l=v.useCallback((y,h,g)=>{const b=h==null?void 0:h.find(N=>typeof N.data.entity=="object"&&N.data.entity&&"id"in N.data.entity?N.type===$.Thread&&N.data.entity.id===y.id:!1),w=g==null?void 0:g.filter(N=>N.target===(b==null?void 0:b.id)),_=(h||[]).filter(N=>(N==null?void 0:N.type)===$.Prompt&&(w==null?void 0:w.some(M=>M.source===N.id))),x=[];_!=null&&_.length&&_.forEach(N=>{const M=g==null?void 0:g.find(C=>C.target===N.id),k=h==null?void 0:h.find(C=>C.type===$.CSVData&&(M==null?void 0:M.source)===C.id);N&&x.push({node:N,connectedNodes:k?[k]:[]})});const j=[],O=(h||[]).filter(N=>{const M=!j.includes(N.id)&&(N==null?void 0:N.type)===$.ToolDefinition&&(w==null?void 0:w.some(k=>k.source===N.id));return M&&j.push(N.id),M}),S=[];O!=null&&O.length&&O.forEach(N=>{const M=g==null?void 0:g.find(C=>C.target===N.id),k=h==null?void 0:h.find(C=>C.type===$.Schema&&(M==null?void 0:M.source)===C.id);k&&M&&S.push({node:N,connectedNodes:k?[k]:[]})});const P=h==null?void 0:h.find(N=>N.type===$.Schema);return{threadNode:b,schemaNode:P,threadPromptNodes:x,threadToolNodes:S}},[]),u=v.useCallback((y,h)=>{const g=(y==null?void 0:y.filter(b=>b.type===$.Message).map(b=>({node:b,connectedNodes:[]})).reverse())||[];return h.forEach(async b=>{b&&g.unshift({node:b.node,connectedNodes:b.connectedNodes||[]})}),Wj(g)},[]),d=v.useCallback(async({content:y,threadId:h,sourceId:g,initialX:b,initialY:w,initialLLMId:_})=>{const x=await oe("Message").save({thread_id:h,content:y,role:ft.Human,status:or.Started,llm_id:_});if(!x)throw new Error("Failed to save message");const j=await n({source_id:x.id,source_type:"Message",node_type:$.Message,x:b,y:w+80});if(!j)throw new Error("Failed to save human message node");await a({source:g,target:j.id});const O=await oe("Message").save({thread_id:h,content:e("initial_ai_message"),role:ft.AI,status:or.Inprogress,llm_id:_,parent_message_id:x.id});if(!O)throw new Error("Failed to save message");const S=await n({source_id:O.id,source_type:"Message",node_type:$.Message,x:b,y:w+250});if(!S)throw new Error("Failed to save ai message node");return await a({source:j.id,target:S.id}),{aiMessage:O,humanMessage:x,aiMessageNode:S,humanMessageNode:j}},[a,n,e]),p=v.useCallback(async(y,h,{onMessageUpdate:g,connectedNodes:b})=>{var R,T;const{schemaNode:w,threadPromptNodes:_,threadToolNodes:x}=h,j=u(b||[],_),O=(R=w==null?void 0:w.data)==null?void 0:R.entity;let S;const P=[...j,new ud(y.humanMessage.content)];if(x!=null&&x.length?S=o(x.reduce((I,L)=>{var V,Z,G,A,K;const F=(V=L.node.data)==null?void 0:V.entity,D=(A=(G=(Z=L==null?void 0:L.connectedNodes)==null?void 0:Z.find(Q=>Q.type===$.Schema))==null?void 0:G.data)==null?void 0:A.entity;return F&&((K=D==null?void 0:D.schema_items)!=null&&K.length)&&I.push({name:F.name,description:F.description,schemaItems:D.schema_items}),I},[]),P):(T=O==null?void 0:O.schema_items)!=null&&T.length?S=i(O.schema_items,P):S=c(P),!S)throw new Error("Stream is not supported");let N="",M="",k;const C=[];for await(const I of S)I&&(Array.isArray(I)?(C.push(...I.map(L=>L.content)),C!=null&&C.length&&(M=C.join(""),g==null||g({id:y.aiMessageNode.id,nodeData:{loading:!0,content:M}}))):(N=typeof I=="object"&&"content"in I?`${I.content}`:`${I}`,g==null||g({id:y.aiMessageNode.id,nodeData:{loading:!0,content:N}})),k=I);return y.aiMessage.content=N,y.aiMessage.metadata=JSON.stringify({message:k}),g==null||g({id:y.aiMessageNode.id,nodeData:{content:N,loading:!1,entity:y.aiMessage}}),y.aiMessage.id&&await oe("Message").update(y.aiMessage.id,{content:N,metadata:JSON.stringify({message:k})}),N},[u,c,i,o]),m=v.useCallback(async(y,h,g,b)=>{var x,j,O;if(!y||!h)throw new Error("Source or thread is not found");if(!await s())throw new Error("Model is not loaded yet");const w=l(h,b.connectedNodes||[],b.connections||[]);if(!(w!=null&&w.threadNode))throw new Error("Thread node is not found");let _;try{r(!0);const S=((x=y.position)==null?void 0:x.x)||0,P=(((j=y.position)==null?void 0:j.y)||0)+(((O=y.measured)==null?void 0:O.height)||0);_=await d({content:g,initialX:S,initialY:P,sourceId:y.id,threadId:h.id,initialLLMId:h.initial_llm_id}),await p(_,w,b),await oe("Message").update(`${_.aiMessage.id}`,{status:or.Success}),_.aiMessage.status=or.Success,b.onMessageUpdate({id:_.aiMessageNode.id,nodeData:{entity:_.aiMessage,loading:!1}})}catch{_!=null&&_.aiMessage&&await oe("Message").update(`${_.aiMessage.id}`,{status:or.Failed,content:e("errors.ai_message_content_failed")}),_!=null&&_.aiMessageNode.id&&(b==null||b.onMessageUpdate({id:_.aiMessageNode.id,nodeData:{content:e("errors.ai_message_content_failed"),loading:!1}}))}finally{r(!1)}},[s,l,d,p,e]);return{loading:t,createMessage:m}},Xj=(e,t,r)=>{const n=[],a=[],o=[],i=t.find(s=>(s==null?void 0:s.type)===$.Prompt);if(i&&(a.push(i.id),n.push(i),i.data.entity.type===ot.FewShotExample)){const s=r.getHandleConnections({type:"target",nodeId:i.id});o.push(...s);const c=s.map(l=>r.getNode(l.source)).find(l=>(l==null?void 0:l.type)===$.CSVData);c&&(a.push(c.id),n.push(c))}return{nodes:n,handledIds:a,connections:o}},Kj=(e,t,r)=>{const n=[],a=[],o=[],i=t.find(s=>(s==null?void 0:s.type)===$.ToolDefinition);if(i){a.push(i.id),n.push(i);const s=r.getHandleConnections({type:"target",nodeId:i.id}),c=s.map(l=>r.getNode(l.source)).find(l=>(l==null?void 0:l.type)===$.Schema);c&&(o.push(...s),a.push(c.id,i.id),n.push(c,i))}return{nodes:n,handledIds:a,connections:o}},vc=(e,t,r,n=[],a)=>{const o=e.map(i=>a.getNode(i));for(const i of o){if(!i)continue;const s=a.getHandleConnections({type:"target",nodeId:i.id});if(r.push(...s),i.type===$.Thread){const c=s.map(p=>a.getNode(p.source)),l=Xj(i,c,a);n.push(...l.handledIds),t.push(...l.nodes),r.push(...l.connections);const u=c.find(p=>(p==null?void 0:p.type)===$.Schema);u&&(n.push(u.id),t.push(u));const d=Kj(i,c,a);n.push(...d.handledIds),t.push(...d.nodes),r.push(...d.connections),n.push(i.id),t.push(i);continue}else if(i.type!==$.Message){n.push(i.id);continue}else if(n.includes(i.id))continue;n.push(i.id),t.push(i),s.length&&vc(s.map(c=>c.source),t,r,n,a)}return{nodes:t,connections:r}},Gj=(e,t)=>{const r=tt(e),{t:n}=ue("flows"),{getNode:a,getHandleConnections:o}=tn(),i=pe(d=>d.updateNodes),{createMessage:s,loading:c}=Jp(),l=v.useCallback(d=>{if(!d.id)return;const p=a(d.id);!p||!d.nodeData||i([{id:p.id,type:"replace",item:{...p,data:{...p.data,...Ox(d.nodeData,_x)}}}])},[a,i]),u=v.useCallback(async d=>{if(r&&t.entity)try{const{nodes:p,connections:m}=vc([e],[],[],[],{getNode:a,getHandleConnections:o});await s(r,t.entity,d,{onMessageUpdate:l,connectedNodes:p,connections:m})}catch(p){if(p instanceof Error&&p.message.includes("LLM_NOT_LOADED_YET"))return kr({title:n("thread_node.errors.llm_not_loaded_yet")});kr({title:`${p}`})}},[r,t.entity,e,a,o,s,l,n]);return{loading:c,createMessage:u}},Yj=e=>{const t=pe(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.Prompt&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.LLM&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}else if((a==null?void 0:a.type)===$.Schema&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});const s=o.data.entity,c=o.data.entity;await oe("Thread").update(s.id,{schema_id:c.id});return}else if((a==null?void 0:a.type)===$.ToolDefinition&&(o==null?void 0:o.type)===$.Thread){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);mt(e,r)},Zj=v.memo(e=>{const{id:t,data:r,isConnectable:n}=e,{t:a}=ue("flows"),[o,i]=v.useState(!1),s=bs({type:"source"}),c=bs({type:"target"}),{getNode:l}=tn(),{loading:u,createMessage:d}=Gj(t,r);Yj(t);const p=v.useCallback(async(...g)=>(i(!1),await d(...g)),[d]),m=v.useMemo(()=>s.length>0,[s]),y=v.useCallback(()=>{i(g=>!g)},[]),h=v.useMemo(()=>{var b,w;const g=c.map((_,x)=>{const j=l(_.source);if((j==null?void 0:j.type)===$.Schema)return f.jsx(Te,{children:a("thread_node.structured_output")},`${x}`);if((j==null?void 0:j.type)===$.Prompt){const O=j.data.entity;return f.jsx(Te,{children:a(O.type===ot.FewShotExample?"thread_node.prompts.few_shot_example":`thread_node.prompts.${O.role.toLowerCase()}`)},`${x}`)}}).filter(Boolean);return e.data.entity&&!((w=(b=e.data.entity)==null?void 0:b.messages)!=null&&w.length)&&!m?f.jsx(yc,{disabled:u,loading:u,onSubmit:p,tags:g}):g!=null&&g.length?f.jsxs(He,{className:"p-4 pt-2",children:[f.jsx(pt,{className:"mb-2",children:a("thread_node.title")}),f.jsx("div",{className:"flex gap-1.5",children:g}),f.jsx("div",{className:"mt-4 w-full flex justify-end",children:f.jsxs(Se,{onClick:y,variant:"outline",children:[f.jsx(ee,{name:o?"copy-minus":"copy-plus"}),a(o?"thread_node.hide":"thread_node.clone")]})})]}):f.jsx("div",{className:"w-12 h-10"})},[m,l,p,y,u,e.data.entity,o,a,c]);return f.jsxs("div",{children:[f.jsx(Oe,{type:"target",position:we.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(ht,{id:t}),h,o?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),f.jsx("div",{className:"absolute mt-[30px] w-full",children:f.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:f.jsx(yc,{disabled:u,loading:u,onSubmit:p})})})]}):void 0]}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:n})]})}),Ie={},mr=typeof globalThis>"u"?window:globalThis,ie={status:"created"},Ne={};Ie.debug=e=>{Ht=typeof e=="function"?e:()=>{}};let Ht=()=>{};Ie.detect=()=>Qp();const Qp=()=>{const e={};["speechSynthesis","speechSynthesisUtterance","speechSynthesisVoice","speechSynthesisEvent","speechSynthesisErrorEvent"].forEach(r=>{e[r]=aO(r)}),e.onvoiceschanged=_o(e.speechSynthesis,"onvoiceschanged");const t=_o(e.speechSynthesisUtterance,"prototype");return bc.forEach(r=>{const n=`on${r}`;e[n]=t&&_o(e.speechSynthesisUtterance.prototype,n)}),Ne.isAndroid=Jj(),Ne.isFirefox=eO()||Qj(),Ne.isSafari=tO(),Ht(`is android: ${!!Ne.isAndroid}`),Ht(`is firefox: ${!!Ne.isFirefox}`),Ht(`is safari: ${!!Ne.isSafari}`),e},_o=(e={},t)=>Object.hasOwnProperty.call(e,t)||t in e||!!e[t],gc=()=>(mr.navigator||{}).userAgent||"",Jj=()=>/android/i.test(gc()),Qj=()=>/kaios/i.test(gc()),eO=()=>typeof mr.InstallTrigger<"u"?!0:/firefox/i.test(gc()),tO=()=>typeof mr.GestureEvent<"u",rO=["webKit","moz","ms","o"],nO=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`,aO=e=>{const t=nO(e),r=rO.map(a=>`${a}${t}`),n=[e,t].concat(r).find(oO);return mr[n]},oO=e=>mr[e];Ie.status=()=>({...ie}),Ie.filterVoices=({name:e,language:t,localService:r,voiceURI:n})=>{const a=ie.voices||[],o=typeof e<"u",i=typeof n<"u",s=typeof r<"u",c=typeof t<"u",l=c&&t.split(/[-_]+/g)[0].toLocaleLowerCase();return a.filter(u=>{if(o&&u.name.includes(e)||i&&u.voiceURI.includes(n)||s&&u.localService===r)return!0;if(c){const d=u.lang&&u.lang.toLocaleLowerCase();return d&&(d===l||d.indexOf(`${l}-`)>-1||d.indexOf(`${l}_`)>-1)}return!1})};const at=e=>{Ht(e),ie.status=e};Ie.init=function({maxTimeout:e=5e3,interval:t=250,quiet:r,maxLengthExceeded:n}={}){return new Promise((a,o)=>{if(ie.initialized)return a(!1);Ie.reset(),at("init: start");let i,s,c=!1;ie.maxLengthExceeded=n||"warn";const l=h=>(at(`init: failed (${h})`),clearInterval(i),ie.initialized=!1,r?a(!1):o(new Error(`EasySpeech: ${h}`))),u=()=>{if(!c)return at("init: complete"),c=!0,ie.initialized=!0,clearInterval(i),p.onvoiceschanged=null,s&&p.removeEventListener("voiceschanged",s),a(!0)},d=Qp();if(!(d.speechSynthesis&&d.speechSynthesisUtterance))return l("browser misses features");Object.keys(d).forEach(h=>{ie[h]=d[h]});const{speechSynthesis:p}=ie,m=()=>{const h=p.getVoices()||[];if(h.length>0){if(ie.voices=h,at(`voices loaded: ${h.length}`),ie.defaultVoice=h.find(g=>g.default),!ie.defaultVoice){const g=(mr.navigator||{}).language||"",b=Ie.filterVoices({language:g});b.length>0&&(ie.defaultVoice=b[0])}return ie.defaultVoice||(ie.defaultVoice=h[0]),!0}return!1};if(at("init: voices"),m())return u();const y=()=>{at("init: voices (timer)");let h=0;i=setInterval(()=>{if(m())return u();if(h>e)return l("browser has no voices (timeout)");h+=t},t)};d.onvoiceschanged?(at("init: voices (onvoiceschanged)"),p.onvoiceschanged=()=>m()?u():y(),setTimeout(()=>m()?u():l("browser has no voices (timeout)"),e)):(_o(p,"addEventListener")&&(at("init: voices (addEventListener)"),s=()=>{if(m())return u()},p.addEventListener("voiceschanged",s)),y())})};const Ir=({force:e}={})=>{if(!e&&!ie.initialized)throw new Error("EasySpeech: not initialized. Run EasySpeech.init() first")};Ie.voices=()=>(Ir(),ie.voices),Ie.on=e=>(Ir(),bc.forEach(t=>{const r=e[t];yr.handler(r)&&(ie.handlers[t]=r)}),{...ie.handlers});const bc=["boundary","end","error","mark","pause","resume","start"],yr={isNumber:e=>typeof e=="number"&&!Number.isNaN(e),pitch:e=>yr.isNumber(e)&&e>=0&&e<=2,volume:e=>yr.isNumber(e)&&e>=0&&e<=1,rate:e=>yr.isNumber(e)&&e>=.1&&e<=10,text:e=>typeof e=="string",handler:e=>typeof e=="function",voice:e=>e&&e.lang&&e.name&&e.voiceURI};Ie.defaults=e=>(Ir(),e&&(ie.defaults=ie.defaults||{},["voice","pitch","rate","volume"].forEach(t=>{const r=e[t],n=yr[t];n(r)&&(ie.defaults[t]=r)})),{...ie.defaults});const iO=e=>{var t,r;return e||((t=ie.defaults)==null?void 0:t.voice)||ie.defaultVoice||((r=ie.voices)==null?void 0:r[0])},sO=e=>{const t=ie.speechSynthesisUtterance;return new t(e)};Ie.speak=({text:e,voice:t,pitch:r,rate:n,volume:a,force:o,infiniteResume:i,noStop:s,...c})=>{if(Ir({force:o}),!yr.text(e))throw new Error("EasySpeech: at least some valid text is required to speak");if(new TextEncoder().encode(e).length>4096){const u="EasySpeech: text exceeds max length of 4096 bytes, which will not work with some voices.";switch(ie.maxLengthExceeded){case"none":break;case"error":throw new Error(u);case"warn":default:console.warn(u)}}const l=u=>{var m;const[d,p]=Object.entries(u)[0];return yr[d](p)?p:(m=ie.defaults)==null?void 0:m[d]};return new Promise((u,d)=>{at("init speak");const p=sO(e),m=iO(t);m&&(p.voice=m,p.lang=m.lang,p.voiceURI=m.voiceURI),p.text=e,p.pitch=l({pitch:r}),p.rate=l({rate:n}),p.volume=l({volume:a});const y=p.voice&&p.voice.name&&p.voice.name.toLocaleLowerCase().includes("(natural)");cO(p,{isMsNatural:y}),bc.forEach(h=>{var b;const g=c[h];yr.handler(g)&&p.addEventListener(h,g),(b=ie.handlers)!=null&&b[h]&&p.addEventListener(h,ie.handlers[h])}),p.addEventListener("start",()=>{Ne.paused=!1,Ne.speaking=!0;const h=!y&&!Ne.isFirefox&&!Ne.isSafari&&Ne.isAndroid!==!0;(typeof i=="boolean"?i:h)&&eh(p)}),p.addEventListener("end",h=>{at("speak complete"),Ne.paused=!1,Ne.speaking=!1,clearTimeout(un),u(h)}),p.addEventListener("error",(h={})=>{at(`speak failed: ${h.message}`),Ne.paused=!1,Ne.speaking=!1,clearTimeout(un),d(h)}),clearTimeout(un),s!==!0&&ie.speechSynthesis.cancel(),setTimeout(()=>ie.speechSynthesis.speak(p),10)})};const cO=({voice:e,pitch:t,rate:r,volume:n},{isMsNatural:a=!1}={})=>{Ht(`utterance: voice=${e==null?void 0:e.name} volume=${n} rate=${r} pitch=${t} isMsNatural=${a}`)};let un;function eh(e){if(!e&&un)return Ht("force-clear timeout"),mr.clearTimeout(un);const{paused:t,speaking:r}=ie.speechSynthesis,n=r||Ne.speaking,a=t||Ne.paused;Ht(`resumeInfinity isSpeaking=${n} isPaused=${a}`),n&&!a&&(ie.speechSynthesis.pause(),ie.speechSynthesis.resume()),un=mr.setTimeout(function(){eh(e)},5e3)}Ie.cancel=()=>{Ir(),at("cancelling"),ie.speechSynthesis.cancel(),Ne.paused=!1,Ne.speaking=!1},Ie.resume=()=>{Ir(),at("resuming"),Ne.paused=!1,Ne.speaking=!0,ie.speechSynthesis.resume()},Ie.pause=()=>{if(Ir(),at("pausing"),Ne.isAndroid)return Ht("patch pause on Android with cancel"),ie.speechSynthesis.cancel();ie.speechSynthesis.pause(),Ne.paused=!0,Ne.speaking=!1},Ie.reset=()=>{Object.assign(ie,{status:"reset",initialized:!1,speechSynthesis:null,speechSynthesisUtterance:null,speechSynthesisVoice:null,speechSynthesisEvent:null,speechSynthesisErrorEvent:null,voices:null,defaultVoice:null,defaults:{pitch:1,rate:1,volume:1,voice:null},handlers:{}})};class yt{constructor(){}static getInstance(){return yt.instance||(yt.instance=new yt),yt.instance}static async init(){try{yt.promise=Ie.init({maxTimeout:5e3,interval:100}),await yt.promise}finally{yt.promise=void 0}}async speak(t){yt.promise&&await yt.promise;const r=Ie.status();if(!("initialized"in r)||!r.initialized)throw new Error("EasySpeech is not ready");return Ie.speak({text:t,pitch:1,rate:1,volume:1,voice:Ie.voices()[0]}).catch(n=>{console.error("Error during speech synthesis:",n)})}async stop(){return Ie.cancel()}}yt.init();const th=yt.getInstance();function lO({data:e,onNewThread:t,loading:r,showThread:n}){var o;const{t:a}=ue("flows");return f.jsxs(pr,{className:"flex min-w-52",children:[f.jsx(ee,{size:24,name:"user"}),f.jsxs("div",{className:"ml-2 max-w-full w-full",children:[f.jsx(hr,{children:"Human"}),f.jsx(sa,{children:`${e.content||((o=e.entity)==null?void 0:o.content)||""}`}),t?f.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:f.jsxs(Se,{onClick:t,disabled:r,variant:"outline",children:[f.jsx(ee,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]})]})}const uO=v.lazy(()=>Pr(()=>import("./index-Dd_D46El.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([4,2,3,5,6])));function dO({data:e,onNewThread:t,loading:r,showThread:n}){var i,s,c,l,u,d,p,m;const{t:a}=ue("flows"),o=v.useMemo(()=>{var y;try{return JSON.parse(((y=e==null?void 0:e.entity)==null?void 0:y.metadata)||"{}")}catch{return{}}},[(i=e==null?void 0:e.entity)==null?void 0:i.metadata]);return f.jsxs(pr,{className:"flex min-w-52",children:[f.jsx(ee,{className:H(e.loading?"animate-spin":void 0),size:24,name:e.loading?"loader":"bot"}),f.jsx(ee,{name:n?"minus":"plus",size:24}),f.jsxs("div",{className:"ml-2 w-full max-w-full",children:[f.jsx(hr,{children:a(`message_node.message_roles.${(c=(s=e.entity)==null?void 0:s.role)==null?void 0:c.toLowerCase()}`)}),f.jsx(v.Suspense,{fallback:f.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:f.jsx(ee,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx(uO,{className:"!text-sm [&_p]:leading-relaxed !max-w-full !bg-transparent !text-inherit !font-sans",source:`${e.content||((l=e.entity)==null?void 0:l.content)||""}`})}),Array.isArray((u=o==null?void 0:o.message)==null?void 0:u.tool_calls)&&((p=(d=o==null?void 0:o.message)==null?void 0:d.tool_calls)!=null&&p.length)?(m=o==null?void 0:o.message)==null?void 0:m.tool_calls.map((y,h)=>f.jsx(Te,{children:a("message_node.tool_call",{name:y.name,args:Object.entries(y.args).map(([g,b])=>`"${g}": "${b}"`).join(", ")})},`${y.name}_${h}`)):null,t?f.jsx("div",{className:"w-full mt-2 flex items-center justify-end",children:f.jsxs(Se,{onClick:t,disabled:r,variant:"outline",children:[f.jsx(ee,{name:n?"minus":"plus",size:16}),a(n?"message_node.hide_thread":"message_node.new_thread")]})}):void 0]}),e.loading?f.jsx(mc,{size:350,duration:10}):void 0]})}const fO=e=>{const{t}=ue("flows"),r=tt(e),n=pe(d=>d.updateNodes),{getNode:a,getHandleConnections:o,getNodes:i}=tn(),{createMessage:s,loading:c}=Jp(),l=v.useCallback(d=>{if(!d.id)return;const p=a(d.id);!p||!d.nodeData||n([{id:p.id,type:"replace",item:{...p,data:{...p.data,...Ox(d.nodeData,_x)}}}])},[a,n]),u=v.useCallback(async d=>{var h,g;const{nodes:p,connections:m}=vc([e],[],[],[],{getNode:a,getHandleConnections:o}),y=(g=(h=p.find(b=>b.type===$.Thread))==null?void 0:h.data)==null?void 0:g.entity;if(y&&r){const b=i().find(w=>{var x;const _=(x=w.data)==null?void 0:x.entity;return w.type===$.LLM&&_.id===y.initial_llm_id});if(b){if(b.data.status!==At.Loaded)return kr({variant:"destructive",description:t("message_node.errors.llm_not_loaded",{name:b.data.entity.name})})}else return kr({variant:"destructive",description:t("message_node.errors.llm_not_found")});try{await s(r,y,d,{connectedNodes:p,connections:m,onMessageUpdate:l})}catch(w){if(w instanceof Error&&w.message.includes("LLM_NOT_LOADED_YET"))return kr({title:t("message_node.errors.llm_not_loaded_yet")});kr({variant:"destructive",title:t("message_node.errors.create_message")})}}},[e,a,o,r,i,t,s,l]);return{loading:c,createMessage:u}},rh=()=>{const e=pe(r=>r.createOrUpdateFlowNode),t=pe(r=>r.createOrUpdateFlowEdge);return{createIdieMessage:v.useCallback(async(r,n,a,o)=>{var m,y,h,g,b;if(!r||!n)return;const i=(y=(m=o==null?void 0:o.promptNode)==null?void 0:m.data)==null?void 0:y.entity,s=((h=r.position)==null?void 0:h.x)||0,c=(((g=r.position)==null?void 0:g.y)||0)+(((b=r.measured)==null?void 0:b.height)||0),l=await oe("Message").save({thread_id:n.id,content:a,role:(i==null?void 0:i.role)||ft.Human,status:or.Started,llm_id:n.initial_llm_id});if(!l)throw new Error("Failed to save message");const u=await e({source_id:l.id,source_type:"Message",node_type:$.Message,x:s,y:c});if(!u)throw new Error("Failed to save message node");const d=await t({source:r.id,target:u.id});let p;return o!=null&&o.promptNode&&(p=await t({source:o==null?void 0:o.promptNode.id,target:u.id})),{message:l,edgeToPrompt:p,messageNode:u,messageEdge:d}},[e,t])}},pO=e=>{const{createIdieMessage:t}=rh(),r=v.useCallback(async({edgeId:n,source:a,target:o})=>{var i,s;try{if((a==null?void 0:a.type)===$.Prompt&&(o==null?void 0:o.type)===$.Message){const c=(i=o==null?void 0:o.data)==null?void 0:i.entity,l=(s=a==null?void 0:a.data)==null?void 0:s.entity;if(!l||!c||!o)return{deleteEdgeId:n};await t(o,{id:c==null?void 0:c.thread_id,title:"",status:co.Started,initial_llm_id:c.llm_id,session_id:l.session_id},l.content,{promptNode:a});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);mt(e,r)},hO=v.memo(e=>{var _,x,j;const{id:t,data:r,isConnectable:n}=e,[a,o]=v.useState(!1),[i,s]=v.useState(!1),{t:c}=ue("common"),l=bs({type:"source"}),{loading:u,createMessage:d}=fO(t),{toast:p}=Bt();pO(t);const m=v.useCallback(async(...O)=>{const S=await d(...O);return o(!1),S},[d]),y=v.useMemo(()=>l.length===0,[l]),h=v.useCallback(()=>{var O;(O=r.entity)!=null&&O.content&&(navigator.clipboard.writeText(r.entity.content),p({description:c("copied")}))},[p,r,c]),g=v.useCallback(async()=>{var O;try{if(i)return await th.stop(),s(!1);s(!0),await th.speak(((O=r.entity)==null?void 0:O.content)||"")}catch{p({description:c("errors.speech_is_not_supported")})}finally{s(!1)}},[(_=r.entity)==null?void 0:_.content,i,c,p]),b=v.useCallback(()=>{o(O=>!O)},[]),w=v.useMemo(()=>{var O;if(!(!y&&!a||r.loading||u||((O=r==null?void 0:r.entity)==null?void 0:O.status)==="inprogress"))return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-[1px] absolute ml-[50%] h-[30px] bg-gray-500"}),f.jsx("div",{className:"absolute mt-[30px] w-full",children:f.jsx("div",{className:"ml-[10%] w-80 animate-in slide-in-from-bottom-5",children:f.jsx(yc,{disabled:u,loading:u,onSubmit:m})})})]})},[(x=r==null?void 0:r.entity)==null?void 0:x.status,r.loading,m,y,u,a]);return f.jsxs("div",{children:[f.jsx(Oe,{type:"target",position:we.Top,isConnectable:n}),f.jsxs("div",{className:"max-w-sm min-w-64",children:[f.jsxs("div",{className:"w-auto",children:[f.jsx(ht,{id:t}),f.jsx("div",{children:((j=r.entity)==null?void 0:j.role)===ft.Human?f.jsx(lO,{data:r,showThread:a,onNewThread:y?void 0:b}):f.jsx(dO,{data:r,showThread:a,loading:u,onNewThread:y?void 0:b})}),f.jsx(Se,{onClick:g,className:"absolute top-0 right-[68px] !px-2 !rounded-none",variant:"ghost",children:f.jsx(ee,{name:i?"circle-stop":"speech",size:16})}),f.jsx(Se,{onClick:h,className:"absolute top-0 right-[36px] !px-2 !rounded-none",variant:"ghost",children:f.jsx(ee,{name:"copy",size:16})})]}),w]}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:n})]})}),nh=gx(({title:e,content:t})=>{const r=oo();return f.jsx(Bx,{open:r.visible,onOpenChange:r.hide,children:f.jsxs(zx,{className:"sm:max-w-2xl",children:[f.jsx(Fx,{children:f.jsxs("div",{className:"flex",children:[f.jsx(ee,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx($x,{children:e})]})}),f.jsx("div",{className:"mx-auto w-full min-h-96 max-h-96 overflow-hidden",children:f.jsx("div",{className:"relative w-full h-full overflow-hidden rounded-xl p-1 border border-border",children:f.jsx("pre",{className:"break-all h-full overflow-y-auto bg-background font-mono text-xs w-full",children:t})})})]})})}),mO=e=>{const t=pe(a=>a.createOrUpdateFlowEdge),{createIdieMessage:r}=rh(),n=v.useCallback(async({edgeId:a,source:o,target:i})=>{var s,c,l,u;try{const d=(s=i==null?void 0:i.data)==null?void 0:s.entity,p=(c=o==null?void 0:o.data)==null?void 0:c.entity;if((o==null?void 0:o.type)===$.Message&&(i==null?void 0:i.type)===$.Prompt){const m=(l=o==null?void 0:o.data)==null?void 0:l.entity,y=(u=i==null?void 0:i.data)==null?void 0:u.entity;if(!y||!m||!i)return{deleteEdgeId:a};await r(o,{id:m==null?void 0:m.thread_id,title:"",status:co.Started,initial_llm_id:m.llm_id,session_id:y.session_id},y.content,{promptNode:i});return}else if((o==null?void 0:o.type)===$.CSVData&&(i==null?void 0:i.type)===$.Prompt&&(d==null?void 0:d.type)===ot.FewShotExample&&(p!=null&&p.headers.includes("input"))&&(p!=null&&p.headers.includes("output"))){await t({source:o.id,target:i.id});return}return{deleteEdgeId:a}}catch{return{deleteEdgeId:a}}},[r,t]);mt(e,n)},yO=v.memo(e=>{var l,u,d;const{id:t,data:r,isConnectable:n}=e;mO(t);const a=oo(nh),o=v.useMemo(()=>{var p,m,y;return`${(p=r.entity)!=null&&p.prefix?`${(m=r.entity)==null?void 0:m.prefix}
`:""}${((y=r.entity)==null?void 0:y.content)||""}`},[(l=r.entity)==null?void 0:l.prefix,(u=r.entity)==null?void 0:u.content]),i=v.useMemo(()=>{var m;const p=/{(.*?)}/g;return((m=o.match(p))==null?void 0:m.map(y=>y.replace("{","").replace("}","")))||[]},[o]),s=o.length>990,c=()=>{a.show({title:"Prompt",content:o})};return f.jsxs("div",{className:"min-w-56",children:[f.jsx(Oe,{type:"target",position:we.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(ht,{id:t}),f.jsxs(pr,{className:"flex justify-center max-w-72",variant:"default",children:[f.jsx(ee,{size:24,name:"notepad-text"}),f.jsxs("div",{className:"ml-2 max-w-full break-words break-all",children:[f.jsx(hr,{children:`${((d=r.entity)==null?void 0:d.role)||""}`}),f.jsxs(sa,{onClick:s?c:void 0,children:[s?`${o.slice(0,990)}...`:o,s?f.jsx("span",{className:"float-right",children:f.jsx(ee,{name:"chevron-right"})}):void 0]}),i!=null&&i.length?i.map((p,m)=>f.jsx(Te,{className:"mt-2 mr-1",variant:"default",children:p},m)):void 0]})]})]}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:n})]})});function vO(e){return e==null}var gO=vO;const ye=ke(gO);var bO=xs,xO=Yn,wO=ws,jO="[object String]";function OO(e){return typeof e=="string"||!xO(e)&&wO(e)&&bO(e)==jO}var _O=OO;const ca=ke(_O);var ah={exports:{}},ge={},xc=Symbol.for("react.element"),wc=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),Eo=Symbol.for("react.strict_mode"),Po=Symbol.for("react.profiler"),ko=Symbol.for("react.provider"),No=Symbol.for("react.context"),SO=Symbol.for("react.server_context"),Co=Symbol.for("react.forward_ref"),Mo=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),To=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),EO=Symbol.for("react.offscreen"),oh;oh=Symbol.for("react.module.reference");function vt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xc:switch(e=e.type,e){case So:case Po:case Eo:case Mo:case Ao:return e;default:switch(e=e&&e.$$typeof,e){case SO:case No:case Co:case Do:case To:case ko:return e;default:return t}}case wc:return t}}}ge.ContextConsumer=No,ge.ContextProvider=ko,ge.Element=xc,ge.ForwardRef=Co,ge.Fragment=So,ge.Lazy=Do,ge.Memo=To,ge.Portal=wc,ge.Profiler=Po,ge.StrictMode=Eo,ge.Suspense=Mo,ge.SuspenseList=Ao,ge.isAsyncMode=function(){return!1},ge.isConcurrentMode=function(){return!1},ge.isContextConsumer=function(e){return vt(e)===No},ge.isContextProvider=function(e){return vt(e)===ko},ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xc},ge.isForwardRef=function(e){return vt(e)===Co},ge.isFragment=function(e){return vt(e)===So},ge.isLazy=function(e){return vt(e)===Do},ge.isMemo=function(e){return vt(e)===To},ge.isPortal=function(e){return vt(e)===wc},ge.isProfiler=function(e){return vt(e)===Po},ge.isStrictMode=function(e){return vt(e)===Eo},ge.isSuspense=function(e){return vt(e)===Mo},ge.isSuspenseList=function(e){return vt(e)===Ao},ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===So||e===Po||e===Eo||e===Mo||e===Ao||e===EO||typeof e=="object"&&e!==null&&(e.$$typeof===Do||e.$$typeof===To||e.$$typeof===ko||e.$$typeof===No||e.$$typeof===Co||e.$$typeof===oh||e.getModuleId!==void 0)},ge.typeOf=vt,ah.exports=ge;var PO=ah.exports,kO=xs,NO=ws,CO="[object Number]";function MO(e){return typeof e=="number"||NO(e)&&kO(e)==CO}var ih=MO;const AO=ke(ih);var TO=ih;function DO(e){return TO(e)&&e!=+e}var IO=DO;const la=ke(IO);var Et=function(e){return e===0?0:e>0?1:-1},Rr=function(e){return ca(e)&&e.indexOf("%")===e.length-1},W=function(e){return AO(e)&&!la(e)},Be=function(e){return W(e)||ca(e)},RO=0,Io=function(e){var t=++RO;return"".concat(e||"").concat(t)},Lr=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!W(e)&&!ca(e))return r;var a;if(Rr(e)){var o=e.indexOf("%");a=t*parseFloat(e.slice(0,o))/100}else a=+e;return la(a)&&(a=r),n&&a>t&&(a=t),a},vr=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},LO=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},dn=function(e,t){return W(e)&&W(t)?function(r){return e+r*(t-e)}:function(){return t}};function jc(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):_t(n,t))===r})}function fn(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}var BO=["viewBox","children"],zO=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sh=["points","pathLength"],_c={svg:BO,polygon:sh,polyline:sh},Sc=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ro=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),!Zn(r))return null;var n={};return Object.keys(r).forEach(function(a){Sc.includes(a)&&(n[a]=t||function(o){return r[a](r,o)})}),n},FO=function(e,t,r){return function(n){return e(t,r,n),null}},Lo=function(e,t,r){if(!Zn(e)||Oc(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(a){var o=e[a];Sc.includes(a)&&typeof o=="function"&&(n||(n={}),n[a]=FO(o,t,r))}),n},$O=["children"],UO=["children"];function ch(e,t){if(e==null)return{};var r=VO(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lh={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},qt=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},uh=null,Ec=null,Pc=function e(t){if(t===uh&&Array.isArray(Ec))return Ec;var r=[];return v.Children.forEach(t,function(n){ye(n)||(PO.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ec=r,uh=t,r};function Pt(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return qt(a)}):n=[qt(t)],Pc(e).forEach(function(a){var o=_t(a,"type.displayName")||_t(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function lt(e,t){var r=Pt(e,t);return r&&r[0]}var dh=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!W(r)||r<=0||!W(n)||n<=0)},HO=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qO=function(e){return e&&e.type&&ca(e.type)&&HO.indexOf(e.type)>=0},WO=function(e,t,r,n){var a,o=(a=_c==null?void 0:_c[n])!==null&&a!==void 0?a:[];return!de(e)&&(n&&o.includes(t)||zO.includes(t))||r&&Sc.includes(t)},me=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!Zn(n))return null;var a={};return Object.keys(n).forEach(function(o){var i;WO((i=n)===null||i===void 0?void 0:i[o],o,t,r)&&(a[o]=n[o])}),a},kc=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return fh(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!fh(o,i))return!1}return!0},fh=function(e,t){if(ye(e)&&ye(t))return!0;if(!ye(e)&&!ye(t)){var r=e.props||{},n=r.children,a=ch(r,$O),o=t.props||{},i=o.children,s=ch(o,UO);return n&&i?fn(a,s)&&kc(n,i):!n&&!i?fn(a,s):!1}return!1},ph=function(e,t){var r=[],n={};return Pc(e).forEach(function(a,o){if(qO(a))r.push(a);else if(a){var i=qt(a.type),s=t[i]||{},c=s.handler,l=s.once;if(c&&(!l||!n[i])){var u=c(a,i,o);r.push(u),n[i]=!0}}}),r},XO=function(e){var t=e&&e.type;return t&&lh[t]?lh[t]:null},KO=function(e,t){return Pc(t).indexOf(e)},GO=["children","width","height","viewBox","className","style","title","desc"];function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}function YO(e,t){if(e==null)return{};var r=ZO(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cc(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,c=e.desc,l=YO(e,GO),u=a||{width:r,height:n,x:0,y:0},d=ve("recharts-surface",o);return E.createElement("svg",Nc({},me(l,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),E.createElement("title",null,s),E.createElement("desc",null,c),t)}var JO=["children","className"];function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(this,arguments)}function QO(e,t){if(e==null)return{};var r=e_(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e_(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $e=E.forwardRef(function(e,t){var r=e.children,n=e.className,a=QO(e,JO),o=ve("recharts-layer",n);return E.createElement("g",Mc({className:o},me(a,!0),{ref:t}),r)}),Wt=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function t_(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}let hh;Cs=t_,hh=Cs;function r_(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:hh(e,t,r)}var n_=r_,a_="\uD800-\uDFFF",o_="\\u0300-\\u036f",i_="\\ufe20-\\ufe2f",s_="\\u20d0-\\u20ff",c_=o_+i_+s_,l_="\\ufe0e\\ufe0f",u_="\\u200d",d_=RegExp("["+u_+a_+c_+l_+"]");function f_(e){return d_.test(e)}var mh=f_;function p_(e){return e.split("")}var h_=p_,yh="\uD800-\uDFFF",m_="\\u0300-\\u036f",y_="\\ufe20-\\ufe2f",v_="\\u20d0-\\u20ff",g_=m_+y_+v_,b_="\\ufe0e\\ufe0f",x_="["+yh+"]",Ac="["+g_+"]",Tc="\uD83C[\uDFFB-\uDFFF]",w_="(?:"+Ac+"|"+Tc+")",vh="[^"+yh+"]",gh="(?:\uD83C[\uDDE6-\uDDFF]){2}",bh="[\uD800-\uDBFF][\uDC00-\uDFFF]",j_="\\u200d",xh=w_+"?",wh="["+b_+"]?",O_="(?:"+j_+"(?:"+[vh,gh,bh].join("|")+")"+wh+xh+")*",__=wh+xh+O_,S_="(?:"+[vh+Ac+"?",Ac,gh,bh,x_].join("|")+")",E_=RegExp(Tc+"(?="+Tc+")|"+S_+__,"g");function P_(e){return e.match(E_)||[]}var k_=P_,N_=h_,C_=mh,M_=k_;function A_(e){return C_(e)?M_(e):N_(e)}var T_=A_,D_=n_,I_=mh,R_=T_,L_=WB;function B_(e){return function(t){t=L_(t);var r=I_(t)?R_(t):void 0,n=r?r[0]:t.charAt(0),a=r?D_(r,1).join(""):t.slice(1);return n[e]()+a}}var z_=B_,F_=z_,$_=F_("toUpperCase"),U_=$_;const Bo=ke(U_);function Ee(e){return function(){return e}}const jh=Math.cos,zo=Math.sin,kt=Math.sqrt,Fo=Math.PI,$o=2*Fo,Dc=Math.PI,Ic=2*Dc,Br=1e-6,V_=Ic-Br;function Oh(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function H_(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Oh;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class q_{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Oh:H_(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,c=n-t,l=a-r,u=i-t,d=s-r,p=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Br)if(!(Math.abs(d*c-l*u)>Br)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,y=a-s,h=c*c+l*l,g=m*m+y*y,b=Math.sqrt(h),w=Math.sqrt(p),_=o*Math.tan((Dc-Math.acos((h+p-g)/(2*b*w)))/2),x=_/w,j=_/b;Math.abs(x-1)>Br&&this._append`L${t+x*u},${r+x*d}`,this._append`A${o},${o},0,0,${+(d*m>u*y)},${this._x1=t+j*c},${this._y1=r+j*l}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),l=t+s,u=r+c,d=1^i,p=i?a-o:o-a;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Br||Math.abs(this._y1-u)>Br)&&this._append`L${l},${u}`,n&&(p<0&&(p=p%Ic+Ic),p>V_?this._append`A${n},${n},0,1,${d},${t-s},${r-c}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:p>Br&&this._append`A${n},${n},0,${+(p>=Dc)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Rc(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new q_(t)}function Lc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _h(e){this._context=e}_h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Uo(e){return new _h(e)}function Sh(e){return e[0]}function Eh(e){return e[1]}function Ph(e,t){var r=Ee(!0),n=null,a=Uo,o=null,i=Rc(s);e=typeof e=="function"?e:e===void 0?Sh:Ee(e),t=typeof t=="function"?t:t===void 0?Eh:Ee(t);function s(c){var l,u=(c=Lc(c)).length,d,p=!1,m;for(n==null&&(o=a(m=i())),l=0;l<=u;++l)!(l<u&&r(d=c[l],l,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(d,l,c),+t(d,l,c));if(m)return o=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ee(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ee(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ee(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(o=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=o=null:o=a(n=c),s):n},s}function Vo(e,t,r){var n=null,a=Ee(!0),o=null,i=Uo,s=null,c=Rc(l);e=typeof e=="function"?e:e===void 0?Sh:Ee(+e),t=typeof t=="function"?t:Ee(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Eh:Ee(+r);function l(d){var p,m,y,h=(d=Lc(d)).length,g,b=!1,w,_=new Array(h),x=new Array(h);for(o==null&&(s=i(w=c())),p=0;p<=h;++p){if(!(p<h&&a(g=d[p],p,d))===b)if(b=!b)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=m;--y)s.point(_[y],x[y]);s.lineEnd(),s.areaEnd()}b&&(_[p]=+e(g,p,d),x[p]=+t(g,p,d),s.point(n?+n(g,p,d):_[p],r?+r(g,p,d):x[p]))}if(w)return s=null,w+""||null}function u(){return Ph().defined(a).curve(i).context(o)}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ee(+d),n=null,l):e},l.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ee(+d),l):e},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ee(+d),l):n},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ee(+d),r=null,l):t},l.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ee(+d),l):t},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ee(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(n).y(t)},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ee(!!d),l):a},l.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),l):i},l.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),l):o},l}class kh{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function W_(e){return new kh(e,!0)}function X_(e){return new kh(e,!1)}const Bc={draw(e,t){const r=kt(t/Fo);e.moveTo(r,0),e.arc(0,0,r,0,$o)}},K_={draw(e,t){const r=kt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Nh=kt(1/3),G_=Nh*2,Y_={draw(e,t){const r=kt(t/G_),n=r*Nh;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Z_={draw(e,t){const r=kt(t),n=-r/2;e.rect(n,n,r,r)}},J_=.8908130915292852,Ch=zo(Fo/10)/zo(7*Fo/10),Q_=zo($o/10)*Ch,eS=-jh($o/10)*Ch,tS={draw(e,t){const r=kt(t*J_),n=Q_*r,a=eS*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=$o*o/5,s=jh(i),c=zo(i);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},zc=kt(3),rS={draw(e,t){const r=-kt(t/(zc*3));e.moveTo(0,r*2),e.lineTo(-zc*r,-r),e.lineTo(zc*r,-r),e.closePath()}},gt=-.5,bt=kt(3)/2,Fc=1/kt(12),nS=(Fc/2+1)*3,aS={draw(e,t){const r=kt(t/nS),n=r/2,a=r*Fc,o=n,i=r*Fc+r,s=-o,c=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,c),e.lineTo(gt*n-bt*a,bt*n+gt*a),e.lineTo(gt*o-bt*i,bt*o+gt*i),e.lineTo(gt*s-bt*c,bt*s+gt*c),e.lineTo(gt*n+bt*a,gt*a-bt*n),e.lineTo(gt*o+bt*i,gt*i-bt*o),e.lineTo(gt*s+bt*c,gt*c-bt*s),e.closePath()}};function oS(e,t){let r=null,n=Rc(a);e=typeof e=="function"?e:Ee(e||Bc),t=typeof t=="function"?t:Ee(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ee(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ee(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Ho(){}function qo(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Mh(e){this._context=e}Mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iS(e){return new Mh(e)}function Ah(e){this._context=e}Ah.prototype={areaStart:Ho,areaEnd:Ho,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sS(e){return new Ah(e)}function Th(e){this._context=e}Th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cS(e){return new Th(e)}function Dh(e){this._context=e}Dh.prototype={areaStart:Ho,areaEnd:Ho,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lS(e){return new Dh(e)}function Ih(e){return e<0?-1:1}function Rh(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Ih(o)+Ih(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Lh(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $c(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Wo(e){this._context=e}Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$c(this,this._t0,Lh(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$c(this,Lh(this,r=Rh(this,e,t)),r);break;default:$c(this,this._t0,r=Rh(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Bh(e){this._context=new zh(e)}(Bh.prototype=Object.create(Wo.prototype)).point=function(e,t){Wo.prototype.point.call(this,t,e)};function zh(e){this._context=e}zh.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function uS(e){return new Wo(e)}function dS(e){return new Bh(e)}function Fh(e){this._context=e}Fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$h(e),a=$h(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $h(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function fS(e){return new Fh(e)}function Xo(e,t){this._context=e,this._t=t}Xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function pS(e){return new Xo(e,.5)}function hS(e){return new Xo(e,0)}function mS(e){return new Xo(e,1)}function pn(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Uc(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yS(e,t){return e[t]}function vS(e){const t=[];return t.key=e,t}function gS(){var e=Ee([]),t=Uc,r=pn,n=yS;function a(o){var i=Array.from(e.apply(this,arguments),vS),s,c=i.length,l=-1,u;for(const d of o)for(s=0,++l;s<c;++s)(i[s][l]=[0,+n(d,i[s].key,l,o)]).data=d;for(s=0,u=Lc(t(i));s<c;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ee(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ee(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Uc:typeof o=="function"?o:Ee(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??pn,a):r},a}function bS(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}pn(e,t)}}function xS(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}pn(e,t)}}function wS(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],d=u[n][1]||0,p=u[n-1][1]||0,m=(d-p)/2,y=0;y<s;++y){var h=e[t[y]],g=h[n][1]||0,b=h[n-1][1]||0;m+=g-b}c+=d,l+=m*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=l/c)}a[n-1][1]+=a[n-1][0]=r,pn(e,t)}}function ua(e){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(e)}var jS=["type","size","sizeType"];function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}function Uh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uh(Object(r),!0).forEach(function(n){OS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OS(e,t,r){return t=_S(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _S(e){var t=SS(e,"string");return ua(t)=="symbol"?t:t+""}function SS(e,t){if(ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ES(e,t){if(e==null)return{};var r=PS(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PS(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hh={symbolCircle:Bc,symbolCross:K_,symbolDiamond:Y_,symbolSquare:Z_,symbolStar:tS,symbolTriangle:rS,symbolWye:aS},kS=Math.PI/180,NS=function(e){var t="symbol".concat(Bo(e));return Hh[t]||Bc},CS=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*kS;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},MS=function(e,t){Hh["symbol".concat(Bo(e))]=t},Hc=function(e){var t=e.type,r=t===void 0?"circle":t,n=e.size,a=n===void 0?64:n,o=e.sizeType,i=o===void 0?"area":o,s=ES(e,jS),c=Vh(Vh({},s),{},{type:r,size:a,sizeType:i}),l=function(){var y=NS(r),h=oS().type(y).size(CS(a,i,r));return h()},u=c.className,d=c.cx,p=c.cy,m=me(c,!0);return d===+d&&p===+p&&a===+a?E.createElement("path",Vc({},m,{className:ve("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(p,")"),d:l()})):null};Hc.registerSymbol=MS;function hn(e){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(e)}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}function qh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(r),!0).forEach(function(n){da(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xh(n.key),n)}}function IS(e,t,r){return t&&DS(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RS(e,t,r){return t=Ko(t),LS(e,Wh()?Reflect.construct(t,r||[],Ko(e).constructor):t.apply(e,r))}function LS(e,t){if(t&&(hn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BS(e)}function BS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wh=function(){return!!e})()}function Ko(e){return Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ko(e)}function zS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wc(e,t)}function Wc(e,t){return Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wc(e,t)}function da(e,t,r){return t=Xh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xh(e){var t=FS(e,"string");return hn(t)=="symbol"?t:t+""}function FS(e,t){if(hn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xt=32,Xc=function(e){function t(){return TS(this,t),RS(this,t,arguments)}return zS(t,e),IS(t,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,a=xt/2,o=xt/6,i=xt/3,s=r.inactive?n:r.color;if(r.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:xt,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(xt,"M").concat(2*i,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return E.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(xt/8,"h").concat(xt,"v").concat(xt*3/4,"h").concat(-xt,"z"),className:"recharts-legend-icon"});if(E.isValidElement(r.legendIcon)){var c=AS({},r);return delete c.legendIcon,E.cloneElement(r.legendIcon,c)}return E.createElement(Hc,{fill:s,cx:a,cy:a,size:xt,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,a=n.payload,o=n.iconSize,i=n.layout,s=n.formatter,c=n.inactiveColor,l={x:0,y:0,width:xt,height:xt},u={display:i==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var y=p.formatter||s,h=ve(da(da({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=de(p.value)?null:p.value;Wt(!de(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return E.createElement("li",qc({className:h,style:u,key:"legend-item-".concat(m)},Lo(r.props,p,m)),E.createElement(Cc,{width:o,height:o,viewBox:l,style:d},r.renderIcon(p)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(g,p,m):g))})}},{key:"render",value:function(){var r=this.props,n=r.payload,a=r.layout,o=r.align;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}(v.PureComponent);da(Xc,"displayName","Legend"),da(Xc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function $S(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Kh=$S;function US(e){return e!==e}var VS=US;function HS(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var qS=HS,WS=Kh,XS=VS,KS=qS;function GS(e,t,r){return t===t?KS(e,t,r):WS(e,XS,r)}var YS=GS,ZS=YS;function JS(e,t){var r=e==null?0:e.length;return!!r&&ZS(e,t,0)>-1}var QS=JS;function eE(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var tE=eE;function rE(){}var nE=rE,Kc=XB,aE=nE,oE=Sx,iE=1/0,sE=Kc&&1/oE(new Kc([,-0]))[1]==iE?function(e){return new Kc(e)}:aE,cE=sE,lE=KB,uE=QS,dE=tE,fE=GB,pE=cE,hE=Sx,mE=200;function yE(e,t,r){var n=-1,a=uE,o=e.length,i=!0,s=[],c=s;if(r)i=!1,a=dE;else if(o>=mE){var l=t?null:pE(e);if(l)return hE(l);i=!1,a=fE,c=new lE}else c=t?[]:s;e:for(;++n<o;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,i&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),s.push(u)}else a(c,d,r)||(c!==s&&c.push(d),s.push(u))}return s}var vE=yE,gE=Nr,bE=vE;function xE(e,t){return e&&e.length?bE(e,gE(t)):[]}var wE=xE;const Gh=ke(wE);function Yh(e,t,r){return t===!0?Gh(e,r):de(t)?Gh(e,t):e}function mn(e){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(e)}var jE=["ref"];function Zh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zh(Object(r),!0).forEach(function(n){Yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,em(n.key),n)}}function _E(e,t,r){return t&&Jh(e.prototype,t),r&&Jh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SE(e,t,r){return t=Go(t),EE(e,Qh()?Reflect.construct(t,r||[],Go(e).constructor):t.apply(e,r))}function EE(e,t){if(t&&(mn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PE(e)}function PE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qh=function(){return!!e})()}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(e)}function kE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gc(e,t)}function Gc(e,t){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Gc(e,t)}function Yo(e,t,r){return t=em(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function em(e){var t=NE(e,"string");return mn(t)=="symbol"?t:t+""}function NE(e,t){if(mn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CE(e,t){if(e==null)return{};var r=ME(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ME(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AE(e){return e.value}function TE(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var r=CE(t,jE);return E.createElement(Xc,r)}var tm=1,yn=function(e){function t(){var r;OE(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=SE(this,t,[].concat(a)),Yo(r,"lastBoundingBox",{width:-1,height:-1}),r}return kE(t,e),_E(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>tm||Math.abs(n.height-this.lastBoundingBox.height)>tm)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xt({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,a=n.layout,o=n.align,i=n.verticalAlign,s=n.margin,c=n.chartWidth,l=n.chartHeight,u,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();u={left:((c||0)-p.width)/2}}else u=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(i==="middle"){var m=this.getBBoxSnapshot();d={top:((l||0)-m.height)/2}}else d=i==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0};return Xt(Xt({},u),d)}},{key:"render",value:function(){var r=this,n=this.props,a=n.content,o=n.width,i=n.height,s=n.wrapperStyle,c=n.payloadUniqBy,l=n.payload,u=Xt(Xt({position:"absolute",width:o||"auto",height:i||"auto"},this.getDefaultPosition(s)),s);return E.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(d){r.wrapperNode=d}},TE(a,Xt(Xt({},this.props),{},{payload:Yh(l,c,AE)})))}}],[{key:"getWithHeight",value:function(r,n){var a=Xt(Xt({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&W(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||n}:null}}])}(v.PureComponent);Yo(yn,"displayName","Legend"),Yo(yn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var rm=YB,DE=ZB,IE=Yn,nm=rm?rm.isConcatSpreadable:void 0;function RE(e){return IE(e)||DE(e)||!!(nm&&e&&e[nm])}var LE=RE,BE=JB,zE=LE;function am(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=zE),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?am(s,t-1,r,n,a):BE(a,s):n||(a[a.length]=s)}return a}Ms=am;function FE(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(r(o[c],c,o)===!1)break}return t}}let om,im,sm,cm,lm;om=FE,im=om,sm=im(),Sd=sm,cm=Sd,lm=Ex;function $E(e,t){return e&&cm(e,t,lm)}var um=$E,UE=js;function VE(e,t){return function(r,n){if(r==null)return r;if(!UE(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var HE=VE,qE=um,WE=HE,XE=WE(qE),Yc=XE,KE=Yc,GE=js;function YE(e,t){var r=-1,n=GE(e)?Array(e.length):[];return KE(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var dm=YE;function ZE(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var JE=ZE,fm=md;function QE(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=fm(e),i=t!==void 0,s=t===null,c=t===t,l=fm(t);if(!s&&!l&&!o&&e>t||o&&i&&c&&!s&&!l||n&&i&&c||!r&&c||!a)return 1;if(!n&&!o&&!l&&e<t||l&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!c)return-1}return 0}var eP=QE,tP=eP;function rP(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var c=tP(a[n],o[n]);if(c){if(n>=s)return c;var l=r[n];return c*(l=="desc"?-1:1)}}return e.index-t.index}var nP=rP,Zc=Px,aP=QB,oP=Nr,iP=dm,sP=JE,cP=ez,lP=nP,uP=io,dP=Yn;function fP(e,t,r){t.length?t=Zc(t,function(o){return dP(o)?function(i){return aP(i,o.length===1?o[0]:o)}:o}):t=[uP];var n=-1;t=Zc(t,cP(oP));var a=iP(e,function(o,i,s){var c=Zc(t,function(l){return l(o)});return{criteria:c,index:++n,value:o}});return sP(a,function(o,i){return lP(o,i,r)})}var pP=fP;function hP(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}let pm,Jc;Nd=hP,pm=Nd,Jc=Math.max;function mP(e,t,r){return t=Jc(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Jc(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),pm(e,this,s)}}Od=mP;function yP(e){return function(){return e}}var vP=yP,gP=vP,hm=tz,bP=io,xP=hm?function(e,t){return hm(e,"toString",{configurable:!0,enumerable:!1,value:gP(t),writable:!0})}:bP,wP=xP,jP=800,OP=16,_P=Date.now;function SP(e){var t=0,r=0;return function(){var n=_P(),a=OP-(n-r);if(r=n,a>0){if(++t>=jP)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}let mm,ym,vm,gm,bm,xm,wm;mm=SP,ym=wP,vm=mm,gm=vm(ym),_d=gm,bm=io,xm=Od,wm=_d;function EP(e,t){return wm(xm(e,t,bm),e+"")}let jm,Om,_m,Sm;Ed=EP,jm=rz,Om=js,_m=nz,Sm=Os;function PP(e,t,r){if(!Sm(r))return!1;var n=typeof t;return(n=="number"?Om(r)&&_m(t,r.length):n=="string"&&t in r)?jm(r[t],e):!1}let Em,Pm,km,Qc,Nm,Cm;rn=PP,Em=Ms,Pm=pP,km=Ed,Qc=rn,Nm=km(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Qc(e,t[0],t[1])?t=[]:r>2&&Qc(t[0],t[1],t[2])&&(t=[t[0]]),Pm(e,Em(t,1),[])}),Cm=Nm;const el=ke(Cm);function fa(e){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(e)}function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(this,arguments)}function kP(e,t){return AP(e)||MP(e,t)||CP(e,t)||NP()}function NP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CP(e,t){if(e){if(typeof e=="string")return Mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mm(e,t)}}function Mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function AP(e){if(Array.isArray(e))return e}function Am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Am(Object(r),!0).forEach(function(n){TP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Am(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TP(e,t,r){return t=DP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DP(e){var t=IP(e,"string");return fa(t)=="symbol"?t:t+""}function IP(e,t){if(fa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RP(e){return Array.isArray(e)&&Be(e[0])&&Be(e[1])?e.join(" ~ "):e}var LP=function(e){var t=e.separator,r=t===void 0?" : ":t,n=e.contentStyle,a=n===void 0?{}:n,o=e.itemStyle,i=o===void 0?{}:o,s=e.labelStyle,c=s===void 0?{}:s,l=e.payload,u=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,h=e.labelFormatter,g=e.accessibilityLayer,b=g===void 0?!1:g,w=function(){if(l&&l.length){var M={padding:0,margin:0},k=(d?el(l,d):l).map(function(C,R){if(C.type==="none")return null;var T=rl({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},i),I=C.formatter||u||RP,L=C.value,F=C.name,D=L,V=F;if(I&&D!=null&&V!=null){var Z=I(L,F,C,R,l);if(Array.isArray(Z)){var G=kP(Z,2);D=G[0],V=G[1]}else D=Z}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:T},Be(V)?E.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Be(V)?E.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,E.createElement("span",{className:"recharts-tooltip-item-value"},D),E.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:M},k)}return null},_=rl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=rl({margin:0},c),j=!ye(y),O=j?y:"",S=ve("recharts-default-tooltip",p),P=ve("recharts-tooltip-label",m);j&&h&&l!==void 0&&l!==null&&(O=h(y,l));var N=b?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",tl({className:S,style:_},N),E.createElement("p",{className:P,style:x},E.isValidElement(O)?O:"".concat(O)),w())};function pa(e){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(e)}function Zo(e,t,r){return t=BP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=zP(e,"string");return pa(t)=="symbol"?t:t+""}function zP(e,t){if(pa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ha="recharts-tooltip-wrapper",FP={visibility:"hidden"};function $P(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ve(ha,Zo(Zo(Zo(Zo({},"".concat(ha,"-right"),W(r)&&t&&W(t.x)&&r>=t.x),"".concat(ha,"-left"),W(r)&&t&&W(t.x)&&r<t.x),"".concat(ha,"-bottom"),W(n)&&t&&W(t.y)&&n>=t.y),"".concat(ha,"-top"),W(n)&&t&&W(t.y)&&n<t.y))}function Tm(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(o&&W(o[n]))return o[n];var u=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?u:d;if(i[n]){var p=u,m=c[n];return p<m?Math.max(d,c[n]):Math.max(u,c[n])}var y=d+s,h=c[n]+l;return y>h?Math.max(u,c[n]):Math.max(d,c[n])}function UP(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function VP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,l,u,d;return i.height>0&&i.width>0&&r?(u=Tm({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=Tm({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),l=UP({translateX:u,translateY:d,useTranslate3d:s})):l=FP,{cssProperties:l,cssClasses:$P({translateX:u,translateY:d,coordinate:r})}}function vn(e){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(e)}function Dm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dm(Object(r),!0).forEach(function(n){al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lm(n.key),n)}}function WP(e,t,r){return t&&qP(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XP(e,t,r){return t=Jo(t),KP(e,Rm()?Reflect.construct(t,r||[],Jo(e).constructor):t.apply(e,r))}function KP(e,t){if(t&&(vn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GP(e)}function GP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rm=function(){return!!e})()}function Jo(e){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jo(e)}function YP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nl(e,t)}function nl(e,t){return nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},nl(e,t)}function al(e,t,r){return t=Lm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lm(e){var t=ZP(e,"string");return vn(t)=="symbol"?t:t+""}function ZP(e,t){if(vn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bm=1,JP=function(e){function t(){var r;HP(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=XP(this,t,[].concat(a)),al(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),al(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,c,l,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),r}return YP(t,e),WP(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Bm||Math.abs(r.height-this.state.lastBoundingBox.height)>Bm)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.children,l=n.coordinate,u=n.hasPayload,d=n.isAnimationActive,p=n.offset,m=n.position,y=n.reverseDirection,h=n.useTranslate3d,g=n.viewBox,b=n.wrapperStyle,w=VP({allowEscapeViewBox:o,coordinate:l,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:g}),_=w.cssClasses,x=w.cssProperties,j=Im(Im({transition:d&&a?"transform ".concat(i,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&u?"visible":"hidden",position:"absolute",top:0,left:0},b);return E.createElement("div",{tabIndex:-1,className:_,style:j,ref:function(O){r.wrapperNode=O}},c)}}])}(v.PureComponent),QP=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gr={isSsr:QP(),get:function(e){return gr[e]},set:function(e,t){if(typeof e=="string")gr[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(n){gr[n]=e[n]})}}};function gn(e){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(e)}function zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zm(Object(r),!0).forEach(function(n){il(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ek(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Um(n.key),n)}}function rk(e,t,r){return t&&tk(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nk(e,t,r){return t=Qo(t),ak(e,$m()?Reflect.construct(t,r||[],Qo(e).constructor):t.apply(e,r))}function ak(e,t){if(t&&(gn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ok(e)}function ok(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($m=function(){return!!e})()}function Qo(e){return Qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qo(e)}function ik(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ol(e,t)}function ol(e,t){return ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ol(e,t)}function il(e,t,r){return t=Um(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Um(e){var t=sk(e,"string");return gn(t)=="symbol"?t:t+""}function sk(e,t){if(gn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ck(e){return e.dataKey}function lk(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(LP,t)}var Tt=function(e){function t(){return ek(this,t),nk(this,t,arguments)}return ik(t,e),rk(t,[{key:"render",value:function(){var r=this,n=this.props,a=n.active,o=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,c=n.content,l=n.coordinate,u=n.filterNull,d=n.isAnimationActive,p=n.offset,m=n.payload,y=n.payloadUniqBy,h=n.position,g=n.reverseDirection,b=n.useTranslate3d,w=n.viewBox,_=n.wrapperStyle,x=m??[];u&&x.length&&(x=Yh(m.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),y,ck));var j=x.length>0;return E.createElement(JP,{allowEscapeViewBox:o,animationDuration:i,animationEasing:s,isAnimationActive:d,active:a,coordinate:l,hasPayload:j,offset:p,position:h,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:_},lk(c,Fm(Fm({},this.props),{},{payload:x})))}}])}(v.PureComponent);il(Tt,"displayName","Tooltip"),il(Tt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uk=az,dk=function(){return uk.Date.now()},fk=dk,pk=/\s/;function hk(e){for(var t=e.length;t--&&pk.test(e.charAt(t)););return t}var mk=hk,yk=mk,vk=/^\s+/;function gk(e){return e&&e.slice(0,yk(e)+1).replace(vk,"")}var bk=gk,xk=bk,Vm=Os,wk=md,Hm=NaN,jk=/^[-+]0x[0-9a-f]+$/i,Ok=/^0b[01]+$/i,_k=/^0o[0-7]+$/i,Sk=parseInt;function Ek(e){if(typeof e=="number")return e;if(wk(e))return Hm;if(Vm(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Vm(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xk(e);var r=Ok.test(e);return r||_k.test(e)?Sk(e.slice(2),r?2:8):jk.test(e)?Hm:+e}var qm=Ek,Pk=Os,sl=fk,Wm=qm,kk="Expected a function",Nk=Math.max,Ck=Math.min;function Mk(e,t,r){var n,a,o,i,s,c,l=0,u=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(kk);t=Wm(t)||0,Pk(r)&&(u=!!r.leading,d="maxWait"in r,o=d?Nk(Wm(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p);function m(O){var S=n,P=a;return n=a=void 0,l=O,i=e.apply(P,S),i}function y(O){return l=O,s=setTimeout(b,t),u?m(O):i}function h(O){var S=O-c,P=O-l,N=t-S;return d?Ck(N,o-P):N}function g(O){var S=O-c,P=O-l;return c===void 0||S>=t||S<0||d&&P>=o}function b(){var O=sl();if(g(O))return w(O);s=setTimeout(b,h(O))}function w(O){return s=void 0,p&&n?m(O):(n=a=void 0,i)}function _(){s!==void 0&&clearTimeout(s),l=0,n=c=a=s=void 0}function x(){return s===void 0?i:w(sl())}function j(){var O=sl(),S=g(O);if(n=arguments,a=this,c=O,S){if(s===void 0)return y(c);if(d)return clearTimeout(s),s=setTimeout(b,t),m(c)}return s===void 0&&(s=setTimeout(b,t)),i}return j.cancel=_,j.flush=x,j}var Xm=Mk;Xx=ke(Xm);var Ak=Xm,Tk=Os,Dk="Expected a function";function Ik(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Dk);return Tk(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ak(e,t,{leading:n,maxWait:t,trailing:a})}var Rk=Ik;Ds=ke(Rk);function ma(e){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(e)}function Km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Km(Object(r),!0).forEach(function(n){Lk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Km(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lk(e,t,r){return t=Bk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bk(e){var t=zk(e,"string");return ma(t)=="symbol"?t:t+""}function zk(e,t){if(ma(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ma(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fk(e,t){return Hk(e)||Vk(e,t)||Uk(e,t)||$k()}function $k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uk(e,t){if(e){if(typeof e=="string")return Gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gm(e,t)}}function Gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vk(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function Hk(e){if(Array.isArray(e))return e}var qk=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,c=s===void 0?"100%":s,l=e.minWidth,u=l===void 0?0:l,d=e.minHeight,p=e.maxHeight,m=e.children,y=e.debounce,h=y===void 0?0:y,g=e.id,b=e.className,w=e.onResize,_=e.style,x=_===void 0?{}:_,j=v.useRef(null),O=v.useRef();O.current=w,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=v.useState({containerWidth:a.width,containerHeight:a.height}),P=Fk(S,2),N=P[0],M=P[1],k=v.useCallback(function(R,T){M(function(I){var L=Math.round(R),F=Math.round(T);return I.containerWidth===L&&I.containerHeight===F?I:{containerWidth:L,containerHeight:F}})},[]);v.useEffect(function(){var R=function(D){var V,Z=D[0].contentRect,G=Z.width,A=Z.height;k(G,A),(V=O.current)===null||V===void 0||V.call(O,G,A)};h>0&&(R=Ds(R,h,{trailing:!0,leading:!1}));var T=new ResizeObserver(R),I=j.current.getBoundingClientRect(),L=I.width,F=I.height;return k(L,F),T.observe(j.current),function(){T.disconnect()}},[k,h]);var C=v.useMemo(function(){var R=N.containerWidth,T=N.containerHeight;if(R<0||T<0)return null;Wt(Rr(i)||Rr(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Wt(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Rr(i)?R:i,L=Rr(c)?T:c;r&&r>0&&(I?L=I/r:L&&(I=L*r),p&&L>p&&(L=p)),Wt(I>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,L,i,c,u,d,r);var F=!Array.isArray(m)&&qt(m.type).endsWith("Chart");return E.Children.map(m,function(D){return E.isValidElement(D)?v.cloneElement(D,ei({width:I,height:L},F?{style:ei({height:"100%",width:"100%",maxHeight:L,maxWidth:I},D.props.style)}:{})):D})},[r,m,c,p,d,u,N,i]);return E.createElement("div",{id:g?"".concat(g):void 0,className:ve("recharts-responsive-container",b),style:ei(ei({},x),{},{width:i,height:c,minWidth:u,minHeight:d,maxHeight:p}),ref:j},C)}),Ym=function(e){return null};Ym.displayName="Cell";function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function Zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zm(Object(r),!0).forEach(function(n){Wk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wk(e,t,r){return t=Xk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xk(e){var t=Kk(e,"string");return ya(t)=="symbol"?t:t+""}function Kk(e,t){if(ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bn={widthCache:{},cacheCount:0},Gk=2e3,Yk={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Jm="recharts_measurement_span";function Zk(e){var t=cl({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var va=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gr.isSsr)return{width:0,height:0};var r=Zk(t),n=JSON.stringify({text:e,copyStyle:r});if(bn.widthCache[n])return bn.widthCache[n];try{var a=document.getElementById(Jm);a||(a=document.createElement("span"),a.setAttribute("id",Jm),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=cl(cl({},Yk),r);Object.assign(a.style,o),a.textContent="".concat(e);var i=a.getBoundingClientRect(),s={width:i.width,height:i.height};return bn.widthCache[n]=s,++bn.cacheCount>Gk&&(bn.cacheCount=0,bn.widthCache={}),s}catch{return{width:0,height:0}}},Jk=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ga(e){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(e)}function ti(e,t){return rN(e)||tN(e,t)||eN(e,t)||Qk()}function Qk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eN(e,t){if(e){if(typeof e=="string")return Qm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qm(e,t)}}function Qm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tN(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function rN(e){if(Array.isArray(e))return e}function nN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ey(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oN(n.key),n)}}function aN(e,t,r){return t&&ey(e.prototype,t),r&&ey(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oN(e){var t=iN(e,"string");return ga(t)=="symbol"?t:t+""}function iN(e,t){if(ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ty=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ry=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sN=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cN=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ny={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lN=Object.keys(ny),xn="NaN";function uN(e,t){return e*ny[t]}var ri=function(){function e(t,r){nN(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!sN.test(r)&&(this.num=NaN,this.unit=""),lN.includes(r)&&(this.num=uN(t,r),this.unit="px")}return aN(e,[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,n=(r=cN.exec(t))!==null&&r!==void 0?r:[],a=ti(n,3),o=a[1],i=a[2];return new e(parseFloat(o),i??"")}}])}();function ay(e){if(e.includes(xn))return xn;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ty.exec(t))!==null&&r!==void 0?r:[],a=ti(n,4),o=a[1],i=a[2],s=a[3],c=ri.parse(o??""),l=ri.parse(s??""),u=i==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return xn;t=t.replace(ty,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=ry.exec(t))!==null&&d!==void 0?d:[],m=ti(p,4),y=m[1],h=m[2],g=m[3],b=ri.parse(y??""),w=ri.parse(g??""),_=h==="+"?b.add(w):b.subtract(w);if(_.isNaN())return xn;t=t.replace(ry,_.toString())}return t}var oy=/\(([^()]*)\)/;function dN(e){for(var t=e;t.includes("(");){var r=oy.exec(t),n=ti(r,2),a=n[1];t=t.replace(oy,ay(a))}return t}function fN(e){var t=e.replace(/\s+/g,"");return t=dN(t),t=ay(t),t}function pN(e){try{return fN(e)}catch{return xn}}function ll(e){var t=pN(e.slice(5,-1));return t===xn?"":t}var hN=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mN=["dx","dy","angle","className","breakAll"];function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ul.apply(this,arguments)}function iy(e,t){if(e==null)return{};var r=yN(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yN(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sy(e,t){return xN(e)||bN(e,t)||gN(e,t)||vN()}function vN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gN(e,t){if(e){if(typeof e=="string")return cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cy(e,t)}}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bN(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function xN(e){if(Array.isArray(e))return e}var ly=/[ \f\n\r\t\v\u2028\u2029]+/,uy=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];ye(t)||(r?a=t.toString().split(""):a=t.toString().split(ly));var o=a.map(function(s){return{word:s,width:va(s,n).width}}),i=r?0:va("\xA0",n).width;return{wordsWithComputedWidth:o,spaceWidth:i}}catch{return null}},wN=function(e,t,r,n,a){var o=e.maxLines,i=e.children,s=e.style,c=e.breakAll,l=W(o),u=i,d=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(T,I){var L=I.word,F=I.width,D=T[T.length-1];if(D&&(n==null||a||D.width+F+r<Number(n)))D.words.push(L),D.width+=F+r;else{var V={words:[L],width:F};T.push(V)}return T},[])},p=d(t),m=function(R){return R.reduce(function(T,I){return T.width>I.width?T:I})};if(!l)return p;for(var y="\u2026",h=function(R){var T=u.slice(0,R),I=uy({breakAll:c,style:s,children:T+y}).wordsWithComputedWidth,L=d(I),F=L.length>o||m(L).width>Number(n);return[F,L]},g=0,b=u.length-1,w=0,_;g<=b&&w<=u.length-1;){var x=Math.floor((g+b)/2),j=x-1,O=h(j),S=sy(O,2),P=S[0],N=S[1],M=h(x),k=sy(M,1),C=k[0];if(!P&&!C&&(g=x+1),P&&C&&(b=x-1),!P&&C){_=N;break}w++}return _||p},dy=function(e){var t=ye(e)?[]:e.toString().split(ly);return[{words:t}]},jN=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,o=e.breakAll,i=e.maxLines;if((t||r)&&!gr.isSsr){var s,c,l=uy({breakAll:o,children:n,style:a});if(l){var u=l.wordsWithComputedWidth,d=l.spaceWidth;s=u,c=d}else return dy(n);return wN({breakAll:o,children:n,maxLines:i,style:a},s,c,t,r)}return dy(n)},fy="#808080",ni=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.lineHeight,i=o===void 0?"1em":o,s=e.capHeight,c=s===void 0?"0.71em":s,l=e.scaleToFit,u=l===void 0?!1:l,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,y=m===void 0?"end":m,h=e.fill,g=h===void 0?fy:h,b=iy(e,hN),w=v.useMemo(function(){return jN({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:u,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,u,b.style,b.width]),_=b.dx,x=b.dy,j=b.angle,O=b.className,S=b.breakAll,P=iy(b,mN);if(!Be(r)||!Be(a))return null;var N=r+(W(_)?_:0),M=a+(W(x)?x:0),k;switch(y){case"start":k=ll("calc(".concat(c,")"));break;case"middle":k=ll("calc(".concat((w.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:k=ll("calc(".concat(w.length-1," * -").concat(i,")"));break}var C=[];if(u){var R=w[0].width,T=b.width;C.push("scale(".concat((W(T)?T/R:1)/R,")"))}return j&&C.push("rotate(".concat(j,", ").concat(N,", ").concat(M,")")),C.length&&(P.transform=C.join(" ")),E.createElement("text",ul({},me(P,!0),{x:N,y:M,className:ve("recharts-text",O),textAnchor:p,fill:g.includes("url")?fy:g}),w.map(function(I,L){var F=I.words.join(S?"":" ");return E.createElement("tspan",{x:N,dy:L===0?k:i,key:"".concat(F,"-").concat(L)},F)}))};function br(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ON(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dl(e){let t,r,n;e.length!==2?(t=br,r=(s,c)=>br(e(s),c),n=(s,c)=>e(s)-c):(t=e===br||e===ON?e:_N,r=e,n=e);function a(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function i(s,c,l=0,u=s.length){const d=a(s,c,l,u-1);return d>l&&n(s[d-1],c)>-n(s[d],c)?d-1:d}return{left:a,center:i,right:o}}function _N(){return 0}function py(e){return e===null?NaN:+e}function*SN(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const EN=dl(br),ba=EN.right;dl(py).center;class hy extends Map{constructor(t,r=NN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(my(this,t))}has(t){return super.has(my(this,t))}set(t,r){return super.set(PN(this,t),r)}delete(t){return super.delete(kN(this,t))}}function my({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function PN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function kN({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function NN(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CN(e=br){if(e===br)return yy;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function yy(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const MN=Math.sqrt(50),AN=Math.sqrt(10),TN=Math.sqrt(2);function ai(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=MN?10:o>=AN?5:o>=TN?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=r&&r<2?ai(e,t,r*2):[s,c,l]}function fl(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?ai(t,e,r):ai(e,t,r);if(!(o>=a))return[];const s=o-a+1,c=new Array(s);if(n)if(i<0)for(let l=0;l<s;++l)c[l]=(o-l)/-i;else for(let l=0;l<s;++l)c[l]=(o-l)*i;else if(i<0)for(let l=0;l<s;++l)c[l]=(a+l)/-i;else for(let l=0;l<s;++l)c[l]=(a+l)*i;return c}function pl(e,t,r){return t=+t,e=+e,r=+r,ai(e,t,r)[2]}function hl(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?pl(t,e,r):pl(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function vy(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gy(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function by(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?yy:CN(a);n>r;){if(n-r>600){const c=n-r+1,l=t-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),m=Math.max(r,Math.floor(t-l*d/c+p)),y=Math.min(n,Math.floor(t+(c-l)*d/c+p));by(e,t,m,y,a)}const o=e[t];let i=r,s=n;for(xa(e,r,t),a(e[n],o)>0&&xa(e,r,n);i<s;){for(xa(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?xa(e,r,s):(++s,xa(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function xa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function DN(e,t,r){if(e=Float64Array.from(SN(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return gy(e);if(t>=1)return vy(e);var n,a=(n-1)*t,o=Math.floor(a),i=vy(by(e,o).subarray(0,o+1)),s=gy(e.subarray(o+1));return i+(s-i)*(a-o)}}function IN(e,t,r=py){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function RN(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function wt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Kt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ml=Symbol("implicit");function yl(){var e=new hy,t=[],r=[],n=ml;function a(o){let i=e.get(o);if(i===void 0){if(n!==ml)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new hy;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return yl(t,r).unknown(n)},wt.apply(a,arguments),a}function wa(){var e=yl().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var p=t().length,m=a<n,y=m?a:n,h=m?n:a;o=(h-y)/Math.max(1,p-c+l*2),s&&(o=Math.floor(o)),y+=(h-y-o*(p-c))*u,i=o*(1-c),s&&(y=Math.round(y),i=Math.round(i));var g=RN(p).map(function(b){return y+o*b});return r(m?g.reverse():g)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,l=+p),d()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),d()):c},e.paddingOuter=function(p){return arguments.length?(l=+p,d()):l},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),d()):u},e.copy=function(){return wa(t(),[n,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},wt.apply(d(),arguments)}function xy(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xy(t())},e}function ja(){return xy(wa.apply(null,arguments).paddingInner(1))}function LN(e){return function(){return e}}function oi(e){return+e}var wy=[0,1];function Ze(e){return e}function vl(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:LN(isNaN(t)?NaN:.5)}function BN(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function zN(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=vl(a,n),o=r(i,o)):(n=vl(n,a),o=r(o,i)),function(s){return o(n(s))}}function FN(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=vl(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var c=ba(e,s,1,n)-1;return o[c](a[c](s))}}function Oa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ii(){var e=wy,t=wy,r=nn,n,a,o,i=Ze,s,c,l;function u(){var p=Math.min(e.length,t.length);return i!==Ze&&(i=BN(e[0],e[p-1])),s=p>2?FN:zN,c=l=null,d}function d(p){return p==null||isNaN(p=+p)?o:(c||(c=s(e.map(n),t,r)))(n(i(p)))}return d.invert=function(p){return i(a((l||(l=s(t,e.map(n),pd)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,oi),u()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=Rs,u()},d.clamp=function(p){return arguments.length?(i=p?!0:Ze,u()):i!==Ze},d.interpolate=function(p){return arguments.length?(r=p,u()):r},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,m){return n=p,a=m,u()}}function gl(){return ii()(Ze,Ze)}function $N(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function si(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function wn(e){return e=si(Math.abs(e)),e?e[1]:NaN}function UN(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),o.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function VN(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var HN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _a(e){if(!(t=HN.exec(e)))throw new Error("invalid format: "+e);var t;return new bl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_a.prototype=bl.prototype;function bl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qN(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var jy;function WN(e,t){var r=si(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(jy=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+si(e,Math.max(0,t+o-1))[0]}function Oy(e,t){var r=si(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const _y={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$N,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Oy(e*100,t),r:Oy,s:WN,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Sy(e){return e}var Ey=Array.prototype.map,Py=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function XN(e){var t=e.grouping===void 0||e.thousands===void 0?Sy:UN(Ey.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Sy:VN(Ey.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=_a(d);var p=d.fill,m=d.align,y=d.sign,h=d.symbol,g=d.zero,b=d.width,w=d.comma,_=d.precision,x=d.trim,j=d.type;j==="n"?(w=!0,j="g"):_y[j]||(_===void 0&&(_=12),x=!0,j="g"),(g||p==="0"&&m==="=")&&(g=!0,p="0",m="=");var O=h==="$"?r:h==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=h==="$"?n:/[%p]/.test(j)?i:"",P=_y[j],N=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function M(k){var C=O,R=S,T,I,L;if(j==="c")R=P(k)+R,k="";else{k=+k;var F=k<0||1/k<0;if(k=isNaN(k)?c:P(Math.abs(k),_),x&&(k=qN(k)),F&&+k==0&&y!=="+"&&(F=!1),C=(F?y==="("?y:s:y==="-"||y==="("?"":y)+C,R=(j==="s"?Py[8+jy/3]:"")+R+(F&&y==="("?")":""),N){for(T=-1,I=k.length;++T<I;)if(L=k.charCodeAt(T),48>L||L>57){R=(L===46?a+k.slice(T+1):k.slice(T))+R,k=k.slice(0,T);break}}}w&&!g&&(k=t(k,1/0));var D=C.length+k.length+R.length,V=D<b?new Array(b-D+1).join(p):"";switch(w&&g&&(k=t(V+k,V.length?b-R.length:1/0),V=""),m){case"<":k=C+k+R+V;break;case"=":k=C+V+k+R;break;case"^":k=V.slice(0,D=V.length>>1)+C+k+R+V.slice(D);break;default:k=V+C+k+R;break}return o(k)}return M.toString=function(){return d+""},M}function u(d,p){var m=l((d=_a(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(wn(p)/3)))*3,h=Math.pow(10,-y),g=Py[8+y/3];return function(b){return m(h*b)+g}}return{format:l,formatPrefix:u}}var ci,xl,ky;KN({thousands:",",grouping:[3],currency:["$",""]});function KN(e){return ci=XN(e),xl=ci.format,ky=ci.formatPrefix,ci}function GN(e){return Math.max(0,-wn(Math.abs(e)))}function YN(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wn(t)/3)))*3-wn(Math.abs(e)))}function ZN(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wn(t)-wn(e))+1}function Ny(e,t,r,n){var a=hl(e,t,r),o;switch(n=_a(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=YN(a,i))&&(n.precision=o),ky(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=ZN(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=GN(a))&&(n.precision=o-(n.type==="%")*2);break}}return xl(n)}function xr(e){var t=e.domain;return e.ticks=function(r){var n=t();return fl(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Ny(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],c,l,u=10;for(s<i&&(l=i,i=s,s=l,l=a,a=o,o=l);u-- >0;){if(l=pl(i,s,r),l===c)return n[a]=i,n[o]=s,t(n);if(l>0)i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l;else if(l<0)i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function li(){var e=gl();return e.copy=function(){return Oa(e,li())},wt.apply(e,arguments),xr(e)}function Cy(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,oi),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Cy(e).unknown(t)},e=arguments.length?Array.from(e,oi):[0,1],xr(r)}function My(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function Ay(e){return Math.log(e)}function Ty(e){return Math.exp(e)}function JN(e){return-Math.log(-e)}function QN(e){return-Math.exp(-e)}function eC(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tC(e){return e===10?eC:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rC(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Dy(e){return(t,r)=>-e(-t,r)}function wl(e){const t=e(Ay,Ty),r=t.domain;let n=10,a,o;function i(){return a=rC(n),o=tC(n),r()[0]<0?(a=Dy(a),o=Dy(o),e(JN,QN)):e(Ay,Ty),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const c=r();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let p=a(l),m=a(u),y,h;const g=s==null?10:+s;let b=[];if(!(n%1)&&m-p<g){if(p=Math.floor(p),m=Math.ceil(m),l>0){for(;p<=m;++p)for(y=1;y<n;++y)if(h=p<0?y/o(-p):y*o(p),!(h<l)){if(h>u)break;b.push(h)}}else for(;p<=m;++p)for(y=n-1;y>=1;--y)if(h=p>0?y/o(-p):y*o(p),!(h<l)){if(h>u)break;b.push(h)}b.length*2<g&&(b=fl(l,u,g))}else b=fl(p,m,Math.min(m-p,g)).map(o);return d?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=_a(c)).precision==null&&(c.trim=!0),c=xl(c)),s===1/0)return c;const l=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/o(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=l?c(u):""}},t.nice=()=>r(My(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function Iy(){const e=wl(ii()).domain([1,10]);return e.copy=()=>Oa(e,Iy()).base(e.base()),wt.apply(e,arguments),e}function Ry(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ly(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jl(e){var t=1,r=e(Ry(t),Ly(t));return r.constant=function(n){return arguments.length?e(Ry(t=+n),Ly(t)):t},xr(r)}function By(){var e=jl(ii());return e.copy=function(){return Oa(e,By()).constant(e.constant())},wt.apply(e,arguments)}function zy(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nC(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function aC(e){return e<0?-e*e:e*e}function Ol(e){var t=e(Ze,Ze),r=1;function n(){return r===1?e(Ze,Ze):r===.5?e(nC,aC):e(zy(r),zy(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},xr(t)}function _l(){var e=Ol(ii());return e.copy=function(){return Oa(e,_l()).exponent(e.exponent())},wt.apply(e,arguments),e}function oC(){return _l.apply(null,arguments).exponent(.5)}function Fy(e){return Math.sign(e)*e*e}function iC(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $y(){var e=gl(),t=[0,1],r=!1,n;function a(o){var i=iC(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(Fy(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,oi)).map(Fy)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return $y(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},wt.apply(a,arguments),xr(a)}function Uy(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=IN(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[ba(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(br),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return Uy().domain(e).range(t).unknown(n)},wt.apply(o,arguments)}function Vy(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(c){return c!=null&&c<=c?a[ba(n,c,0,r)]:o}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},i.invertExtent=function(c){var l=a.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,n[0]]:l>=r?[n[r-1],t]:[n[l-1],n[l]]},i.unknown=function(c){return arguments.length&&(o=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Vy().domain([e,t]).range(a).unknown(o)},wt.apply(xr(i),arguments)}function Hy(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[ba(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return Hy().domain(e).range(t).unknown(r)},wt.apply(a,arguments)}const Sl=new Date,El=new Date;function ze(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const c=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return c;let l;do c.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<i);return c},a.filter=o=>ze(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Sl.setTime(+o),El.setTime(+i),e(Sl),e(El),Math.floor(r(Sl,El))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const ui=ze(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ui.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ze(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ui),ui.range;const Gt=1e3,jt=Gt*60,Yt=jt*60,Zt=Yt*24,Pl=Zt*7,qy=Zt*30,kl=Zt*365,zr=ze(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gt)},(e,t)=>(t-e)/Gt,e=>e.getUTCSeconds());zr.range;const Nl=ze(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gt)},(e,t)=>{e.setTime(+e+t*jt)},(e,t)=>(t-e)/jt,e=>e.getMinutes());Nl.range;const Cl=ze(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jt)},(e,t)=>(t-e)/jt,e=>e.getUTCMinutes());Cl.range;const Ml=ze(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gt-e.getMinutes()*jt)},(e,t)=>{e.setTime(+e+t*Yt)},(e,t)=>(t-e)/Yt,e=>e.getHours());Ml.range;const Al=ze(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yt)},(e,t)=>(t-e)/Yt,e=>e.getUTCHours());Al.range;const Sa=ze(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jt)/Zt,e=>e.getDate()-1);Sa.range;const di=ze(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zt,e=>e.getUTCDate()-1);di.range;const Wy=ze(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zt,e=>Math.floor(e/Zt));Wy.range;function Fr(e){return ze(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*jt)/Pl)}const fi=Fr(0),pi=Fr(1),sC=Fr(2),cC=Fr(3),jn=Fr(4),lC=Fr(5),uC=Fr(6);fi.range,pi.range,sC.range,cC.range,jn.range,lC.range,uC.range;function $r(e){return ze(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Pl)}const hi=$r(0),mi=$r(1),dC=$r(2),fC=$r(3),On=$r(4),pC=$r(5),hC=$r(6);hi.range,mi.range,dC.range,fC.range,On.range,pC.range,hC.range;const Tl=ze(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Tl.range;const Dl=ze(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Dl.range;const Jt=ze(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ze(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),Jt.range;const Qt=ze(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ze(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),Qt.range;function Xy(e,t,r,n,a,o){const i=[[zr,1,Gt],[zr,5,5*Gt],[zr,15,15*Gt],[zr,30,30*Gt],[o,1,jt],[o,5,5*jt],[o,15,15*jt],[o,30,30*jt],[a,1,Yt],[a,3,3*Yt],[a,6,6*Yt],[a,12,12*Yt],[n,1,Zt],[n,2,2*Zt],[r,1,Pl],[t,1,qy],[t,3,3*qy],[e,1,kl]];function s(l,u,d){const p=u<l;p&&([l,u]=[u,l]);const m=d&&typeof d.range=="function"?d:c(l,u,d),y=m?m.range(l,+u+1):[];return p?y.reverse():y}function c(l,u,d){const p=Math.abs(u-l)/d,m=dl(([,,g])=>g).right(i,p);if(m===i.length)return e.every(hl(l/kl,u/kl,d));if(m===0)return ui.every(Math.max(hl(l,u,d),1));const[y,h]=i[p/i[m-1][2]<i[m][2]/p?m-1:m];return y.every(h)}return[s,c]}const[mC,yC]=Xy(Qt,Dl,hi,Wy,Al,Cl),[vC,gC]=Xy(Jt,Tl,fi,Sa,Ml,Nl);function Il(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rl(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ea(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function bC(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=Pa(a),u=ka(a),d=Pa(o),p=ka(o),m=Pa(i),y=ka(i),h=Pa(s),g=ka(s),b=Pa(c),w=ka(c),_={a:F,A:D,b:V,B:Z,c:null,d:Qy,e:Qy,f:UC,g:JC,G:eM,H:zC,I:FC,j:$C,L:ev,m:VC,M:HC,p:G,q:A,Q:iv,s:sv,S:qC,u:WC,U:XC,V:KC,w:GC,W:YC,x:null,X:null,y:ZC,Y:QC,Z:tM,"%":ov},x={a:K,A:Q,b:Y,B:ne,c:null,d:rv,e:rv,f:oM,g:mM,G:vM,H:rM,I:nM,j:aM,L:nv,m:iM,M:sM,p:q,q:ae,Q:iv,s:sv,S:cM,u:lM,U:uM,V:dM,w:fM,W:pM,x:null,X:null,y:hM,Y:yM,Z:gM,"%":ov},j={a:M,A:k,b:C,B:R,c:T,d:Zy,e:Zy,f:IC,g:Yy,G:Gy,H:Jy,I:Jy,j:MC,L:DC,m:CC,M:AC,p:N,q:NC,Q:LC,s:BC,S:TC,u:_C,U:SC,V:EC,w:OC,W:PC,x:I,X:L,y:Yy,Y:Gy,Z:kC,"%":RC};_.x=O(r,_),_.X=O(n,_),_.c=O(t,_),x.x=O(r,x),x.X=O(n,x),x.c=O(t,x);function O(U,X){return function(te){var z=[],_e=-1,ce=0,Me=U.length,Ae,Qe,Jr;for(te instanceof Date||(te=new Date(+te));++_e<Me;)U.charCodeAt(_e)===37&&(z.push(U.slice(ce,_e)),(Qe=Ky[Ae=U.charAt(++_e)])!=null?Ae=U.charAt(++_e):Qe=Ae==="e"?" ":"0",(Jr=X[Ae])&&(Ae=Jr(te,Qe)),z.push(Ae),ce=_e+1);return z.push(U.slice(ce,_e)),z.join("")}}function S(U,X){return function(te){var z=Ea(1900,void 0,1),_e=P(z,U,te+="",0),ce,Me;if(_e!=te.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(X&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(ce=Rl(Ea(z.y,0,1)),Me=ce.getUTCDay(),ce=Me>4||Me===0?mi.ceil(ce):mi(ce),ce=di.offset(ce,(z.V-1)*7),z.y=ce.getUTCFullYear(),z.m=ce.getUTCMonth(),z.d=ce.getUTCDate()+(z.w+6)%7):(ce=Il(Ea(z.y,0,1)),Me=ce.getDay(),ce=Me>4||Me===0?pi.ceil(ce):pi(ce),ce=Sa.offset(ce,(z.V-1)*7),z.y=ce.getFullYear(),z.m=ce.getMonth(),z.d=ce.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Me="Z"in z?Rl(Ea(z.y,0,1)).getUTCDay():Il(Ea(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Me+5)%7:z.w+z.U*7-(Me+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Rl(z)):Il(z)}}function P(U,X,te,z){for(var _e=0,ce=X.length,Me=te.length,Ae,Qe;_e<ce;){if(z>=Me)return-1;if(Ae=X.charCodeAt(_e++),Ae===37){if(Ae=X.charAt(_e++),Qe=j[Ae in Ky?X.charAt(_e++):Ae],!Qe||(z=Qe(U,te,z))<0)return-1}else if(Ae!=te.charCodeAt(z++))return-1}return z}function N(U,X,te){var z=l.exec(X.slice(te));return z?(U.p=u.get(z[0].toLowerCase()),te+z[0].length):-1}function M(U,X,te){var z=m.exec(X.slice(te));return z?(U.w=y.get(z[0].toLowerCase()),te+z[0].length):-1}function k(U,X,te){var z=d.exec(X.slice(te));return z?(U.w=p.get(z[0].toLowerCase()),te+z[0].length):-1}function C(U,X,te){var z=b.exec(X.slice(te));return z?(U.m=w.get(z[0].toLowerCase()),te+z[0].length):-1}function R(U,X,te){var z=h.exec(X.slice(te));return z?(U.m=g.get(z[0].toLowerCase()),te+z[0].length):-1}function T(U,X,te){return P(U,t,X,te)}function I(U,X,te){return P(U,r,X,te)}function L(U,X,te){return P(U,n,X,te)}function F(U){return i[U.getDay()]}function D(U){return o[U.getDay()]}function V(U){return c[U.getMonth()]}function Z(U){return s[U.getMonth()]}function G(U){return a[+(U.getHours()>=12)]}function A(U){return 1+~~(U.getMonth()/3)}function K(U){return i[U.getUTCDay()]}function Q(U){return o[U.getUTCDay()]}function Y(U){return c[U.getUTCMonth()]}function ne(U){return s[U.getUTCMonth()]}function q(U){return a[+(U.getUTCHours()>=12)]}function ae(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var X=O(U+="",_);return X.toString=function(){return U},X},parse:function(U){var X=S(U+="",!1);return X.toString=function(){return U},X},utcFormat:function(U){var X=O(U+="",x);return X.toString=function(){return U},X},utcParse:function(U){var X=S(U+="",!0);return X.toString=function(){return U},X}}}var Ky={"-":"",_:" ",0:"0"},Ue=/^\s*\d+/,xC=/^%/,wC=/[\\^$*+?|[\]().{}]/g;function he(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function jC(e){return e.replace(wC,"\\$&")}function Pa(e){return new RegExp("^(?:"+e.map(jC).join("|")+")","i")}function ka(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function OC(e,t,r){var n=Ue.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function _C(e,t,r){var n=Ue.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function SC(e,t,r){var n=Ue.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function EC(e,t,r){var n=Ue.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function PC(e,t,r){var n=Ue.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Gy(e,t,r){var n=Ue.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Yy(e,t,r){var n=Ue.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kC(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function NC(e,t,r){var n=Ue.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function CC(e,t,r){var n=Ue.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Zy(e,t,r){var n=Ue.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function MC(e,t,r){var n=Ue.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Jy(e,t,r){var n=Ue.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function AC(e,t,r){var n=Ue.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function TC(e,t,r){var n=Ue.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function DC(e,t,r){var n=Ue.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function IC(e,t,r){var n=Ue.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RC(e,t,r){var n=xC.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function LC(e,t,r){var n=Ue.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function BC(e,t,r){var n=Ue.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Qy(e,t){return he(e.getDate(),t,2)}function zC(e,t){return he(e.getHours(),t,2)}function FC(e,t){return he(e.getHours()%12||12,t,2)}function $C(e,t){return he(1+Sa.count(Jt(e),e),t,3)}function ev(e,t){return he(e.getMilliseconds(),t,3)}function UC(e,t){return ev(e,t)+"000"}function VC(e,t){return he(e.getMonth()+1,t,2)}function HC(e,t){return he(e.getMinutes(),t,2)}function qC(e,t){return he(e.getSeconds(),t,2)}function WC(e){var t=e.getDay();return t===0?7:t}function XC(e,t){return he(fi.count(Jt(e)-1,e),t,2)}function tv(e){var t=e.getDay();return t>=4||t===0?jn(e):jn.ceil(e)}function KC(e,t){return e=tv(e),he(jn.count(Jt(e),e)+(Jt(e).getDay()===4),t,2)}function GC(e){return e.getDay()}function YC(e,t){return he(pi.count(Jt(e)-1,e),t,2)}function ZC(e,t){return he(e.getFullYear()%100,t,2)}function JC(e,t){return e=tv(e),he(e.getFullYear()%100,t,2)}function QC(e,t){return he(e.getFullYear()%1e4,t,4)}function eM(e,t){var r=e.getDay();return e=r>=4||r===0?jn(e):jn.ceil(e),he(e.getFullYear()%1e4,t,4)}function tM(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+he(t/60|0,"0",2)+he(t%60,"0",2)}function rv(e,t){return he(e.getUTCDate(),t,2)}function rM(e,t){return he(e.getUTCHours(),t,2)}function nM(e,t){return he(e.getUTCHours()%12||12,t,2)}function aM(e,t){return he(1+di.count(Qt(e),e),t,3)}function nv(e,t){return he(e.getUTCMilliseconds(),t,3)}function oM(e,t){return nv(e,t)+"000"}function iM(e,t){return he(e.getUTCMonth()+1,t,2)}function sM(e,t){return he(e.getUTCMinutes(),t,2)}function cM(e,t){return he(e.getUTCSeconds(),t,2)}function lM(e){var t=e.getUTCDay();return t===0?7:t}function uM(e,t){return he(hi.count(Qt(e)-1,e),t,2)}function av(e){var t=e.getUTCDay();return t>=4||t===0?On(e):On.ceil(e)}function dM(e,t){return e=av(e),he(On.count(Qt(e),e)+(Qt(e).getUTCDay()===4),t,2)}function fM(e){return e.getUTCDay()}function pM(e,t){return he(mi.count(Qt(e)-1,e),t,2)}function hM(e,t){return he(e.getUTCFullYear()%100,t,2)}function mM(e,t){return e=av(e),he(e.getUTCFullYear()%100,t,2)}function yM(e,t){return he(e.getUTCFullYear()%1e4,t,4)}function vM(e,t){var r=e.getUTCDay();return e=r>=4||r===0?On(e):On.ceil(e),he(e.getUTCFullYear()%1e4,t,4)}function gM(){return"+0000"}function ov(){return"%"}function iv(e){return+e}function sv(e){return Math.floor(+e/1e3)}var _n,cv,lv;bM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bM(e){return _n=bC(e),cv=_n.format,_n.parse,lv=_n.utcFormat,_n.utcParse,_n}function xM(e){return new Date(e)}function wM(e){return e instanceof Date?+e:+new Date(+e)}function Ll(e,t,r,n,a,o,i,s,c,l){var u=gl(),d=u.invert,p=u.domain,m=l(".%L"),y=l(":%S"),h=l("%I:%M"),g=l("%I %p"),b=l("%a %d"),w=l("%b %d"),_=l("%B"),x=l("%Y");function j(O){return(c(O)<O?m:s(O)<O?y:i(O)<O?h:o(O)<O?g:n(O)<O?a(O)<O?b:w:r(O)<O?_:x)(O)}return u.invert=function(O){return new Date(d(O))},u.domain=function(O){return arguments.length?p(Array.from(O,wM)):p().map(xM)},u.ticks=function(O){var S=p();return e(S[0],S[S.length-1],O??10)},u.tickFormat=function(O,S){return S==null?j:l(S)},u.nice=function(O){var S=p();return(!O||typeof O.range!="function")&&(O=t(S[0],S[S.length-1],O??10)),O?p(My(S,O)):u},u.copy=function(){return Oa(u,Ll(e,t,r,n,a,o,i,s,c,l))},u}function jM(){return wt.apply(Ll(vC,gC,Jt,Tl,fi,Sa,Ml,Nl,zr,cv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OM(){return wt.apply(Ll(mC,yC,Qt,Dl,hi,di,Al,Cl,zr,lv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yi(){var e=0,t=1,r,n,a,o,i=Ze,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(i=d,l):i};function u(d){return function(p){var m,y;return arguments.length?([m,y]=p,i=d(m,y),l):[i(0),i(1)]}}return l.range=u(nn),l.rangeRound=u(Rs),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),l}}function wr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uv(){var e=xr(yi()(Ze));return e.copy=function(){return wr(e,uv())},Kt.apply(e,arguments)}function dv(){var e=wl(yi()).domain([1,10]);return e.copy=function(){return wr(e,dv()).base(e.base())},Kt.apply(e,arguments)}function fv(){var e=jl(yi());return e.copy=function(){return wr(e,fv()).constant(e.constant())},Kt.apply(e,arguments)}function Bl(){var e=Ol(yi());return e.copy=function(){return wr(e,Bl()).exponent(e.exponent())},Kt.apply(e,arguments)}function _M(){return Bl.apply(null,arguments).exponent(.5)}function pv(){var e=[],t=Ze;function r(n){if(n!=null&&!isNaN(n=+n))return t((ba(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(br),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>DN(e,o/n))},r.copy=function(){return pv(t).domain(e)},Kt.apply(r,arguments)}function vi(){var e=0,t=.5,r=1,n=1,a,o,i,s,c,l=Ze,u,d=!1,p;function m(h){return isNaN(h=+h)?p:(h=.5+((h=+u(h))-o)*(n*h<n*o?s:c),l(d?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([e,t,r]=h,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m):[e,t,r]},m.clamp=function(h){return arguments.length?(d=!!h,m):d},m.interpolator=function(h){return arguments.length?(l=h,m):l};function y(h){return function(g){var b,w,_;return arguments.length?([b,w,_]=g,l=fw(h,[b,w,_]),m):[l(0),l(.5),l(1)]}}return m.range=y(nn),m.rangeRound=y(Rs),m.unknown=function(h){return arguments.length?(p=h,m):p},function(h){return u=h,a=h(e),o=h(t),i=h(r),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m}}function hv(){var e=xr(vi()(Ze));return e.copy=function(){return wr(e,hv())},Kt.apply(e,arguments)}function mv(){var e=wl(vi()).domain([.1,1,10]);return e.copy=function(){return wr(e,mv()).base(e.base())},Kt.apply(e,arguments)}function yv(){var e=jl(vi());return e.copy=function(){return wr(e,yv()).constant(e.constant())},Kt.apply(e,arguments)}function zl(){var e=Ol(vi());return e.copy=function(){return wr(e,zl()).exponent(e.exponent())},Kt.apply(e,arguments)}function SM(){return zl.apply(null,arguments).exponent(.5)}const vv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wa,scaleDiverging:hv,scaleDivergingLog:mv,scaleDivergingPow:zl,scaleDivergingSqrt:SM,scaleDivergingSymlog:yv,scaleIdentity:Cy,scaleImplicit:ml,scaleLinear:li,scaleLog:Iy,scaleOrdinal:yl,scalePoint:ja,scalePow:_l,scaleQuantile:Uy,scaleQuantize:Vy,scaleRadial:$y,scaleSequential:uv,scaleSequentialLog:dv,scaleSequentialPow:Bl,scaleSequentialQuantile:pv,scaleSequentialSqrt:_M,scaleSequentialSymlog:fv,scaleSqrt:oC,scaleSymlog:By,scaleThreshold:Hy,scaleTime:jM,scaleUtc:OM,tickFormat:Ny},Symbol.toStringTag,{value:"Module"}));var EM=md;function PM(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!EM(i):r(i,s)))var s=i,c=o}return c}var gv=PM;function kM(e,t){return e>t}var NM=kM,CM=gv,MM=NM,AM=io;function TM(e){return e&&e.length?CM(e,AM,MM):void 0}var DM=TM;const gi=ke(DM);function IM(e,t){return e<t}var RM=IM,LM=gv,BM=RM,zM=io;function FM(e){return e&&e.length?LM(e,zM,BM):void 0}var $M=FM;const bi=ke($M);var UM=Px,VM=Nr,HM=dm,qM=Yn;function WM(e,t){var r=qM(e)?UM:HM;return r(e,VM(t))}var bv=WM;Gx=ke(bv);var XM=Ms,KM=bv;function GM(e,t){return XM(KM(e,t),1)}var YM=GM;const ZM=ke(YM);var JM=oz;function QM(e,t){return JM(e,t)}var e2=QM;const Fl=ke(e2);var Sn=1e9,t2={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vl,Ce=!0,Ot="[DecimalError] ",Ur=Ot+"Invalid argument: ",$l=Ot+"Exponent out of range: ",En=Math.floor,Vr=Math.pow,r2=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ut,Ve=1e7,Pe=7,xv=9007199254740991,xi=En(xv/Pe),J={};J.absoluteValue=J.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},J.comparedTo=J.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1},J.decimalPlaces=J.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r},J.dividedBy=J.div=function(e){return er(this,new this.constructor(e))},J.dividedToIntegerBy=J.idiv=function(e){var t=this,r=t.constructor;return xe(er(t,new r(e),0,1),r.precision)},J.equals=J.eq=function(e){return!this.cmp(e)},J.exponent=function(){return Re(this)},J.greaterThan=J.gt=function(e){return this.cmp(e)>0},J.greaterThanOrEqualTo=J.gte=function(e){return this.cmp(e)>=0},J.isInteger=J.isint=function(){return this.e>this.d.length-2},J.isNegative=J.isneg=function(){return this.s<0},J.isPositive=J.ispos=function(){return this.s>0},J.isZero=function(){return this.s===0},J.lessThan=J.lt=function(e){return this.cmp(e)<0},J.lessThanOrEqualTo=J.lte=function(e){return this.cmp(e)<1},J.logarithm=J.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ut))throw Error(Ot+"NaN");if(r.s<1)throw Error(Ot+(r.s?"NaN":"-Infinity"));return r.eq(ut)?new n(0):(Ce=!1,t=er(Na(r,o),Na(e,o),o),Ce=!0,xe(t,a))},J.minus=J.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_v(t,e):wv(t,(e.s=-e.s,e))},J.modulo=J.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ot+"NaN");return r.s?(Ce=!1,t=er(r,e,0,1).times(e),Ce=!0,r.minus(t)):xe(new n(r),a)},J.naturalExponential=J.exp=function(){return jv(this)},J.naturalLogarithm=J.ln=function(){return Na(this)},J.negated=J.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},J.plus=J.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wv(t,e):_v(t,(e.s=-e.s,e))},J.precision=J.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ur+e);if(t=Re(a)+1,n=a.d.length-1,r=n*Pe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},J.squareRoot=J.sqrt=function(){var e,t,r,n,a,o,i,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Ot+"NaN")}for(e=Re(s),Ce=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=It(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=En((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(o=n,n=o.plus(er(s,o,i+2)).times(.5),It(o.d).slice(0,i)===(t=It(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(xe(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Ce=!0,xe(n,r)},J.times=J.mul=function(e){var t,r,n,a,o,i,s,c,l,u=this,d=u.constructor,p=u.d,m=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,c=p.length,l=m.length,c<l&&(o=p,p=m,m=o,i=c,c=l,l=i),o=[],i=c+l,n=i;n--;)o.push(0);for(n=l;--n>=0;){for(t=0,a=c+n;a>n;)s=o[a]+m[n]*p[a-n-1]+t,o[a--]=s%Ve|0,t=s/Ve|0;o[a]=(o[a]+t)%Ve|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Ce?xe(e,d.precision):e},J.toDecimalPlaces=J.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Dt(e,0,Sn),t===void 0?t=n.rounding:Dt(t,0,8),xe(r,e+Re(r)+1,t))},J.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Hr(n,!0):(Dt(e,0,Sn),t===void 0?t=a.rounding:Dt(t,0,8),n=xe(new a(n),e+1,t),r=Hr(n,!0,e+1)),r},J.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Hr(a):(Dt(e,0,Sn),t===void 0?t=o.rounding:Dt(t,0,8),n=xe(new o(a),e+Re(a)+1,t),r=Hr(n.abs(),!1,e+Re(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},J.toInteger=J.toint=function(){var e=this,t=e.constructor;return xe(new t(e),Re(e)+1,t.rounding)},J.toNumber=function(){return+this},J.toPower=J.pow=function(e){var t,r,n,a,o,i,s=this,c=s.constructor,l=12,u=+(e=new c(e));if(!e.s)return new c(ut);if(s=new c(s),!s.s){if(e.s<1)throw Error(Ot+"Infinity");return s}if(s.eq(ut))return s;if(n=c.precision,e.eq(ut))return xe(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=xv){for(a=new c(ut),t=Math.ceil(n/Pe+4),Ce=!1;r%2&&(a=a.times(s),Sv(a.d,t)),r=En(r/2),r!==0;)s=s.times(s),Sv(s.d,t);return Ce=!0,e.s<0?new c(ut).div(a):xe(a,n)}}else if(o<0)throw Error(Ot+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ce=!1,a=e.times(Na(s,n+l)),Ce=!0,a=jv(a),a.s=o,a},J.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Re(a),n=Hr(a,r<=o.toExpNeg||r>=o.toExpPos)):(Dt(e,1,Sn),t===void 0?t=o.rounding:Dt(t,0,8),a=xe(new o(a),e,t),r=Re(a),n=Hr(a,e<=r||r<=o.toExpNeg,e)),n},J.toSignificantDigits=J.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Dt(e,1,Sn),t===void 0?t=n.rounding:Dt(t,0,8)),xe(new n(r),e,t)},J.toString=J.valueOf=J.val=J.toJSON=J[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Re(e),r=e.constructor;return Hr(e,t<=r.toExpNeg||t>=r.toExpPos)};function wv(e,t){var r,n,a,o,i,s,c,l,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ce?xe(t,d):t;if(c=e.d,l=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a,o){for(o<0?(n=c,o=-o,s=l.length):(n=l,a=i,s=c.length),i=Math.ceil(d/Pe),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=c.length,o=l.length,s-o<0&&(o=s,n=l,l=c,c=n),r=0;o;)r=(c[--o]=c[o]+l[o]+r)/Ve|0,c[o]%=Ve;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Ce?xe(t,d):t}function Dt(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ur+e)}function It(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Pe-n.length,r&&(o+=jr(r)),o+=n;i=e[t],n=i+"",r=Pe-n.length,r&&(o+=jr(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var er=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Ve|0,i=o/Ve|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,c;if(o!=i)c=o>i?1:-1;else for(s=c=0;s<o;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Ve+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,c,l,u,d,p,m,y,h,g,b,w,_,x,j,O,S,P,N=n.constructor,M=n.s==a.s?1:-1,k=n.d,C=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Ot+"Division by zero");for(c=n.e-a.e,S=C.length,j=k.length,m=new N(M),y=m.d=[],l=0;C[l]==(k[l]||0);)++l;if(C[l]>(k[l]||0)&&--c,o==null?w=o=N.precision:i?w=o+(Re(n)-Re(a))+1:w=o,w<0)return new N(0);if(w=w/Pe+2|0,l=0,S==1)for(u=0,C=C[0],w++;(l<j||u)&&w--;l++)_=u*Ve+(k[l]||0),y[l]=_/C|0,u=_%C|0;else{for(u=Ve/(C[0]+1)|0,u>1&&(C=e(C,u),k=e(k,u),S=C.length,j=k.length),x=S,h=k.slice(0,S),g=h.length;g<S;)h[g++]=0;P=C.slice(),P.unshift(0),O=C[0],C[1]>=Ve/2&&++O;do u=0,s=t(C,h,S,g),s<0?(b=h[0],S!=g&&(b=b*Ve+(h[1]||0)),u=b/O|0,u>1?(u>=Ve&&(u=Ve-1),d=e(C,u),p=d.length,g=h.length,s=t(d,h,p,g),s==1&&(u--,r(d,S<p?P:C,p))):(u==0&&(s=u=1),d=C.slice()),p=d.length,p<g&&d.unshift(0),r(h,d,g),s==-1&&(g=h.length,s=t(C,h,S,g),s<1&&(u++,r(h,S<g?P:C,g))),g=h.length):s===0&&(u++,h=[0]),y[l++]=u,s&&h[0]?h[g++]=k[x]||0:(h=[k[x]],g=1);while((x++<j||h[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=c,xe(m,i?o+Re(m)+1:o)}}();function jv(e,t){var r,n,a,o,i,s,c=0,l=0,u=e.constructor,d=u.precision;if(Re(e)>16)throw Error($l+Re(e));if(!e.s)return new u(ut);for(t==null?(Ce=!1,s=d):s=t,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(n=Math.log(Vr(2,l))/Math.LN10*2+5|0,s+=n,r=a=o=new u(ut),u.precision=s;;){if(a=xe(a.times(e),s),r=r.times(++c),i=o.plus(er(a,r,s)),It(i.d).slice(0,s)===It(o.d).slice(0,s)){for(;l--;)o=xe(o.times(o),s);return u.precision=d,t==null?(Ce=!0,xe(o,d)):o}o=i}}function Re(e){for(var t=e.e*Pe,r=e.d[0];r>=10;r/=10)t++;return t}function Ul(e,t,r){if(t>e.LN10.sd())throw Ce=!0,r&&(e.precision=r),Error(Ot+"LN10 precision limit exceeded");return xe(new e(e.LN10),t)}function jr(e){for(var t="";e--;)t+="0";return t}function Na(e,t){var r,n,a,o,i,s,c,l,u,d=1,p=10,m=e,y=m.d,h=m.constructor,g=h.precision;if(m.s<1)throw Error(Ot+(m.s?"NaN":"-Infinity"));if(m.eq(ut))return new h(0);if(t==null?(Ce=!1,l=g):l=t,m.eq(10))return t==null&&(Ce=!0),Ul(h,l);if(l+=p,h.precision=l,r=It(y),n=r.charAt(0),o=Re(m),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=It(m.d),n=r.charAt(0),d++;o=Re(m),n>1?(m=new h("0."+r),o++):m=new h(n+"."+r.slice(1))}else return c=Ul(h,l+2,g).times(o+""),m=Na(new h(n+"."+r.slice(1)),l-p).plus(c),h.precision=g,t==null?(Ce=!0,xe(m,g)):m;for(s=i=m=er(m.minus(ut),m.plus(ut),l),u=xe(m.times(m),l),a=3;;){if(i=xe(i.times(u),l),c=s.plus(er(i,new h(a),l)),It(c.d).slice(0,l)===It(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(Ul(h,l+2,g).times(o+""))),s=er(s,new h(d),l),h.precision=g,t==null?(Ce=!0,xe(s,g)):s;s=c,a+=2}}function Ov(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=En(r/Pe),e.d=[],n=(r+1)%Pe,r<0&&(n+=Pe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Pe;n<a;)e.d.push(+t.slice(n,n+=Pe));t=t.slice(n),n=Pe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ce&&(e.e>xi||e.e<-xi))throw Error($l+r)}else e.s=0,e.e=0,e.d=[0];return e}function xe(e,t,r){var n,a,o,i,s,c,l,u,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Pe,a=t,l=d[u=0];else{if(u=Math.ceil((n+1)/Pe),o=d.length,u>=o)return e;for(l=o=d[u],i=1;o>=10;o/=10)i++;n%=Pe,a=n-Pe+i}if(r!==void 0&&(o=Vr(10,i-a-1),s=l/o%10|0,c=t<0||d[u+1]!==void 0||l%o,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?l/Vr(10,i-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(o=Re(e),d.length=1,t=t-o-1,d[0]=Vr(10,(Pe-t%Pe)%Pe),e.e=En(-t/Pe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,o=1,u--):(d.length=u+1,o=Vr(10,Pe-n),d[u]=a>0?(l/Vr(10,i-a)%Vr(10,a)|0)*o:0),c)for(;;)if(u==0){(d[0]+=o)==Ve&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=Ve)break;d[u--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Ce&&(e.e>xi||e.e<-xi))throw Error($l+Re(e));return e}function _v(e,t){var r,n,a,o,i,s,c,l,u,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ce?xe(t,m):t;if(c=e.d,d=t.d,n=t.e,l=e.e,c=c.slice(),i=l-n,i){for(u=i<0,u?(r=c,i=-i,s=d.length):(r=d,n=l,s=c.length),a=Math.max(Math.ceil(m/Pe),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=d.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(c[a]!=d[a]){u=c[a]<d[a];break}i=0}for(u&&(r=c,c=d,d=r,t.s=-t.s),s=c.length,a=d.length-s;a>0;--a)c[s++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(o=a;o&&c[--o]===0;)c[o]=Ve-1;--c[o],c[a]+=Ve}c[a]-=d[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ce?xe(t,m):t):new p(0)}function Hr(e,t,r){var n,a=Re(e),o=It(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+jr(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+jr(-a-1)+o,r&&(n=r-i)>0&&(o+=jr(n))):a>=i?(o+=jr(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+jr(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=jr(n))),e.s<0?"-"+o:o}function Sv(e,t){if(e.length>t)return e.length=t,!0}function Ev(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ur+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return Ov(i,o.toString())}else if(typeof o!="string")throw Error(Ur+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,r2.test(o))Ov(i,o);else throw Error(Ur+o)}if(a.prototype=J,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Ev,a.config=a.set=n2,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function n2(e){if(!e||typeof e!="object")throw Error(Ot+"Object expected");var t,r,n,a=["precision",1,Sn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(En(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ur+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ur+r+": "+n);return this}var Vl=Ev(t2);ut=new Vl(1);const be=Vl;function a2(e){return c2(e)||s2(e)||i2(e)||o2()}function o2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2(e,t){if(e){if(typeof e=="string")return Hl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hl(e,t)}}function s2(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function c2(e){if(Array.isArray(e))return Hl(e)}function Hl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l2=function(e){return e},Pv={"@@functional/placeholder":!0},kv=function(e){return e===Pv},Nv=function(e){return function t(){return arguments.length===0||arguments.length===1&&kv(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},u2=function e(t,r){return t===1?r:Nv(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==Pv}).length;return i>=t?r.apply(void 0,a):e(t-i,Nv(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=a.map(function(d){return kv(d)?c.shift():d});return r.apply(void 0,a2(u).concat(c))}))})},wi=function(e){return u2(e.length,e)},ql=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},d2=wi(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),f2=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return l2;var n=t.reverse(),a=n[0],o=n.slice(1);return function(){return o.reduce(function(i,s){return s(i)},a.apply(void 0,arguments))}},Wl=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Cv=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t&&a.every(function(i,s){return i===t[s]})||(t=a,r=e.apply(void 0,a)),r}};function p2(e){var t;return e===0?t=1:t=Math.floor(new be(e).abs().log(10).toNumber())+1,t}function h2(e,t,r){for(var n=new be(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var m2=wi(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),y2=wi(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),v2=wi(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ji={rangeStep:h2,getDigitCount:p2,interpolateNumber:m2,uninterpolateNumber:y2,uninterpolateTruncation:v2};function Xl(e){return x2(e)||b2(e)||Mv(e)||g2()}function g2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b2(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function x2(e){if(Array.isArray(e))return Kl(e)}function Ca(e,t){return O2(e)||j2(e,t)||Mv(e,t)||w2()}function w2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mv(e,t){if(e){if(typeof e=="string")return Kl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kl(e,t)}}function Kl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j2(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,o=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function O2(e){if(Array.isArray(e))return e}function Av(e){var t=Ca(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function Tv(e,t,r){if(e.lte(0))return new be(0);var n=ji.getDigitCount(e.toNumber()),a=new be(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new be(Math.ceil(o.div(i).toNumber())).add(r).mul(i),c=s.mul(a);return t?c:new be(Math.ceil(c))}function _2(e,t,r){var n=1,a=new be(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new be(10).pow(ji.getDigitCount(e)-1),a=new be(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new be(Math.floor(e)))}else e===0?a=new be(Math.floor((t-1)/2)):r||(a=new be(Math.floor(e)));var i=Math.floor((t-1)/2),s=f2(d2(function(c){return a.add(new be(c-i).mul(n)).toNumber()}),ql);return s(0,t)}function Dv(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new be(0),tickMin:new be(0),tickMax:new be(0)};var o=Tv(new be(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new be(0):(i=new be(e).add(t).div(2),i=i.sub(new be(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),c=Math.ceil(new be(t).sub(i).div(o).toNumber()),l=s+c+1;return l>r?Dv(e,t,r,n,a+1):(l<r&&(c=t>0?c+(r-l):c,s=t>0?s:s+(r-l)),{step:o,tickMin:i.sub(new be(s).mul(o)),tickMax:i.add(new be(c).mul(o))})}function S2(e){var t=Ca(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=Av([r,n]),c=Ca(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var d=u===1/0?[l].concat(Xl(ql(0,a-1).map(function(){return 1/0}))):[].concat(Xl(ql(0,a-1).map(function(){return-1/0})),[u]);return r>n?Wl(d):d}if(l===u)return _2(l,a,o);var p=Dv(l,u,i,o),m=p.step,y=p.tickMin,h=p.tickMax,g=ji.rangeStep(y,h.add(new be(.1).mul(m)),m);return r>n?Wl(g):g}function E2(e,t){var r=Ca(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Av([n,a]),s=Ca(i,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,a];if(c===l)return[c];var u=Math.max(t,2),d=Tv(new be(l).sub(c).div(u-1),o,0),p=[].concat(Xl(ji.rangeStep(new be(c),new be(l).sub(new be(.99).mul(d)),d)),[l]);return n>a?Wl(p):p}var P2=Cv(S2),k2=Cv(E2),N2="Invariant failed";function qr(e,t){throw new Error(N2)}var C2=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pn(e){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(this,arguments)}function M2(e,t){return I2(e)||D2(e,t)||T2(e,t)||A2()}function A2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T2(e,t){if(e){if(typeof e=="string")return Iv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iv(e,t)}}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D2(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function I2(e){if(Array.isArray(e))return e}function R2(e,t){if(e==null)return{};var r=L2(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L2(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bv(n.key),n)}}function F2(e,t,r){return t&&z2(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $2(e,t,r){return t=_i(t),U2(e,Rv()?Reflect.construct(t,r||[],_i(e).constructor):t.apply(e,r))}function U2(e,t){if(t&&(Pn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V2(e)}function V2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rv=function(){return!!e})()}function _i(e){return _i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_i(e)}function H2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gl(e,t)}function Gl(e,t){return Gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Gl(e,t)}function Lv(e,t,r){return t=Bv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bv(e){var t=q2(e,"string");return Pn(t)=="symbol"?t:t+""}function q2(e,t){if(Pn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Si=function(e){function t(){return B2(this,t),$2(this,t,arguments)}return H2(t,e),F2(t,[{key:"render",value:function(){var r=this.props,n=r.offset,a=r.layout,o=r.width,i=r.dataKey,s=r.data,c=r.dataPointFormatter,l=r.xAxis,u=r.yAxis,d=R2(r,C2),p=me(d,!1);this.props.direction==="x"&&l.type!=="number"&&qr();var m=s.map(function(y){var h=c(y,i),g=h.x,b=h.y,w=h.value,_=h.errorVal;if(!_)return null;var x=[],j,O;if(Array.isArray(_)){var S=M2(_,2);j=S[0],O=S[1]}else j=O=_;if(a==="vertical"){var P=l.scale,N=b+n,M=N+o,k=N-o,C=P(w-j),R=P(w+O);x.push({x1:R,y1:M,x2:R,y2:k}),x.push({x1:C,y1:N,x2:R,y2:N}),x.push({x1:C,y1:M,x2:C,y2:k})}else if(a==="horizontal"){var T=u.scale,I=g+n,L=I-o,F=I+o,D=T(w-j),V=T(w+O);x.push({x1:L,y1:V,x2:F,y2:V}),x.push({x1:I,y1:D,x2:I,y2:V}),x.push({x1:L,y1:D,x2:F,y2:D})}return E.createElement($e,Oi({className:"recharts-errorBar",key:"bar-".concat(x.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),x.map(function(Z){return E.createElement("line",Oi({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return E.createElement($e,{className:"recharts-errorBars"},m)}}])}(E.Component);Lv(Si,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Lv(Si,"displayName","ErrorBar");function Ma(e){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(e)}function zv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zv(Object(r),!0).forEach(function(n){W2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W2(e,t,r){return t=X2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X2(e){var t=K2(e,"string");return Ma(t)=="symbol"?t:t+""}function K2(e,t){if(Ma(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ma(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fv=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,o=lt(t,yn);if(!o)return null;var i=yn.defaultProps,s=i!==void 0?Wr(Wr({},i),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(l,u){var d=u.item,p=u.props,m=p.sectors||p.data||[];return l.concat(m.map(function(y){return{type:o.props.iconType||d.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(l){var u=l.item,d=u.type.defaultProps,p=d!==void 0?Wr(Wr({},d),u.props):{},m=p.dataKey,y=p.name,h=p.legendType,g=p.hide;return{inactive:g,dataKey:m,type:s.iconType||h||"square",color:Zl(u),value:y||m,payload:p}}),Wr(Wr(Wr({},s),yn.getWithHeight(o,n)),{},{payload:c,item:o})};function Aa(e){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(e)}function $v(e){return J2(e)||Z2(e)||Y2(e)||G2()}function G2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2(e,t){if(e){if(typeof e=="string")return Yl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yl(e,t)}}function Z2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J2(e){if(Array.isArray(e))return Yl(e)}function Yl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uv(Object(r),!0).forEach(function(n){kn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kn(e,t,r){return t=Q2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q2(e){var t=eA(e,"string");return Aa(t)=="symbol"?t:t+""}function eA(e,t){if(Aa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,r){return ye(e)||ye(t)?r:Be(t)?_t(e,t,r):de(t)?t(e):r}function Ei(e,t,r,n){var a=ZM(e,function(s){return Rt(s,t)});if(r==="number"){var o=a.filter(function(s){return W(s)||parseFloat(s)});return o.length?[bi(o),gi(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!ye(s)}):a;return i.map(function(s){return Be(s)||s instanceof Date?s:""})}var tA=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,i=(t=r==null?void 0:r.length)!==null&&t!==void 0?t:0;if(i<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,c=0;c<i;c++){var l=c>0?n[c-1].coordinate:n[i-1].coordinate,u=n[c].coordinate,d=c>=i-1?n[0].coordinate:n[c+1].coordinate,p=void 0;if(Et(u-l)!==Et(d-u)){var m=[];if(Et(d-u)===Et(s[1]-s[0])){p=d;var y=u+s[1]-s[0];m[0]=Math.min(y,(y+l)/2),m[1]=Math.max(y,(y+l)/2)}else{p=l;var h=d+s[1]-s[0];m[0]=Math.min(u,(h+u)/2),m[1]=Math.max(u,(h+u)/2)}var g=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){o=n[c].index;break}}else{var b=Math.min(l,d),w=Math.max(l,d);if(e>(b+u)/2&&e<=(w+u)/2){o=n[c].index;break}}}else for(var _=0;_<i;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<i-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===i-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},Zl=function(e){var t,r=e,n=r.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?De(De({},e.type.defaultProps),e.props):e.props,o=a.stroke,i=a.fill,s;switch(n){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:i;break;default:s=i;break}return s},rA=function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=n===void 0?{}:n;if(!a)return{};for(var o={},i=Object.keys(a),s=0,c=i.length;s<c;s++)for(var l=a[i[s]].stackGroups,u=Object.keys(l),d=0,p=u.length;d<p;d++){var m=l[u[d]],y=m.items,h=m.cateAxisId,g=y.filter(function(O){return qt(O.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,w=b!==void 0?De(De({},b),g[0].props):g[0].props,_=w.barSize,x=w[h];o[x]||(o[x]=[]);var j=ye(_)?t:_;o[x].push({item:g[0],stackList:g.slice(1),barSize:ye(j)?void 0:Lr(j,r,0)})}}return o},nA=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,i=e.maxBarSize,s=o.length;if(s<1)return null;var c=Lr(t,n,0,!0),l,u=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=n/s,m=o.reduce(function(_,x){return _+x.barSize||0},0);m+=(s-1)*c,m>=n&&(m-=(s-1)*c,c=0),m>=n&&p>0&&(d=!0,p*=.9,m=s*p);var y=(n-m)/2>>0,h={offset:y-c,size:0};l=o.reduce(function(_,x){var j={item:x.item,position:{offset:h.offset+h.size+c,size:d?p:x.barSize}},O=[].concat($v(_),[j]);return h=O[O.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(S){O.push({item:S,position:h})}),O},u)}else{var g=Lr(r,n,0,!0);n-2*g-(s-1)*c<=0&&(c=0);var b=(n-2*g-(s-1)*c)/s;b>1&&(b>>=0);var w=i===+i?Math.min(b,i):b;l=o.reduce(function(_,x,j){var O=[].concat($v(_),[{item:x.item,position:{offset:g+(b+c)*j+(b-w)/2,size:w}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(S){O.push({item:S,position:O[O.length-1].position})}),O},u)}return l},aA=function(e,t,r,n){var a=r.children,o=r.width,i=r.margin,s=o-(i.left||0)-(i.right||0),c=Fv({children:a,legendWidth:s});if(c){var l=n||{},u=l.width,d=l.height,p=c.align,m=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&W(e[p]))return De(De({},e),{},kn({},p,e[p]+(u||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&W(e[m]))return De(De({},e),{},kn({},m,e[m]+(d||0)))}return e},oA=function(e,t,r){return ye(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},Vv=function(e,t,r,n,a){var o=t.props.children,i=Pt(o,Si).filter(function(c){return oA(n,a,c.props.direction)});if(i&&i.length){var s=i.map(function(c){return c.props.dataKey});return e.reduce(function(c,l){var u=Rt(l,r);if(ye(u))return c;var d=Array.isArray(u)?[bi(u),gi(u)]:[u,u],p=s.reduce(function(m,y){var h=Rt(l,y,0),g=d[0]-Math.abs(Array.isArray(h)?h[0]:h),b=d[1]+Math.abs(Array.isArray(h)?h[1]:h);return[Math.min(g,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},iA=function(e,t,r,n,a){var o=t.map(function(i){return Vv(e,i,r,a,n)}).filter(function(i){return!ye(i)});return o&&o.length?o.reduce(function(i,s){return[Math.min(i[0],s[0]),Math.max(i[1],s[1])]},[1/0,-1/0]):null},Hv=function(e,t,r,n,a){var o=t.map(function(s){var c=s.props.dataKey;return r==="number"&&c&&Vv(e,s,c,n)||Ei(e,c,r,a)});if(r==="number")return o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]);var i={};return o.reduce(function(s,c){for(var l=0,u=c.length;l<u;l++)i[c[l]]||(i[c[l]]=!0,s.push(c[l]));return s},[])},qv=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},Wv=function(e,t,r,n){if(n)return e.map(function(s){return s.coordinate});var a,o,i=e.map(function(s){return s.coordinate===t&&(a=!0),s.coordinate===r&&(o=!0),s.coordinate});return a||i.push(t),o||i.push(r),i},tr=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,o=e.type,i=e.range,s=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,c=(t||r)&&o==="category"&&n.bandwidth?n.bandwidth()/s:0;if(c=e.axisType==="angleAxis"&&(i==null?void 0:i.length)>=2?Et(i[0]-i[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var l=(e.ticks||e.niceTicks).map(function(u){var d=a?a.indexOf(u):u;return{coordinate:n(d)+c,value:u,offset:c}});return l.filter(function(u){return!la(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,d){return{coordinate:n(u)+c,value:u,index:d,offset:c}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(u){return{coordinate:n(u)+c,value:u,offset:c}}):n.domain().map(function(u,d){return{coordinate:n(u)+c,value:a?a[u]:u,index:d,offset:c}})},Jl=new WeakMap,Pi=function(e,t){if(typeof t!="function")return e;Jl.has(e)||Jl.set(e,new WeakMap);var r=Jl.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},sA=function(e,t,r){var n=e.scale,a=e.type,o=e.layout,i=e.axisType;if(n==="auto")return o==="radial"&&i==="radiusAxis"?{scale:wa(),realScaleType:"band"}:o==="radial"&&i==="angleAxis"?{scale:li(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:ja(),realScaleType:"point"}:a==="category"?{scale:wa(),realScaleType:"band"}:{scale:li(),realScaleType:"linear"};if(ca(n)){var s="scale".concat(Bo(n));return{scale:(vv[s]||ja)(),realScaleType:vv[s]?s:"point"}}return de(n)?{scale:n}:{scale:ja(),realScaleType:"point"}},Xv=1e-4,cA=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Xv,o=Math.max(n[0],n[1])+Xv,i=e(t[0]),s=e(t[r-1]);(i<a||i>o||s<a||s>o)&&e.domain([t[0],t[r-1]])}},lA=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null},uA=function(e,t){if(!t||t.length!==2||!W(t[0])||!W(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!W(e[0])||e[0]<r)&&(a[0]=r),(!W(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},dA=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0,i=0;i<t;++i){var s=la(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1])}},fA=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0;o<t;++o){var i=la(e[o][r][1])?e[o][r][0]:e[o][r][1];i>=0?(e[o][r][0]=a,e[o][r][1]=a+i,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},pA={sign:dA,expand:bS,none:pn,silhouette:xS,wiggle:wS,positive:fA},hA=function(e,t,r){var n=t.map(function(i){return i.props.dataKey}),a=pA[r],o=gS().keys(n).value(function(i,s){return+Rt(i,s,0)}).order(Uc).offset(a);return o(e)},mA=function(e,t,r,n,a,o){if(!e)return null;var i=o?t.reverse():t,s={},c=i.reduce(function(u,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?De(De({},d.type.defaultProps),d.props):d.props,y=m.stackId,h=m.hide;if(h)return u;var g=m[r],b=u[g]||{hasStack:!1,stackGroups:{}};if(Be(y)){var w=b.stackGroups[y]||{numericAxisId:r,cateAxisId:n,items:[]};w.items.push(d),b.hasStack=!0,b.stackGroups[y]=w}else b.stackGroups[Io("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[d]};return De(De({},u),{},kn({},g,b))},s),l={};return Object.keys(c).reduce(function(u,d){var p=c[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,h){var g=p.stackGroups[h];return De(De({},y),{},kn({},h,{numericAxisId:r,cateAxisId:n,items:g.items,stackedData:hA(e,g.items,a)}))},m)}return De(De({},u),{},kn({},d,p))},l)},yA=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,o=t.originalDomain,i=t.allowDecimals,s=r||t.scale;if(s!=="auto"&&s!=="linear")return null;if(a&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var l=P2(c,a,i);return e.domain([bi(l),gi(l)]),{niceTicks:l}}if(a&&n==="number"){var u=e.domain(),d=k2(u,a,i);return{niceTicks:d}}return null},Kv=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,o=e.entry,i=e.index;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var s=Rt(o,t.dataKey,t.domain[i]);return ye(s)?null:t.scale(s)-a/2+n},vA=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},gA=function(e,t){var r,n=(r=e.type)!==null&&r!==void 0&&r.defaultProps?De(De({},e.type.defaultProps),e.props):e.props,a=n.stackId;if(Be(a)){var o=t[a];if(o){var i=o.items.indexOf(e);return i>=0?o.stackedData[i]:null}}return null},bA=function(e){return e.reduce(function(t,r){return[bi(r.concat([t[0]]).filter(W)),gi(r.concat([t[1]]).filter(W))]},[1/0,-1/0])},Gv=function(e,t,r){return Object.keys(e).reduce(function(n,a){var o=e[a],i=o.stackedData,s=i.reduce(function(c,l){var u=bA(l.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},Yv=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zv=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ql=function(e,t,r){if(de(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(W(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Yv.test(e[0])){var a=+Yv.exec(e[0])[1];n[0]=t[0]-a}else de(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(W(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Zv.test(e[1])){var o=+Zv.exec(e[1])[1];n[1]=t[1]+o}else de(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},ki=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=el(t,function(u){return u.coordinate}),o=1/0,i=1,s=a.length;i<s;i++){var c=a[i],l=a[i-1];o=Math.min((c.coordinate||0)-(l.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Jv=function(e,t,r){return!e||!e.length||Fl(e,_t(r,"type.defaultProps.domain"))?t:e},Qv=function(e,t){var r=e.type.defaultProps?De(De({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,o=r.unit,i=r.formatter,s=r.tooltipType,c=r.chartType,l=r.hide;return De(De({},me(e,!1)),{},{dataKey:n,unit:o,formatter:i,name:a||n,color:Zl(e),value:Rt(t,n),type:s,payload:t,chartType:c,hide:l})};function Ta(e){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(e)}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(n){xA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xA(e,t,r){return t=wA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wA(e){var t=jA(e,"string");return Ta(t)=="symbol"?t:t+""}function jA(e,t){if(Ta(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ni=Math.PI/180,OA=function(e){return e*180/Math.PI},qe=function(e,t,r,n){return{x:e+Math.cos(-Ni*n)*r,y:t+Math.sin(-Ni*n)*r}},_A=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-o,2))},SA=function(e,t){var r=e.x,n=e.y,a=t.cx,o=t.cy,i=_A({x:r,y:n},{x:a,y:o});if(i<=0)return{radius:i};var s=(r-a)/i,c=Math.acos(s);return n>o&&(c=2*Math.PI-c),{radius:i,angle:OA(c),angleInRadian:c}},EA=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-o*360,endAngle:r-o*360}},PA=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return e+i*360},rg=function(e,t){var r=e.x,n=e.y,a=SA({x:r,y:n},t),o=a.radius,i=a.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(o===0)return!0;var l=EA(t),u=l.startAngle,d=l.endAngle,p=i,m;if(u<=d){for(;p>d;)p-=360;for(;p<u;)p+=360;m=p>=u&&p<=d}else{for(;p>u;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=u}return m?tg(tg({},t),{},{radius:o,angle:PA(p,t)}):null};function Da(e){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}var kA=["offset"];function NA(e){return TA(e)||AA(e)||MA(e)||CA()}function CA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MA(e,t){if(e){if(typeof e=="string")return eu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eu(e,t)}}function AA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TA(e){if(Array.isArray(e))return eu(e)}function eu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DA(e,t){if(e==null)return{};var r=IA(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IA(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(r),!0).forEach(function(n){RA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RA(e,t,r){return t=LA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LA(e){var t=BA(e,"string");return Da(t)=="symbol"?t:t+""}function BA(e,t){if(Da(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ia.apply(this,arguments)}var zA=function(e){var t=e.value,r=e.formatter,n=ye(e.children)?t:e.children;return de(r)?r(n):n},FA=function(e,t){var r=Et(t-e),n=Math.min(Math.abs(t-e),360);return r*n},$A=function(e,t,r){var n=e.position,a=e.viewBox,o=e.offset,i=e.className,s=a,c=s.cx,l=s.cy,u=s.innerRadius,d=s.outerRadius,p=s.startAngle,m=s.endAngle,y=s.clockWise,h=(u+d)/2,g=FA(p,m),b=g>=0?1:-1,w,_;n==="insideStart"?(w=p+b*o,_=y):n==="insideEnd"?(w=m-b*o,_=!y):n==="end"&&(w=m+b*o,_=y),_=g<=0?_:!_;var x=qe(c,l,h,w),j=qe(c,l,h,w+(_?1:-1)*359),O="M".concat(x.x,",").concat(x.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),S=ye(e.id)?Io("recharts-radial-line-"):e.id;return E.createElement("text",Ia({},r,{dominantBaseline:"central",className:ve("recharts-radial-bar-label",i)}),E.createElement("defs",null,E.createElement("path",{id:S,d:O})),E.createElement("textPath",{xlinkHref:"#".concat(S)},t))},UA=function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,o=a.cx,i=a.cy,s=a.innerRadius,c=a.outerRadius,l=a.startAngle,u=a.endAngle,d=(l+u)/2;if(n==="outside"){var p=qe(o,i,c+r,d),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+c)/2,g=qe(o,i,h,d),b=g.x,w=g.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},VA=function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,o=t,i=o.x,s=o.y,c=o.width,l=o.height,u=l>=0?1:-1,d=u*n,p=u>0?"end":"start",m=u>0?"start":"end",y=c>=0?1:-1,h=y*n,g=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var w={x:i+c/2,y:s-u*n,textAnchor:"middle",verticalAnchor:p};return Fe(Fe({},w),r?{height:Math.max(s-r.y,0),width:c}:{})}if(a==="bottom"){var _={x:i+c/2,y:s+l+d,textAnchor:"middle",verticalAnchor:m};return Fe(Fe({},_),r?{height:Math.max(r.y+r.height-(s+l),0),width:c}:{})}if(a==="left"){var x={x:i-h,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return Fe(Fe({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if(a==="right"){var j={x:i+c+h,y:s+l/2,textAnchor:b,verticalAnchor:"middle"};return Fe(Fe({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:l}:{})}var O=r?{width:c,height:l}:{};return a==="insideLeft"?Fe({x:i+h,y:s+l/2,textAnchor:b,verticalAnchor:"middle"},O):a==="insideRight"?Fe({x:i+c-h,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},O):a==="insideTop"?Fe({x:i+c/2,y:s+d,textAnchor:"middle",verticalAnchor:m},O):a==="insideBottom"?Fe({x:i+c/2,y:s+l-d,textAnchor:"middle",verticalAnchor:p},O):a==="insideTopLeft"?Fe({x:i+h,y:s+d,textAnchor:b,verticalAnchor:m},O):a==="insideTopRight"?Fe({x:i+c-h,y:s+d,textAnchor:g,verticalAnchor:m},O):a==="insideBottomLeft"?Fe({x:i+h,y:s+l-d,textAnchor:b,verticalAnchor:p},O):a==="insideBottomRight"?Fe({x:i+c-h,y:s+l-d,textAnchor:g,verticalAnchor:p},O):Zn(a)&&(W(a.x)||Rr(a.x))&&(W(a.y)||Rr(a.y))?Fe({x:i+Lr(a.x,c),y:s+Lr(a.y,l),textAnchor:"end",verticalAnchor:"end"},O):Fe({x:i+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},O)},HA=function(e){return"cx"in e&&W(e.cx)};function Xe(e){var t=e.offset,r=t===void 0?5:t,n=DA(e,kA),a=Fe({offset:r},n),o=a.viewBox,i=a.position,s=a.value,c=a.children,l=a.content,u=a.className,d=u===void 0?"":u,p=a.textBreakAll;if(!o||ye(s)&&ye(c)&&!v.isValidElement(l)&&!de(l))return null;if(v.isValidElement(l))return v.cloneElement(l,a);var m;if(de(l)){if(m=v.createElement(l,a),v.isValidElement(m))return m}else m=zA(a);var y=HA(o),h=me(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return $A(a,m,h);var g=y?UA(a):VA(a);return E.createElement(ni,Ia({className:ve("recharts-label",d)},h,g,{breakAll:p}),m)}Xe.displayName="Label";var ag=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,o=e.endAngle,i=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,d=e.y,p=e.top,m=e.left,y=e.width,h=e.height,g=e.clockWise,b=e.labelViewBox;if(b)return b;if(W(y)&&W(h)){if(W(u)&&W(d))return{x:u,y:d,width:y,height:h};if(W(p)&&W(m))return{x:p,y:m,width:y,height:h}}return W(u)&&W(d)?{x:u,y:d,width:0,height:0}:W(t)&&W(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:o||n||0,innerRadius:c||0,outerRadius:l||s||i||0,clockWise:g}:e.viewBox?e.viewBox:{}},qA=function(e,t){return e?e===!0?E.createElement(Xe,{key:"label-implicit",viewBox:t}):Be(e)?E.createElement(Xe,{key:"label-implicit",viewBox:t,value:e}):v.isValidElement(e)?e.type===Xe?v.cloneElement(e,{key:"label-implicit",viewBox:t}):E.createElement(Xe,{key:"label-implicit",content:e,viewBox:t}):de(e)?E.createElement(Xe,{key:"label-implicit",content:e,viewBox:t}):Zn(e)?E.createElement(Xe,Ia({viewBox:t},e,{key:"label-implicit"})):null:null},WA=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ag(e),o=Pt(n,Xe).map(function(s,c){return v.cloneElement(s,{viewBox:t||a,key:"label-".concat(c)})});if(!r)return o;var i=qA(e.label,t||a);return[i].concat(NA(o))};Xe.parseViewBox=ag,Xe.renderCallByParent=WA;function XA(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}Cd=XA,Pd=ke(Cd);function Ra(e){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(e)}var KA=["valueAccessor"],GA=["data","dataKey","clockWise","id","textBreakAll"];function YA(e){return eT(e)||QA(e)||JA(e)||ZA()}function ZA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JA(e,t){if(e){if(typeof e=="string")return tu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tu(e,t)}}function QA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eT(e){if(Array.isArray(e))return tu(e)}function tu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?og(Object(r),!0).forEach(function(n){tT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):og(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tT(e,t,r){return t=rT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rT(e){var t=nT(e,"string");return Ra(t)=="symbol"?t:t+""}function nT(e,t){if(Ra(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ra(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sg(e,t){if(e==null)return{};var r=aT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oT=function(e){return Array.isArray(e.value)?Pd(e.value):e.value};function Xr(e){var t=e.valueAccessor,r=t===void 0?oT:t,n=sg(e,KA),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,c=n.textBreakAll,l=sg(n,GA);return!a||!a.length?null:E.createElement($e,{className:"recharts-label-list"},a.map(function(u,d){var p=ye(o)?r(u,d):Rt(u&&u.payload,o),m=ye(s)?{}:{id:"".concat(s,"-").concat(d)};return E.createElement(Xe,Ci({},me(u,!0),l,m,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:Xe.parseViewBox(ye(i)?u:ig(ig({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Xr.displayName="LabelList";function iT(e,t){return e?e===!0?E.createElement(Xr,{key:"labelList-implicit",data:t}):E.isValidElement(e)||de(e)?E.createElement(Xr,{key:"labelList-implicit",data:t,content:e}):Zn(e)?E.createElement(Xr,Ci({data:t},e,{key:"labelList-implicit"})):null:null}function sT(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Pt(n,Xr).map(function(i,s){return v.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=iT(e.label,t);return[o].concat(YA(a))}Xr.renderCallByParent=sT;function La(e){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(this,arguments)}function cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cg(Object(r),!0).forEach(function(n){cT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cT(e,t,r){return t=lT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lT(e){var t=uT(e,"string");return La(t)=="symbol"?t:t+""}function uT(e,t){if(La(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(La(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dT=function(e,t){var r=Et(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Mi=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,o=e.sign,i=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(i?1:-1)+n,u=Math.asin(s/l)/Ni,d=c?a:a+o*u,p=qe(t,r,l,d),m=qe(t,r,n,d),y=c?a-o*u:a,h=qe(t,r,l*Math.cos(u*Ni),y);return{center:p,circleTangency:m,lineTangency:h,theta:u}},ug=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.startAngle,i=e.endAngle,s=dT(o,i),c=o+s,l=qe(t,r,a,o),u=qe(t,r,a,c),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=qe(t,r,n,o),m=qe(t,r,n,c);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},fT=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=Et(l-c),d=Mi({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:o,cornerIsExternal:s}),p=d.circleTangency,m=d.lineTangency,y=d.theta,h=Mi({cx:t,cy:r,radius:a,angle:l,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=h.circleTangency,b=h.lineTangency,w=h.theta,_=s?Math.abs(c-l):Math.abs(c-l)-y-w;if(_<0)return i?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ug({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:l});var x="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var j=Mi({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),O=j.circleTangency,S=j.lineTangency,P=j.theta,N=Mi({cx:t,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),M=N.circleTangency,k=N.lineTangency,C=N.theta,R=s?Math.abs(c-l):Math.abs(c-l)-P-C;if(R<0&&o===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(u>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},pT={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dg=function(e){var t=lg(lg({},pT),e),r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,d=t.className;if(o<a||l===u)return null;var p=ve("recharts-sector",d),m=o-a,y=Lr(i,m,0,!0),h;return y>0&&Math.abs(l-u)<360?h=fT({cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):h=ug({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}),E.createElement("path",ru({},me(t,!0),{className:p,d:h,role:"img"}))};function Ba(e){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(e)}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(this,arguments)}function fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fg(Object(r),!0).forEach(function(n){hT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hT(e,t,r){return t=mT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mT(e){var t=yT(e,"string");return Ba(t)=="symbol"?t:t+""}function yT(e,t){if(Ba(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ba(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hg={curveBasisClosed:sS,curveBasisOpen:cS,curveBasis:iS,curveBumpX:W_,curveBumpY:X_,curveLinearClosed:lS,curveLinear:Uo,curveMonotoneX:uS,curveMonotoneY:dS,curveNatural:fS,curveStep:pS,curveStepAfter:mS,curveStepBefore:hS},Ai=function(e){return e.x===+e.x&&e.y===+e.y},za=function(e){return e.x},Fa=function(e){return e.y},vT=function(e,t){if(de(e))return e;var r="curve".concat(Bo(e));return(r==="curveMonotone"||r==="curveBump")&&t?hg["".concat(r).concat(t==="vertical"?"Y":"X")]:hg[r]||Uo},gT=function(e){var t=e.type,r=t===void 0?"linear":t,n=e.points,a=n===void 0?[]:n,o=e.baseLine,i=e.layout,s=e.connectNulls,c=s===void 0?!1:s,l=vT(r,i),u=c?a.filter(function(y){return Ai(y)}):a,d;if(Array.isArray(o)){var p=c?o.filter(function(y){return Ai(y)}):o,m=u.map(function(y,h){return pg(pg({},y),{},{base:p[h]})});return i==="vertical"?d=Vo().y(Fa).x1(za).x0(function(y){return y.base.x}):d=Vo().x(za).y1(Fa).y0(function(y){return y.base.y}),d.defined(Ai).curve(l),d(m)}return i==="vertical"&&W(o)?d=Vo().y(Fa).x1(za).x0(o):W(o)?d=Vo().x(za).y1(Fa).y0(o):d=Ph().x(za).y(Fa),d.defined(Ai).curve(l),d(u)},mg=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if((!r||!r.length)&&!n)return null;var o=r&&r.length?gT(e):n;return E.createElement("path",nu({},me(e,!1),Ro(e),{className:ve("recharts-curve",t),d:o,ref:a}))},yg={exports:{}},bT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xT=bT,wT=xT;function vg(){}function gg(){}gg.resetWarningCache=vg;var jT=function(){function e(n,a,o,i,s,c){if(c!==wT){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gg,resetWarningCache:vg};return r.PropTypes=r,r};yg.exports=jT();var OT=yg.exports;const se=ke(OT);var _T=Object.getOwnPropertyNames,ST=Object.getOwnPropertySymbols,ET=Object.prototype.hasOwnProperty;function bg(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function Ti(e){return function(t,r,n){if(!t||!r||typeof t!="object"||typeof r!="object")return e(t,r,n);var a=n.cache,o=a.get(t),i=a.get(r);if(o&&i)return o===r&&i===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function xg(e){return _T(e).concat(ST(e))}var wg=Object.hasOwn||function(e,t){return ET.call(e,t)};function Nn(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var jg="_owner",Og=Object.getOwnPropertyDescriptor,_g=Object.keys;function PT(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function kT(e,t){return Nn(e.getTime(),t.getTime())}function Sg(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),o=0,i,s;(i=a.next())&&!i.done;){for(var c=t.entries(),l=!1,u=0;(s=c.next())&&!s.done;){var d=i.value,p=d[0],m=d[1],y=s.value,h=y[0],g=y[1];!l&&!n[u]&&(l=r.equals(p,h,o,u,e,t,r)&&r.equals(m,g,p,h,e,t,r))&&(n[u]=!0),u++}if(!l)return!1;o++}return!0}function NT(e,t,r){var n=_g(e),a=n.length;if(_g(t).length!==a)return!1;for(var o;a-- >0;)if(o=n[a],o===jg&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!wg(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function $a(e,t,r){var n=xg(e),a=n.length;if(xg(t).length!==a)return!1;for(var o,i,s;a-- >0;)if(o=n[a],o===jg&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!wg(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(i=Og(e,o),s=Og(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function CT(e,t){return Nn(e.valueOf(),t.valueOf())}function MT(e,t){return e.source===t.source&&e.flags===t.flags}function Eg(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),o,i;(o=a.next())&&!o.done;){for(var s=t.values(),c=!1,l=0;(i=s.next())&&!i.done;)!c&&!n[l]&&(c=r.equals(o.value,i.value,o.value,i.value,e,t,r))&&(n[l]=!0),l++;if(!c)return!1}return!0}function AT(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var TT="[object Arguments]",DT="[object Boolean]",IT="[object Date]",RT="[object Map]",LT="[object Number]",BT="[object Object]",zT="[object RegExp]",FT="[object Set]",$T="[object String]",UT=Array.isArray,Pg=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kg=Object.assign,VT=Object.prototype.toString.call.bind(Object.prototype.toString);function HT(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(l,u,d){if(l===u)return!0;if(l==null||u==null||typeof l!="object"||typeof u!="object")return l!==l&&u!==u;var p=l.constructor;if(p!==u.constructor)return!1;if(p===Object)return a(l,u,d);if(UT(l))return t(l,u,d);if(Pg!=null&&Pg(l))return c(l,u,d);if(p===Date)return r(l,u,d);if(p===RegExp)return i(l,u,d);if(p===Map)return n(l,u,d);if(p===Set)return s(l,u,d);var m=VT(l);return m===IT?r(l,u,d):m===zT?i(l,u,d):m===RT?n(l,u,d):m===FT?s(l,u,d):m===BT?typeof l.then!="function"&&typeof u.then!="function"&&a(l,u,d):m===TT?a(l,u,d):m===DT||m===LT||m===$T?o(l,u,d):!1}}function qT(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?$a:PT,areDatesEqual:kT,areMapsEqual:n?bg(Sg,$a):Sg,areObjectsEqual:n?$a:NT,arePrimitiveWrappersEqual:CT,areRegExpsEqual:MT,areSetsEqual:n?bg(Eg,$a):Eg,areTypedArraysEqual:n?$a:AT};if(r&&(a=kg({},a,r(a))),t){var o=Ti(a.areArraysEqual),i=Ti(a.areMapsEqual),s=Ti(a.areObjectsEqual),c=Ti(a.areSetsEqual);a=kg({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return a}function WT(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function XT(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(s,c){var l=n(),u=l.cache,d=u===void 0?t?new WeakMap:void 0:u,p=l.meta;return r(s,c,{cache:d,equals:a,meta:p,strict:o})};if(t)return function(s,c){return r(s,c,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(s,c){return r(s,c,i)}}var KT=Or();Or({strict:!0}),Or({circular:!0}),Or({circular:!0,strict:!0}),Or({createInternalComparator:function(){return Nn}}),Or({strict:!0,createInternalComparator:function(){return Nn}}),Or({circular:!0,createInternalComparator:function(){return Nn}}),Or({circular:!0,createInternalComparator:function(){return Nn},strict:!0});function Or(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,i=o===void 0?!1:o,s=qT(e),c=HT(s),l=n?n(c):WT(c);return XT({circular:r,comparator:c,createState:a,equals:l,strict:i})}function GT(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Ng(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):GT(a)};requestAnimationFrame(n)}function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function YT(e){return eD(e)||QT(e)||JT(e)||ZT()}function ZT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JT(e,t){if(e){if(typeof e=="string")return Cg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cg(e,t)}}function Cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eD(e){if(Array.isArray(e))return e}function tD(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=YT(i),c=s[0],l=s.slice(1);if(typeof c=="number"){Ng(a.bind(null,l),c);return}a(c),Ng(a.bind(null,l));return}au(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ua(e){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(e)}function Mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mg(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tg(e,t,r){return t=rD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rD(e){var t=nD(e,"string");return Ua(t)==="symbol"?t:String(t)}function nD(e,t){if(Ua(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ua(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aD=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,n){return r.filter(function(a){return n.includes(a)})})},oD=function(e){return e},iD=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},Va=function(e,t){return Object.keys(t).reduce(function(r,n){return Ag(Ag({},r),{},Tg({},n,e(n,t[n])))},{})},Dg=function(e,t,r){return e.map(function(n){return"".concat(iD(n)," ").concat(t,"ms ").concat(r)}).join(",")};function sD(e,t){return uD(e)||lD(e,t)||Ig(e,t)||cD()}function cD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function uD(e){if(Array.isArray(e))return e}function dD(e){return hD(e)||pD(e)||Ig(e)||fD()}function fD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ig(e,t){if(e){if(typeof e=="string")return ou(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ou(e,t)}}function pD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hD(e){if(Array.isArray(e))return ou(e)}function ou(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Di=1e-4,Rg=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Lg=function(e,t){return e.map(function(r,n){return r*Math.pow(t,n)}).reduce(function(r,n){return r+n})},Bg=function(e,t){return function(r){var n=Rg(e,t);return Lg(n,r)}},mD=function(e,t){return function(r){var n=Rg(e,t),a=[].concat(dD(n.map(function(o,i){return o*i}).slice(1)),[0]);return Lg(a,r)}},zg=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],o=t[2],i=t[3];if(t.length===1)switch(t[0]){case"linear":n=0,a=0,o=1,i=1;break;case"ease":n=.25,a=.1,o=.25,i=1;break;case"ease-in":n=.42,a=0,o=1,i=1;break;case"ease-out":n=.42,a=0,o=.58,i=1;break;case"ease-in-out":n=0,a=0,o=.58,i=1;break;default:{var s=t[0].split("(");if(s[0]==="cubic-bezier"&&s[1].split(")")[0].split(",").length===4){var c=s[1].split(")")[0].split(",").map(function(h){return parseFloat(h)}),l=sD(c,4);n=l[0],a=l[1],o=l[2],i=l[3]}}}var u=Bg(n,o),d=Bg(a,i),p=mD(n,o),m=function(h){return h>1?1:h<0?0:h},y=function(h){for(var g=h>1?1:h,b=g,w=0;w<8;++w){var _=u(b)-g,x=p(b);if(Math.abs(_-g)<Di||x<Di)return d(b);b=m(b-_/x)}return d(b)};return y.isStepper=!1,y},yD=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,n=e.damping,a=n===void 0?8:n,o=e.dt,i=o===void 0?17:o,s=function(c,l,u){var d=-(c-l)*r,p=u*a,m=u+(d-p)*i/1e3,y=u*i/1e3+c;return Math.abs(y-l)<Di&&Math.abs(m)<Di?[l,0]:[y,m]};return s.isStepper=!0,s.dt=i,s},vD=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zg(n);case"spring":return yD();default:if(n.split("(")[0]==="cubic-bezier")return zg(n)}return typeof n=="function"?n:null};function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function Fg(e){return xD(e)||bD(e)||Ug(e)||gD()}function gD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xD(e){if(Array.isArray(e))return su(e)}function $g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$g(Object(r),!0).forEach(function(n){iu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iu(e,t,r){return t=wD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wD(e){var t=jD(e,"string");return Ha(t)==="symbol"?t:String(t)}function jD(e,t){if(Ha(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ha(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OD(e,t){return ED(e)||SD(e,t)||Ug(e,t)||_D()}function _D(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ug(e,t){if(e){if(typeof e=="string")return su(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return su(e,t)}}function su(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function ED(e){if(Array.isArray(e))return e}var Ii=function(e,t,r){return e+(t-e)*r},cu=function(e){var t=e.from,r=e.to;return t!==r},PD=function e(t,r,n){var a=Va(function(o,i){if(cu(i)){var s=t(i.from,i.to,i.velocity),c=OD(s,2),l=c[0],u=c[1];return We(We({},i),{},{from:l,velocity:u})}return i},r);return n<1?Va(function(o,i){return cu(i)?We(We({},i),{},{velocity:Ii(i.velocity,a[o].velocity,n),from:Ii(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const kD=function(e,t,r,n,a){var o=aD(e,t),i=o.reduce(function(g,b){return We(We({},g),{},iu({},b,[e[b],t[b]]))},{}),s=o.reduce(function(g,b){return We(We({},g),{},iu({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,l,u,d=function(){return null},p=function(){return Va(function(g,b){return b.from},s)},m=function(){return!Object.values(s).filter(cu).length},y=function(g){l||(l=g);var b=g-l,w=b/r.dt;s=PD(r,s,w),a(We(We(We({},e),t),p())),l=g,m()||(c=requestAnimationFrame(d))},h=function(g){u||(u=g);var b=(g-u)/n,w=Va(function(x,j){return Ii.apply(void 0,Fg(j).concat([r(b)]))},i);if(a(We(We(We({},e),t),w)),b<1)c=requestAnimationFrame(d);else{var _=Va(function(x,j){return Ii.apply(void 0,Fg(j).concat([r(1)]))},i);a(We(We(We({},e),t),_))}};return d=r.isStepper?y:h,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Cn(e){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(e)}var ND=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function CD(e,t){if(e==null)return{};var r=MD(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function lu(e){return ID(e)||DD(e)||TD(e)||AD()}function AD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TD(e,t){if(e){if(typeof e=="string")return uu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uu(e,t)}}function DD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ID(e){if(Array.isArray(e))return uu(e)}function uu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vg(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qa(e,t,r){return t=Hg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hg(n.key),n)}}function BD(e,t,r){return t&&LD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hg(e){var t=zD(e,"string");return Cn(t)==="symbol"?t:String(t)}function zD(e,t){if(Cn(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cn(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&du(e,t)}function du(e,t){return du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},du(e,t)}function $D(e){var t=UD();return function(){var r=Ri(e),n;if(t){var a=Ri(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fu(this,n)}}function fu(e,t){if(t&&(Cn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pu(e)}function pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ri(e){return Ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ri(e)}var _r=function(e){FD(r,e);var t=$D(r);function r(n,a){var o;RD(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,c=i.attributeName,l=i.from,u=i.to,d=i.steps,p=i.children,m=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(pu(o)),o.changeStyle=o.changeStyle.bind(pu(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:u}),fu(o);if(d&&d.length)o.state={style:d[0].style};else if(l){if(typeof p=="function")return o.state={style:l},fu(o);o.state={style:c?qa({},c,l):l}}else o.state={style:{}};return o}return BD(r,[{key:"componentDidMount",value:function(){var n=this.props,a=n.isActive,o=n.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var a=this.props,o=a.isActive,i=a.canBegin,s=a.attributeName,c=a.shouldReAnimate,l=a.to,u=a.from,d=this.state.style;if(i){if(!o){var p={style:s?qa({},s,l):l};this.state&&d&&(s&&d[s]!==l||!s&&d!==l)&&this.setState(p);return}if(!(KT(n.to,l)&&n.canBegin&&n.isActive)){var m=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||c?u:n.to;if(this.state&&d){var h={style:s?qa({},s,y):y};(s&&d[s]!==y||!s&&d!==y)&&this.setState(h)}this.runAnimation(Nt(Nt({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var a=this,o=n.from,i=n.to,s=n.duration,c=n.easing,l=n.begin,u=n.onAnimationEnd,d=n.onAnimationStart,p=kD(o,i,vD(c),s,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([d,l,m,s,u])}},{key:"runStepAnimation",value:function(n){var a=this,o=n.steps,i=n.begin,s=n.onAnimationStart,c=o[0],l=c.style,u=c.duration,d=u===void 0?0:u,p=function(m,y,h){if(h===0)return m;var g=y.duration,b=y.easing,w=b===void 0?"ease":b,_=y.style,x=y.properties,j=y.onAnimationEnd,O=h>0?o[h-1]:y,S=x||Object.keys(_);if(typeof w=="function"||w==="spring")return[].concat(lu(m),[a.runJSAnimation.bind(a,{from:O.style,to:_,duration:g,easing:w}),g]);var P=Dg(S,g,w),N=Nt(Nt(Nt({},O.style),_),{},{transition:P});return[].concat(lu(m),[N,g,j]).filter(oD)};return this.manager.start([s].concat(lu(o.reduce(p,[l,Math.max(d,i)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=tD());var a=n.begin,o=n.duration,i=n.attributeName,s=n.to,c=n.easing,l=n.onAnimationStart,u=n.onAnimationEnd,d=n.steps,p=n.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(n);return}if(d.length>1){this.runStepAnimation(n);return}var y=i?qa({},i,s):s,h=Dg(Object.keys(y),o,c);m.start([l,a,Nt(Nt({},y),{},{transition:h}),o,u])}},{key:"render",value:function(){var n=this.props,a=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var i=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var s=CD(n,ND),c=v.Children.count(a),l=this.state.style;if(typeof a=="function")return a(l);if(!i||c===0||o<=0)return a;var u=function(d){var p=d.props,m=p.style,y=m===void 0?{}:m,h=p.className,g=v.cloneElement(d,Nt(Nt({},s),{},{style:Nt(Nt({},y),l),className:h}));return g};return c===1?u(v.Children.only(a)):E.createElement("div",null,v.Children.map(a,function(d){return u(d)}))}}]),r}(v.PureComponent);_r.displayName="Animate",_r.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},_r.propTypes={from:se.oneOfType([se.object,se.string]),to:se.oneOfType([se.object,se.string]),attributeName:se.string,duration:se.number,begin:se.number,easing:se.oneOfType([se.string,se.func]),steps:se.arrayOf(se.shape({duration:se.number.isRequired,style:se.object.isRequired,easing:se.oneOfType([se.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),se.func]),properties:se.arrayOf("string"),onAnimationEnd:se.func})),children:se.oneOfType([se.node,se.func]),isActive:se.bool,canBegin:se.bool,onAnimationEnd:se.func,shouldReAnimate:se.bool,onAnimationStart:se.func,onAnimationReStart:se.func},se.object,se.object,se.object,se.element,se.object,se.object,se.object,se.oneOfType([se.array,se.element]),se.any;function Wa(e){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(this,arguments)}function VD(e,t){return XD(e)||WD(e,t)||qD(e,t)||HD()}function HD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qD(e,t){if(e){if(typeof e=="string")return qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qg(e,t)}}function qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function XD(e){if(Array.isArray(e))return e}function Wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wg(Object(r),!0).forEach(function(n){KD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KD(e,t,r){return t=GD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GD(e){var t=YD(e,"string");return Wa(t)=="symbol"?t:t+""}function YD(e,t){if(Wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kg=function(e,t,r,n,a){var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,l;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0,p=4;d<p;d++)u[d]=a[d]>o?o:a[d];l="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+s*u[0],",").concat(t)),l+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*u[1])),l+="L ".concat(e+r,",").concat(t+n-i*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-s*u[2],",").concat(t+n)),l+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*u[3])),l+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);l="M ".concat(e,",").concat(t+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*m,`
            L `).concat(e+r,",").concat(t+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*m," Z")}else l="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},ZD=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,o=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var c=Math.min(a,a+i),l=Math.max(a,a+i),u=Math.min(o,o+s),d=Math.max(o,o+s);return r>=c&&r<=l&&n>=u&&n<=d}return!1},JD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hu=function(e){var t=Xg(Xg({},JD),e),r=v.useRef(),n=v.useState(-1),a=VD(n,2),o=a[0],i=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&i(_)}catch{}},[]);var s=t.x,c=t.y,l=t.width,u=t.height,d=t.radius,p=t.className,m=t.animationEasing,y=t.animationDuration,h=t.animationBegin,g=t.isAnimationActive,b=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||l===0||u===0)return null;var w=ve("recharts-rectangle",p);return b?E.createElement(_r,{canBegin:o>0,from:{width:l,height:u,x:s,y:c},to:{width:l,height:u,x:s,y:c},duration:y,animationEasing:m,isActive:b},function(_){var x=_.width,j=_.height,O=_.x,S=_.y;return E.createElement(_r,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,isActive:g,easing:m},E.createElement("path",Li({},me(t,!0),{className:w,d:Kg(O,S,x,j,d),ref:r})))}):E.createElement("path",Li({},me(t,!0),{className:w,d:Kg(s,c,l,u,d)}))};function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mu.apply(this,arguments)}var Gg=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,o=ve("recharts-dot",a);return t===+t&&r===+r&&n===+n?E.createElement("circle",mu({},me(e,!1),Ro(e),{className:o,cx:t,cy:r,r:n})):null};function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}var QD=["x","y","top","left","width","height","className"];function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(this,arguments)}function Yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yg(Object(r),!0).forEach(function(n){tI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tI(e,t,r){return t=rI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rI(e){var t=nI(e,"string");return Xa(t)=="symbol"?t:t+""}function nI(e,t){if(Xa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aI(e,t){if(e==null)return{};var r=oI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var iI=function(e,t,r,n,a,o){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r)},sI=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.top,i=o===void 0?0:o,s=e.left,c=s===void 0?0:s,l=e.width,u=l===void 0?0:l,d=e.height,p=d===void 0?0:d,m=e.className,y=aI(e,QD),h=eI({x:r,y:a,top:i,left:c,width:u,height:p},y);return!W(r)||!W(a)||!W(u)||!W(p)||!W(i)||!W(c)?null:E.createElement("path",yu({},me(h,!0),{className:ve("recharts-cross",m),d:iI(r,a,u,p,i,c)}))},cI=xs,lI=iz,uI=ws,dI="[object Object]",fI=Function.prototype,pI=Object.prototype,Zg=fI.toString,hI=pI.hasOwnProperty,mI=Zg.call(Object);function yI(e){if(!uI(e)||cI(e)!=dI)return!1;var t=lI(e);if(t===null)return!0;var r=hI.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Zg.call(r)==mI}kd=yI;const vI=ke(kd);var gI=xs,bI=ws,xI="[object Boolean]";function wI(e){return e===!0||e===!1||bI(e)&&gI(e)==xI}var jI=wI;const OI=ke(jI);function Ka(e){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(this,arguments)}function _I(e,t){return kI(e)||PI(e,t)||EI(e,t)||SI()}function SI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EI(e,t){if(e){if(typeof e=="string")return Jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jg(e,t)}}function Jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function kI(e){if(Array.isArray(e))return e}function Qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qg(Object(r),!0).forEach(function(n){NI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NI(e,t,r){return t=CI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CI(e){var t=MI(e,"string");return Ka(t)=="symbol"?t:t+""}function MI(e,t){if(Ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tb=function(e,t,r,n,a){var o=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},AI={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TI=function(e){var t=eb(eb({},AI),e),r=v.useRef(),n=v.useState(-1),a=_I(n,2),o=a[0],i=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var s=t.x,c=t.y,l=t.upperWidth,u=t.lowerWidth,d=t.height,p=t.className,m=t.animationEasing,y=t.animationDuration,h=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||d!==+d||l===0&&u===0||d===0)return null;var b=ve("recharts-trapezoid",p);return g?E.createElement(_r,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:c},to:{upperWidth:l,lowerWidth:u,height:d,x:s,y:c},duration:y,animationEasing:m,isActive:g},function(w){var _=w.upperWidth,x=w.lowerWidth,j=w.height,O=w.x,S=w.y;return E.createElement(_r,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,easing:m},E.createElement("path",Bi({},me(t,!0),{className:b,d:tb(O,S,_,x,j),ref:r})))}):E.createElement("g",null,E.createElement("path",Bi({},me(t,!0),{className:b,d:tb(s,c,l,u,d)})))},DI=["option","shapeType","propTransformer","activeClassName","isActive"];function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function II(e,t){if(e==null)return{};var r=RI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(n){LI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LI(e,t,r){return t=BI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BI(e){var t=zI(e,"string");return Ga(t)=="symbol"?t:t+""}function zI(e,t){if(Ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FI(e,t){return zi(zi({},t),e)}function $I(e,t){return e==="symbols"}function nb(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return E.createElement(hu,r);case"trapezoid":return E.createElement(TI,r);case"sector":return E.createElement(dg,r);case"symbols":if($I(t))return E.createElement(Hc,r);break;default:return null}}function UI(e){return v.isValidElement(e)?e.props:e}function VI(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?FI:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,c=II(e,DI),l;if(v.isValidElement(t))l=v.cloneElement(t,zi(zi({},c),UI(t)));else if(de(t))l=t(c);else if(vI(t)&&!OI(t)){var u=a(t,c);l=E.createElement(nb,{shapeType:r,elementProps:u})}else{var d=c;l=E.createElement(nb,{shapeType:r,elementProps:d})}return s?E.createElement($e,{className:i},l):l}function Fi(e,t){return t!=null&&"trapezoids"in e.props}function $i(e,t){return t!=null&&"sectors"in e.props}function Ya(e,t){return t!=null&&"points"in e.props}function HI(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function qI(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function WI(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function XI(e,t){var r;return Fi(e,t)?r=HI:$i(e,t)?r=qI:Ya(e,t)&&(r=WI),r}function KI(e,t){var r;return Fi(e,t)?r="trapezoids":$i(e,t)?r="sectors":Ya(e,t)&&(r="points"),r}function GI(e,t){if(Fi(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if($i(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ya(e,t)?t.payload:{}}function YI(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=KI(r,t),o=GI(r,t),i=n.filter(function(c,l){var u=Fl(o,c),d=r.props[a].filter(function(y){var h=XI(r,t);return h(y,t)}),p=r.props[a].indexOf(d[d.length-1]),m=l===p;return u&&m}),s=n.indexOf(i[i.length-1]);return s}var ZI=Math.ceil,JI=Math.max;function QI(e,t,r,n){for(var a=-1,o=JI(ZI((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var e3=QI,t3=qm,ab=1/0,r3=17976931348623157e292;function n3(e){if(!e)return e===0?e:0;if(e=t3(e),e===ab||e===-ab){var t=e<0?-1:1;return t*r3}return e===e?e:0}var ob=n3,a3=e3,o3=rn,vu=ob;function i3(e){return function(t,r,n){return n&&typeof n!="number"&&o3(t,r,n)&&(r=n=void 0),t=vu(t),r===void 0?(r=t,t=0):r=vu(r),n=n===void 0?t<r?1:-1:vu(n),a3(t,r,n,e)}}var s3=i3,c3=s3,l3=c3(),u3=l3;const Ui=ke(u3);function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ib(Object(r),!0).forEach(function(n){cb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cb(e,t,r){return t=d3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d3(e){var t=f3(e,"string");return Za(t)=="symbol"?t:t+""}function f3(e,t){if(Za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p3=["Webkit","Moz","O","ms"],h3=function(e,t){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),n=p3.reduce(function(a,o){return sb(sb({},a),{},cb({},o+r,t))},{});return n[e]=t,n};function Mn(e){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vi.apply(this,arguments)}function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(r),!0).forEach(function(n){dt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ub(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fb(n.key),n)}}function y3(e,t,r){return t&&ub(e.prototype,t),r&&ub(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v3(e,t,r){return t=Hi(t),g3(e,db()?Reflect.construct(t,r||[],Hi(e).constructor):t.apply(e,r))}function g3(e,t){if(t&&(Mn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b3(e)}function b3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function db(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(db=function(){return!!e})()}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hi(e)}function x3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bu(e,t)}function bu(e,t){return bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},bu(e,t)}function dt(e,t,r){return t=fb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fb(e){var t=w3(e,"string");return Mn(t)=="symbol"?t:t+""}function w3(e,t){if(Mn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j3=function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,o=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=ja().domain(Ui(0,s)).range([a,a+o-i]),l=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(n),scale:c,scaleValues:l}},pb=function(e){return e.changedTouches&&!!e.changedTouches.length},An=function(e){function t(r){var n;return m3(this,t),n=v3(this,t,[r]),dt(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),dt(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),dt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),dt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),dt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),dt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),dt(n,"handleSlideDragStart",function(a){var o=pb(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return x3(t,e),y3(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,a=r.endX,o=this.state.scaleValues,i=this.props,s=i.gap,c=i.data,l=c.length-1,u=Math.min(n,a),d=Math.max(n,a),p=t.getIndexInRange(o,u),m=t.getIndexInRange(o,d);return{startIndex:p-p%s,endIndex:m===l?l:m-m%s}}},{key:"getTextOfTick",value:function(r){var n=this.props,a=n.data,o=n.tickFormatter,i=n.dataKey,s=Rt(a[r],i,r);return de(o)?o(s,r):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,a=n.slideMoveStartX,o=n.startX,i=n.endX,s=this.props,c=s.x,l=s.width,u=s.travellerWidth,d=s.startIndex,p=s.endIndex,m=s.onChange,y=r.pageX-a;y>0?y=Math.min(y,c+l-u-i,c+l-u-o):y<0&&(y=Math.max(y,c-o,c-i));var h=this.getIndex({startX:o+y,endX:i+y});(h.startIndex!==d||h.endIndex!==p)&&m&&m(h),this.setState({startX:o+y,endX:i+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var a=pb(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,a=n.brushMoveStartX,o=n.movingTravellerId,i=n.endX,s=n.startX,c=this.state[o],l=this.props,u=l.x,d=l.width,p=l.travellerWidth,m=l.onChange,y=l.gap,h=l.data,g={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,u+d-p-c):b<0&&(b=Math.max(b,u-c)),g[o]=c+b;var w=this.getIndex(g),_=w.startIndex,x=w.endIndex,j=function(){var O=h.length-1;return o==="startX"&&(i>s?_%y===0:x%y===0)||i<s&&x===O||o==="endX"&&(i>s?x%y===0:_%y===0)||i>s&&x===O};this.setState(dt(dt({},o,c+b),"brushMoveStartX",r.pageX),function(){m&&j()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var a=this,o=this.state,i=o.scaleValues,s=o.startX,c=o.endX,l=this.state[n],u=i.indexOf(l);if(u!==-1){var d=u+r;if(!(d===-1||d>=i.length)){var p=i[d];n==="startX"&&p>=c||n==="endX"&&p<=s||this.setState(dt({},n,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.fill,c=r.stroke;return E.createElement("rect",{stroke:c,fill:s,x:n,y:a,width:o,height:i})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.data,c=r.children,l=r.padding,u=v.Children.only(c);return u?E.cloneElement(u,{x:n,y:a,width:o,height:i,margin:l,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(r,n){var a,o,i=this,s=this.props,c=s.y,l=s.travellerWidth,u=s.height,d=s.traveller,p=s.ariaLabel,m=s.data,y=s.startIndex,h=s.endIndex,g=Math.max(r,this.props.x),b=gu(gu({},me(this.props,!1)),{},{x:g,y:c,width:l,height:u}),w=p||"Min value: ".concat((a=m[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[h])===null||o===void 0?void 0:o.name);return E.createElement($e,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),i.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,b))}},{key:"renderSlide",value:function(r,n){var a=this.props,o=a.y,i=a.height,s=a.stroke,c=a.travellerWidth,l=Math.min(r,n)+c,u=Math.max(Math.abs(n-r)-c,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:l,y:o,width:u,height:i})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,a=r.endIndex,o=r.y,i=r.height,s=r.travellerWidth,c=r.stroke,l=this.state,u=l.startX,d=l.endX,p=5,m={pointerEvents:"none",fill:c};return E.createElement($e,{className:"recharts-brush-texts"},E.createElement(ni,Vi({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,d)-p,y:o+i/2},m),this.getTextOfTick(n)),E.createElement(ni,Vi({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,d)+s+p,y:o+i/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,n=r.data,a=r.className,o=r.children,i=r.x,s=r.y,c=r.width,l=r.height,u=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,y=d.isTextActive,h=d.isSlideMoving,g=d.isTravellerMoving,b=d.isTravellerFocused;if(!n||!n.length||!W(i)||!W(s)||!W(c)||!W(l)||c<=0||l<=0)return null;var w=ve("recharts-brush",a),_=E.Children.count(o)===1,x=h3("userSelect","none");return E.createElement($e,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||h||g||b||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,a=r.y,o=r.width,i=r.height,s=r.stroke,c=Math.floor(a+i/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:n,y:a,width:o,height:i,fill:s,stroke:"none"}),E.createElement("line",{x1:n+1,y1:c,x2:n+o-1,y2:c,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:n+1,y1:c+2,x2:n+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var a;return E.isValidElement(r)?a=E.cloneElement(r,n):de(r)?a=r(n):a=t.renderDefaultTraveller(n),a}},{key:"getDerivedStateFromProps",value:function(r,n){var a=r.data,o=r.width,i=r.x,s=r.travellerWidth,c=r.updateId,l=r.startIndex,u=r.endIndex;if(a!==n.prevData||c!==n.prevUpdateId)return gu({prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o},a&&a.length?j3({data:a,width:o,x:i,travellerWidth:s,startIndex:l,endIndex:u}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||i!==n.prevX||s!==n.prevTravellerWidth)){n.scale.range([i,i+o-s]);var d=n.scale.domain().map(function(p){return n.scale(p)});return{prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:i,prevWidth:o,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,n){for(var a=r.length,o=0,i=a-1;i-o>1;){var s=Math.floor((o+i)/2);r[s]>n?i=s:o=s}return n>=r[i]?i:o}}])}(v.PureComponent);dt(An,"displayName","Brush"),dt(An,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var O3=Yc;function _3(e,t){var r;return O3(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var S3=_3,E3=sz,P3=Nr,k3=S3,N3=Yn,C3=rn;function M3(e,t,r){var n=N3(e)?E3:k3;return r&&C3(e,t,r)&&(t=void 0),n(e,P3(t))}var A3=M3;const T3=ke(A3);var Lt=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},D3=cz,I3=um,R3=Nr;function L3(e,t){var r={};return t=R3(t),I3(e,function(n,a,o){D3(r,a,t(n,a,o))}),r}var B3=L3;const z3=ke(B3);function F3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var $3=F3,U3=Yc;function V3(e,t){var r=!0;return U3(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var H3=V3,q3=$3,W3=H3,X3=Nr,K3=Yn,G3=rn;function Y3(e,t,r){var n=K3(e)?q3:W3;return r&&G3(e,t,r)&&(t=void 0),n(e,X3(t))}var Z3=Y3;const hb=ke(Z3);var J3=["x","y"];function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(this,arguments)}function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){Q3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q3(e,t,r){return t=eR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eR(e){var t=tR(e,"string");return Ja(t)=="symbol"?t:t+""}function tR(e,t){if(Ja(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rR(e,t){if(e==null)return{};var r=nR(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aR(e,t){var r=e.x,n=e.y,a=rR(e,J3),o="".concat(r),i=parseInt(o,10),s="".concat(n),c=parseInt(s,10),l="".concat(t.height||a.height),u=parseInt(l,10),d="".concat(t.width||a.width),p=parseInt(d,10);return Qa(Qa(Qa(Qa(Qa({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function yb(e){return E.createElement(VI,xu({shapeType:"rectangle",propTransformer:aR,activeClassName:"recharts-active-bar"},e))}var oR=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,n):(a||qr(),t)}},iR=["value","background"],vb;function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}function sR(e,t){if(e==null)return{};var r=cR(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){Sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wb(n.key),n)}}function uR(e,t,r){return t&&bb(e.prototype,t),r&&bb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dR(e,t,r){return t=Wi(t),fR(e,xb()?Reflect.construct(t,r||[],Wi(e).constructor):t.apply(e,r))}function fR(e,t){if(t&&(Tn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pR(e)}function pR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xb=function(){return!!e})()}function Wi(e){return Wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wi(e)}function hR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wu(e,t)}function wu(e,t){return wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},wu(e,t)}function Sr(e,t,r){return t=wb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wb(e){var t=mR(e,"string");return Tn(t)=="symbol"?t:t+""}function mR(e,t){if(Tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kr=function(e){function t(){var r;lR(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=dR(this,t,[].concat(a)),Sr(r,"state",{isAnimationFinished:!1}),Sr(r,"id",Io("recharts-bar-")),Sr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Sr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return hR(t,e),uR(t,[{key:"renderRectanglesStatically",value:function(r){var n=this,a=this.props,o=a.shape,i=a.dataKey,s=a.activeIndex,c=a.activeBar,l=me(this.props,!1);return r&&r.map(function(u,d){var p=d===s,m=p?c:o,y=Le(Le(Le({},l),u),{},{isActive:p,option:m,index:d,dataKey:i,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return E.createElement($e,qi({className:"recharts-bar-rectangle"},Lo(n.props,u,d),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value)}),E.createElement(yb,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,a=n.data,o=n.layout,i=n.isAnimationActive,s=n.animationBegin,c=n.animationDuration,l=n.animationEasing,u=n.animationId,d=this.state.prevData;return E.createElement(_r,{begin:s,duration:c,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=a.map(function(h,g){var b=d&&d[g];if(b){var w=dn(b.x,h.x),_=dn(b.y,h.y),x=dn(b.width,h.width),j=dn(b.height,h.height);return Le(Le({},h),{},{x:w(m),y:_(m),width:x(m),height:j(m)})}if(o==="horizontal"){var O=dn(0,h.height),S=O(m);return Le(Le({},h),{},{y:h.y+h.height-S,height:S})}var P=dn(0,h.width),N=P(m);return Le(Le({},h),{},{width:N})});return E.createElement($e,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&n&&n.length&&(!o||!Fl(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,a=n.data,o=n.dataKey,i=n.activeIndex,s=me(this.props.background,!1);return a.map(function(c,l){c.value;var u=c.background,d=sR(c,iR);if(!u)return null;var p=Le(Le(Le(Le(Le({},d),{},{fill:"#eee"},u),s),Lo(r.props,c,l)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:l,className:"recharts-bar-background-rectangle"});return E.createElement(yb,qi({key:"background-bar-".concat(l),option:r.props.background,isActive:l===i},p))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,i=a.xAxis,s=a.yAxis,c=a.layout,l=a.children,u=Pt(l,Si);if(!u)return null;var d=c==="vertical"?o[0].height/2:o[0].width/2,p=function(y,h){var g=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:g,errorVal:Rt(y,h)}},m={clipPath:r?"url(#clipPath-".concat(n,")"):null};return E.createElement($e,m,u.map(function(y){return E.cloneElement(y,{key:"error-bar-".concat(n,"-").concat(y.props.dataKey),data:o,xAxis:i,yAxis:s,layout:c,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.data,o=r.className,i=r.xAxis,s=r.yAxis,c=r.left,l=r.top,u=r.width,d=r.height,p=r.isAnimationActive,m=r.background,y=r.id;if(n||!a||!a.length)return null;var h=this.state.isAnimationFinished,g=ve("recharts-bar",o),b=i&&i.allowDataOverflow,w=s&&s.allowDataOverflow,_=b||w,x=ye(y)?this.id:y;return E.createElement($e,{className:g},b||w?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(x)},E.createElement("rect",{x:b?c:c-u/2,y:w?l:l-d/2,width:b?u:u*2,height:w?d:d*2}))):null,E.createElement($e,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(x,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,x),(!p||h)&&Xr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(v.PureComponent);vb=Kr,Sr(Kr,"displayName","Bar"),Sr(Kr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Sr(Kr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,m=lA(n,r);if(!m)return null;var y=t.layout,h=r.type.defaultProps,g=h!==void 0?Le(Le({},h),r.props):r.props,b=g.dataKey,w=g.children,_=g.minPointSize,x=y==="horizontal"?i:o,j=l?x.scale.domain():null,O=vA({numericAxis:x}),S=Pt(w,Ym),P=d.map(function(N,M){var k,C,R,T,I,L;l?k=uA(l[u+M],j):(k=Rt(N,b),Array.isArray(k)||(k=[O,k]));var F=oR(_,vb.defaultProps.minPointSize)(k[1],M);if(y==="horizontal"){var D,V=[i.scale(k[0]),i.scale(k[1])],Z=V[0],G=V[1];C=Kv({axis:o,ticks:s,bandSize:a,offset:m.offset,entry:N,index:M}),R=(D=G??Z)!==null&&D!==void 0?D:void 0,T=m.size;var A=Z-G;if(I=Number.isNaN(A)?0:A,L={x:C,y:i.y,width:T,height:i.height},Math.abs(F)>0&&Math.abs(I)<Math.abs(F)){var K=Et(I||F)*(Math.abs(F)-Math.abs(I));R-=K,I+=K}}else{var Q=[o.scale(k[0]),o.scale(k[1])],Y=Q[0],ne=Q[1];if(C=Y,R=Kv({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:N,index:M}),T=ne-Y,I=m.size,L={x:o.x,y:R,width:o.width,height:I},Math.abs(F)>0&&Math.abs(T)<Math.abs(F)){var q=Et(T||F)*(Math.abs(F)-Math.abs(T));T+=q}}return Le(Le(Le({},N),{},{x:C,y:R,width:T,height:I,value:l?k:k[1],payload:N,background:L},S&&S[M]&&S[M].props),{},{tooltipPayload:[Qv(r,N)],tooltipPosition:{x:C+T/2,y:R+I/2}})});return Le({data:P,layout:y},p)});function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function yR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_b(n.key),n)}}function vR(e,t,r){return t&&jb(e.prototype,t),r&&jb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(r),!0).forEach(function(n){Xi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xi(e,t,r){return t=_b(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _b(e){var t=gR(e,"string");return eo(t)=="symbol"?t:t+""}function gR(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bR=function(e,t,r,n,a){var o=e.width,i=e.height,s=e.layout,c=e.children,l=Object.keys(t),u={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},d=!!lt(c,Kr);return l.reduce(function(p,m){var y=t[m],h=y.orientation,g=y.domain,b=y.padding,w=b===void 0?{}:b,_=y.mirror,x=y.reversed,j="".concat(h).concat(_?"Mirror":""),O,S,P,N,M;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var k=g[1]-g[0],C=1/0,R=y.categoricalDomain.sort();if(R.forEach(function(K,Q){Q>0&&(C=Math.min((K||0)-(R[Q-1]||0),C))}),Number.isFinite(C)){var T=C/k,I=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(O=T*I/2),y.padding==="no-gap"){var L=Lr(e.barCategoryGap,T*I),F=T*I/2;O=F-L-(F-L)/I*L}}}n==="xAxis"?S=[r.left+(w.left||0)+(O||0),r.left+r.width-(w.right||0)-(O||0)]:n==="yAxis"?S=s==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(O||0),r.top+r.height-(w.bottom||0)-(O||0)]:S=y.range,x&&(S=[S[1],S[0]]);var D=sA(y,a,d),V=D.scale,Z=D.realScaleType;V.domain(g).range(S),cA(V);var G=yA(V,Ct(Ct({},y),{},{realScaleType:Z}));n==="xAxis"?(M=h==="top"&&!_||h==="bottom"&&_,P=r.left,N=u[j]-M*y.height):n==="yAxis"&&(M=h==="left"&&!_||h==="right"&&_,P=u[j]-M*y.width,N=r.top);var A=Ct(Ct(Ct({},y),G),{},{realScaleType:Z,x:P,y:N,scale:V,width:n==="xAxis"?r.width:y.width,height:n==="yAxis"?r.height:y.height});return A.bandSize=ki(A,G),!y.hide&&n==="xAxis"?u[j]+=(M?-1:1)*A.height:y.hide||(u[j]+=(M?-1:1)*A.width),Ct(Ct({},p),{},Xi({},m,A))},{})},Sb=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return{x:Math.min(r,a),y:Math.min(n,o),width:Math.abs(a-r),height:Math.abs(o-n)}},xR=function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return Sb({x:t,y:r},{x:n,y:a})},Eb=function(){function e(t){yR(this,e),this.scale=t}return vR(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,a=r.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}],[{key:"create",value:function(t){return new e(t)}}])}();Xi(Eb,"EPS",1e-4);var ju=function(e){var t=Object.keys(e).reduce(function(r,n){return Ct(Ct({},r),{},Xi({},n,Eb.create(e[n])))},{});return Ct(Ct({},t),{},{apply:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;return z3(r,function(i,s){return t[s].apply(i,{bandAware:a,position:o})})},isInRange:function(r){return hb(r,function(n,a){return t[a].isInRange(n)})}})};function wR(e){return(e%180+180)%180}var jR=function(e){var t=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=wR(n),o=a*Math.PI/180,i=Math.atan(r/t),s=o>i&&o<Math.PI-i?r/Math.sin(o):t/Math.cos(o);return Math.abs(s)},OR=Nr,_R=js,SR=Ex;function ER(e){return function(t,r,n){var a=Object(t);if(!_R(t)){var o=OR(r);t=SR(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var PR=ER,kR=ob;function NR(e){var t=kR(e),r=t%1;return t===t?r?t-r:t:0}var Pb=NR,CR=Kh,MR=Nr,AR=Pb,TR=Math.max;function DR(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:AR(r);return a<0&&(a=TR(n+a,0)),CR(e,MR(t),a)}var IR=DR,RR=PR,LR=IR,BR=RR(LR),zR=BR;const FR=ke(zR);var $R=lz(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ou=v.createContext(void 0),_u=v.createContext(void 0),kb=v.createContext(void 0),Nb=v.createContext({}),Cb=v.createContext(void 0),Mb=v.createContext(0),Ab=v.createContext(0),Tb=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,o=e.clipPathId,i=e.children,s=e.width,c=e.height,l=$R(a);return E.createElement(Ou.Provider,{value:r},E.createElement(_u.Provider,{value:n},E.createElement(Nb.Provider,{value:a},E.createElement(kb.Provider,{value:l},E.createElement(Cb.Provider,{value:o},E.createElement(Mb.Provider,{value:c},E.createElement(Ab.Provider,{value:s},i)))))))},UR=function(){return v.useContext(Cb)},Db=function(e){var t=v.useContext(Ou);t==null&&qr();var r=t[e];return r==null&&qr(),r},VR=function(){var e=v.useContext(Ou);return vr(e)},HR=function(){var e=v.useContext(_u),t=FR(e,function(r){return hb(r.domain,Number.isFinite)});return t||vr(e)},Ib=function(e){var t=v.useContext(_u);t==null&&qr();var r=t[e];return r==null&&qr(),r},qR=function(){var e=v.useContext(kb);return e},WR=function(){return v.useContext(Nb)},Su=function(){return v.useContext(Ab)},Eu=function(){return v.useContext(Mb)};function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}function XR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zb(n.key),n)}}function GR(e,t,r){return t&&KR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YR(e,t,r){return t=Ki(t),ZR(e,Rb()?Reflect.construct(t,r||[],Ki(e).constructor):t.apply(e,r))}function ZR(e,t){if(t&&(Dn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JR(e)}function JR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rb=function(){return!!e})()}function Ki(e){return Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ki(e)}function QR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pu(e,t)}function Pu(e,t){return Pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Pu(e,t)}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){ku(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ku(e,t,r){return t=zb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zb(e){var t=eL(e,"string");return Dn(t)=="symbol"?t:t+""}function eL(e,t){if(Dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tL(e,t){return oL(e)||aL(e,t)||nL(e,t)||rL()}function rL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nL(e,t){if(e){if(typeof e=="string")return Fb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fb(e,t)}}function Fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function oL(e){if(Array.isArray(e))return e}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(this,arguments)}var iL=function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):de(e)?r=e(t):r=E.createElement("line",Nu({},t,{className:"recharts-reference-line-line"})),r},sL=function(e,t,r,n,a,o,i,s,c){var l=a.x,u=a.y,d=a.width,p=a.height;if(r){var m=c.y,y=e.y.apply(m,{position:o});if(Lt(c,"discard")&&!e.y.isInRange(y))return null;var h=[{x:l+d,y},{x:l,y}];return s==="left"?h.reverse():h}if(t){var g=c.x,b=e.x.apply(g,{position:o});if(Lt(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:u+p},{x:b,y:u}];return i==="top"?w.reverse():w}if(n){var _=c.segment,x=_.map(function(j){return e.apply(j,{position:o})});return Lt(c,"discard")&&T3(x,function(j){return!e.isInRange(j)})?null:x}return null};function cL(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,c=e.alwaysShow,l=UR(),u=Db(a),d=Ib(o),p=qR();if(!l||!p)return null;Wt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ju({x:u.scale,y:d.scale}),y=Be(t),h=Be(r),g=n&&n.length===2,b=sL(m,y,h,g,p,e.position,u.orientation,d.orientation,e);if(!b)return null;var w=tL(b,2),_=w[0],x=_.x,j=_.y,O=w[1],S=O.x,P=O.y,N=Lt(e,"hidden")?"url(#".concat(l,")"):void 0,M=Bb(Bb({clipPath:N},me(e,!0)),{},{x1:x,y1:j,x2:S,y2:P});return E.createElement($e,{className:ve("recharts-reference-line",s)},iL(i,M),Xe.renderCallByParent(e,xR({x1:x,y1:j,x2:S,y2:P})))}var Cu=function(e){function t(){return XR(this,t),YR(this,t,arguments)}return QR(t,e),GR(t,[{key:"render",value:function(){return E.createElement(cL,this.props)}}])}(E.Component);ku(Cu,"displayName","ReferenceLine"),ku(Cu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(this,arguments)}function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){Yi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hb(n.key),n)}}function dL(e,t,r){return t&&uL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fL(e,t,r){return t=Gi(t),pL(e,Vb()?Reflect.construct(t,r||[],Gi(e).constructor):t.apply(e,r))}function pL(e,t){if(t&&(In(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hL(e)}function hL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vb=function(){return!!e})()}function Gi(e){return Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gi(e)}function mL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Au(e,t)}function Au(e,t){return Au=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Au(e,t)}function Yi(e,t,r){return t=Hb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hb(e){var t=yL(e,"string");return In(t)=="symbol"?t:t+""}function yL(e,t){if(In(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(In(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vL=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,o=ju({x:n.scale,y:a.scale}),i=o.apply({x:t,y:r},{bandAware:!0});return Lt(e,"discard")&&!o.isInRange(i)?null:i},Zi=function(e){function t(){return lL(this,t),fL(this,t,arguments)}return mL(t,e),dL(t,[{key:"render",value:function(){var r=this.props,n=r.x,a=r.y,o=r.r,i=r.alwaysShow,s=r.clipPathId,c=Be(n),l=Be(a);if(Wt(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!l)return null;var u=vL(this.props);if(!u)return null;var d=u.x,p=u.y,m=this.props,y=m.shape,h=m.className,g=Lt(this.props,"hidden")?"url(#".concat(s,")"):void 0,b=Ub(Ub({clipPath:g},me(this.props,!0)),{},{cx:d,cy:p});return E.createElement($e,{className:ve("recharts-reference-dot",h)},t.renderDot(y,b),Xe.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(E.Component);Yi(Zi,"displayName","ReferenceDot"),Yi(Zi,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Yi(Zi,"renderDot",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):de(e)?r=e(t):r=E.createElement(Gg,Mu({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tu.apply(this,arguments)}function Rn(e){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(e)}function qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qb(Object(r),!0).forEach(function(n){Qi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kb(n.key),n)}}function xL(e,t,r){return t&&bL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wL(e,t,r){return t=Ji(t),jL(e,Xb()?Reflect.construct(t,r||[],Ji(e).constructor):t.apply(e,r))}function jL(e,t){if(t&&(Rn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OL(e)}function OL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xb=function(){return!!e})()}function Ji(e){return Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ji(e)}function _L(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Du(e,t)}function Du(e,t){return Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Du(e,t)}function Qi(e,t,r){return t=Kb(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kb(e){var t=SL(e,"string");return Rn(t)=="symbol"?t:t+""}function SL(e,t){if(Rn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EL=function(e,t,r,n,a){var o=a.x1,i=a.x2,s=a.y1,c=a.y2,l=a.xAxis,u=a.yAxis;if(!l||!u)return null;var d=ju({x:l.scale,y:u.scale}),p={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},m={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(c,{position:"end"}):d.y.rangeMax};return Lt(a,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:Sb(p,m)},es=function(e){function t(){return gL(this,t),wL(this,t,arguments)}return _L(t,e),xL(t,[{key:"render",value:function(){var r=this.props,n=r.x1,a=r.x2,o=r.y1,i=r.y2,s=r.className,c=r.alwaysShow,l=r.clipPathId;Wt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Be(n),d=Be(a),p=Be(o),m=Be(i),y=this.props.shape;if(!u&&!d&&!p&&!m&&!y)return null;var h=EL(u,d,p,m,this.props);if(!h&&!y)return null;var g=Lt(this.props,"hidden")?"url(#".concat(l,")"):void 0;return E.createElement($e,{className:ve("recharts-reference-area",s)},t.renderRect(y,Wb(Wb({clipPath:g},me(this.props,!0)),h)),Xe.renderCallByParent(this.props,h))}}])}(E.Component);Qi(es,"displayName","ReferenceArea"),Qi(es,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Qi(es,"renderRect",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):de(e)?r=e(t):r=E.createElement(hu,Tu({},t,{className:"recharts-reference-area-rect"})),r});function Gb(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function PL(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jR(n,r)}function kL(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function ts(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function NL(e,t){return Gb(e,t+1)}function CL(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,c=0,l=1,u=i,d=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:Gb(n,l)};var y=c,h,g=function(){return h===void 0&&(h=r(m,y)),h},b=m.coordinate,w=c===0||ts(e,b,g,u,s);w||(c=0,u=i,l+=1),w&&(u=b+e*(g()/2+a),c+=l)},p;l<=o.length;)if(p=d(),p)return p.v;return[]}function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function Yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yb(Object(r),!0).forEach(function(n){ML(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ML(e,t,r){return t=AL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AL(e){var t=TL(e,"string");return to(t)=="symbol"?t:t+""}function TL(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DL(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,c=t.end,l=function(d){var p=o[d],m,y=function(){return m===void 0&&(m=r(p,d)),m};if(d===i-1){var h=e*(p.coordinate+e*y()/2-c);o[d]=p=Ke(Ke({},p),{},{tickCoord:h>0?p.coordinate-h*e:p.coordinate})}else o[d]=p=Ke(Ke({},p),{},{tickCoord:p.coordinate});var g=ts(e,p.tickCoord,y,s,c);g&&(c=p.tickCoord-e*(y()/2+a),o[d]=Ke(Ke({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)l(u);return o}function IL(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,c=t.start,l=t.end;if(o){var u=n[s-1],d=r(u,s-1),p=e*(u.coordinate+e*d/2-l);i[s-1]=u=Ke(Ke({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var m=ts(e,u.tickCoord,function(){return d},c,l);m&&(l=u.tickCoord-e*(d/2+a),i[s-1]=Ke(Ke({},u),{},{isShow:!0}))}for(var y=o?s-1:s,h=function(b){var w=i[b],_,x=function(){return _===void 0&&(_=r(w,b)),_};if(b===0){var j=e*(w.coordinate-e*x()/2-c);i[b]=w=Ke(Ke({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else i[b]=w=Ke(Ke({},w),{},{tickCoord:w.coordinate});var O=ts(e,w.tickCoord,x,c,l);O&&(c=w.tickCoord+e*(x()/2+a),i[b]=Ke(Ke({},w),{},{isShow:!0}))},g=0;g<y;g++)h(g);return i}function Iu(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(W(c)||gr.isSsr)return NL(a,typeof c=="number"&&W(c)?c:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",y=u&&m==="width"?va(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=function(w,_){var x=de(l)?l(w.value,_):w.value;return m==="width"?PL(va(x,{fontSize:t,letterSpacing:r}),y,d):va(x,{fontSize:t,letterSpacing:r})[m]},g=a.length>=2?Et(a[1].coordinate-a[0].coordinate):1,b=kL(o,g,m);return c==="equidistantPreserveStart"?CL(g,b,h,a,i):(c==="preserveStart"||c==="preserveStartEnd"?p=IL(g,b,h,a,i,c==="preserveStartEnd"):p=DL(g,b,h,a,i),p.filter(function(w){return w.isShow}))}var RL=["viewBox"],LL=["viewBox"],BL=["ticks"];function Ln(e){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(e)}function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bn.apply(this,arguments)}function Zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zb(Object(r),!0).forEach(function(n){Bu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ru(e,t){if(e==null)return{};var r=zL(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e0(n.key),n)}}function $L(e,t,r){return t&&Jb(e.prototype,t),r&&Jb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UL(e,t,r){return t=rs(t),VL(e,Qb()?Reflect.construct(t,r||[],rs(e).constructor):t.apply(e,r))}function VL(e,t){if(t&&(Ln(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HL(e)}function HL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qb=function(){return!!e})()}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rs(e)}function qL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lu(e,t)}function Lu(e,t){return Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lu(e,t)}function Bu(e,t,r){return t=e0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e0(e){var t=WL(e,"string");return Ln(t)=="symbol"?t:t+""}function WL(e,t){if(Ln(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ln(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zn=function(e){function t(r){var n;return FL(this,t),n=UL(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return qL(t,e),$L(t,[{key:"shouldComponentUpdate",value:function(r,n){var a=r.viewBox,o=Ru(r,RL),i=this.props,s=i.viewBox,c=Ru(i,LL);return!fn(a,s)||!fn(o,c)||!fn(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,c=n.orientation,l=n.tickSize,u=n.mirror,d=n.tickMargin,p,m,y,h,g,b,w=u?-1:1,_=r.tickSize||l,x=W(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,h=o+ +!u*s,y=h-w*_,b=y-w*d,g=x;break;case"left":y=h=r.coordinate,m=a+ +!u*i,p=m-w*_,g=p-w*d,b=x;break;case"right":y=h=r.coordinate,m=a+ +u*i,p=m+w*_,g=p+w*d,b=x;break;default:p=m=r.coordinate,h=o+ +u*s,y=h+w*_,b=y+w*d,g=x;break}return{line:{x1:p,y1:y,x2:m,y2:h},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o;switch(n){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,i=r.height,s=r.orientation,c=r.mirror,l=r.axisLine,u=Je(Je(Je({},me(this.props,!1)),me(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!c||s==="bottom"&&c);u=Je(Je({},u),{},{x1:n,y1:a+d*i,x2:n+o,y2:a+d*i})}else{var p=+(s==="left"&&!c||s==="right"&&c);u=Je(Je({},u),{},{x1:n+p*o,y1:a,x2:n+p*o,y2:a+i})}return E.createElement("line",Bn({},u,{className:ve("recharts-cartesian-axis-line",_t(l,"className"))}))}},{key:"renderTicks",value:function(r,n,a){var o=this,i=this.props,s=i.tickLine,c=i.stroke,l=i.tick,u=i.tickFormatter,d=i.unit,p=Iu(Je(Je({},this.props),{},{ticks:r}),n,a),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),h=me(this.props,!1),g=me(l,!1),b=Je(Je({},h),{},{fill:"none"},me(s,!1)),w=p.map(function(_,x){var j=o.getTickLineCoord(_),O=j.line,S=j.tick,P=Je(Je(Je(Je({textAnchor:m,verticalAnchor:y},h),{},{stroke:"none",fill:c},g),S),{},{index:x,payload:_,visibleTicksCount:p.length,tickFormatter:u});return E.createElement($e,Bn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Lo(o.props,_,x)),s&&E.createElement("line",Bn({},b,O,{className:ve("recharts-cartesian-axis-tick-line",_t(s,"className"))})),l&&t.renderTickItem(l,P,"".concat(de(u)?u(_.value,x):_.value).concat(d||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,n=this.props,a=n.axisLine,o=n.width,i=n.height,s=n.ticksGenerator,c=n.className,l=n.hide;if(l)return null;var u=this.props,d=u.ticks,p=Ru(u,BL),m=d;return de(s)&&(m=d&&d.length>0?s(this.props):s(p)),o<=0||i<=0||!m||!m.length?null:E.createElement($e,{className:ve("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Xe.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,a){var o;return E.isValidElement(r)?o=E.cloneElement(r,n):de(r)?o=r(n):o=E.createElement(ni,Bn({},n,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(v.Component);Bu(zn,"displayName","CartesianAxis"),Bu(zn,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var XL=["x1","y1","x2","y2","key"],KL=["offset"];function Gr(e){"@babel/helpers - typeof";return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(e)}function t0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t0(Object(r),!0).forEach(function(n){GL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GL(e,t,r){return t=YL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YL(e){var t=ZL(e,"string");return Gr(t)=="symbol"?t:t+""}function ZL(e,t){if(Gr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yr.apply(this,arguments)}function r0(e,t){if(e==null)return{};var r=JL(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QL=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.ry;return E.createElement("rect",{x:n,y:a,ry:s,width:o,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function n0(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(de(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,c=r0(t,XL),l=me(c,!1);l.offset;var u=r0(l,KL);r=E.createElement("line",Yr({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function e4(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=Ge(Ge({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return n0(a,l)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function t4(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,c){var l=Ge(Ge({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return n0(a,l)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function r4(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,c=e.horizontal,l=c===void 0?!0:c;if(!l||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==u[0]&&u.unshift(0);var d=u.map(function(p,m){var y=!u[m+1],h=y?a+i-p:u[m+1]-p;if(h<=0)return null;var g=m%t.length;return E.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:h,width:o,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function n4(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,c=e.height,l=e.verticalPoints;if(!r||!n||!n.length)return null;var u=l.map(function(p){return Math.round(p+o-o)}).sort(function(p,m){return p-m});o!==u[0]&&u.unshift(0);var d=u.map(function(p,m){var y=!u[m+1],h=y?o+s-p:u[m+1]-p;if(h<=0)return null;var g=m%n.length;return E.createElement("rect",{key:"react-".concat(m),x:p,y:i,width:h,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var a4=function(e,t){var r=e.xAxis,n=e.width,a=e.height,o=e.offset;return Wv(Iu(Ge(Ge(Ge({},zn.defaultProps),r),{},{ticks:tr(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.left,o.left+o.width,t)},o4=function(e,t){var r=e.yAxis,n=e.width,a=e.height,o=e.offset;return Wv(Iu(Ge(Ge(Ge({},zn.defaultProps),r),{},{ticks:tr(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.top,o.top+o.height,t)},Fn={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function a0(e){var t,r,n,a,o,i,s=Su(),c=Eu(),l=WR(),u=Ge(Ge({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Fn.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Fn.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Fn.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Fn.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Fn.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Fn.verticalFill,x:W(e.x)?e.x:l.left,y:W(e.y)?e.y:l.top,width:W(e.width)?e.width:l.width,height:W(e.height)?e.height:l.height}),d=u.x,p=u.y,m=u.width,y=u.height,h=u.syncWithTicks,g=u.horizontalValues,b=u.verticalValues,w=VR(),_=HR();if(!W(m)||m<=0||!W(y)||y<=0||!W(d)||d!==+d||!W(p)||p!==+p)return null;var x=u.verticalCoordinatesGenerator||a4,j=u.horizontalCoordinatesGenerator||o4,O=u.horizontalPoints,S=u.verticalPoints;if((!O||!O.length)&&de(j)){var P=g&&g.length,N=j({yAxis:_?Ge(Ge({},_),{},{ticks:P?g:_.ticks}):void 0,width:s,height:c,offset:l},P?!0:h);Wt(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Gr(N),"]")),Array.isArray(N)&&(O=N)}if((!S||!S.length)&&de(x)){var M=b&&b.length,k=x({xAxis:w?Ge(Ge({},w),{},{ticks:M?b:w.ticks}):void 0,width:s,height:c,offset:l},M?!0:h);Wt(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Gr(k),"]")),Array.isArray(k)&&(S=k)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(QL,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),E.createElement(e4,Yr({},u,{offset:l,horizontalPoints:O,xAxis:w,yAxis:_})),E.createElement(t4,Yr({},u,{offset:l,verticalPoints:S,xAxis:w,yAxis:_})),E.createElement(r4,Yr({},u,{horizontalPoints:O})),E.createElement(n4,Yr({},u,{verticalPoints:S})))}a0.displayName="CartesianGrid";function $n(e){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(e)}function i4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s0(n.key),n)}}function c4(e,t,r){return t&&s4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l4(e,t,r){return t=ns(t),u4(e,o0()?Reflect.construct(t,r||[],ns(e).constructor):t.apply(e,r))}function u4(e,t){if(t&&($n(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d4(e)}function d4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o0=function(){return!!e})()}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}function f4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zu(e,t)}function zu(e,t){return zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zu(e,t)}function i0(e,t,r){return t=s0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s0(e){var t=p4(e,"string");return $n(t)=="symbol"?t:t+""}function p4(e,t){if($n(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(this,arguments)}function h4(e){var t=e.xAxisId,r=Su(),n=Eu(),a=Db(t);return a==null?null:E.createElement(zn,Fu({},a,{className:ve("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return tr(o,!0)}}))}var as=function(e){function t(){return i4(this,t),l4(this,t,arguments)}return f4(t,e),c4(t,[{key:"render",value:function(){return E.createElement(h4,this.props)}}])}(E.Component);i0(as,"displayName","XAxis"),i0(as,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Un(e){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(e)}function m4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u0(n.key),n)}}function v4(e,t,r){return t&&y4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g4(e,t,r){return t=os(t),b4(e,c0()?Reflect.construct(t,r||[],os(e).constructor):t.apply(e,r))}function b4(e,t){if(t&&(Un(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x4(e)}function x4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c0=function(){return!!e})()}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},os(e)}function w4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$u(e,t)}function $u(e,t){return $u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$u(e,t)}function l0(e,t,r){return t=u0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u0(e){var t=j4(e,"string");return Un(t)=="symbol"?t:t+""}function j4(e,t){if(Un(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Un(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}var O4=function(e){var t=e.yAxisId,r=Su(),n=Eu(),a=Ib(t);return a==null?null:E.createElement(zn,Uu({},a,{className:ve("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return tr(o,!0)}}))},Vu=function(e){function t(){return m4(this,t),g4(this,t,arguments)}return w4(t,e),v4(t,[{key:"render",value:function(){return E.createElement(O4,this.props)}}])}(E.Component);l0(Vu,"displayName","YAxis"),l0(Vu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function d0(e){return P4(e)||E4(e)||S4(e)||_4()}function _4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4(e,t){if(e){if(typeof e=="string")return Hu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hu(e,t)}}function E4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P4(e){if(Array.isArray(e))return Hu(e)}function Hu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qu=function(e,t,r,n,a){var o=Pt(e,Cu),i=Pt(e,Zi),s=[].concat(d0(o),d0(i)),c=Pt(e,es),l="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce(function(y,h){if(h.props[l]===r&&Lt(h.props,"extendDomain")&&W(h.props[u])){var g=h.props[u];return[Math.min(y[0],g),Math.max(y[1],g)]}return y},d)),c.length){var p="".concat(u,"1"),m="".concat(u,"2");d=c.reduce(function(y,h){if(h.props[l]===r&&Lt(h.props,"extendDomain")&&W(h.props[p])&&W(h.props[m])){var g=h.props[p],b=h.props[m];return[Math.min(y[0],g,b),Math.max(y[1],g,b)]}return y},d)}return a&&a.length&&(d=a.reduce(function(y,h){return W(h)?[Math.min(y[0],h),Math.max(y[1],h)]:y},d)),d},f0={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,d,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,d||c,p),y=r?r+l:l;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function i(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],l,u;if(this._eventsCount===0)return c;for(u in l=this._events)t.call(l,u)&&c.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},s.prototype.listeners=function(c){var l=r?r+c:c,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,p=u.length,m=new Array(p);d<p;d++)m[d]=u[d].fn;return m},s.prototype.listenerCount=function(c){var l=r?r+c:c,u=this._events[l];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,l,u,d,p,m){var y=r?r+c:c;if(!this._events[y])return!1;var h=this._events[y],g=arguments.length,b,w;if(h.fn){switch(h.once&&this.removeListener(c,h.fn,void 0,!0),g){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,l),!0;case 3:return h.fn.call(h.context,l,u),!0;case 4:return h.fn.call(h.context,l,u,d),!0;case 5:return h.fn.call(h.context,l,u,d,p),!0;case 6:return h.fn.call(h.context,l,u,d,p,m),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];h.fn.apply(h.context,b)}else{var _=h.length,x;for(w=0;w<_;w++)switch(h[w].once&&this.removeListener(c,h[w].fn,void 0,!0),g){case 1:h[w].fn.call(h[w].context);break;case 2:h[w].fn.call(h[w].context,l);break;case 3:h[w].fn.call(h[w].context,l,u);break;case 4:h[w].fn.call(h[w].context,l,u,d);break;default:if(!b)for(x=1,b=new Array(g-1);x<g;x++)b[x-1]=arguments[x];h[w].fn.apply(h[w].context,b)}}return!0},s.prototype.on=function(c,l,u){return o(this,c,l,u,!1)},s.prototype.once=function(c,l,u){return o(this,c,l,u,!0)},s.prototype.removeListener=function(c,l,u,d){var p=r?r+c:c;if(!this._events[p])return this;if(!l)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===l&&(!d||m.once)&&(!u||m.context===u)&&i(this,p);else{for(var y=0,h=[],g=m.length;y<g;y++)(m[y].fn!==l||d&&!m[y].once||u&&m[y].context!==u)&&h.push(m[y]);h.length?this._events[p]=h.length===1?h[0]:h:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var l;return c?(l=r?r+c:c,this._events[l]&&i(this,l)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(f0);var k4=f0.exports;const N4=ke(k4);var Wu=new N4,Xu="recharts.syncMouseEvents";function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function C4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p0(n.key),n)}}function A4(e,t,r){return t&&M4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ku(e,t,r){return t=p0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p0(e){var t=T4(e,"string");return ro(t)=="symbol"?t:t+""}function T4(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D4=function(){function e(){C4(this,e),Ku(this,"activeIndex",0),Ku(this,"coordinateList",[]),Ku(this,"layout","horizontal")}return A4(e,[{key:"setDetails",value:function(t){var r,n=t.coordinateList,a=n===void 0?null:n,o=t.container,i=o===void 0?null:o,s=t.layout,c=s===void 0?null:s,l=t.offset,u=l===void 0?null:l,d=t.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=i??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),a=n.x,o=n.y,i=n.height,s=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,l=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=a+s+c,d=o+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:u,pageY:d})}}}])}();function I4(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&W(n)&&W(a))return!0}return!1}function R4(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function h0(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=qe(t,r,n,a),s=qe(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function L4(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.angle,p=qe(s,c,l,d),m=qe(s,c,u,d);n=p.x,a=p.y,o=m.x,i=m.y}else return h0(t);return[{x:n,y:a},{x:o,y:i}]}function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function m0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m0(Object(r),!0).forEach(function(n){B4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B4(e,t,r){return t=z4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z4(e){var t=F4(e,"string");return no(t)=="symbol"?t:t+""}function F4(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $4(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,c=e.offset,l=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!o||!i||p!=="ScatterChart"&&a!=="axis")return null;var y,h=mg;if(p==="ScatterChart")y=i,h=sI;else if(p==="BarChart")y=R4(d,i,c,u),h=hu;else if(d==="radial"){var g=h0(i),b=g.cx,w=g.cy,_=g.radius,x=g.startAngle,j=g.endAngle;y={cx:b,cy:w,startAngle:x,endAngle:j,innerRadius:_,outerRadius:_},h=dg}else y={points:L4(d,i,c)},h=mg;var O=is(is(is(is({stroke:"#ccc",pointerEvents:"none"},c),y),me(m,!1)),{},{payload:s,payloadIndex:l,className:ve("recharts-tooltip-cursor",m.className)});return v.isValidElement(m)?v.cloneElement(m,O):v.createElement(h,O)}var U4=["item"],V4=["children","className","width","height","style","compact","title","desc"];function Vn(e){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(e)}function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hn.apply(this,arguments)}function y0(e,t){return W4(e)||q4(e,t)||b0(e,t)||H4()}function H4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q4(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function W4(e){if(Array.isArray(e))return e}function v0(e,t){if(e==null)return{};var r=X4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w0(n.key),n)}}function Y4(e,t,r){return t&&G4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z4(e,t,r){return t=ss(t),J4(e,g0()?Reflect.construct(t,r||[],ss(e).constructor):t.apply(e,r))}function J4(e,t){if(t&&(Vn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4(e)}function Q4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g0=function(){return!!e})()}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ss(e)}function e5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gu(e,t)}function Gu(e,t){return Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Gu(e,t)}function qn(e){return n5(e)||r5(e)||b0(e)||t5()}function t5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b0(e,t){if(e){if(typeof e=="string")return Yu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yu(e,t)}}function r5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n5(e){if(Array.isArray(e))return Yu(e)}function Yu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x0(Object(r),!0).forEach(function(n){re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function re(e,t,r){return t=w0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w0(e){var t=a5(e,"string");return Vn(t)=="symbol"?t:t+""}function a5(e,t){if(Vn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o5={xAxis:["bottom","top"],yAxis:["left","right"]},i5={width:"100%",height:"100%"},j0={x:0,y:0};function cs(e){return e}var s5=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},c5=function(e,t,r,n){var a=t.find(function(l){return l&&l.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,i=n.radius;return B(B(B({},n),qe(n.cx,n.cy,i,o)),{},{angle:o,radius:i})}var s=a.coordinate,c=n.angle;return B(B(B({},n),qe(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return j0},ls=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,o=(r??[]).reduce(function(i,s){var c=s.props.data;return c&&c.length?[].concat(qn(i),qn(c)):i},[]);return o.length>0?o:e&&e.length&&W(n)&&W(a)?e.slice(n,a+1):[]};function O0(e){return e==="number"?[0,"auto"]:void 0}var Zu=function(e,t,r,n){var a=e.graphicalItems,o=e.tooltipAxis,i=ls(t,e);return r<0||!a||!a.length||r>=i.length?null:a.reduce(function(s,c){var l,u=(l=c.props.data)!==null&&l!==void 0?l:t;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=u===void 0?i:u;d=jc(p,o.dataKey,n)}else d=u&&u[r]||i[r];return d?[].concat(qn(s),[Qv(c,d)]):s},[])},_0=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},o=s5(a,r),i=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=tA(o,i,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,d=Zu(e,t,l,u),p=c5(r,i,l,a);return{activeTooltipIndex:l,activeLabel:u,activePayload:d,activeCoordinate:p}}return null},l5=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=e.stackOffset,p=qv(l,a);return r.reduce(function(m,y){var h,g=y.type.defaultProps!==void 0?B(B({},y.type.defaultProps),y.props):y.props,b=g.type,w=g.dataKey,_=g.allowDataOverflow,x=g.allowDuplicatedCategory,j=g.scale,O=g.ticks,S=g.includeHidden,P=g[o];if(m[P])return m;var N=ls(e.data,{graphicalItems:n.filter(function(G){var A,K=o in G.props?G.props[o]:(A=G.type.defaultProps)===null||A===void 0?void 0:A[o];return K===P}),dataStartIndex:s,dataEndIndex:c}),M=N.length,k,C,R;I4(g.domain,_,b)&&(k=Ql(g.domain,null,_),p&&(b==="number"||j!=="auto")&&(R=Ei(N,w,"category")));var T=O0(b);if(!k||k.length===0){var I,L=(I=g.domain)!==null&&I!==void 0?I:T;if(w){if(k=Ei(N,w,b),b==="category"&&p){var F=LO(k);x&&F?(C=k,k=Ui(0,M)):x||(k=Jv(L,k,y).reduce(function(G,A){return G.indexOf(A)>=0?G:[].concat(qn(G),[A])},[]))}else if(b==="category")x?k=k.filter(function(G){return G!==""&&!ye(G)}):k=Jv(L,k,y).reduce(function(G,A){return G.indexOf(A)>=0||A===""||ye(A)?G:[].concat(qn(G),[A])},[]);else if(b==="number"){var D=iA(N,n.filter(function(G){var A,K,Q=o in G.props?G.props[o]:(A=G.type.defaultProps)===null||A===void 0?void 0:A[o],Y="hide"in G.props?G.props.hide:(K=G.type.defaultProps)===null||K===void 0?void 0:K.hide;return Q===P&&(S||!Y)}),w,a,l);D&&(k=D)}p&&(b==="number"||j!=="auto")&&(R=Ei(N,w,"category"))}else p?k=Ui(0,M):i&&i[P]&&i[P].hasStack&&b==="number"?k=d==="expand"?[0,1]:Gv(i[P].stackGroups,s,c):k=Hv(N,n.filter(function(G){var A=o in G.props?G.props[o]:G.type.defaultProps[o],K="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return A===P&&(S||!K)}),b,l,!0);if(b==="number")k=qu(u,k,P,a,O),L&&(k=Ql(L,k,_));else if(b==="category"&&L){var V=L,Z=k.every(function(G){return V.indexOf(G)>=0});Z&&(k=V)}}return B(B({},m),{},re({},P,B(B({},g),{},{axisType:a,domain:k,categoricalDomain:R,duplicateDomain:C,originalDomain:(h=g.domain)!==null&&h!==void 0?h:T,isCategorical:p,layout:l})))},{})},u5=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=ls(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:c}),p=d.length,m=qv(l,a),y=-1;return r.reduce(function(h,g){var b=g.type.defaultProps!==void 0?B(B({},g.type.defaultProps),g.props):g.props,w=b[o],_=O0("number");if(!h[w]){y++;var x;return m?x=Ui(0,p):i&&i[w]&&i[w].hasStack?(x=Gv(i[w].stackGroups,s,c),x=qu(u,x,w,a)):(x=Ql(_,Hv(d,r.filter(function(j){var O,S,P=o in j.props?j.props[o]:(O=j.type.defaultProps)===null||O===void 0?void 0:O[o],N="hide"in j.props?j.props.hide:(S=j.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===w&&!N}),"number",l),n.defaultProps.allowDataOverflow),x=qu(u,x,w,a)),B(B({},h),{},re({},w,B(B({axisType:a},n.defaultProps),{},{hide:!0,orientation:_t(o5,"".concat(a,".").concat(y%2),null),domain:x,originalDomain:_,isCategorical:m,layout:l})))}return h},{})},d5=function(e,t){var r=t.axisType,n=r===void 0?"xAxis":r,a=t.AxisComp,o=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(n,"Id"),d=Pt(l,a),p={};return d&&d.length?p=l5(e,{axes:d,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(p=u5(e,{Axis:a,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c})),p},f5=function(e){var t=vr(e),r=tr(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:el(r,function(n){return n.coordinate}),tooltipAxis:t,tooltipAxisBandSize:ki(t,r)}},S0=function(e){var t=e.children,r=e.defaultShowTooltip,n=lt(t,An),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},p5=function(e){return!e||!e.length?!1:e.some(function(t){var r=qt(t&&t.type);return r&&r.indexOf("Bar")>=0})},E0=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},h5=function(e,t){var r=e.props,n=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,i=e.yAxisMap,s=i===void 0?{}:i,c=r.width,l=r.height,u=r.children,d=r.margin||{},p=lt(u,An),m=lt(u,yn),y=Object.keys(s).reduce(function(x,j){var O=s[j],S=O.orientation;return!O.mirror&&!O.hide?B(B({},x),{},re({},S,x[S]+O.width)):x},{left:d.left||0,right:d.right||0}),h=Object.keys(o).reduce(function(x,j){var O=o[j],S=O.orientation;return!O.mirror&&!O.hide?B(B({},x),{},re({},S,_t(x,"".concat(S))+O.height)):x},{top:d.top||0,bottom:d.bottom||0}),g=B(B({},h),y),b=g.bottom;p&&(g.bottom+=p.props.height||An.defaultProps.height),m&&t&&(g=aA(g,n,r,t));var w=c-g.left-g.right,_=l-g.top-g.bottom;return B(B({brushBottom:b},g),{},{width:Math.max(w,0),height:Math.max(_,0)})},m5=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},y5=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=n===void 0?"axis":n,o=e.validateTooltipEventTypes,i=o===void 0?["axis"]:o,s=e.axisComponents,c=e.legendContent,l=e.formatAxisMap,u=e.defaultProps,d=function(h,g){var b=g.graphicalItems,w=g.stackGroups,_=g.offset,x=g.updateId,j=g.dataStartIndex,O=g.dataEndIndex,S=h.barSize,P=h.layout,N=h.barGap,M=h.barCategoryGap,k=h.maxBarSize,C=E0(P),R=C.numericAxisName,T=C.cateAxisName,I=p5(b),L=[];return b.forEach(function(F,D){var V=ls(h.data,{graphicalItems:[F],dataStartIndex:j,dataEndIndex:O}),Z=F.type.defaultProps!==void 0?B(B({},F.type.defaultProps),F.props):F.props,G=Z.dataKey,A=Z.maxBarSize,K=Z["".concat(R,"Id")],Q=Z["".concat(T,"Id")],Y={},ne=s.reduce(function(Qr,en){var ao=g["".concat(en.axisType,"Map")],sx=Z["".concat(en.axisType,"Id")];ao&&ao[sx]||en.axisType==="zAxis"||qr();var cx=ao[sx];return B(B({},Qr),{},re(re({},en.axisType,cx),"".concat(en.axisType,"Ticks"),tr(cx)))},Y),q=ne[T],ae=ne["".concat(T,"Ticks")],U=w&&w[K]&&w[K].hasStack&&gA(F,w[K].stackGroups),X=qt(F.type).indexOf("Bar")>=0,te=ki(q,ae),z=[],_e=I&&rA({barSize:S,stackGroups:w,totalSize:m5(ne,T)});if(X){var ce,Me,Ae=ye(A)?k:A,Qe=(ce=(Me=ki(q,ae,!0))!==null&&Me!==void 0?Me:Ae)!==null&&ce!==void 0?ce:0;z=nA({barGap:N,barCategoryGap:M,bandSize:Qe!==te?Qe:te,sizeList:_e[Q],maxBarSize:Ae}),Qe!==te&&(z=z.map(function(Qr){return B(B({},Qr),{},{position:B(B({},Qr.position),{},{offset:Qr.position.offset-Qe/2})})}))}var Jr=F&&F.type&&F.type.getComposedData;Jr&&L.push({props:B(B({},Jr(B(B({},ne),{},{displayedData:V,props:h,dataKey:G,item:F,bandSize:te,barPosition:z,offset:_,stackedData:U,layout:P,dataStartIndex:j,dataEndIndex:O}))),{},re(re(re({key:F.key||"item-".concat(D)},R,ne[R]),T,ne[T]),"animationId",x)),childIndex:KO(F,h.children),item:F})}),L},p=function(h,g){var b=h.props,w=h.dataStartIndex,_=h.dataEndIndex,x=h.updateId;if(!dh({props:b}))return null;var j=b.children,O=b.layout,S=b.stackOffset,P=b.data,N=b.reverseStackOrder,M=E0(O),k=M.numericAxisName,C=M.cateAxisName,R=Pt(j,r),T=mA(P,R,"".concat(k,"Id"),"".concat(C,"Id"),S,N),I=s.reduce(function(Z,G){var A="".concat(G.axisType,"Map");return B(B({},Z),{},re({},A,d5(b,B(B({},G),{},{graphicalItems:R,stackGroups:G.axisType===k&&T,dataStartIndex:w,dataEndIndex:_}))))},{}),L=h5(B(B({},I),{},{props:b,graphicalItems:R}),g==null?void 0:g.legendBBox);Object.keys(I).forEach(function(Z){I[Z]=l(b,I[Z],L,Z.replace("Map",""),t)});var F=I["".concat(C,"Map")],D=f5(F),V=d(b,B(B({},I),{},{dataStartIndex:w,dataEndIndex:_,updateId:x,graphicalItems:R,stackGroups:T,offset:L}));return B(B({formattedGraphicalItems:V,graphicalItems:R,offset:L,stackGroups:T},D),I)},m=function(h){function g(b){var w,_,x;return K4(this,g),x=Z4(this,g,[b]),re(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),re(x,"accessibilityManager",new D4),re(x,"handleLegendBBoxUpdate",function(j){if(j){var O=x.state,S=O.dataStartIndex,P=O.dataEndIndex,N=O.updateId;x.setState(B({legendBBox:j},p({props:x.props,dataStartIndex:S,dataEndIndex:P,updateId:N},B(B({},x.state),{},{legendBBox:j}))))}}),re(x,"handleReceiveSyncEvent",function(j,O,S){if(x.props.syncId===j){if(S===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(O)}}),re(x,"handleBrushChange",function(j){var O=j.startIndex,S=j.endIndex;if(O!==x.state.dataStartIndex||S!==x.state.dataEndIndex){var P=x.state.updateId;x.setState(function(){return B({dataStartIndex:O,dataEndIndex:S},p({props:x.props,dataStartIndex:O,dataEndIndex:S,updateId:P},x.state))}),x.triggerSyncEvent({dataStartIndex:O,dataEndIndex:S})}}),re(x,"handleMouseEnter",function(j){var O=x.getMouseInfo(j);if(O){var S=B(B({},O),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var P=x.props.onMouseEnter;de(P)&&P(S,j)}}),re(x,"triggeredAfterMouseMove",function(j){var O=x.getMouseInfo(j),S=O?B(B({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var P=x.props.onMouseMove;de(P)&&P(S,j)}),re(x,"handleItemMouseEnter",function(j){x.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),re(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),re(x,"handleMouseMove",function(j){j.persist(),x.throttleTriggeredAfterMouseMove(j)}),re(x,"handleMouseLeave",function(j){x.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};x.setState(O),x.triggerSyncEvent(O);var S=x.props.onMouseLeave;de(S)&&S(O,j)}),re(x,"handleOuterEvent",function(j){var O=XO(j),S=_t(x.props,"".concat(O));if(O&&de(S)){var P,N;/.*touch.*/i.test(O)?N=x.getMouseInfo(j.changedTouches[0]):N=x.getMouseInfo(j),S((P=N)!==null&&P!==void 0?P:{},j)}}),re(x,"handleClick",function(j){var O=x.getMouseInfo(j);if(O){var S=B(B({},O),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var P=x.props.onClick;de(P)&&P(S,j)}}),re(x,"handleMouseDown",function(j){var O=x.props.onMouseDown;if(de(O)){var S=x.getMouseInfo(j);O(S,j)}}),re(x,"handleMouseUp",function(j){var O=x.props.onMouseUp;if(de(O)){var S=x.getMouseInfo(j);O(S,j)}}),re(x,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),re(x,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.handleMouseDown(j.changedTouches[0])}),re(x,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&x.handleMouseUp(j.changedTouches[0])}),re(x,"triggerSyncEvent",function(j){x.props.syncId!==void 0&&Wu.emit(Xu,x.props.syncId,j,x.eventEmitterSymbol)}),re(x,"applySyncEvent",function(j){var O=x.props,S=O.layout,P=O.syncMethod,N=x.state.updateId,M=j.dataStartIndex,k=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)x.setState(B({dataStartIndex:M,dataEndIndex:k},p({props:x.props,dataStartIndex:M,dataEndIndex:k,updateId:N},x.state)));else if(j.activeTooltipIndex!==void 0){var C=j.chartX,R=j.chartY,T=j.activeTooltipIndex,I=x.state,L=I.offset,F=I.tooltipTicks;if(!L)return;if(typeof P=="function")T=P(F,j);else if(P==="value"){T=-1;for(var D=0;D<F.length;D++)if(F[D].value===j.activeLabel){T=D;break}}var V=B(B({},L),{},{x:L.left,y:L.top}),Z=Math.min(C,V.x+V.width),G=Math.min(R,V.y+V.height),A=F[T]&&F[T].value,K=Zu(x.state,x.props.data,T),Q=F[T]?{x:S==="horizontal"?F[T].coordinate:Z,y:S==="horizontal"?G:F[T].coordinate}:j0;x.setState(B(B({},j),{},{activeLabel:A,activeCoordinate:Q,activePayload:K,activeTooltipIndex:T}))}else x.setState(j)}),re(x,"renderCursor",function(j){var O,S=x.state,P=S.isTooltipActive,N=S.activeCoordinate,M=S.activePayload,k=S.offset,C=S.activeTooltipIndex,R=S.tooltipAxisBandSize,T=x.getTooltipEventType(),I=(O=j.props.active)!==null&&O!==void 0?O:P,L=x.props.layout,F=j.key||"_recharts-cursor";return E.createElement($4,{key:F,activeCoordinate:N,activePayload:M,activeTooltipIndex:C,chartName:t,element:j,isActive:I,layout:L,offset:k,tooltipAxisBandSize:R,tooltipEventType:T})}),re(x,"renderPolarAxis",function(j,O,S){var P=_t(j,"type.axisType"),N=_t(x.state,"".concat(P,"Map")),M=j.type.defaultProps,k=M!==void 0?B(B({},M),j.props):j.props,C=N&&N[k["".concat(P,"Id")]];return v.cloneElement(j,B(B({},C),{},{className:ve(P,C.className),key:j.key||"".concat(O,"-").concat(S),ticks:tr(C,!0)}))}),re(x,"renderPolarGrid",function(j){var O=j.props,S=O.radialLines,P=O.polarAngles,N=O.polarRadius,M=x.state,k=M.radiusAxisMap,C=M.angleAxisMap,R=vr(k),T=vr(C),I=T.cx,L=T.cy,F=T.innerRadius,D=T.outerRadius;return v.cloneElement(j,{polarAngles:Array.isArray(P)?P:tr(T,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(N)?N:tr(R,!0).map(function(V){return V.coordinate}),cx:I,cy:L,innerRadius:F,outerRadius:D,key:j.key||"polar-grid",radialLines:S})}),re(x,"renderLegend",function(){var j=x.state.formattedGraphicalItems,O=x.props,S=O.children,P=O.width,N=O.height,M=x.props.margin||{},k=P-(M.left||0)-(M.right||0),C=Fv({children:S,formattedGraphicalItems:j,legendWidth:k,legendContent:c});if(!C)return null;var R=C.item,T=v0(C,U4);return v.cloneElement(R,B(B({},T),{},{chartWidth:P,chartHeight:N,margin:M,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),re(x,"renderTooltip",function(){var j,O=x.props,S=O.children,P=O.accessibilityLayer,N=lt(S,Tt);if(!N)return null;var M=x.state,k=M.isTooltipActive,C=M.activeCoordinate,R=M.activePayload,T=M.activeLabel,I=M.offset,L=(j=N.props.active)!==null&&j!==void 0?j:k;return v.cloneElement(N,{viewBox:B(B({},I),{},{x:I.left,y:I.top}),active:L,label:T,payload:L?R:[],coordinate:C,accessibilityLayer:P})}),re(x,"renderBrush",function(j){var O=x.props,S=O.margin,P=O.data,N=x.state,M=N.offset,k=N.dataStartIndex,C=N.dataEndIndex,R=N.updateId;return v.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Pi(x.handleBrushChange,j.props.onChange),data:P,x:W(j.props.x)?j.props.x:M.left,y:W(j.props.y)?j.props.y:M.top+M.height+M.brushBottom-(S.bottom||0),width:W(j.props.width)?j.props.width:M.width,startIndex:k,endIndex:C,updateId:"brush-".concat(R)})}),re(x,"renderReferenceElement",function(j,O,S){if(!j)return null;var P=x,N=P.clipPathId,M=x.state,k=M.xAxisMap,C=M.yAxisMap,R=M.offset,T=j.type.defaultProps||{},I=j.props,L=I.xAxisId,F=L===void 0?T.xAxisId:L,D=I.yAxisId,V=D===void 0?T.yAxisId:D;return v.cloneElement(j,{key:j.key||"".concat(O,"-").concat(S),xAxis:k[F],yAxis:C[V],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:N})}),re(x,"renderActivePoints",function(j){var O=j.item,S=j.activePoint,P=j.basePoint,N=j.childIndex,M=j.isRange,k=[],C=O.props.key,R=O.item.type.defaultProps!==void 0?B(B({},O.item.type.defaultProps),O.item.props):O.item.props,T=R.activeDot,I=R.dataKey,L=B(B({index:N,dataKey:I,cx:S.x,cy:S.y,r:4,fill:Zl(O.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},me(T,!1)),Ro(T));return k.push(g.renderActiveDot(T,L,"".concat(C,"-activePoint-").concat(N))),P?k.push(g.renderActiveDot(T,B(B({},L),{},{cx:P.x,cy:P.y}),"".concat(C,"-basePoint-").concat(N))):M&&k.push(null),k}),re(x,"renderGraphicChild",function(j,O,S){var P=x.filterFormatItem(j,O,S);if(!P)return null;var N=x.getTooltipEventType(),M=x.state,k=M.isTooltipActive,C=M.tooltipAxis,R=M.activeTooltipIndex,T=M.activeLabel,I=x.props.children,L=lt(I,Tt),F=P.props,D=F.points,V=F.isRange,Z=F.baseLine,G=P.item.type.defaultProps!==void 0?B(B({},P.item.type.defaultProps),P.item.props):P.item.props,A=G.activeDot,K=G.hide,Q=G.activeBar,Y=G.activeShape,ne=!!(!K&&k&&L&&(A||Q||Y)),q={};N!=="axis"&&L&&L.props.trigger==="click"?q={onClick:Pi(x.handleItemMouseEnter,j.props.onClick)}:N!=="axis"&&(q={onMouseLeave:Pi(x.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Pi(x.handleItemMouseEnter,j.props.onMouseEnter)});var ae=v.cloneElement(j,B(B({},P.props),q));function U(ao){return typeof C.dataKey=="function"?C.dataKey(ao.payload):null}if(ne)if(R>=0){var X,te;if(C.dataKey&&!C.allowDuplicatedCategory){var z=typeof C.dataKey=="function"?U:"payload.".concat(C.dataKey.toString());X=jc(D,z,T),te=V&&Z&&jc(Z,z,T)}else X=D==null?void 0:D[R],te=V&&Z&&Z[R];if(Y||Q){var _e=j.props.activeIndex!==void 0?j.props.activeIndex:R;return[v.cloneElement(j,B(B(B({},P.props),q),{},{activeIndex:_e})),null,null]}if(!ye(X))return[ae].concat(qn(x.renderActivePoints({item:P,activePoint:X,basePoint:te,childIndex:R,isRange:V})))}else{var ce,Me=(ce=x.getItemByXY(x.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:ae},Ae=Me.graphicalItem,Qe=Ae.item,Jr=Qe===void 0?j:Qe,Qr=Ae.childIndex,en=B(B(B({},P.props),q),{},{activeIndex:Qr});return[v.cloneElement(Jr,en),null,null]}return V?[ae,null,null]:[ae,null]}),re(x,"renderCustomized",function(j,O,S){return v.cloneElement(j,B(B({key:"recharts-customized-".concat(S)},x.props),x.state))}),re(x,"renderMap",{CartesianGrid:{handler:cs,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:cs},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:cs},YAxis:{handler:cs},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Io("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=Ds(x.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),x.state={},x}return e5(g,h),Y4(g,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,_=b.data,x=b.height,j=b.layout,O=lt(w,Tt);if(O){var S=O.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,N=Zu(this.state,_,S,P),M=this.state.tooltipTicks[S].coordinate,k=(this.state.offset.top+x)/2,C=j==="horizontal",R=C?{x:M,y:k}:{y:M,x:k},T=this.state.formattedGraphicalItems.find(function(L){var F=L.item;return F.type.name==="Scatter"});T&&(R=B(B({},R),T.props.points[S].tooltipPosition),N=T.props.points[S].tooltipPayload);var I={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:P,activePayload:N,activeCoordinate:R};this.setState(I),this.renderCursor(O),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,x;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(b){kc([lt(b.children,Tt)],[lt(this.props.children,Tt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=lt(this.props.children,Tt);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return i.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,_=w.getBoundingClientRect(),x=Jk(_),j={chartX:Math.round(b.pageX-x.left),chartY:Math.round(b.pageY-x.top)},O=_.width/w.offsetWidth||1,S=this.inRange(j.chartX,j.chartY,O);if(!S)return null;var P=this.state,N=P.xAxisMap,M=P.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&N&&M){var C=vr(N).scale,R=vr(M).scale,T=C&&C.invert?C.invert(j.chartX):null,I=R&&R.invert?R.invert(j.chartY):null;return B(B({},j),{},{xValue:T,yValue:I})}var L=_0(this.state,this.props.data,this.props.layout,S);return L?B(B({},j),L):null}},{key:"inRange",value:function(b,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,j=b/_,O=w/_;if(x==="horizontal"||x==="vertical"){var S=this.state.offset,P=j>=S.left&&j<=S.left+S.width&&O>=S.top&&O<=S.top+S.height;return P?{x:j,y:O}:null}var N=this.state,M=N.angleAxisMap,k=N.radiusAxisMap;if(M&&k){var C=vr(M);return rg({x:j,y:O},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),_=lt(b,Tt),x={};_&&w==="axis"&&(_.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var j=Ro(this.props,this.handleOuterEvent);return B(B({},j),x)}},{key:"addListener",value:function(){Wu.on(Xu,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wu.removeListener(Xu,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,_){for(var x=this.state.formattedGraphicalItems,j=0,O=x.length;j<O;j++){var S=x[j];if(S.item===b||S.props.key===b.key||w===qt(S.item.type)&&_===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,_=w.left,x=w.top,j=w.height,O=w.width;return E.createElement("defs",null,E.createElement("clipPath",{id:b},E.createElement("rect",{x:_,y:x,height:j,width:O})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,_){var x=y0(_,2),j=x[0],O=x[1];return B(B({},w),{},re({},j,O.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,_){var x=y0(_,2),j=x[0],O=x[1];return B(B({},w),{},re({},j,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,_=w.formattedGraphicalItems,x=w.activeItem;if(_&&_.length)for(var j=0,O=_.length;j<O;j++){var S=_[j],P=S.props,N=S.item,M=N.type.defaultProps!==void 0?B(B({},N.type.defaultProps),N.props):N.props,k=qt(N.type);if(k==="Bar"){var C=(P.data||[]).find(function(L){return ZD(b,L)});if(C)return{graphicalItem:S,payload:C}}else if(k==="RadialBar"){var R=(P.data||[]).find(function(L){return rg(b,L)});if(R)return{graphicalItem:S,payload:R}}else if(Fi(S,x)||$i(S,x)||Ya(S,x)){var T=YI({graphicalItem:S,activeTooltipItem:x,itemData:M.data}),I=M.activeIndex===void 0?T:M.activeIndex;return{graphicalItem:B(B({},S),{},{childIndex:I}),payload:Ya(S,x)?M.data[T]:S.props.data[T]}}}return null}},{key:"render",value:function(){var b=this;if(!dh(this))return null;var w=this.props,_=w.children,x=w.className,j=w.width,O=w.height,S=w.style,P=w.compact,N=w.title,M=w.desc,k=v0(w,V4),C=me(k,!1);if(P)return E.createElement(Tb,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(Cc,Hn({},C,{width:j,height:O,title:N,desc:M}),this.renderClipPath(),ph(_,this.renderMap)));if(this.props.accessibilityLayer){var R,T;C.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,C.role=(T=this.props.role)!==null&&T!==void 0?T:"application",C.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},C.onFocus=function(){b.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return E.createElement(Tb,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",Hn({className:ve("recharts-wrapper",x),style:B({position:"relative",cursor:"default",width:j,height:O},S)},I,{ref:function(L){b.container=L}}),E.createElement(Cc,Hn({},C,{width:j,height:O,title:N,desc:M,style:i5}),this.renderClipPath(),ph(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);re(m,"displayName",t),re(m,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),re(m,"getDerivedStateFromProps",function(h,g){var b=h.dataKey,w=h.data,_=h.children,x=h.width,j=h.height,O=h.layout,S=h.stackOffset,P=h.margin,N=g.dataStartIndex,M=g.dataEndIndex;if(g.updateId===void 0){var k=S0(h);return B(B(B({},k),{},{updateId:0},p(B(B({props:h},k),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:j,prevLayout:O,prevStackOffset:S,prevMargin:P,prevChildren:_})}if(b!==g.prevDataKey||w!==g.prevData||x!==g.prevWidth||j!==g.prevHeight||O!==g.prevLayout||S!==g.prevStackOffset||!fn(P,g.prevMargin)){var C=S0(h),R={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},T=B(B({},_0(g,w,O)),{},{updateId:g.updateId+1}),I=B(B(B({},C),R),T);return B(B(B({},I),p(B({props:h},I),g)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:j,prevLayout:O,prevStackOffset:S,prevMargin:P,prevChildren:_})}if(!kc(_,g.prevChildren)){var L,F,D,V,Z=lt(_,An),G=Z&&(L=(F=Z.props)===null||F===void 0?void 0:F.startIndex)!==null&&L!==void 0?L:N,A=Z&&(D=(V=Z.props)===null||V===void 0?void 0:V.endIndex)!==null&&D!==void 0?D:M,K=G!==N||A!==M,Q=!ye(w),Y=Q&&!K?g.updateId:g.updateId+1;return B(B({updateId:Y},p(B(B({props:h},g),{},{updateId:Y,dataStartIndex:G,dataEndIndex:A}),g)),{},{prevChildren:_,dataStartIndex:G,dataEndIndex:A})}return null}),re(m,"renderActiveDot",function(h,g,b){var w;return v.isValidElement(h)?w=v.cloneElement(h,g):de(h)?w=h(g):w=E.createElement(Gg,g),E.createElement($e,{className:"recharts-active-dot",key:b},w)});var y=v.forwardRef(function(h,g){return E.createElement(m,Hn({},h,{ref:g}))});return y.displayName=m.displayName,y},v5=y5({chartName:"BarChart",GraphicalChild:Kr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:Vu}],formatAxisMap:bR});const g5={light:"",dark:".dark"},P0=v.createContext(null);function k0(){const e=v.useContext(P0);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const N0=v.forwardRef(({id:e,className:t,children:r,config:n,...a},o)=>{const i=v.useId(),s=`chart-${e||i.replace(/:/g,"")}`;return f.jsx(P0.Provider,{value:{config:n},children:f.jsxs("div",{"data-chart":s,ref:o,className:H("flex aspect-video justify-center text-xs",t),...a,children:[f.jsx(b5,{id:s,config:n}),f.jsx(qk,{children:r})]})})});N0.displayName="Chart";const b5=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?f.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(g5).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([o,i])=>{var c;const s=((c=i.theme)==null?void 0:c[n])||i.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},x5=Tt,C0=v.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:o=!1,label:i,labelFormatter:s,labelClassName:c,formatter:l,color:u,nameKey:d,labelKey:p},m)=>{const{config:y}=k0(),h=v.useMemo(()=>{var j;if(a||!(t!=null&&t.length))return null;const[b]=t,w=`${p||b.dataKey||b.name||"value"}`,_=Ju(y,b,w),x=!p&&typeof i=="string"?((j=y[i])==null?void 0:j.label)||i:_==null?void 0:_.label;return s?f.jsx("div",{className:H("font-medium",c),children:s(x,t)}):x?f.jsx("div",{className:H("font-medium",c),children:x}):null},[i,s,t,a,c,y,p]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&n!=="dot";return f.jsxs("div",{ref:m,className:H("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:h,f.jsx("div",{className:"grid gap-1.5",children:t.map((b,w)=>{const _=`${d||b.name||b.dataKey||"value"}`,x=Ju(y,b,_),j=u||b.payload.fill||b.color;return f.jsx("div",{className:H("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:l&&(b==null?void 0:b.value)!==void 0&&b.name?l(b.value,b.name,b,w,b.payload):f.jsxs(f.Fragment,{children:[x!=null&&x.icon?f.jsx(x.icon,{}):!o&&f.jsx("div",{className:H("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":g&&n==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),f.jsxs("div",{className:H("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[f.jsxs("div",{className:"grid gap-1.5",children:[g?h:null,f.jsx("span",{className:"text-muted-foreground",children:(x==null?void 0:x.label)||b.name})]}),b.value&&f.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});C0.displayName="ChartTooltip";const w5=v.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},o)=>{const{config:i}=k0();return r!=null&&r.length?f.jsx("div",{ref:o,className:H("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(s=>{const c=`${a||s.dataKey||"value"}`,l=Ju(i,s,c);return f.jsxs("div",{className:H("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[l!=null&&l.icon&&!t?f.jsx(l.icon,{}):f.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),l==null?void 0:l.label]},s.value)})}):null});w5.displayName="ChartLegend";function Ju(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const M0=e=>{const t=["Bytes","KB","MB","GB","TB"];if(e===void 0)return"Unknown size";if(e===0)return"0 Byte";const r=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,r))} ${t[r]}`},j5=v.memo(()=>{const{t:e}=ue("flows"),[t,r]=v.useState(),n=nr(y=>y.cachedLLMURLs),a=rr(y=>y.currentSession),[o,i]=v.useState(),[s,c]=v.useState(""),[l,u]=v.useState(),d=v.useMemo(()=>({nodes:{label:e("session_info_node.entities.nodes"),color:"#2563eb"},edges:{label:e("session_info_node.entities.edges"),color:"#34d399"},threads:{label:e("session_info_node.entities.threads"),color:"#fbbf24"},llms:{label:e("session_info_node.entities.llms"),color:"#f87171"},prompts:{label:e("session_info_node.entities.prompts"),color:"#a78bfa"},tools:{label:e("session_info_node.entities.tools"),color:"#ffcccb"},schemas:{label:e("session_info_node.entities.schemas"),color:"#ffb6c1"},vectorDatabases:{label:e("session_info_node.entities.vector_databases"),color:"#ff69b4"},jsonlDatas:{label:e("session_info_node.entities.jsonl_data"),color:"#ff1493"},csvDatas:{label:e("session_info_node.entities.csv_data"),color:"#db7093"}}),[e]);v.useEffect(()=>{Pr(async()=>{const{functionCallingModelIds:y,prebuiltAppConfig:h}=await import("./index-COgZMq7t.js").then(async g=>(await g.__tla,g));return{functionCallingModelIds:y,prebuiltAppConfig:h}},__vite__mapDeps([0,1,2,3])).then(({functionCallingModelIds:y,prebuiltAppConfig:h})=>{r(n==null?void 0:n.map(g=>{const b=h.model_list.find(w=>g.includes(w.model));if(b)return{model_id:(b==null?void 0:b.model_id)||"",info:b,isFunctionCalling:y.includes((b==null?void 0:b.model_id)||"")}}))})},[n]);const p=v.useCallback(async()=>{navigator.storage.estimate().then(y=>{y&&c(e("session_info_node.used_bytes",{used:M0(y.usage),total:M0(y==null?void 0:y.quota)}))}),a!=null&&a.id&&(Promise.all([oe("FlowNode").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),oe("FlowEdge").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),oe("Thread").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),oe("Prompt").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),oe("LLM").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),oe("Schema").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),oe("ToolDefinition").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),oe("VectorDatabase").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),oe("JSONLData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}}),oe("CSVData").findOne({where:{session_id:a==null?void 0:a.id},order:{updated_at:"DESC"}})]).then(y=>{const h=y.reduce((g,b)=>b!=null&&b.updated_at&&(!g||new Date(b.updated_at)>g)?new Date(b.updated_at):g,a.updated_at?new Date(a.updated_at):void 0);i(h)}),Promise.all([oe("FlowNode").count({where:{session_id:a==null?void 0:a.id}}),oe("FlowEdge").count({where:{session_id:a==null?void 0:a.id}}),oe("Thread").count({where:{session_id:a==null?void 0:a.id}}),oe("Prompt").count({where:{session_id:a==null?void 0:a.id}}),oe("LLM").count({where:{session_id:a==null?void 0:a.id}}),oe("ToolDefinition").count({where:{session_id:a==null?void 0:a.id}}),oe("Schema").count({where:{session_id:a==null?void 0:a.id}}),oe("VectorDatabase").count({where:{session_id:a==null?void 0:a.id}}),oe("JSONLData").count({where:{session_id:a==null?void 0:a.id}}),oe("CSVData").count({where:{session_id:a==null?void 0:a.id}})]).then(([y,h,g,b,w,_,x,j,O,S])=>{u([{name:e("session_info_node.count_info.title"),nodes:y||0,edges:h||0,threads:g||0,prompts:b||0,llms:w||0,tools:_||0,schemas:x||0,vectorDatabases:j||0,jsonlDatas:O||0,csvDatas:S||0}])}))},[a==null?void 0:a.id,a==null?void 0:a.updated_at,e]),m=v.useCallback(()=>{p()},[p]);return v.useEffect(()=>{p()},[p]),f.jsx("div",{children:f.jsx("div",{children:f.jsxs(He,{className:"w-96",children:[f.jsxs(it,{children:[f.jsx(pt,{children:e("session_info_node.title")}),f.jsx(mf,{children:o||a!=null&&a.updated_at?BB(o||(a==null?void 0:a.updated_at)).fromNow():""})]}),f.jsxs(st,{className:"grid gap-4",children:[f.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsx("p",{className:"text-sm font-medium leading-none",children:e("session_info_node.disk_size")}),f.jsx("p",{className:"text-sm text-muted-foreground",children:s})]})}),f.jsx("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsxs("div",{className:"text-sm font-medium leading-none",children:[e("session_info_node.cached_llms"),f.jsx(Te,{className:"ml-2",children:(t==null?void 0:t.length)||0})]}),t==null?void 0:t.map(y=>{var h,g;return f.jsxs("div",{className:"text-sm text-muted-foreground gap-1",children:[y==null?void 0:y.model_id,y!=null&&y.model_id&&(y!=null&&y.isFunctionCalling)?f.jsx(Te,{className:"ml-1",variant:"outline",children:e("session_info_node.function_calling")}):null,(h=y==null?void 0:y.info)!=null&&h.vram_required_MB?f.jsxs(Te,{className:"ml-1",variant:"outline",children:["VRAM: ",y.info.vram_required_MB.toLocaleString("en-US")," MB"]}):null,(g=y.info)!=null&&g.low_resource_required?f.jsx(Te,{className:"ml-1",variant:"default",children:e("session_info_node.low_resource_required")}):null]},y==null?void 0:y.model_id)})]})}),f.jsx("div",{children:f.jsx(N0,{config:d,className:"min-h-28 w-full",children:f.jsxs(v5,{accessibilityLayer:!0,data:l,children:[f.jsx(a0,{vertical:!1}),f.jsx(as,{dataKey:"name",tickLine:!1,tickMargin:10,axisLine:!1}),f.jsx(x5,{content:f.jsx(C0,{})}),Object.entries(d).map(([y,h])=>f.jsx(Kr,{dataKey:y,fill:h.color,radius:4},y))]})})})]}),f.jsx(ir,{children:f.jsxs(Se,{className:"w-full",onClick:m,children:[f.jsx(ee,{size:24,name:"refresh-ccw"}),e("session_info_node.reload")]})})]})})})}),O5=e=>{const t=(r,n=null)=>{let a=`{
`;return r.filter(o=>o.parent_id===n).forEach(o=>{if(o.type==="object"){const i=e.filter(c=>c.parent_id===o.id),s=t(i,o.id);a+=`  ${o.name}${o.required?"":"?"}: ${s}
`}else a+=`  // ${o.description||""}
  ${o.name}${o.required?"":"?"}: ${o.type};
`}),a+="}",a};return t(e)},_5=e=>{const t=(n,a=null)=>{let o="";return n.filter(i=>i.parent_id===a).forEach(i=>{if(i.type==="object"){const s=t(n,i.id);o+=`    ${i.name}: z.object({
${s}    })${i.required?"":".optional()"}.describe('${i.description||""}'),
`}else o+=`    ${i.name}: z.${i.type}()${i.required?"":".optional()"}.describe('${i.description||""}'),
`}),o};let r=`const schema = z.object({
`;return r+=t(e),r+="});",r};var Qu="Tabs",[S5,sF]=Gn(Qu,[Jn]),A0=Jn(),[E5,ed]=S5(Qu),T0=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:s,activationMode:c="automatic",...l}=e,u=so(s),[d,p]=Mt({prop:n,onChange:a,defaultProp:o});return f.jsx(E5,{scope:r,baseId:rt(),value:d,onValueChange:p,orientation:i,dir:u,activationMode:c,children:f.jsx(fe.div,{dir:u,"data-orientation":i,...l,ref:t})})});T0.displayName=Qu;var D0="TabsList",I0=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=ed(D0,r),i=A0(r);return f.jsx(bd,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:f.jsx(fe.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});I0.displayName=D0;var R0="TabsTrigger",L0=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,i=ed(R0,r),s=A0(r),c=F0(i.baseId,n),l=$0(i.baseId,n),u=n===i.value;return f.jsx(xd,{asChild:!0,...s,focusable:!a,active:u,children:f.jsx(fe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:le(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:le(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:le(e.onFocus,()=>{const d=i.activationMode!=="manual";!u&&!a&&d&&i.onValueChange(n)})})})});L0.displayName=R0;var B0="TabsContent",z0=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=e,s=ed(B0,r),c=F0(s.baseId,n),l=$0(s.baseId,n),u=n===s.value,d=v.useRef(u);return v.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(ms,{present:a||u,children:({present:p})=>f.jsx(fe.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:l,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:p&&o})})});z0.displayName=B0;function F0(e,t){return`${e}-trigger-${t}`}function $0(e,t){return`${e}-content-${t}`}var P5=T0,U0=I0,V0=L0,H0=z0;const q0=P5,td=v.forwardRef(({className:e,...t},r)=>f.jsx(U0,{ref:r,className:H("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));td.displayName=U0.displayName;const Wn=v.forwardRef(({className:e,...t},r)=>f.jsx(V0,{ref:r,className:H("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Wn.displayName=V0.displayName;const Xn=v.forwardRef(({className:e,...t},r)=>f.jsx(H0,{ref:r,className:H("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Xn.displayName=H0.displayName;const k5=e=>{const t=v.useCallback(async({edgeId:r})=>{try{return{deleteEdgeId:r}}catch{return{deleteEdgeId:r}}},[]);mt(e,t)},N5=v.memo(e=>{var c,l;const{t}=ue("flows"),{id:r,data:n,isConnectable:a}=e,o=v.useRef(!1),i=tt(r),s=pe(u=>u.updateNodes);return k5(r),v.useEffect(()=>{var d;const u=n==null?void 0:n.entity;!u||!i||o.current||(d=u==null?void 0:u.schema_items)!=null&&d.length||n.loaded||(o.current=!0,oe("SchemaItem").find({where:{schema_id:u.id}}).then(p=>{s([{id:i.id,type:"replace",item:{...i,data:{...(i==null?void 0:i.data)||{},loaded:!0,entity:{...n.entity,schema_items:p}}}}])}).finally(()=>{o.current=!1}))},[n.entity,n.loaded,i,s]),f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsx(ht,{id:r}),f.jsxs(q0,{defaultValue:"account",className:"w-[400px]",children:[f.jsxs(td,{className:"grid w-full grid-cols-2",children:[f.jsx(Wn,{value:"account",children:t("schema_node.typescript")}),f.jsx(Wn,{value:"password",children:t("schema_node.zod")})]}),f.jsx(Xn,{value:"account",children:f.jsx(He,{className:"p-4",children:f.jsx("pre",{children:O5(((c=n==null?void 0:n.entity)==null?void 0:c.schema_items)||[])})})}),f.jsx(Xn,{value:"password",children:f.jsx(He,{className:"p-4",children:f.jsx("pre",{children:_5(((l=n==null?void 0:n.entity)==null?void 0:l.schema_items)||[])})})})]})]}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:a})]})}),W0=({className:e,...t})=>f.jsx("nav",{role:"navigation","aria-label":"pagination",className:H("mx-auto flex w-full justify-center",e),...t});W0.displayName="Pagination";const X0=v.forwardRef(({className:e,...t},r)=>f.jsx("ul",{ref:r,className:H("flex flex-row items-center gap-1",e),...t}));X0.displayName="PaginationContent";const Kn=v.forwardRef(({className:e,...t},r)=>f.jsx("li",{ref:r,className:H("",e),...t}));Kn.displayName="PaginationItem";const us=({className:e,isActive:t,size:r="icon",...n})=>f.jsx("a",{"aria-current":t?"page":void 0,className:H(Yz({variant:t?"outline":"ghost",size:r}),e),...n});us.displayName="PaginationLink";const K0=({className:e,...t})=>{const{t:r}=ue("atoms");return f.jsxs(us,{"aria-label":"Go to previous page",size:"default",className:H("gap-1 pl-2.5",e),...t,children:[f.jsx(ee,{name:"chevron-left",className:"h-4 w-4"}),f.jsx("span",{children:r("pagination.previous")})]})};K0.displayName="PaginationPrevious";const G0=({className:e,...t})=>{const{t:r}=ue("atoms");return f.jsxs(us,{"aria-label":"Go to next page",size:"default",className:H("gap-1 pr-2.5",e),...t,children:[f.jsx("span",{children:r("pagination.next")}),f.jsx(ee,{name:"chevron-right",className:"h-4 w-4"})]})};G0.displayName="PaginationNext";const rd=({className:e,...t})=>{const{t:r}=ue("atoms");return f.jsxs("span",{"aria-hidden":!0,className:H("flex h-9 w-9 items-center justify-center",e),...t,children:[f.jsx(ee,{name:"ellipsis",className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:r("pagination.more_pages")})]})};rd.displayName="PaginationEllipsis";const Y0=v.memo(e=>{const{data:t,headers:r,limitLengthByColumns:n,showPerPage:a=7,paginationShowLimit:o=1,contentLengthLimit:i=64}=e,[s,c]=v.useState({page:1,maxPage:1}),l=oo(nh);v.useEffect(()=>{c(m=>({...m,maxPage:Math.ceil(t.length/a)}))},[t.length,a]);const u=v.useMemo(()=>t.slice((s.page-1)*a,s.page*a),[t,s.page,a]),d=v.useMemo(()=>{let m=!1,y=!1;return f.jsx(W0,{className:"mt-4 mb-4 ml-4 mr-4 w-full",children:f.jsxs(X0,{children:[s.page>1?f.jsx(Kn,{onClick:()=>c(h=>({...h,page:h.page-1})),children:f.jsx(K0,{})}):null,Array.from({length:s.maxPage},(h,g)=>{const b=g+1,w=g===0||g===s.maxPage-1;return!w&&b>s.page+o&&y?null:!w&&b>s.page+o?(y=!0,f.jsx(Kn,{children:f.jsx(rd,{})},g)):!w&&b<s.page-o&&m?null:!w&&b<s.page-o?(m=!0,f.jsx(Kn,{children:f.jsx(rd,{})},g)):f.jsx(Kn,{onClick:()=>c(_=>({..._,page:b})),children:f.jsx(us,{isActive:g+1===s.page,children:g+1})},g)}),s.page<s.maxPage?f.jsx(Kn,{onClick:()=>c(h=>({...h,page:h.page+1})),children:f.jsx(G0,{})}):null]})})},[s.maxPage,s.page,o]),p=(m,y)=>{if(!m)return;const h=Array.isArray(m)?m:r.map(g=>m[g]);return f.jsxs(Dr,{children:[f.jsx(ln,{children:f.jsx("div",{className:"font-bold",children:y+1})}),h.map((g,b)=>{const w=typeof g=="string"?g:JSON.stringify(g),_=r[b],x=(n==null?void 0:n[_])||i,j=w.length>x;return f.jsx(ln,{className:"p-4",children:f.jsxs("div",{onClick:j?()=>l.show({title:_,content:w}):void 0,className:"flex gap-4",children:[j?`${w.substring(0,x)}...`:w,j?f.jsx(ee,{className:"w-6 mt-[-2px]",name:"chevron-right"}):null]})},`${b}`)})]},`${y}`)};return f.jsxs(f.Fragment,{children:[f.jsxs(wo,{className:"w-full",children:[f.jsx(jo,{children:f.jsxs(Dr,{children:[f.jsx(cn,{},"index"),r?r.map(m=>f.jsx(cn,{children:f.jsx("div",{className:"font-bold",children:m})},m)):void 0]})}),f.jsx(Oo,{children:u!=null&&u.length?u==null?void 0:u.map(p):void 0})]}),d]})}),C5=v.memo(e=>{var o,i;const{id:t,data:r,isConnectable:n}=e,a=v.useMemo(()=>{if(!(r!=null&&r.entity))return{headers:[],rows:[]};const s=bx(r.entity.csv);return{headers:dd(r.entity.headers),rows:s.map(c=>dd(c))}},[r==null?void 0:r.entity]);return f.jsxs("div",{children:[f.jsx(Oe,{type:"target",position:we.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(ht,{id:t}),f.jsxs(He,{className:"min-w-32 min-h-16 p-4",children:[f.jsx(it,{className:"!p-0",children:f.jsxs("div",{className:"pt-2 flex !flex-row",children:[f.jsx(ee,{name:"file-spreadsheet",className:"mr-2"}),f.jsxs(je,{className:"!font-medium leading-none tracking-tight pr-8",children:[$.CSVData," ",(o=a==null?void 0:a.rows)!=null&&o.length?`(${((i=a==null?void 0:a.rows)==null?void 0:i.length)||0})`:""]})]})}),f.jsx(st,{className:"pb-0",children:f.jsx(Y0,{data:a.rows,headers:a.headers})})]})]}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:n})]})}),M5=e=>{const t=pe(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.Schema&&(o==null?void 0:o.type)===$.ToolDefinition){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);mt(e,r)},A5=v.memo(({id:e,data:t,isConnectable:r})=>{var n,a;return M5(e),f.jsxs("div",{children:[f.jsx(Oe,{type:"target",position:we.Top,isConnectable:r}),f.jsx("div",{children:f.jsxs(pr,{className:"flex justify-center",children:[f.jsx(ee,{size:24,name:"wrench"}),f.jsxs("div",{className:"ml-2",children:[f.jsx(hr,{children:`${((n=t.entity)==null?void 0:n.name)||""}`}),f.jsx(sa,{children:`${((a=t.entity)==null?void 0:a.description)||""}`})]})]})}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:r})]})}),T5=e=>{const t=v.useCallback(async({edgeId:r})=>({deleteEdgeId:r}),[]);mt(e,t)},D5=v.memo(e=>{const{id:t,data:r,isConnectable:n}=e;return T5(t),f.jsxs("div",{children:[f.jsx(Oe,{type:"target",position:we.Top,isConnectable:n}),f.jsx("div",{children:f.jsxs(pr,{className:"flex justify-center max-w-80",variant:"default",children:[f.jsx(ee,{size:24,name:"chart-scatter"}),f.jsx("div",{className:"ml-2 pr-4",children:f.jsx(hr,{children:`${r.model||""}`})})]})}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:n})]})});class I5{async loadAndSplit(t){if(t===void 0)throw new Error("You must pass a text splitter to use this method.");const r=await this.load();return t.invoke(r)}}class R5 extends I5{constructor(t,{splitPages:r=!0,pdfjs:n=L5,parsedItemSeparator:a=""}={}){super(),Object.defineProperty(this,"blob",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"splitPages",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"pdfjs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parsedItemSeparator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.blob=t,this.splitPages=r??this.splitPages,this.pdfjs=n,this.parsedItemSeparator=a}async load(){const{getDocument:t,version:r}=await this.pdfjs(),n=await t({data:new Uint8Array(await this.blob.arrayBuffer()),useWorkerFetch:!1,isEvalSupported:!1,useSystemFonts:!0}).promise,a=await n.getMetadata().catch(()=>null),o=[];for(let i=1;i<=n.numPages;i+=1){const s=await(await n.getPage(i)).getTextContent();if(s.items.length===0)continue;let c;const l=[];for(const d of s.items)"str"in d&&(c===d.transform[5]||!c?l.push(d.str):l.push(`
${d.str}`),c=d.transform[5]);const u=l.join(this.parsedItemSeparator);o.push(new vs({pageContent:u,metadata:{pdf:{version:r,info:a==null?void 0:a.info,metadata:a==null?void 0:a.metadata,totalPages:n.numPages},loc:{pageNumber:i}}}))}return this.splitPages?o:o.length===0?[]:[new vs({pageContent:o.map(i=>i.pageContent).join(`

`),metadata:{pdf:{version:r,info:a==null?void 0:a.info,metadata:a==null?void 0:a.metadata,totalPages:n.numPages}}})]}}async function L5(){try{const{default:e}=await Pr(async()=>{const{default:n}=await import("./pdf-D7Kjwexy.js").then(async a=>(await a.__tla,a)).then(a=>a.p);return{default:n}},__vite__mapDeps([7,2,3])),{getDocument:t,version:r}=e;return{getDocument:t,version:r}}catch(e){throw console.error(e),new Error("Failed to load pdf-parse. Please install it with eg. `npm install pdf-parse`.")}}const B5=`Use the following pieces of context to answer the question at the end.
If you don't know the answer, just say that you don't know, don't try to make up an answer.
Use three sentences maximum and keep the answer as concise as possible.

{context}
`,z5=gx(e=>{const{source:t,documents:r}=e,n=oo(),{t:a}=ue("dialogs"),{loading:o,createPrompt:i}=Ep(),s=async c=>{if(!c.content)return;const l=c.content.replace("{context}",r.map(u=>`<document>${u.pageContent}</document>`).join(`
`));await i(t,{...c,content:l})};return f.jsx(Bx,{open:n.visible,onOpenChange:n.hide,children:f.jsxs(zx,{className:"sm:max-w-[425px]",children:[f.jsx(Fx,{children:f.jsxs("div",{className:"flex",children:[f.jsx(ee,{name:"file",className:"mr-2 h-4 w-4"}),f.jsx($x,{children:a("create_vector_database_prompt.title")})]})}),f.jsxs("div",{className:"flex gap-4 py-4 flex-col",children:[f.jsx(Pp,{onSubmit:s,loading:o,hidePromptType:!0,defaultPromptRole:"system",defaultPromptContent:B5}),f.jsxs("div",{className:"w-full border-0 text-gray-700 flex text-sm items-center",children:[f.jsx(ee,{name:"info",className:"mr-2",size:14}),a("create_vector_database_prompt.fill_content_note")]})]})]})})}),F5=e=>{const t=pe(a=>a.createOrUpdateFlowEdge),r=fd(a=>a.index),n=v.useCallback(async({edgeId:a,target:o,source:i})=>{var s,c;try{const l=(s=o==null?void 0:o.data)==null?void 0:s.entity;if((i==null?void 0:i.type)===$.CSVData&&(o==null?void 0:o.type)===$.VectorDatabase){const u=(c=i==null?void 0:i.data)==null?void 0:c.entity;if(!u||!l)return{deleteEdgeId:a};const{rows:d}=vx(u.headers,u.csv),p=d.map(m=>new vs({pageContent:`${m.text}`}));await r({databaseId:l.id,dataSourceId:u.id,dataSourceType:"CSVData"},p),await t({source:i.id,target:o.id});return}return{deleteEdgeId:a}}catch{return{deleteEdgeId:a}}},[t,r]);mt(e,n)};var $5=Cs,U5=rn,V5=Pb,H5=Math.ceil,q5=Math.max;function W5(e,t,r){(r?U5(e,t,r):t===void 0)?t=1:t=q5(V5(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,o=0,i=Array(H5(n/t));a<n;)i[o++]=$5(e,a,a+=t);return i}var X5=W5;const K5=ke(X5),G5=e=>{var m,y;const[t,r]=v.useState(!1),{t:n}=ue("flows"),{toast:a}=Bt(),o=tt(e),{getNode:i,getHandleConnections:s}=tn(),c=pe(h=>h.updateNodes),l=fd(h=>h.index),u=fd(h=>h.similaritySearchWithScore),d=v.useCallback(async(h,g)=>{var b,w,_;try{const x=(b=o==null?void 0:o.data)==null?void 0:b.entity;if(!x){a({title:n("vector_database_node.errors.vector_database_not_found")});return}const j=(_=(w=s({nodeId:e,type:"target"}).map(O=>i(O.source)).find(O=>(O==null?void 0:O.type)&&[$.JSONLData,$.CSVData].includes(O==null?void 0:O.type)))==null?void 0:w.data)==null?void 0:_.entity;if(!j&&x.storage==="DataNode"){a({title:n("vector_database_node.errors.data_node_not_found")});return}return r(!0),await u({databaseId:x.id,dataSourceId:j.id,dataSourceType:xx(j)},h,g==null?void 0:g.k)}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[(m=o==null?void 0:o.data)==null?void 0:m.entity,s,e,u,a,n,i]),p=v.useCallback(async(h,g)=>{var b,w,_;try{const x=h.content?[new vs({pageContent:h.content,id:h.id,metadata:{id:h.id}})]:h.documents;if(!(x!=null&&x.length)){a({title:n("vector_database_node.errors.content_not_found")});return}const j=(b=o==null?void 0:o.data)==null?void 0:b.entity;if(!j){a({title:n("vector_database_node.errors.vector_database_not_found")});return}const O=s({nodeId:e,type:"target"}).map(k=>i(k.source)).find(k=>(k==null?void 0:k.type)&&[$.JSONLData,$.CSVData].includes(k==null?void 0:k.type)),S=(w=O==null?void 0:O.data)==null?void 0:w.entity;if(!S&&j.storage==="DataNode"){a({title:n("vector_database_node.errors.data_node_not_found")});return}r(!0);const P=xx(S),N=K5(x,10);let M=0;for(const k of N){if((_=g==null?void 0:g.onProgressReport)==null||_.call(g,{handling:k.length,handled:M,total:x.length}),await l({databaseId:j.id,dataSourceId:S.id,dataSourceType:P},k),P&&O){const C=await oe(P).findOne({where:{id:S.id}});c([{type:"replace",id:O.id,item:{...O,data:{...O.data,entity:C}}}])}M+=k.length}}catch{a({variant:"destructive",title:n("vector_database_node.errors.similarity_search_failed")})}finally{r(!1)}},[(y=o==null?void 0:o.data)==null?void 0:y.entity,s,e,l,a,n,i,c]);return{loading:t,indexData:p,similaritySearchWithScore:d}},Y5=[1,2,3,4,5,6,7,8,9,10],Z5=v.memo(e=>{const{t}=ue("flows"),[r,n]=v.useState(""),[a,o]=v.useState([]),[i,s]=v.useState("1"),{loading:c,onSimilaritySearch:l,onCreatePrompt:u}=e,d=async()=>{o(await l(r,+i)),n("")},p=async m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),d())};return f.jsxs("div",{className:"mt-4",children:[f.jsx("div",{className:"bg-black/5 dark:bg-white/5 rounded-xl relative",children:f.jsxs("div",{className:"relative px-2 py-1 pb-2",children:[f.jsxs(ur,{value:`${i}`,onValueChange:m=>s(m),children:[f.jsx(zt,{className:"absolute left-0 !w-14 top-[2px] rounded-xl bg-transparent border-none focus:outline-none focus:ring-0 focus:border-opacity-0 focus:ring-transparent",children:f.jsx(dr,{placeholder:t("vector_database_node.k_select_placeholder")})}),f.jsx(Ft,{children:Y5.map(m=>f.jsx(ct,{value:`${m}`,children:m},`${m}`))})]}),f.jsx($t,{value:r,disabled:c,placeholder:t("vector_database_node.similarity_search_placeholder"),className:H("w-full rounded-xl px-2 pl-11 border-none resize-none bg-transparent","min-h-8 max-h-8"),onKeyDown:p,onChange:m=>{n(m.target.value)}}),f.jsx("button",{type:"button",disabled:c,onClick:d,className:"absolute right-3 top-5 -translate-y-1/2 rounded-xl bg-black/5 dark:bg-white/5 p-1",children:f.jsx(ee,{name:c?"loader-circle":"arrow-right",className:H("w-4 h-4 dark:text-white",r?"opacity-100":"opacity-30",c?"animate-spin":"")})})]})}),f.jsx($p,{type:"single",collapsible:!0,children:a==null?void 0:a.map(([m,y],h)=>f.jsxs(dc,{value:`${h}`,children:[f.jsxs(fc,{children:[`[${y.toFixed(2)}] ${m.pageContent}`.substring(0,32),"..."]}),f.jsx(pc,{children:f.jsx("pre",{children:m.pageContent})})]},`${h}`))}),a!=null&&a.length&&u?f.jsx(Se,{disabled:c,onClick:()=>u(a),className:"w-full",children:t("vector_database_node.create_prompt")}):void 0]})}),J5=v.memo(({loading:e,onCreateData:t})=>{const{t:r}=ue("flows"),[n,a]=v.useState(""),[o,i]=v.useState(""),s=async()=>{o&&(await t({id:n,content:o}),a(""),i(""))};return f.jsxs("div",{className:"min-w-80",children:[f.jsxs("div",{className:"flex flex-col space-y-1.5 mt-3",children:[f.jsx(je,{htmlFor:"name",children:r("vector_database_node.add_text.id")}),f.jsx(ar,{value:n,disabled:e,onChange:c=>a(c.target.value||""),placeholder:r("vector_database_node.add_text.id_placeholder"),className:"mb-4"}),f.jsxs(je,{htmlFor:"name",children:[r("vector_database_node.add_text.content")," ",f.jsx("span",{className:"text-red-600",children:"*"})]}),f.jsx($t,{value:o,disabled:e,onChange:c=>i(c.target.value||""),placeholder:r("vector_database_node.add_text.content_placeholder")})]}),f.jsx("div",{className:"flex justify-between mt-6",children:f.jsx(Se,{onClick:s,disabled:e||!(o!=null&&o.length),className:"w-full",children:e?f.jsx(ee,{name:"loader-circle",className:"animate-spin"}):r("vector_database_node.add_text.add")})})]})});function Q5({accept:e,maxSize:t}){const{t:r}=ue("atoms"),[n,a]=v.useState(""),[o,i]=v.useState(""),s=v.useRef(null),[c,l]=v.useState(0),u=p=>{var y;const m=(y=p.target.files)==null?void 0:y[0];d(m)},d=p=>{if(i(""),p){if(t&&p.size>t*1024*1024){i(r("file_upload_input.errors.max_size",{maxSize:t,fileSize:(p.size/1024/1024).toFixed(2)}));return}const m=e==null?void 0:e.split(",").map(y=>y.replace(".","").trim());if(e&&!p.type.match(e.replace("/*","/"))&&!(m!=null&&m.some(y=>p.type.includes(y)))){i(r("file_upload_input.errors.accept",{accept:e}));return}return l(p.size),a(p.name),p}};return{fileName:n,error:o,fileInputRef:s,handleFileSelect:u,validateAndSetFile:d,clearFile:()=>{a(""),i(""),l(0),s.current&&(s.current.value="")},fileSize:c}}function eB({file:e,setFile:t,loading:r,progress:n,fileOptions:a}){const{t:o}=ue("atoms"),[i,s]=v.useState(!1),{fileName:c,fileInputRef:l,clearFile:u,error:d,validateAndSetFile:p,fileSize:m}=Q5({accept:(a==null?void 0:a.accept)||"image/*",maxSize:(a==null?void 0:a.maxSize)||3});v.useEffect(()=>{e||u()},[u,e]);function y(_){const x=p(_);x&&t(x)}function h(_){_.preventDefault(),s(!1);const x=_.dataTransfer.files[0];x&&y(x)}function g(_){var j;const x=(j=_.target.files)==null?void 0:j[0];x&&y(x)}function b(){u(),t(void 0)}const w=v.useMemo(()=>{if(!e)return f.jsx("div",{className:"w-16 h-16 rounded-lg bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center",children:f.jsx(ee,{name:"file-text",className:"w-8 h-8 text-zinc-400"})});const _=e.type.startsWith("image/");return f.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden",children:_?f.jsx("img",{src:URL.createObjectURL(e),alt:"Preview",className:"w-full h-full object-cover"}):f.jsx(ee,{className:"w-14 h-14",name:"file-text"})})},[e]);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:H("relative group cursor-pointer","rounded-lg border-2 border-dashed","transition-colors duration-200",i?"border-indigo-500 bg-indigo-50/50 dark:bg-indigo-500/10":"border-zinc-200 dark:border-zinc-800"),onDragOver:_=>{_.preventDefault(),s(!0)},onDragLeave:()=>s(!1),onDrop:h,onClick:()=>{var _;return(_=l.current)==null?void 0:_.click()},onKeyDown:_=>{var x;(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),(x=l.current)==null||x.click())},"aria-label":"Upload file",children:[f.jsx("input",{ref:l,type:"file",accept:(a==null?void 0:a.accept)||"image/*",onChange:g,className:"hidden"}),f.jsx("div",{className:"p-8 space-y-4",children:c?f.jsxs("div",{className:"flex items-center gap-4",children:[w,f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:"text-sm font-medium truncate",children:[c||"No file selected"," ",f.jsx("span",{className:"text-xs text-zinc-500 leading-5",children:m?`(${(m/1024/1024).toFixed(2)} MB)`:""})]}),n&&n<1?f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsxs("p",{children:[(n*100).toFixed(2)," %"]}),f.jsx("div",{className:"h-1 flex-1 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden items-center flex",children:f.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-200",style:{width:`${n*100}%`}})})]}):void 0]}),f.jsx("button",{type:"button",disabled:r||!!(n&&n<1),onClick:_=>{_.stopPropagation(),b()},className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded",children:f.jsx(ee,{name:"x",className:"w-5 h-5 text-zinc-400"})}),n&&n<1?f.jsx(mc,{className:"rounded-lg"}):void 0]}):f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(ee,{name:"upload",className:"w-8 h-8 text-zinc-400 dark:text-zinc-500"}),f.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:o("file_upload_input.drop_file")})]})})]}),d?f.jsx("p",{className:"text-red-500",children:d}):void 0]})}function tB({onFileSubmit:e,fileOptions:t,progress:r,loading:n}){const{t:a}=ue("flows"),[o,i]=v.useState(),s=async()=>{o&&(await e(o),i(void 0))};return f.jsxs("div",{className:"w-full max-w-md space-y-2 mt-4",children:[f.jsx("div",{className:"mb-6",children:f.jsx(eB,{progress:r,loading:n,fileOptions:t,setFile:i,file:o})}),f.jsx(Se,{disabled:!o||n,onClick:s,className:"w-full mt-4",children:n||r&&r<1?f.jsx(ee,{name:"loader-circle",className:"animate-spin"}):a("vector_database_node.add_file.upload")})]})}const rB=v.memo(e=>{var _;const{t}=ue("flows"),[r,n]=v.useState(0),[a,o]=v.useState("search"),i=tt(e.id),{id:s,data:c,isConnectable:l}=e,{loading:u,similaritySearchWithScore:d,indexData:p}=G5(s),m=oo(z5);F5(s);const y=v.useCallback(async(...x)=>{i&&await p(...x)},[p,i]),h=v.useCallback(async(x,j)=>{const O=x.trim(),S=await d(O,{k:j});if(S!=null&&S.length)return S},[d]),g=v.useCallback(x=>{m.show({source:i,documents:x.map(([j])=>j)})},[m,i]),b=v.useCallback(async x=>{if(x.type.endsWith("text")){const j=new FileReader;j.onload=async O=>{var P;const S=(P=O.target)==null?void 0:P.result;await y({content:S})},j.readAsText(x)}else if(x.type.endsWith("pdf")){const j=new Blob([x],{type:"application/pdf"}),O=await new R5(j,{pdfjs:async()=>{const S=await Pr(()=>import("./pdf.min-BXjMnVAy.js").then(async P=>(await P.__tla,P)),__vite__mapDeps([8,2,3,1]));return await Pr(()=>import("./pdf.worker.min-CV_ZpyL5.js").then(async P=>(await P.__tla,P)),__vite__mapDeps([9,1,2,3])),S.GlobalWorkerOptions.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString(),S},parsedItemSeparator:" "}).load();await y({documents:O},{onProgressReport:S=>{n((S.handled+S.handling)/S.total)}})}},[y]),w=v.useMemo(()=>{switch(a){case"search":return f.jsx(Xn,{value:"search",children:f.jsx(Z5,{loading:u,onSimilaritySearch:h,onCreatePrompt:g})});case"new":return f.jsx(Xn,{className:"min-w-80",value:"new",children:f.jsx(J5,{loading:u,onCreateData:y})});case"file":return f.jsx(Xn,{value:"file",children:f.jsx(tB,{loading:u,progress:r,onFileSubmit:b,fileOptions:{accept:".pdf,.txt",maxSize:5}})})}},[y,g,b,h,u,a,r]);return f.jsxs("div",{className:"min-w-64",children:[f.jsx(Oe,{type:"target",position:we.Top,isConnectable:l}),f.jsxs("div",{children:[f.jsx(ht,{id:s}),f.jsxs(pr,{className:"flex justify-center",variant:"default",children:[f.jsx(ee,{size:24,name:"database-zap"}),f.jsxs("div",{className:"ml-2",children:[f.jsx(hr,{children:`${((_=c.entity)==null?void 0:_.name)||""}`}),f.jsxs(q0,{value:a,onValueChange:o,defaultValue:"search",className:"w-full mt-4",children:[f.jsxs(td,{className:"grid w-full grid-cols-3",children:[f.jsx(Wn,{value:"search",children:t("vector_database_node.search")}),f.jsx(Wn,{value:"new",children:t("vector_database_node.text")}),f.jsx(Wn,{value:"file",children:t("vector_database_node.file")})]}),w]})]})]})]}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:l})]})}),nB={embedding:32},aB=v.memo(e=>{var o,i,s;const{id:t,data:r,isConnectable:n}=e,a=v.useMemo(()=>{var u;if(!((u=r==null?void 0:r.entity)!=null&&u.jsonl))return{headers:[],rows:[]};const c=dd(r.entity.headers||""),l=bx(r.entity.jsonl);return{headers:c,rows:l.map(d=>{try{return JSON.parse(d)}catch{return[]}})}},[(o=r==null?void 0:r.entity)==null?void 0:o.jsonl,r.entity.headers]);return f.jsxs("div",{className:"min-w-80",children:[f.jsx(Oe,{type:"target",position:we.Top,isConnectable:n}),f.jsxs("div",{children:[f.jsx(ht,{id:t}),f.jsxs(He,{className:"min-w-32 min-h-16 p-4",children:[f.jsx(it,{className:"!p-0",children:f.jsxs("div",{className:"pt-2 flex !flex-row",children:[f.jsx(ee,{name:"file-json",className:"mr-2"}),f.jsxs(je,{className:"!font-medium leading-none tracking-tight pr-8",children:[$.JSONLData," ",(i=a==null?void 0:a.rows)!=null&&i.length?`(${((s=a==null?void 0:a.rows)==null?void 0:s.length)||0})`:""]})]})}),f.jsx(st,{className:"pb-0",children:f.jsx(Y0,{data:a.rows,headers:a.headers,limitLengthByColumns:nB})})]})]}),f.jsx(Oe,{type:"source",position:we.Bottom,id:"a",isConnectable:n})]})}),Z0=60,J0=140,oB=ys("supports-backdrop-blur:bg-white/10 supports-backdrop-blur:dark:bg-black/10 mx-auto flex h-[58px] w-max gap-2 rounded-lg border p-2 backdrop-blur-md"),Q0=E.forwardRef(({className:e,children:t,magnification:r=Z0,distance:n=J0,direction:a="bottom",...o},i)=>{const s=Is(1/0),c=()=>E.Children.map(t,l=>E.isValidElement(l)&&l.type===ds?E.cloneElement(l,{...l.props,mouseX:s,magnification:r,distance:n}):l);return f.jsx(Es.div,{ref:i,onMouseMove:l=>s.set(l.pageX),onMouseLeave:()=>s.set(1/0),...o,className:H(oB({className:e}),{"items-start":a==="top","items-center":a==="middle","items-end":a==="bottom"}),children:c()})});Q0.displayName="Dock";const ds=({magnification:e=Z0,distance:t=J0,mouseX:r,className:n,children:a,...o})=>{const i=v.useRef(null),s=Id(r||new Zz,u=>{var p;const d=((p=i.current)==null?void 0:p.getBoundingClientRect())??{x:0,width:0};return u-d.x-d.width/2}),c=Id(s,[-t,0,t],[40,e,40]),l=iw(c,{mass:.1,stiffness:150,damping:12});return f.jsx(Es.div,{ref:i,style:{width:l},className:H("flex aspect-square cursor-pointer items-center justify-center rounded-full",n),...o,children:a})};ds.displayName="DockIcon";const iB={[$.Shape]:{width:100,height:100},[$.CircleShape]:{width:100,height:100},[$.TriangleShape]:{width:100,height:100},[$.EditorApp]:{width:1240,height:400}},sB=e=>{const t=tt(e),r=rr(s=>s.currentSession),[n,a]=v.useState(!1),o=pe(s=>s.createOrUpdateFlowNode),i=v.useCallback(async s=>{var c,l,u;try{if(a(!0),t&&(r==null?void 0:r.id)){const d=((c=t.position)==null?void 0:c.x)||0,p=(((l=t.position)==null?void 0:l.y)||0)+(((u=t.measured)==null?void 0:u.height)||0),m=await oe("FlowNodeData").save({data:{},session_id:r.id});if(!m)throw new Error("Failed to save node data");if(!await o({node_type:s,data:{},source_id:m.id,source_type:"FlowNodeData",x:d,y:p+20,...iB[s]||{}}))throw new Error("Failed to save node")}}finally{a(!1)}},[o,r==null?void 0:r.id,t]);return{loading:n,createNode:i}},ex={applications:[{key:$.EditorApp,icon:"sticky-note",label:"application_bar.note"}],shapes:[{key:$.Shape,icon:"square",label:"application_bar.square"},{key:$.CircleShape,icon:"circle",label:"application_bar.circle"},{key:$.TriangleShape,icon:"triangle",label:"application_bar.triangle"}]},cB=v.memo(e=>{const{t}=ue("flows"),{toast:r}=Bt(),{loading:n,createNode:a}=sB(e.id),o=async i=>{try{if(n)return;await a(i)}catch{r({description:t("application_bar.errors.add_node_failed"),variant:"destructive"})}};return f.jsx(Jz,{children:f.jsxs(Q0,{direction:"middle",children:[ex.applications.map(i=>f.jsx(ds,{children:f.jsxs(Ux,{children:[f.jsx(Vx,{asChild:!0,children:f.jsx(ee,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(Hx,{children:f.jsx("p",{children:t(i.label)})})]})},i.label)),f.jsx(Qz,{orientation:"vertical",className:"h-full"}),ex.shapes.map(i=>f.jsx(ds,{children:f.jsxs(Ux,{children:[f.jsx(Vx,{asChild:!0,children:f.jsx(ee,{onClick:()=>o(i.key),name:i.icon})}),f.jsx(Hx,{children:f.jsx("p",{children:t(i.label)})})]})},i.label))]})})}),fs=v.memo(e=>{const{lineClassName:t,handleClassName:r,...n}=e;return f.jsx(uz,{lineClassName:H("!border-1.5",t),handleClassName:H("!w-2 !h-2 !border-2 !rounded-full",r),...n})}),lB=e=>{const t=pe(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([$.CircleShape,$.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===$.Shape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);mt(e,r)},uB=v.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return lB(t),f.jsxs(f.Fragment,{children:[f.jsx(fs,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(Oe,{type:"target",position:we.Top,isConnectable:n}),f.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border border",children:f.jsx(ht,{id:t})}),f.jsx(Oe,{type:"source",position:we.Bottom,isConnectable:n})]})}),dB=e=>{const t=pe(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([$.Shape,$.TriangleShape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===$.CircleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);mt(e,r)},fB=v.memo(e=>{const{id:t,selected:r,isConnectable:n}=e;return dB(t),f.jsxs(f.Fragment,{children:[f.jsx(fs,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(Oe,{type:"target",position:we.Top,isConnectable:n}),f.jsx("div",{className:"min-w-10 min-h-10 w-full h-full bg-border rounded-full border",children:f.jsx(ht,{id:t})}),f.jsx(Oe,{type:"source",position:we.Bottom,isConnectable:n})]})}),pB=e=>{const t=pe(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if([$.CircleShape,$.Shape].includes(a==null?void 0:a.type)&&(o==null?void 0:o.type)===$.TriangleShape){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);mt(e,r)},hB=v.memo(e=>{const{id:t,selected:r,width:n,height:a,isConnectable:o}=e;return pB(t),f.jsxs(f.Fragment,{children:[f.jsx(fs,{isVisible:!!r,minWidth:40,minHeight:40}),f.jsx(Oe,{type:"target",position:we.Top,isConnectable:o}),f.jsx("div",{className:"w-0 h-0 border-l-transparent border-r-transparent border-b-border",style:{borderLeftWidth:(n||0)/2,borderRightWidth:(n||0)/2,borderBottomWidth:a||0}}),f.jsx(ht,{id:t,className:"absolute top-0 right-0"}),f.jsx(Oe,{type:"source",position:we.Bottom,isConnectable:o})]})}),mB=e=>{const t=pe(n=>n.createOrUpdateFlowEdge),r=v.useCallback(async({edgeId:n,source:a,target:o,connection:i})=>{try{if((a==null?void 0:a.type)===$.LLM&&(o==null?void 0:o.type)===$.EditorApp){await t({source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle});return}return{deleteEdgeId:n}}catch{return{deleteEdgeId:n}}},[t]);mt(e,r)},yB=e=>{const t=tt(e),{t:r}=ue("flows"),n=v.useRef(null),{toast:a}=Bt(),{getNode:o,getHandleConnections:i}=tn(),s=nr(l=>l.stream),c=v.useCallback(async l=>{t&&(clearTimeout(n.current),n.current=setTimeout(async()=>{await oe("FlowNode").update(t.id,{data:l})},150))},[t]);return{createMessage:v.useCallback(async(l,u)=>{if(t){const d=i({nodeId:e,type:"target"}).find(m=>{var y;return((y=o(m.source))==null?void 0:y.type)===$.LLM}),p=d?o(d==null?void 0:d.source):void 0;if(p){if(p.data.status!==At.Loaded)return a({variant:"destructive",description:r("editor_node.errors.llm_not_loaded_yet")})}else return a({variant:"destructive",description:r("editor_node.errors.llm_not_found")});try{const m=s(l);if(!m)throw new Error("Stream is not supported");const y=[];for await(const h of m)h&&Array.isArray(h)&&(y.push(...h.map(g=>g.content)),h!=null&&h.length&&(u==null||u(h.map(g=>g.content).join(""))));return y.join("")}catch(m){if(m instanceof Error&&m.message.includes("LLM_NOT_LOADED_YET"))return a({title:r("editor_node.errors.llm_not_loaded_yet")});a({variant:"destructive",title:r("editor_node.errors.stream_message_failed")})}}},[t,i,e,o,a,r,s]),updateEditorContent:c}},vB=v.lazy(()=>Pr(()=>import("./plate-editor-B5njA3M4.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([10,2,3,1,5,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101]))),gB=v.memo(e=>{var c;const{id:t,data:r,selected:n,isConnectable:a}=e;mB(t);const{createMessage:o,updateEditorContent:i}=yB(t),s=v.useCallback(l=>{i(l)},[i]);return f.jsxs("div",{className:"w-full min-w-[1240px] h-full",children:[f.jsx(fs,{isVisible:!!n,minWidth:1240,minHeight:400}),f.jsx(Oe,{type:"target",position:we.Top,isConnectable:a}),f.jsxs("div",{className:"min-w-10 min-h-10 w-full h-full rounded-lg border bg-background",children:[f.jsx(ht,{id:t}),f.jsx(v.Suspense,{fallback:f.jsx("div",{className:"h-full w-ful rounded-lg flex justify-center items-center",children:f.jsx(ee,{name:"loader-circle",className:"animate-spin"})}),children:f.jsx("div",{className:"h-full w-ful rounded-lg","data-registry":"plate",children:f.jsx(vB,{defaultValue:(c=r==null?void 0:r.flowNode)==null?void 0:c.data,onValueChange:s,copilotStream:o})})})]}),f.jsx(Oe,{type:"source",position:we.Bottom,isConnectable:a})]})}),bB={[$.LLM]:Uj,[$.Toolbox]:Lj,[$.Thread]:Zj,[$.Message]:hO,[$.Prompt]:yO,[$.SessionInfo]:j5,[$.Schema]:N5,[$.CSVData]:C5,[$.ToolDefinition]:A5,[$.DefaultEmbeddingModel]:D5,[$.VectorDatabase]:rB,[$.JSONLData]:aB,[$.ApplicationBar]:cB,[$.Shape]:uB,[$.CircleShape]:fB,[$.TriangleShape]:hB,[$.EditorApp]:gB};function xB(e,t=[]){let r=[];function n(o,i){const s=v.createContext(i),c=r.length;r=[...r,i];function l(d){const{scope:p,children:m,...y}=d,h=(p==null?void 0:p[e][c])||s,g=v.useMemo(()=>y,Object.values(y));return f.jsx(h.Provider,{value:g,children:m})}function u(d,p){const m=(p==null?void 0:p[e][c])||s,y=v.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,u]}const a=()=>{const o=r.map(i=>v.createContext(i));return function(i){const s=(i==null?void 0:i[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...i,[e]:s}}),[i,s])}};return a.scopeName=e,[n,wB(a,...t)]}function wB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const o=n.reduce((i,{useScope:s,scopeName:c})=>{const l=s(a)[`__scope${c}`];return{...i,...l}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var jB="Toggle",nd=v.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:a,...o}=e,[i=!1,s]=Mt({prop:r,onChange:a,defaultProp:n});return f.jsx(fe.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:le(e.onClick,()=>{e.disabled||s(!i)})})});nd.displayName=jB;let ad,Zr,od,id,ps;ad=nd,Zr="ToggleGroup",[od,Kx]=xB(Zr,[Jn]),id=Jn(),ps=E.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return f.jsx(OB,{...a,ref:t})}if(r==="multiple"){const a=n;return f.jsx(_B,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Zr}\``)}),ps.displayName=Zr;var[tx,rx]=od(Zr),OB=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i,s]=Mt({prop:r,defaultProp:n,onChange:a});return f.jsx(tx,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:s,onItemDeactivate:E.useCallback(()=>s(""),[s]),children:f.jsx(nx,{...o,ref:t})})}),_B=E.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=e,[i=[],s]=Mt({prop:r,defaultProp:n,onChange:a}),c=E.useCallback(u=>s((d=[])=>[...d,u]),[s]),l=E.useCallback(u=>s((d=[])=>d.filter(p=>p!==u)),[s]);return f.jsx(tx,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:l,children:f.jsx(nx,{...o,ref:t})})});ps.displayName=Zr;var[SB,EB]=od(Zr),nx=E.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:o,dir:i,loop:s=!0,...c}=e,l=id(r),u=so(i),d={role:"group",dir:u,...c};return f.jsx(SB,{scope:r,rovingFocus:a,disabled:n,children:a?f.jsx(bd,{asChild:!0,...l,orientation:o,dir:u,loop:s,children:f.jsx(fe.div,{...d,ref:t})}):f.jsx(fe.div,{...d,ref:t})})}),hs="ToggleGroupItem",ax=E.forwardRef((e,t)=>{const r=rx(hs,e.__scopeToggleGroup),n=EB(hs,e.__scopeToggleGroup),a=id(e.__scopeToggleGroup),o=r.value.includes(e.value),i=n.disabled||e.disabled,s={...e,pressed:o,disabled:i},c=E.useRef(null);return n.rovingFocus?f.jsx(xd,{asChild:!0,...a,focusable:!i,active:o,ref:c,children:f.jsx(sd,{...s,ref:t})}):f.jsx(sd,{...s,ref:t})});ax.displayName=hs;let sd;sd=E.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,o=rx(hs,r),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=o.type==="single"?i:void 0;return f.jsx(nd,{...s,...a,ref:t,onPressedChange:c=>{c?o.onItemActivate(n):o.onItemDeactivate(n)}})}),Ns=ps,ks=ax;const ox=ys("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),PB=v.forwardRef(({className:e,variant:t,size:r,...n},a)=>f.jsx(ad,{ref:a,className:H(ox({variant:t,size:r,className:e})),...n}));PB.displayName=ad.displayName;const ix=v.createContext({size:"default",variant:"default"}),kB=v.forwardRef(({className:e,variant:t,size:r,children:n,...a},o)=>f.jsx(Ns,{ref:o,className:H("flex items-center justify-center gap-1",e),...a,children:f.jsx(ix.Provider,{value:{variant:t,size:r},children:n})}));kB.displayName=Ns.displayName;const NB=v.forwardRef(({className:e,children:t,variant:r,size:n,...a},o)=>{const i=v.useContext(ix);return f.jsx(ks,{ref:o,className:H(ox({variant:i.variant||r,size:i.size||n}),e),...a,children:t})});NB.displayName=ks.displayName;function CB(){const e=mx(l=>l.theme),t=pe(l=>l.nodes),r=pe(l=>l.edges),{updateNodeChanges:n,updateEdgeChanges:a,updateEdgeConnection:o}=v.useContext(dz),i=v.useCallback(l=>{n(l)},[n]),s=v.useCallback(l=>{a(l)},[a]),c=v.useCallback(l=>{o(l)},[o]);return f.jsxs(fz,{nodes:t,edges:r,nodeTypes:bB,onNodesChange:i,onEdgesChange:s,onConnect:c,panOnScroll:!0,panOnScrollMode:pz.Free,colorMode:e,fitView:!0,children:[f.jsx(hz,{variant:mz.Dots,gap:24,size:1}),f.jsx(yz,{}),f.jsx(vz,{}),void 0]})}function MB(){return f.jsx(CB,{})}Yx=Object.freeze(Object.defineProperty({__proto__:null,default:MB},Symbol.toStringTag,{value:"Module"}))});export{qx as A,Ps as C,ks as I,jd as P,Ns as R,Wx as T,Cs as _,tF as __tla,Ms as a,Od as b,_d as c,Sd as d,Ed as e,rn as f,Pd as g,Xx as h,kd as i,Nd as j,Kx as k,Cd as l,Gx as m,Md as n,As as o,Ad as p,Ts as q,Yx as r,Ds as t};
